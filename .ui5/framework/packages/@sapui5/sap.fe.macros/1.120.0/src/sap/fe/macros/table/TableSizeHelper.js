/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/fe/core/helpers/SizeHelper","sap/fe/core/templating/DisplayModeFormatter","sap/m/table/Util"],function(e,t,i,l){"use strict";var o=i.getDisplayMode;const a={getMDCColumnWidthFromDataField:function(e,t,i){let l=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const o=t.find(t=>{var l,o;return t.metadataPath&&((l=i.resolvePath(t.metadataPath))===null||l===void 0?void 0:(o=l.target)===null||o===void 0?void 0:o.fullyQualifiedName)===e.fullyQualifiedName});return o?this.getMDCColumnWidthFromProperty(o,t,l):0},getMDCColumnWidthFromProperty:function(t,i){var o,a,n;let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const d=Object.assign({gap:0,truncateLabel:!r,excludeProperties:[]},(o=t.visualSettings)===null||o===void 0?void 0:o.widthCalculation);let u;if((a=t.propertyInfos)!==null&&a!==void 0&&a.length){u=t.propertyInfos.map(e=>{var t;const l=i.find(t=>t.name===e);return l===null||l===void 0?void 0:(t=l.typeConfig)===null||t===void 0?void 0:t.typeInstance}).filter(e=>e)}else if(t!==null&&t!==void 0&&(n=t.typeConfig)!==null&&n!==void 0&&n.typeInstance){u=[t===null||t===void 0?void 0:t.typeConfig.typeInstance]}const s=u?l.calcColumnWidth(u,t.label,d):null;if(!s){e.error(`Cannot compute the column width for property: ${t.name}`)}return s?parseFloat(s.replace("Rem","")):0},getWidthForDataFieldForAnnotation:function(e,i,l,o){var a;let n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const r=e===null||e===void 0?void 0:(a=e.Target)===null||a===void 0?void 0:a.$target;let d=0,u=0;if(r!==null&&r!==void 0&&r.Visualization){switch(r.Visualization){case"UI.VisualizationType/Rating":const e=r.TargetValue;d=parseInt(e,10)*1.375;break;case"UI.VisualizationType/Progress":default:d=5}const i=r?r.label:e.Label||"";u=n&&i?t.getButtonWidth(i):0}else if(o&&l&&(r===null||r===void 0?void 0:r.$Type)==="com.sap.vocabularies.Communication.v1.ContactType"){d=this.getMDCColumnWidthFromDataField(r.fn.$target,l,o,i)}return{labelWidth:u,propertyWidth:d}},getWidthForDataField:function(i,l,a,n,r){var d,u,s,c;const p=(d=i.Value)===null||d===void 0?void 0:d.$target,v=p===null||p===void 0?void 0:(u=p.annotations)===null||u===void 0?void 0:(s=u.Common)===null||s===void 0?void 0:s.Text,f=o((c=i.Value)===null||c===void 0?void 0:c.$target);let g=0,h=0;if(p){switch(f){case"Description":g=this.getMDCColumnWidthFromDataField(v.$target,a,n,r)-1;break;case"DescriptionValue":case"ValueDescription":case"Value":default:g=this.getMDCColumnWidthFromDataField(p,a,n,r)-1}const e=i.Label?i.Label:p.label;h=l&&e?t.getButtonWidth(e):0}else{e.error(`Cannot compute width for type object: ${i.$Type}`)}return{labelWidth:h,propertyWidth:g}}};return a},false);
//# sourceMappingURL=TableSizeHelper.js.map