//@ui5-bundle sap/fe/macros/library-preload.js
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/CommonHelper", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/m/library","sap/ui/Device","sap/ui/mdc/enums/FieldEditMode","sap/ui/model/Context","sap/ui/model/odata/v4/AnnotationHelper"],function(t,e,n,i,o,r,a,s,c,l){"use strict";var u=i.isPropertyFilterable;var f=n.ref;var d=n.fn;var g=n.compileExpression;const p=r.ValueColor;const h={getPathToKey:function(t){return t.getObject()},isVisible:function(t,e){const n=e.context.getModel(),i=e.context.getPath(),o=n.getObject(`${i}@`),r=o["@com.sap.vocabularies.UI.v1.Hidden"];return typeof r==="object"?"{= !${"+r.$Path+"} }":!r},getParameterEditMode:function(t,e){const n=e.context.getModel(),i=e.context.getPath(),o=n.getObject(`${i}@`),r=o["@com.sap.vocabularies.Common.v1.FieldControl"],a=o["@Org.OData.Core.V1.Immutable"],c=o["@Org.OData.Core.V1.Computed"];let l=s.Editable;if(a||c){l=s.ReadOnly}else if(r){if(r.$EnumMember){if(r.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly"){l=s.ReadOnly}if(r.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Inapplicable"||r.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden"){l=s.Disabled}}if(r.$Path){l="{= %{"+r.$Path+"} < 3 ? (%{"+r.$Path+"} === 0 ? '"+s.Disabled+"' : '"+s.ReadOnly+"') : '"+s.Editable+"'}"}}return l},getMetaPath:function(t,e){return e&&e.context&&e.context.getPath()||undefined},isDesktop:function(){return a.system.desktop===true},getTargetCollectionPath:function(t,e){let n=t.getPath();if(t.getMetadata().getName()==="sap.ui.model.Context"&&(t.getObject("$kind")==="EntitySet"||t.getObject("$ContainsTarget")===true)){return n}if(t.getModel){n=t.getModel().getMetaPath&&t.getModel().getMetaPath(n)||t.getModel().getMetaModel().getMetaPath(n)}const i=n.split("/").filter(function(t){return t&&t!="$Type"});const o=`/${i[0]}`;if(i.length===1){return o}const r=e===undefined?i.slice(1).join("/$NavigationPropertyBinding/"):e;return`${o}/$NavigationPropertyBinding/${r}`},isPropertyFilterable:function(t,e){const n=t.getModel(),i=t.getPath(),o=h.getLocationForPropertyPath(n,i),r=i.replace(`${o}/`,"");if(e&&(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")){return false}return u(n,o,r)},getLocationForPropertyPath:function(t,e){let n;let i=e.slice(0,e.lastIndexOf("/"));if(t.getObject(`${i}/$kind`)==="EntityContainer"){n=i.length+1;i=e.slice(n,e.indexOf("/",n))}return i},gotoActionParameter:function(t){const n=t.getPath(),i=t.getObject(`${n}/$Name`);return e.getParameterPath(n,i)},getEntitySetName:function(t,e){const n=t.getObject("/");for(const t in n){if(typeof n[t]==="object"&&n[t].$Type===e){return t}}return undefined},getActionPath:function(t,e,n,i){let o=t.getPath().split("/@")[0];n=!n?t.getObject(t.getPath()):n;if(n&&n.includes("(")){n=n.split("(")[0]}else if(t.getObject(o)){const e=t.getObject(o).$Type;const n=this.getEntitySetName(t.getModel(),e);if(n){o=`/${n}`}}else{return o}if(i){return t.getObject(`${o}/${n}@Org.OData.Core.V1.OperationAvailable`)}if(e){return`${o}/${n}`}else{return{sContextPath:o,sProperty:t.getObject(`${o}/${n}@Org.OData.Core.V1.OperationAvailable/$Path`),sBindingParameter:t.getObject(`${o}/${n}/@$ui5.overload/0/$Parameter/0/$Name`)}}},getNavigationContext:function(t){return l.getNavigationPath(t.getPath())},getNavigationPath:function(t,e){const n=t.startsWith("/");const i=t.split("/").filter(function(t){return!!t});if(n){i.shift()}if(!e){i.pop()}return i.join("/")},getActionContext:function(t){return h.getActionPath(t,true)},getPathToBoundActionOverload:function(t){const e=h.getActionPath(t,true);return`${e}/@$ui5.overload/0`},addSingleQuotes:function(t,e){if(e&&t){t=this.escapeSingleQuotes(t)}return`'${t}'`},escapeSingleQuotes:function(t){return t.replace(/[']/g,"\\'")},generateFunction:function(t){let e="";for(let t=0;t<(arguments.length<=1?0:arguments.length-1);t++){e+=t+1<1||arguments.length<=t+1?undefined:arguments[t+1];if(t<(arguments.length<=1?0:arguments.length-1)-1){e+=", "}}let n=`${t}()`;if(e){n=`${t}(${e})`}return n},getHeaderDataPointLinkVisibility:function(t,e,n){let i;if(n){i=e?"{= ${internal>isHeaderDPLinkVisible/"+t+"} === true && "+n+"}":"{= ${internal>isHeaderDPLinkVisible/"+t+"} !== true && "+n+"}"}else{i=e?"{= ${internal>isHeaderDPLinkVisible/"+t+"} === true}":"{= ${internal>isHeaderDPLinkVisible/"+t+"} !== true}"}return i},objectToString:function(t){let e=Object.keys(t).length,n="";for(const i in t){let o=t[i];if(o&&typeof o==="object"){o=this.objectToString(o)}n+=`${i}: ${o}`;if(e>1){--e;n+=", "}}return`{ ${n}}`},removeEscapeCharacters:function(t){return t?t.replace(/\\?\\([{}])/g,"$1"):undefined},stringifyObject:function(e){if(!e||e==="{}"){return undefined}else{const n=JSON.parse(e);if(typeof n==="object"&&!Array.isArray(n)){const t={ui5object:true};Object.assign(t,n);return JSON.stringify(t)}else{const e=Array.isArray(n)?"Array":typeof n;t.error(`Unexpected object type in stringifyObject (${e}) - only works with object`);throw new Error("stringifyObject only works with objects!")}}},stringifyCustomData:function(t){const e={ui5object:true};e["customData"]=t instanceof c?t.getObject():t;return JSON.stringify(e)},parseCustomData:function(t){t=typeof t==="string"?JSON.parse(t):t;if(t&&t.hasOwnProperty("customData")){return t["customData"]}return t},getContextPath:function(t,e){const n=e&&e.context&&e.context.getPath();return n[n.length-1]==="/"?n.slice(0,-1):n},getSortConditions:function(t,e,n){if(e&&h._isPresentationVariantAnnotation(n)&&e.SortOrder){const n={sorters:[]};const i=t.getPath(0).split("@")[0];e.SortOrder.forEach(function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let o={};const r={};if(e.DynamicProperty){var a;o=(a=t.getModel(0).getObject(i+e.DynamicProperty.$AnnotationPath))===null||a===void 0?void 0:a.Name}else if(e.Property){o=e.Property.$PropertyPath}if(o){r.name=o;r.descending=!!e.Descending;n.sorters.push(r)}else{throw new Error("Please define the right path to the sort property")}});return JSON.stringify(n)}return undefined},_isPresentationVariantAnnotation:function(t){return t.includes(`@${"com.sap.vocabularies.UI.v1.PresentationVariant"}`)||t.includes(`@${"com.sap.vocabularies.UI.v1.SelectionPresentationVariant"}`)},createPresentationPathContext:function(t){const e=t.sPath.split("@")||[];const n=t.getModel();if(e.length&&e[e.length-1].indexOf("com.sap.vocabularies.UI.v1.SelectionPresentationVariant")>-1){const e=t.sPath.split("/PresentationVariant")[0];return n.createBindingContext(`${e}@sapui.name`)}return n.createBindingContext(`${t.sPath}@sapui.name`)},getPressHandlerForDataFieldForIBN:function(t,e,n){if(!t)return undefined;const i={navigationContexts:e?e:"${$source>/}.getBindingContext()"};if(t.RequiresContext&&!t.Inline&&n){i.applicableContexts="${internal>ibn/"+t.SemanticObject+"-"+t.Action+"/aApplicable/}";i.notApplicableContexts="${internal>ibn/"+t.SemanticObject+"-"+t.Action+"/aNotApplicable/}";i.label=this.addSingleQuotes(t.Label,true)}if(t.Mapping){i.semanticObjectMapping=this.addSingleQuotes(JSON.stringify(t.Mapping))}return this.generateFunction(n?"._intentBasedNavigation.navigateWithConfirmationDialog":"._intentBasedNavigation.navigate",this.addSingleQuotes(t.SemanticObject),this.addSingleQuotes(t.Action),this.objectToString(i))},getEntitySet:function(t){const e=t.getPath();return o.getEntitySetPath(e)},handleVisibilityOfMenuActions:function(t){const e=[];if(Array.isArray(t)){for(let n=0;n<t.length;n++){if(t[n].indexOf("{")>-1&&t[n].indexOf("{=")===-1){t[n]="{="+t[n]+"}"}if(t[n].split("{=").length>0){t[n]=t[n].split("{=")[1].slice(0,-1)}e.push(`(${t[n]})`)}}return e.length>0?`{= ${e.join(" || ")}}`:t},getCriticalityCalculationBinding:function(e,n,i,o,r,a,s,c){let l=p.Neutral;n=`%${n}`;i=i||-Infinity;o=o||i;r=r||o;c=c||Infinity;s=s||c;a=a||s;i=i&&(+i?+i:`%${i}`);o=o&&(+o?+o:`%${o}`);r=r&&(+r?+r:`%${r}`);a=a&&(+a?+a:`%${a}`);s=s&&(+s?+s:`%${s}`);c=c&&(+c?+c:`%${c}`);if(e.includes("Minimize")){l="{= "+n+" <= "+a+" ? '"+p.Good+"' : "+n+" <= "+s+" ? '"+p.Neutral+"' : "+"("+c+" && "+n+" <= "+c+") ? '"+p.Critical+"' : '"+p.Error+"' }"}else if(e.includes("Maximize")){l="{= "+n+" >= "+r+" ? '"+p.Good+"' : "+n+" >= "+o+" ? '"+p.Neutral+"' : "+"("+i+" && "+n+" >= "+i+") ? '"+p.Critical+"' : '"+p.Error+"' }"}else if(e.includes("Target")){l="{= ("+n+" <= "+a+" && "+n+" >= "+r+") ? '"+p.Good+"' : "+"(("+n+" >= "+o+" && "+n+" < "+r+") || ("+n+" > "+a+" && "+n+" <= "+s+")) ? '"+p.Neutral+"' : "+"(("+i+" && ("+n+" >= "+i+") && ("+n+" < "+o+")) || (("+n+" > "+s+") && "+c+" && ("+n+" <= "+c+"))) ? '"+p.Critical+"' : '"+p.Error+"' }"}else{t.warning("Case not supported, returning the default Value Neutral")}return l},getMeasureAttributeIndex:function(t,e){var n,i;let o,r;if((e===null||e===void 0?void 0:(n=e.Measures)===null||n===void 0?void 0:n.length)>0){o=e.Measures;r=o[t].$PropertyPath}else if((e===null||e===void 0?void 0:(i=e.DynamicMeasures)===null||i===void 0?void 0:i.length)>0){o=e.DynamicMeasures;r=o[t].$AnnotationPath}let a;const s=e.MeasureAttributes;let c=-1;const l=function(t,e,n){if(e){if(e.Measure&&e.Measure.$PropertyPath===t){c=n;return true}else if(e.DynamicMeasure&&e.DynamicMeasure.$AnnotationPath===t){c=n;return true}}};if(s){a=s.some(l.bind(null,r))}return a&&c>-1&&c},getMeasureAttribute:function(e){const n=e.getModel(),i=e.getPath();return n.requestObject(i).then(function(e){const n=e.MeasureAttributes,o=h.getMeasureAttributeIndex(0,e);const r=o>-1&&n[o]&&n[o].DataPoint?`${i}/MeasureAttributes/${o}/`:undefined;if(r===undefined){t.warning("DataPoint missing for the measure")}return r?`${r}DataPoint/$AnnotationPath/`:r})},getMeasureAttributeForMeasure:function(e){const n=e.getModel(),i=e.getPath(),o=i.substring(0,i.lastIndexOf("Measure")),r=i.replace(/.*\//,"");const a=n.getObject(o);const s=a.MeasureAttributes,c=h.getMeasureAttributeIndex(r,a);const l=c>-1&&s[c]&&s[c].DataPoint?`${o}MeasureAttributes/${c}/`:undefined;if(l===undefined){t.warning("DataPoint missing for the measure")}return l?`${l}DataPoint/$AnnotationPath/`:l},isDraftParentEntityForContainment:function(t,e){if(t){if(e&&e.parentEntitySet&&e.parentEntitySet.sPath){const t=e.parentEntitySet.sPath;const n=e.parentEntitySet.oModel.getObject(`${t}@com.sap.vocabularies.Common.v1.DraftRoot`);const i=e.parentEntitySet.oModel.getObject(`${t}@com.sap.vocabularies.Common.v1.DraftNode`);if(n||i){return true}else{return false}}}return false},getDataFromTemplate:function(t){const e=t.getPath().split("/");const n=e[e.length-1];const i=`/${e.slice(1,-2).join("/")}/@`;const o=t.getObject(i);const r=o.Template;const a=r.split("}");const s=[];for(let t=0;t<a.length-1;t++){const e=a[t].split("{")[1].trim();s.push(e)}Object.keys(o.Data).forEach(function(t){if(t.startsWith("$")){delete o.Data[t]}});const c=Object.keys(o.Data).indexOf(n);return`/${e.slice(1,-2).join("/")}/Data/${s[c]}`},notLastIndex:function(t,e){const n=t.Template;const i=n.split("}");const o=[];let r=false;for(let t=0;t<i.length-1;t++){const e=i[t].split("{")[1].trim();o.push(e)}o.forEach(function(n){const i=o.length-1;if(t.Data[n]===e&&o.indexOf(n)<i){r=true}});return r},getDelimiter:function(t){return t.split("}")[1].split("{")[0].trim()},oMetaModel:undefined,setMetaModel:function(t){this.oMetaModel=t},getMetaModel:function(t,e){if(t){return e.context.getModel()}return this.oMetaModel},getParameters:function(t,n){if(t){const t=n.context.getModel();const i=n.context.getPath();const o=e.getParameterInfo(t,i);if(o.parameterProperties){return Object.keys(o.parameterProperties)}}return[]},buildActionWrapper:function(t,e){const n=[f("$event"),t.handlerModule,t.handlerMethod];if(e&&e.id){const t={contexts:f("${internal>selectedContexts}")};n.push(t)}return g(d("FPM.actionWrapper",n))},getHiddenPathExpression:function(t){if(t["@com.sap.vocabularies.UI.v1.Hidden"]!==null){const e=t["@com.sap.vocabularies.UI.v1.Hidden"];return typeof e==="object"?"{= !${"+e.$Path+"} }":!e}return true},validatePresentationMetaPath:function(t,e){if(t.includes(e.slice(0,e.lastIndexOf(".")))){const n=["com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant",e];if(!n.some(e=>t.search(new RegExp(`${e}(#|/|$)`))>-1)){throw new Error(`Annotation Path ${t} mentioned in the manifest is not valid for ${e}`)}}}};h.getSortConditions.requiresIContext=true;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/DelegateUtil", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/macros/field/FieldHelper","sap/fe/macros/internal/valuehelp/ValueHelpTemplating"],function(e,t,n,o,r,a){"use strict";var s=a.generateID;var i=o.getRelativePropertyPath;var l=n.generate;const u="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1";function c(){this.control.detachModelContextChange(c,this);const e=this.modelName,t=this.control.getModel(e);if(t){this.resolve(t)}else{this.control.attachModelContextChange(c,this)}}async function d(e,t,n){const o=[];const r=await Promise.resolve().then(n.getAggregation.bind(n,e,"customData"));const a=r.reduce((e,r)=>e.then(n.getProperty.bind(n,r,"key")).then(function(e){if(e===t){o.push(r)}return}),Promise.resolve());await a;if(o.length===1){return n.getProperty(o[0],"value")}else{return undefined}}const f="sap_fe_ControlDelegate_propertyInfoMap";const g={setCachedProperties(e,t){if(e instanceof window.Element){return}const n=f;g.setCustomData(e,n,t)},getCachedProperties(e){if(e instanceof window.Element){return null}const t=f;return g.getCustomData(e,t)},getCustomData(e,t,n){if(n){return d(e,t,n)}else{if(e&&t){if(e instanceof window.Element){return e.getAttributeNS(u,t)}if(e.data instanceof Function){return e.data(t)}}return undefined}},setCustomData(e,t,n){if(e&&t){if(e instanceof window.Element){return e.setAttributeNS(u,`customData:${t}`,n)}if(e.data instanceof Function){return e.data(t,n)}}},fetchPropertiesForEntity(e,t){return t.requestObject(`${e}/`)},fetchAnnotationsForEntity(e,t){return t.requestObject(`${e}@`)},fetchModel(e){return new Promise(t=>{const n=e.getDelegate().payload&&e.getDelegate().payload.modelName,o={modelName:n,control:e,resolve:t};c.call(o)})},templateControlFragment(e,n,o,r){return t.templateControlFragment(e,n,o,r)},doesValueHelpExist(e){const t=e.sPropertyName||"";const n=e.sValueHelpType||"";const o=e.oMetaModel;const a=e.oModifier;const u=`${e.sBindingPath}/${t}`;const c=o.createBindingContext(u);let d=r.valueHelpProperty(c);const f=e.sBindingPath&&e.sBindingPath.indexOf("/")===0;if(d.includes("$Path")){d=o.getObject(d)}if(f&&d.indexOf("/")!==0){d=`${e.sBindingPath}/${d}`}const g=s(e.flexId,l([a?a.getId(e.oControl):e.oControl.getId(),n]),i(c.getProperty(u),{context:{getModel:()=>e.oMetaModel,getPath:()=>u}}),i(c.getProperty(d),{context:{getModel:()=>e.oMetaModel,getPath:()=>d}}));return Promise.resolve().then(function(){if(a){return a.getAggregation(e.oControl,"dependents")}return e.oControl.getAggregation("dependents")}).then(function(e){return e&&e.some(function(e){return a?a.getId(e)===g:e.getId()===g})})},isValueHelpRequired(t,n){const o=t.sPropertyName||"",a=t.oMetaModel,s=`${t.sBindingPath}/${o}`,i=a.createBindingContext(s),l=r.valueHelpProperty(i,n);return this.getCustomData(t.oControl,"displayModePropertyBinding",t.oModifier).then(function(e){e=typeof e==="boolean"?e:e==="true";if(e){return false}return Promise.all([a.requestObject(`${l}@com.sap.vocabularies.Common.v1.ValueListWithFixedValues`),a.requestObject(`${l}@com.sap.vocabularies.Common.v1.ValueListReferences`),a.requestObject(`${l}@com.sap.vocabularies.Common.v1.ValueListMapping`),a.requestObject(`${l}@com.sap.vocabularies.Common.v1.ValueList`)])}).then(function(e){return!!e[0]||!!e[1]||!!e[2]||!!e[3]}).catch(function(t){e.warning("Error while retrieving custom data / value list annotation values",t)})},isMultiValue(e){let t=true;switch(e.filterExpression){case"SearchExpression":case"SingleRange":case"SingleValue":t=false;break;default:break}if(e.type&&e.type.indexOf("Boolean")>0){t=false}return t}};return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/MacroAPI", ["sap/base/util/merge","sap/base/util/uid","sap/fe/core/converters/ConverterContext","sap/fe/core/helpers/ClassSupport","sap/ui/core/Component","sap/ui/core/Control","sap/ui/core/UIArea"],function(e,t,n,r,o,i,a){"use strict";var s,c,l,u,p,f,d,g,h,m,b,v;var C=r.property;var y=r.implementInterface;var P=r.defineUI5Class;var _=r.aggregation;function w(e,t,n,r){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function M(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function x(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}function O(e,t){O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return O(e,t)}function z(e,t,n,r,o){var i={};Object.keys(r).forEach(function(e){i[e]=r[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i);if(o&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(o):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}function D(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const I="sap.fe.macros.MacroAPI";let j=(s=P("sap.fe.macros.MacroAPI"),c=y("sap.ui.core.IFormContent"),l=C({type:"string"}),u=C({type:"string"}),p=_({type:"sap.ui.core.Control",multiple:false,isDefault:true}),s(f=(d=(v=function(e){x(t,e);function t(n){var r;for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++){i[a-1]=arguments[a]}r=e.call(this,n,...i)||this;w(r,"__implements__sap_ui_core_IFormContent",g,M(r));w(r,"contextPath",h,M(r));w(r,"metaPath",m,M(r));w(r,"content",b,M(r));r.parentContextToBind={};t.registerInstance(M(r));return r}var n=t.prototype;n.init=function t(){e.prototype.init.call(this);if(!this.getModel("_pageModel")){var n;const e=(n=o.getOwnerComponentFor(this))===null||n===void 0?void 0:n.getModel("_pageModel");if(e){this.setModel(e,"_pageModel")}}};t.registerInstance=function e(t){if(!this.instanceMap.get(t.constructor)){this.instanceMap.set(t.constructor,[])}this.instanceMap.get(t.constructor).push(t)};t.render=function e(t,n){t.renderControl(n.content)};n.rerender=function e(){a.rerenderControl(this.content)};n.getDomRef=function t(){const n=this.content;return n?n.getDomRef():e.prototype.getDomRef.call(this)};n.getController=function e(){return this.getModel("$view").getObject().getController()};t.getAPI=function e(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:I;let r=t.getSource();while(r&&!r.isA(n)&&r.getParent){if(this.isDependentBound){const e=r.getDependents();const t=e.find(e=>e.isA(n));if(t){r=t}else{r=r.getParent()}}else{r=r.getParent()}}if(!r||!r.isA(n)){const e=this.instanceMap.get(this);r=e===null||e===void 0?void 0:e[e.length-1]}let o;if(r&&r.isA(n)){o=r}return o};n.setParentBindingContext=function e(t,n){this.parentContextToBind[t]=n};n.setParent=function t(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++){r[o]=arguments[o]}e.prototype.setParent.call(this,...r);Object.keys(this.parentContextToBind).forEach(e=>{this.getParent().bindObject({path:this.parentContextToBind[e],model:e,events:{change:function(){const e=this.getBoundContext();if(e&&!e.getObject()){e.setProperty("",{})}}}})})};return t}(i),v.namespace="sap.fe.macros",v.macroName="Macro",v.fragment="sap.fe.macros.Macro",v.hasValidation=true,v.instanceMap=new WeakMap,v.isDependentBound=false,v.getConverterContext=function(t,r,o){const i=o.appComponent;const a=o.models.viewData&&o.models.viewData.getData();return n.createConverterContextForMacro(t.startingEntitySet.name,o.models.metaModel,i&&i.getDiagnostics(),e,t.contextLocation,a)},v.createBindingContext=function(e,n){const r=`/uid--${t()}`;n.models.converterContext.setProperty(r,e);return n.models.converterContext.createBindingContext(r)},v),g=z(d.prototype,"__implements__sap_ui_core_IFormContent",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),h=z(d.prototype,"contextPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),m=z(d.prototype,"metaPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),b=z(d.prototype,"content",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||f);return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/MacroTemplating", [],function(){"use strict";var t={};const e=function(t,e){if(e&&e.context){return e.context.getPath()}return""};e.requiresIContext=true;t.getPath=e;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/actions/CustomAction.block", ["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/helpers/FPMHelper","sap/m/Button","sap/fe/core/jsx-runtime/jsx"],function(e,t,i,r,n,a){"use strict";var o,l,u,c,s,p,f;var d={};var b=t.defineBuildingBlock;var h=t.blockAttribute;function m(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function v(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return y(e,t)}function j(e,t,i,r,n){var a={};Object.keys(r).forEach(function(e){a[e]=r[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function w(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let z=(o=b({name:"CustomAction",namespace:"sap.fe.macros.actions"}),l=h({type:"object",required:true}),u=h({type:"string",required:true}),o(c=(s=function(t){g(i,t);function i(){var e;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++){r[n]=arguments[n]}e=t.call(this,...r)||this;m(e,"action",p,v(e));m(e,"id",f,v(e));return e}d=i;var o=i.prototype;o.getContent=function t(){let i;if(this.action.command){i={"jsx:command":`${this.action.command}|press`}}else{i={press:t=>{r.actionWrapper(t,this.action.handlerModule,this.action.handlerMethod,{}).catch(t=>e.error(t))}}}return a(n,{id:this.id,text:this.action.text??"",...i,type:"Transparent",visible:this.action.visible,enabled:this.action.enabled})};return i}(i),p=j(s.prototype,"action",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),f=j(s.prototype,"id",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||c);d=z;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/actions/DataFieldForAction.block", ["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/MetaModelConverter","sap/fe/core/library","sap/fe/core/templating/CriticalityFormatters","sap/m/Button","sap/fe/core/jsx-runtime/jsx"],function(e,t,i,n,r,o,a,l){"use strict";var c,u,s,p,d,f,b,g,v;var h={};var m=n.getInvolvedDataModelObjects;var y=i.isActionWithDialog;var x=e.defineBuildingBlock;var j=e.blockAttribute;function O(e,t,i,n){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function z(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;B(e,t)}function B(e,t){B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return B(e,t)}function C(e,t,i,n,r){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function P(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let k=(c=x({name:"DataFieldForAction",namespace:"sap.fe.macros.actions"}),u=j({type:"object",required:true}),s=j({type:"sap.ui.model.Context",required:true}),p=j({type:"string",required:true}),c(d=(f=function(e){z(t,e);function t(){var t;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++){n[r]=arguments[r]}t=e.call(this,...n)||this;O(t,"action",b,w(t));O(t,"contextPath",g,w(t));O(t,"id",v,w(t));return t}h=t;var i=t.prototype;i.getContent=function e(t){const i=t.getController();const n=m(this.contextPath);const c=this.contextPath.getModel();const u=this.action.annotationPath;let s;if(u){const e=c.getContext(u);const f=m(e);const b=f.targetObject;if(b){var p,d;const e={entitySetName:(p=n.targetEntitySet)===null||p===void 0?void 0:p.name,invocationGrouping:b.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?r.InvocationGrouping.ChangeSet:r.InvocationGrouping.Isolated,label:(d=b.Label)===null||d===void 0?void 0:d.toString(),isNavigable:this.action.isNavigable,defaultValuesExtensionFunction:this.action.defaultValuesExtensionFunction};if(!this.action.command){s={press:()=>{i.handlers.onCallAction(t,b.Action,{...e,...{contexts:t.getBindingContext(),model:t.getModel()}})}}}else{s={"jsx:command":`${this.action.command}|press`}}return l(a,{id:this.id,text:e.label,...s,ariaHasPopup:y(f.targetObject),visible:this.action.visible,enabled:this.action.enabled,type:o.buildExpressionForCriticalityButtonType(f)})}}};return t}(t),b=C(f.prototype,"action",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),g=C(f.prototype,"contextPath",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),v=C(f.prototype,"id",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||d);h=k;return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/Chart.block", ["sap/base/Log","sap/base/util/uid","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/helpers/Aggregation","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/CommonHelper","sap/ui/Device","sap/ui/core/library","sap/ui/model/json/JSONModel","../internal/helpers/ActionHelper","../internal/helpers/DefaultActionHandler","./ChartHelper"],function(e,t,n,a,i,o,r,s,l,c,u,d,g,p,h,m,b,f,v,P){"use strict";var A,y,C,x,M,$,D,I,T,O,B,_,S,z,w,V,E,j,k,F,N,H,L,U,R,W,q,G,X,J,K,Y,Q,Z,ee,te,ne,ae,ie,oe,re,se,le,ce,ue,de,ge,pe,he,me,be,fe,ve,Pe,Ae,ye,Ce,xe,Me,$e,De,Ie;var Te={};var Oe=m.TitleLevel;var Be=g.getContextRelativeTargetObjectPath;var _e=d.generate;var Se=c.resolveBindingString;var ze=l.AggregationHelper;var we=s.getVisualizationsFromPresentationVariant;var Ve=s.getDataVisualizationConfiguration;var Ee=r.isDataModelObjectPathForActionWithDialog;var je=o.getInvolvedDataModelObjects;var ke=i.xml;var Fe=i.escapeXMLAttributeValue;var Ne=a.defineBuildingBlock;var He=a.blockEvent;var Le=a.blockAttribute;var Ue=a.blockAggregation;function Re(e,t,n,a){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}function We(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function qe(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ge(e,t)}function Ge(e,t){Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return Ge(e,t)}function Xe(e,t,n,a,i){var o={};Object.keys(a).forEach(function(e){o[e]=a[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=n.slice().reverse().reduce(function(n,a){return a(e,t,n)||n},o);if(i&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(i):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function Je(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const Ke={"com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis1":"axis1","com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis2":"axis2","com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis3":"axis3","com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis4":"axis4"};var Ye;(function(e){e["Sort"]="Sort";e["Type"]="Type";e["Item"]="Item";e["Filter"]="Filter"})(Ye||(Ye={}));const Qe=function(e){var t;let n=null;const a=e;let i=[];const o=(t=a.getAttribute("key"))===null||t===void 0?void 0:t.replace("InlineXML_","");if(a.children.length&&a.localName==="ActionGroup"&&a.namespaceURI&&["sap.fe.macros","sap.fe.macros.chart"].includes(a.namespaceURI)){const e=Array.prototype.slice.apply(a.children);let t=0;n=e.reduce((e,n)=>{var a;const i=((a=n.getAttribute("key"))===null||a===void 0?void 0:a.replace("InlineXML_",""))||o+"_Menu_"+t;const r={key:i,text:n.getAttribute("text"),__noWrap:true,press:n.getAttribute("press"),requiresSelection:n.getAttribute("requiresSelection")==="true",enabled:n.getAttribute("enabled")===null?true:n.getAttribute("enabled")};e[r.key]=r;t++;return e},{});i=Object.values(n).slice(-a.children.length).map(function(e){return e.key})}return{key:o,text:a.getAttribute("text"),position:{placement:a.getAttribute("placement"),anchor:a.getAttribute("anchor")},__noWrap:true,press:a.getAttribute("press"),requiresSelection:a.getAttribute("requiresSelection")==="true",enabled:a.getAttribute("enabled")===null?true:a.getAttribute("enabled"),menu:i.length?i:null,menuContentActions:n}};let Ze=(A=Ne({name:"Chart",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.macros.chart.ChartAPI"]}),y=Le({type:"string",isPublic:true}),C=Le({type:"object"}),x=Le({type:"sap.ui.model.Context",isPublic:true}),M=Le({type:"sap.ui.model.Context",isPublic:true}),$=Le({type:"string"}),D=Le({type:"string"}),I=Le({type:"string",isPublic:true}),T=Le({type:"boolean",isPublic:true}),O=Le({type:"sap.ui.core.TitleLevel",isPublic:true}),B=Le({type:"string",isPublic:true}),_=Le({type:"string|boolean",isPublic:true}),S=Le({type:"string",isPublic:true}),z=Le({type:"string"}),w=Le({type:"string"}),V=Le({type:"string"}),E=Le({type:"sap.ui.model.Context"}),j=Le({type:"boolean"}),k=Le({type:"boolean"}),F=Le({type:"string"}),N=Le({type:"string"}),H=Le({type:"string"}),L=Le({type:"string"}),U=Le({type:"boolean"}),R=Le({type:"string",isPublic:true}),W=He(),q=He(),G=Ue({type:"sap.fe.macros.internal.chart.Action | sap.fe.macros.internal.chart.ActionGroup",isPublic:true,processAggregations:Qe}),X=He(),J=He(),A(K=(Y=(Ie=function(n){qe(a,n);function a(i,o,r){var s;s=n.call(this,i,o,r)||this;Re(s,"id",Q,We(s));Re(s,"chartDefinition",Z,We(s));Re(s,"metaPath",ee,We(s));Re(s,"contextPath",te,We(s));Re(s,"height",ne,We(s));Re(s,"width",ae,We(s));Re(s,"header",ie,We(s));Re(s,"headerVisible",oe,We(s));Re(s,"headerLevel",re,We(s));Re(s,"selectionMode",se,We(s));Re(s,"personalization",le,We(s));Re(s,"filterBar",ce,We(s));Re(s,"noDataText",ue,We(s));Re(s,"chartDelegate",de,We(s));Re(s,"vizProperties",ge,We(s));Re(s,"chartActions",pe,We(s));Re(s,"draftSupported",he,We(s));Re(s,"autoBindOnInit",me,We(s));Re(s,"visible",be,We(s));Re(s,"navigationPath",fe,We(s));Re(s,"filter",ve,We(s));Re(s,"measures",Pe,We(s));Re(s,"_applyIdToContent",Ae,We(s));Re(s,"variantManagement",ye,We(s));Re(s,"variantSelected",Ce,We(s));Re(s,"variantSaved",xe,We(s));Re(s,"actions",Me,We(s));Re(s,"selectionChange",$e,We(s));Re(s,"stateChange",De,We(s));s._commandActions=[];s.createChartDefinition=(e,t,n)=>{var i,o;let r=Be(t);if(((i=s.metaPath)===null||i===void 0?void 0:(o=i.getObject())===null||o===void 0?void 0:o.$Type)==="com.sap.vocabularies.UI.v1.PresentationVariantType"){const e=s.metaPath.getObject().Visualizations;r=a.checkChartVisualizationPath(e,r)}if(!r||!n.includes(r)){r=`@${"com.sap.vocabularies.UI.v1.Chart"}`}const l=Ve(r,s.useCondensedLayout,e,undefined,undefined,undefined,true);return l.visualizations[0]};s.createBindingContext=function(e,n){const a=`/${t()}`;n.models.converterContext.setProperty(a,e);return n.models.converterContext.createBindingContext(a)};s.getChartMeasures=(t,n)=>{const a=t.chartDefinition.annotationPath.split("/");const i=a.filter(function(e,t){return a.indexOf(e)==t}).toString().replaceAll(",","/");const o=je(s.metaPath.getModel().createBindingContext(i),s.contextPath).targetObject;const r=n.getAggregatedProperties("AggregatedProperty");let l=[];const c=t.metaPath.getPath();const u=n.getAggregatedProperties("AggregatedProperties");const d=o.Measures?o.Measures:[];const g=o.DynamicMeasures?o.DynamicMeasures:[];const p=u[0]?u[0].filter(function(e){return d.some(function(t){return e.Name===t.value})}):undefined;const h=c.replace(/@com.sap.vocabularies.UI.v1.(Chart|PresentationVariant|SelectionPresentationVariant).*/,"");const m=t.chartDefinition.transAgg;const f=t.chartDefinition.customAgg;if(r.length>0&&!g&&p.length>0){e.warning("The transformational aggregate measures are configured as Chart.Measures but should be configured as Chart.DynamicMeasures instead. Please check the SAP Help documentation and correct the configuration accordingly.")}const v=d.some(e=>{const t=s.getCustomAggMeasure(f,e);return!!t});if(r.length>0&&!(g!==null&&g!==void 0&&g.length)&&!v){throw new Error("Please configure DynamicMeasures for the chart")}if(r.length>0){for(const e of g){l=s.getDynamicMeasures(l,e,h,o)}}for(const e of d){const t=e.value;const n=s.getCustomAggMeasure(f,e);const a={};if(n){l=s.setCustomAggMeasure(l,a,n,t)}else if(r.length===0&&m[t]){l=s.setTransAggMeasure(l,a,m,t)}s.setChartMeasureAttributes(s._chart.MeasureAttributes,h,a)}const P=new b(l);P.$$valueAsPromise=true;return P.createBindingContext("/")};s.setCustomAggMeasure=(t,n,a,i)=>{if(i.includes("/")){e.error(`$expand is not yet supported. Measure: ${i} from an association cannot be used`)}n.key=a.value;n.role="axis1";n.label=a.label;n.propertyPath=a.value;t.push(n);return t};s.setTransAggMeasure=(e,t,n,a)=>{const i=n[a];t.key=i.name;t.role="axis1";t.propertyPath=a;t.aggregationMethod=i.aggregationMethod;t.label=i.label||t.label;e.push(t);return e};s.getDynamicMeasures=(t,n,a,i)=>{var o;const r=n.value||"";const l=je(s.metaPath.getModel().createBindingContext(a+r),s.contextPath).targetObject;if(r.includes("/")){e.error(`$expand is not yet supported. Measure: ${r} from an association cannot be used`)}else if(!l){throw new Error(`Please provide the right AnnotationPath to the Dynamic Measure ${n.value}`)}else if(((o=n.value)===null||o===void 0?void 0:o.startsWith(`@${"com.sap.vocabularies.Analytics.v1.AggregatedProperty"}`))===null){throw new Error(`Please provide the right AnnotationPath to the Dynamic Measure ${n.value}`)}else{var c;const e={key:l.Name,role:"axis1"};e.propertyPath=l.AggregatableProperty.value;e.aggregationMethod=l.AggregationMethod;e.label=Se(((c=l.annotations.Common)===null||c===void 0?void 0:c.Label)||je(s.metaPath.getModel().createBindingContext(a+e.propertyPath+`@${"com.sap.vocabularies.Common.v1.Label"}`),s.contextPath).targetObject);s.setChartMeasureAttributes(i.MeasureAttributes,a,e);t.push(e)}return t};s.getCustomAggMeasure=(e,t)=>{if(t.value&&e[t.value]){var n;t.label=(n=e[t.value])===null||n===void 0?void 0:n.label;return t}return null};s.setChartMeasureAttributes=(e,t,n)=>{if(e!==null&&e!==void 0&&e.length){for(const a of e){s._setChartMeasureAttribute(a,t,n)}}};s._setChartMeasureAttribute=(e,t,n)=>{var a,i,o;const r=e.DynamicMeasure?e===null||e===void 0?void 0:(a=e.DynamicMeasure)===null||a===void 0?void 0:a.value:e===null||e===void 0?void 0:(i=e.Measure)===null||i===void 0?void 0:i.value;const l=e.DataPoint?e===null||e===void 0?void 0:(o=e.DataPoint)===null||o===void 0?void 0:o.value:null;const c=e.Role;const u=l&&je(s.metaPath.getModel().createBindingContext(t+l),s.contextPath).targetObject;if(n.key===r){s.setMeasureRole(n,c);s.setMeasureDataPoint(n,u)}};s.setMeasureDataPoint=(e,t)=>{if(t&&t.Value.$Path==e.key){e.dataPoint=P.formatJSONToString(s.createDataPointProperty(t))||""}};s.setMeasureRole=(e,t)=>{if(t){const n=t.$EnumMember;e.role=Ke[n]}};s.getDependents=e=>{if(s._commandActions.length>0){return s._commandActions.map(t=>s.getActionCommand(t,e))}return""};s.checkPersonalizationInChartProperties=e=>{if(e.personalization){if(e.personalization==="false"){s.personalization=undefined}else if(e.personalization==="true"){s.personalization=Object.values(Ye).join(",")}else if(s.verifyValidPersonlization(e.personalization)===true){s.personalization=e.personalization}else{s.personalization=undefined}}};s.verifyValidPersonlization=e=>{let t=true;const n=e.split(",");const a=Object.values(Ye);n.forEach(e=>{if(!a.includes(e)){t=false}});return t};s.getVariantManagement=(e,t)=>{let n=e.variantManagement?e.variantManagement:t.variantManagement;n=s.personalization===undefined?"None":n;return n};s.createVariantManagement=()=>{const t=s.personalization;if(t){const e=s.variantManagement;if(e==="Control"){return ke`
					<mdc:variant>
					<variant:VariantManagement
						id="${_e([s.id,"VM"])}"
						for="${s.id}"
						showSetAsDefault="${true}"
						select="${s.variantSelected}"
						headerLevel="${s.headerLevel}"
						save="${s.variantSaved}"
					/>
					</mdc:variant>
			`}else if(e==="None"||e==="Page"){return""}}else if(!t){e.warning("Variant Management cannot be enabled when personalization is disabled")}return""};s.getPersistenceProvider=()=>{if(s.variantManagement==="None"){return ke`<p13n:PersistenceProvider id="${_e([s.id,"PersistenceProvider"])}" for="${s.id}"/>`}return""};s.pushActionCommand=(e,t,n,a)=>{if(t){const i={actionContext:e,onExecuteAction:P.getPressEventForDataFieldForActionButton(s.id,t,n||""),onExecuteIBN:p.getPressHandlerForDataFieldForIBN(t,`\${internal>selectedContexts}`,false),onExecuteManifest:p.buildActionWrapper(a,We(s))};s._commandActions.push(i)}};s.getActionCommand=(e,t)=>{const n=e.actionContext.getObject();const a=n.annotationPath&&s.contextPath.getModel().createBindingContext(n.annotationPath);const i=a&&a.getObject();const o=s.contextPath.getModel().createBindingContext(n.annotationPath+"/Action");const r=p.getActionContext(o);const l=p.getPathToBoundActionOverload(o);const c=s.contextPath.getModel().createBindingContext(l).getObject();const u=Fe(P.getOperationAvailableMap(t.getObject(),{context:t}));const d=n.enabled?n.enabled:P.isDataFieldForActionButtonEnabled(c&&c.$IsBound,i.Action,s.contextPath,u||"",n.enableOnSelect||"");let g;if(n.enabled){g=n.enabled}else if(i.RequiresContext){g="{= %{internal>numberOfSelectedContexts} >= 1}"}const h=ke`<internalMacro:ActionCommand
		action="${n}"
		onExecuteAction="${e.onExecuteAction}"
		onExecuteIBN="${e.onExecuteIBN}"
		onExecuteManifest="${e.onExecuteManifest}"
		isIBNEnabled="${g}"
		isActionEnabled="${d}"
		visible="${s.getVisible(a)}"
	/>`;if(n.type=="ForAction"&&(!c||c.IsBound!==true||r[`@${"Org.OData.Core.V1.OperationAvailable"}`]!==false)){return h}else if(n.type=="ForAction"){return""}else{return h}};s.getItems=e=>{if(s._chart){const t=[];const n=[];if(s._chart.Dimensions){P.formatDimensions(e).getObject().forEach(e=>{e.id=_e([s.id,"dimension",e.key]);t.push(s.getItem({id:e.id,key:e.key,label:e.label,role:e.role},"_fe_groupable_","groupable"))})}if(s.measures){P.formatMeasures(s.measures).forEach(e=>{e.id=_e([s.id,"measure",e.key]);n.push(s.getItem({id:e.id,key:e.key,label:e.label,role:e.role},"_fe_aggregatable_","aggregatable"))})}if(t.length&&n.length){return t.concat(n)}}return""};s.getItem=(e,t,n)=>ke`<chart:Item
			id="${e.id}"
			name="${t+e.key}"
			type="${n}"
			label="${Se(e.label,"string")}"
			role="${e.role}"
		/>`;s.getToolbarActions=(e,t,n)=>{var a;const i=s.getActions(e);if((a=s.chartDefinition)!==null&&a!==void 0&&a.onSegmentedButtonPressed){i.push(s.getSegmentedButton())}if(t){i.push(s.getStandardActions(t,n))}if(i.length>0){return ke`<mdc:actions>${i}</mdc:actions>`}return""};s.getStandardActions=(e,t)=>ke`<mdcat:ActionToolbarAction  xmlns="sap.m" xmlns:mdcat="sap.ui.mdc.actiontoolbar" visible="${t}">
				<Button
					id="${_e([s.id,"StandardAction::Insights"])}"
					text="{sap.fe.i18n>M_COMMON_INSIGHTS_CARD}"
					core:require="{API: 'sap/fe/macros/chart/ChartAPI'}"
					press="API.onAddCardToInsightsPressed($event)"
					enabled="${e}"
				>
					<layoutData>
						<OverflowToolbarLayoutData priority="AlwaysOverflow"/>
					</layoutData>
				</Button>
			</mdcat:ActionToolbarAction>`;s.getActions=e=>{var t;let n=(t=s.chartActions)===null||t===void 0?void 0:t.getObject();n=s.removeMenuItems(n);return n.map(t=>{if(t.annotationPath){return s.getAction(t,e,false)}else if(t.hasOwnProperty("noWrap")){return s.getCustomActions(t,e)}})};s.removeMenuItems=e=>{for(const t of e){if(t.menu){t.menu.forEach(t=>{const n=e.map(e=>e.key).indexOf(t.key);if(n!==-1){e.splice(n,1)}})}}return e};s.getCustomActions=(e,t)=>{let n=e.enabled;if((e.requiresSelection??false)&&e.enabled==="true"){n="{= %{internal>numberOfSelectedContexts} >= 1}"}if(e.type==="Default"){return s.getActionToolbarAction(e,{id:_e([s.id,e.id]),unittestid:"DataFieldForActionButtonAction",label:e.text?e.text:"",ariaHasPopup:undefined,press:e.press?e.press:"",enabled:n,visible:e.visible?e.visible:false},false)}else if(e.type==="Menu"){return s.getActionToolbarMenuAction({id:_e([s.id,e.id]),text:e.text,visible:e.visible,enabled:n,useDefaultActionOnly:v.getUseDefaultActionOnly(e),buttonMode:v.getButtonMode(e),defaultAction:undefined,actions:e},t)}};s.getMenuItemFromMenu=(e,t)=>{let n;if(e.annotationPath){return s.getAction(e,t,true)}if(e.command){n="cmd:"+e.command}else if(e.noWrap??false){n=e.press}else{n=p.buildActionWrapper(e,We(s))}return ke`<MenuItem
		core:require="{FPM: 'sap/fe/core/helpers/FPMHelper'}"
		text="${e.text}"
		press="${n}"
		visible="${e.visible}"
		enabled="${e.enabled}"
	/>`};s.getActionToolbarMenuAction=(e,t)=>{var n,a;const i=(n=e.actions)===null||n===void 0?void 0:(a=n.menu)===null||a===void 0?void 0:a.map(e=>s.getMenuItemFromMenu(e,t));return ke`<mdcat:ActionToolbarAction>
			<MenuButton
			text="${e.text}"
			type="Transparent"
			menuPosition="BeginBottom"
			id="${e.id}"
			visible="${e.visible}"
			enabled="${e.enabled}"
			useDefaultActionOnly="${e.useDefaultActionOnly}"
			buttonMode="${e.buttonMode}"
			defaultAction="${e.defaultAction}"
			>
				<menu>
					<Menu>
						${i}
					</Menu>
				</menu>
			</MenuButton>
		</mdcat:ActionToolbarAction>`};s.getAction=(e,t,n)=>{const a=s.contextPath.getModel().createBindingContext(e.annotationPath||"");if(e.type==="ForNavigation"){return s.getNavigationActions(e,a,n)}else if(e.type==="ForAction"){return s.getAnnotationActions(t,e,a,n)}return""};s.getNavigationActions=(e,t,n)=>{let a="true";const i=t.getObject();if(e.enabled!==undefined){a=e.enabled}else if(i.RequiresContext){a="{= %{internal>numberOfSelectedContexts} >= 1}"}return s.getActionToolbarAction(e,{id:undefined,unittestid:"DataFieldForIntentBasedNavigationButtonAction",label:i.Label,ariaHasPopup:undefined,press:p.getPressHandlerForDataFieldForIBN(i,`\${internal>selectedContexts}`,false),enabled:a,visible:s.getVisible(t)},n)};s.getAnnotationActions=(e,t,n,a)=>{const i=s.contextPath.getModel().createBindingContext(t.annotationPath+"/Action");const o=s.contextPath.getModel().createBindingContext(p.getActionContext(i));const r=o.getObject();const l=p.getPathToBoundActionOverload(i);const c=s.contextPath.getModel().createBindingContext(l).getObject();const u=n.getObject();if(!c||c.$IsBound!==true||r[`@${"Org.OData.Core.V1.OperationAvailable"}`]!==false){const i=s.getAnnotationActionsEnabled(t,c,u,e);const o=je(s.contextPath.getModel().createBindingContext(t.annotationPath));const r=Ee(o);const l=Fe(P.getOperationAvailableMap(e.getObject(),{context:e}))||"";return s.getActionToolbarAction(t,{id:_e([s.id,je(n)]),unittestid:"DataFieldForActionButtonAction",label:u.Label,ariaHasPopup:r,press:P.getPressEventForDataFieldForActionButton(s.id,u,l),enabled:i,visible:s.getVisible(n)},a)}return""};s.getActionToolbarAction=(e,t,n)=>{if(n){return ke`
			<MenuItem
				text="${t.label}"
				press="${e.command?"cmd:"+e.command:t.press}"
				enabled="${t.enabled}"
				visible="${t.visible}"
			/>`}else{return s.buildAction(e,t)}};s.buildAction=(e,t)=>{let n="";if(e.hasOwnProperty("noWrap")){if(e.command){n="cmd:"+e.command}else if(e.noWrap===true){n=t.press}else if(!e.annotationPath){n=p.buildActionWrapper(e,We(s))}return ke`<mdcat:ActionToolbarAction>
			<Button
				core:require="{FPM: 'sap/fe/core/helpers/FPMHelper'}"
				unittest:id="${t.unittestid}"
				id="${t.id}"
				text="${t.label}"
				ariaHasPopup="${t.ariaHasPopup}"
				press="${n}"
				enabled="${t.enabled}"
				visible="${t.visible}"
			/>
		   </mdcat:ActionToolbarAction>`}else{return ke`<mdcat:ActionToolbarAction>
			<Button
				unittest:id="${t.unittestid}"
				id="${t.id}"
				text="${t.label}"
				ariaHasPopup="${t.ariaHasPopup}"
				press="${e.command?"cmd:"+e.command:t.press}"
				enabled="${t.enabled}"
				visible="${t.visible}"
			/>
		</mdcat:ActionToolbarAction>`}};s.getAnnotationActionsEnabled=(e,t,n,a)=>e.enabled!==undefined?e.enabled:P.isDataFieldForActionButtonEnabled(t&&t.$IsBound,n.Action,s.contextPath,P.getOperationAvailableMap(a.getObject(),{context:a}),e.enableOnSelect||"");s.getSegmentedButton=()=>ke`<mdcat:ActionToolbarAction layoutInformation="{
			aggregationName: 'end',
			alignment: 'End'
		}">
			<SegmentedButton
				id="${_e([s.id,"SegmentedButton","TemplateContentView"])}"
				select="${s.chartDefinition.onSegmentedButtonPressed}"
				visible="{= \${pageInternal>alpContentView} !== 'Table' }"
				selectedKey="{pageInternal>alpContentView}"
			>
				<items>
					${s.getSegmentedButtonItems()}
				</items>
			</SegmentedButton>
		</mdcat:ActionToolbarAction>`;s.getSegmentedButtonItems=()=>{const e=[];if(p.isDesktop()){e.push(s.getSegmentedButtonItem("{sap.fe.i18n>M_COMMON_HYBRID_SEGMENTED_BUTTON_ITEM_TOOLTIP}","Hybrid","sap-icon://chart-table-view"))}e.push(s.getSegmentedButtonItem("{sap.fe.i18n>M_COMMON_CHART_SEGMENTED_BUTTON_ITEM_TOOLTIP}","Chart","sap-icon://bar-chart"));e.push(s.getSegmentedButtonItem("{sap.fe.i18n>M_COMMON_TABLE_SEGMENTED_BUTTON_ITEM_TOOLTIP}","Table","sap-icon://table-view"));return e};s.getSegmentedButtonItem=(e,t,n)=>ke`<SegmentedButtonItem
			tooltip="${e}"
			key="${t}"
			icon="${n}"
		/>`;s.getVisible=e=>{const t=e.getObject();if(t[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]&&t[`@${"com.sap.vocabularies.UI.v1.Hidden"}`].$Path){const n=s.contextPath.getModel().createBindingContext(e.getPath()+`/@${"com.sap.vocabularies.UI.v1.Hidden"}/$Path`,t[`@${"com.sap.vocabularies.UI.v1.Hidden"}`].$Path);return P.getHiddenPathExpressionForTableActionsAndIBN(t[`@${"com.sap.vocabularies.UI.v1.Hidden"}`].$Path,{context:n})}else if(t[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]){return!t[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]}else{return true}};s.getContextPath=()=>s.contextPath.getPath().lastIndexOf("/")===s.contextPath.getPath().length-1?s.contextPath.getPath().replaceAll("/",""):s.contextPath.getPath().split("/")[s.contextPath.getPath().split("/").length-1];const l=je(s.metaPath,s.contextPath);const c=s.getConverterContext(l,undefined,r);const d=a.getVisualizationPath(We(s),l,c);const g=a.getExtraParams(We(s),d);const h=s.getConverterContext(l,undefined,r,g);const m=new ze(h.getEntityType(),h,true);s._chartContext=P.getUiChart(s.metaPath);s._chart=s._chartContext.getObject();if(s._applyIdToContent??false){s._apiId=s.id+"::Chart";s._contentId=s.id}else{s._apiId=s.id;s._contentId=s.getContentId(s.id)}if(s._chart){var A,y,C,x,M,$,D,I,T;s.chartDefinition=s.chartDefinition===undefined||s.chartDefinition===null?s.createChartDefinition(h,l,s._chartContext.getPath()):s.chartDefinition;s.navigationPath=s.chartDefinition.navigationPath;s.autoBindOnInit=s.chartDefinition.autoBindOnInit;s.vizProperties=s.chartDefinition.vizProperties;s.chartActions=s.createBindingContext(s.chartDefinition.actions,r);s.selectionMode=s.selectionMode.toUpperCase();if(s.filterBar){s.filter=s.getContentId(s.filterBar)}else if(!s.filter){s.filter=s.chartDefinition.filterId}s.checkPersonalizationInChartProperties(We(s));s.variantManagement=s.getVariantManagement(We(s),s.chartDefinition);s.visible=s.chartDefinition.visible;let e=s.contextPath.getPath();e=e[e.length-1]==="/"?e.slice(0,-1):e;s.draftSupported=u.isDraftSupported(r.models.metaModel,e);s._chartType=P.formatChartType(s._chart.ChartType);const t=P.getOperationAvailableMap(s._chart,{context:s._chartContext});if(Object.keys((A=s.chartDefinition)===null||A===void 0?void 0:A.commandActions).length>0){var O;Object.keys((O=s.chartDefinition)===null||O===void 0?void 0:O.commandActions).forEach(e=>{var n;const a=(n=s.chartDefinition)===null||n===void 0?void 0:n.commandActions[e];const i=s.createBindingContext(a,r);const o=a.annotationPath&&s.contextPath.getModel().createBindingContext(a.annotationPath);const l=o&&o.getObject();const c=Fe(t);s.pushActionCommand(i,l,c,a)})}s.measures=s.getChartMeasures(We(s),m);const n=p.createPresentationPathContext(s.metaPath);s._sortCondtions=P.getSortConditions(s.metaPath,s.metaPath.getObject(),n.getPath(),s.chartDefinition.applySupported);const a=s.contextPath.getModel().createBindingContext(s._chartContext.getPath()+"/Actions",s._chart.Actions);const i=s.contextPath.getModel().createBindingContext(s.contextPath.getPath(),s.contextPath);const o=p.getContextPath(s.contextPath,{context:i});const c=p.getTargetCollectionPath(s.contextPath);const d=s.contextPath.getModel().createBindingContext(c,s.contextPath);const g=(y=l.convertedTypes.resolvePath(a.getPath()))===null||y===void 0?void 0:y.target;s._customData={targetCollectionPath:o,entitySet:typeof d.getObject()==="string"?d.getObject():d.getObject("@sapui.name"),entityType:o+"/",operationAvailableMap:p.stringifyCustomData(JSON.parse(t)),multiSelectDisabledActions:f.getMultiSelectDisabledActions(g)+"",segmentedButtonId:_e([s.id,"SegmentedButton","TemplateContentView"]),customAgg:p.stringifyCustomData((C=s.chartDefinition)===null||C===void 0?void 0:C.customAgg),transAgg:p.stringifyCustomData((x=s.chartDefinition)===null||x===void 0?void 0:x.transAgg),applySupported:p.stringifyCustomData((M=s.chartDefinition)===null||M===void 0?void 0:M.applySupported),vizProperties:s.vizProperties,draftSupported:s.draftSupported,multiViews:($=s.chartDefinition)===null||$===void 0?void 0:$.multiViews,selectionPresentationVariantPath:p.stringifyCustomData({data:(D=s.chartDefinition)===null||D===void 0?void 0:D.selectionPresentationVariantPath})};s._actions=s.chartActions?s.getToolbarActions(s._chartContext,(I=s.chartDefinition)===null||I===void 0?void 0:I.isInsightsEnabled,(T=s.chartDefinition)===null||T===void 0?void 0:T.isInsightsVisible):""}else{s.autoBindOnInit=false;s.visible="true";s.navigationPath="";s._actions="";s._customData={targetCollectionPath:"",entitySet:"",entityType:"",operationAvailableMap:"",multiSelectDisabledActions:"",segmentedButtonId:"",customAgg:"",transAgg:"",applySupported:"",vizProperties:""}}return s}Te=a;var i=a.prototype;i.getContentId=function e(t){return`${t}-content`};a.getExtraParams=function e(t,n){const a={};if(t.actions){var i;(i=Object.values(t.actions))===null||i===void 0?void 0:i.forEach(e=>{t.actions={...t.actions,...e.menuContentActions};delete e.menuContentActions})}if(n){a[n]={actions:t.actions}}return a};i.createDataPointProperty=function e(t){const n={};if(t.TargetValue){n.targetValue=t.TargetValue.$Path}if(t.ForeCastValue){n.foreCastValue=t.ForeCastValue.$Path}let a=null;if(t.Criticality){if(t.Criticality.$Path){a={Calculated:t.Criticality.$Path}}else{a={Static:t.Criticality.$EnumMember.replace("com.sap.vocabularies.UI.v1.CriticalityType/","")}}}else if(t.CriticalityCalculation){const e={};const n=this.buildThresholds(e,t.CriticalityCalculation);if(n){a={ConstantThresholds:e}}else{a={DynamicThresholds:e}}}if(a){n.criticality=a}return n};i.buildThresholds=function e(t,n){const a=["AcceptanceRangeLowValue","AcceptanceRangeHighValue","ToleranceRangeLowValue","ToleranceRangeHighValue","DeviationRangeLowValue","DeviationRangeHighValue"];let i=true,o,r,s;t.ImprovementDirection=n.ImprovementDirection.$EnumMember.replace("com.sap.vocabularies.UI.v1.ImprovementDirectionType/","");const l={oneSupplied:false,usedMeasures:[]};const c={oneSupplied:false};for(r=0;r<a.length;r++){o=a[r];l[o]=n[o]?n[o].$Path:undefined;l.oneSupplied=l.oneSupplied||l[o];if(!l.oneSupplied){c[o]=n[o];c.oneSupplied=c.oneSupplied||c[o]}else if(l[o]){l.usedMeasures.push(l[o])}}if(l.oneSupplied){i=false;for(r=0;r<a.length;r++){if(l[a[r]]){t[a[r]]=l[a[r]]}}t.usedMeasures=l.usedMeasures}else{let e;t.AggregationLevels=[];if(c.oneSupplied){e={VisibleDimensions:null};for(r=0;r<a.length;r++){if(c[a[r]]){e[a[r]]=c[a[r]]}}t.AggregationLevels.push(e)}if(n.ConstantThresholds&&n.ConstantThresholds.length>0){for(r=0;r<n.ConstantThresholds.length;r++){const i=n.ConstantThresholds[r];const o=i.AggregationLevel?[]:null;if(i.AggregationLevel&&i.AggregationLevel.length>0){for(s=0;s<i.AggregationLevel.length;s++){o.push(i.AggregationLevel[s].$PropertyPath)}}e={VisibleDimensions:o};for(s=0;s<a.length;s++){const t=i[a[s]];if(t){e[a[s]]=t}}t.AggregationLevels.push(e)}}}return i};i.getTemplate=function e(){let t="";if(this._customData.targetCollectionPath===""){this.noDataText=this.getTranslatedText("M_CHART_NO_ANNOTATION_SET_TEXT")}if(this.chartDelegate){t=this.chartDelegate}else{const e=this.getContextPath();t="{name:'sap/fe/macros/chart/ChartDelegate', payload: {collectionName: '"+e+"', contextPath: '"+e+"', parameters:{$$groupId:'$auto.Workers'}, selectionMode: '"+this.selectionMode+"'}}"}const n="{internal>controls/"+this.id+"}";if(!this.header){var a,i;this.header=(a=this._chart)===null||a===void 0?void 0:(i=a.Title)===null||i===void 0?void 0:i.toString()}return ke`
			<macro:ChartAPI xmlns="sap.m" xmlns:macro="sap.fe.macros.chart" xmlns:variant="sap.ui.fl.variants" xmlns:p13n="sap.ui.mdc.p13n" xmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1" xmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns:internalMacro="sap.fe.macros.internal" xmlns:chart="sap.ui.mdc.chart" xmlns:mdc="sap.ui.mdc" xmlns:mdcat="sap.ui.mdc.actiontoolbar" xmlns:core="sap.ui.core" id="${this._apiId}" selectionChange="${this.selectionChange}" stateChange="${this.stateChange}">
				<macro:layoutData>
					<FlexItemData growFactor="1" shrinkFactor="1" />
				</macro:layoutData>
				<mdc:Chart
					binding="${n}"
					unittest:id="ChartMacroFragment"
					id="${this._contentId}"
					chartType="${this._chartType}"
					sortConditions="${this._sortCondtions}"
					header="${this.header}"
					headerVisible="${this.headerVisible}"
					height="${this.height}"
					width="${this.width}"
					headerLevel="${this.headerLevel}"
					p13nMode="${this.personalization}"
					filter="${this.filter}"
					noDataText="${this.noDataText}"
					autoBindOnInit="${this.autoBindOnInit}"
					delegate="${t}"
					macrodata:targetCollectionPath="${this._customData.targetCollectionPath}"
					macrodata:entitySet="${this._customData.entitySet}"
					macrodata:entityType="${this._customData.entityType}"
					macrodata:operationAvailableMap="${this._customData.operationAvailableMap}"
					macrodata:multiSelectDisabledActions="${this._customData.multiSelectDisabledActions}"
					macrodata:segmentedButtonId="${this._customData.segmentedButtonId}"
					macrodata:customAgg="${this._customData.customAgg}"
					macrodata:transAgg="${this._customData.transAgg}"
					macrodata:applySupported="${this._customData.applySupported}"
					macrodata:vizProperties="${this._customData.vizProperties}"
					macrodata:draftSupported="${this._customData.draftSupported}"
					macrodata:multiViews="${this._customData.multiViews}"
					macrodata:selectionPresentationVariantPath="${this._customData.selectionPresentationVariantPath}"
					visible="${this.visible}"
				>
				<mdc:dependents>
					${this.getDependents(this._chartContext)}
					${this.getPersistenceProvider()}
				</mdc:dependents>
				<mdc:items>
					${this.getItems(this._chartContext)}
				</mdc:items>
				${this._actions}
				${this.createVariantManagement()}
			</mdc:Chart>
		</macro:ChartAPI>`};return a}(n),Ie.checkChartVisualizationPath=(e,t)=>{e.forEach(function(e){if(e.$AnnotationPath.includes(`@${"com.sap.vocabularies.UI.v1.Chart"}`)){t=e.$AnnotationPath}});return t},Ie.getVisualizationPath=(t,n,a)=>{var i;const o=Be(n);if(!o){e.error(`Missing metapath parameter for Chart`);return`@${"com.sap.vocabularies.UI.v1.Chart"}`}if(n.targetObject.term==="com.sap.vocabularies.UI.v1.Chart"){return o}const r=a.getEntityTypeAnnotation(o);let s=[];switch((i=n.targetObject)===null||i===void 0?void 0:i.term){case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":if(n.targetObject.PresentationVariant){s=we(n.targetObject.PresentationVariant,o,r.converterContext,true)}break;case"com.sap.vocabularies.UI.v1.PresentationVariant":s=we(n.targetObject,o,r.converterContext,true);break}const l=s.find(e=>e.visualization.term==="com.sap.vocabularies.UI.v1.Chart");if(l){return l.annotationPath}else{e.error(`Bad metapath parameter for chart: ${n.targetObject.term}`);return`@${"com.sap.vocabularies.UI.v1.Chart"}`}},Ie),Q=Xe(Y.prototype,"id",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=Xe(Y.prototype,"chartDefinition",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),ee=Xe(Y.prototype,"metaPath",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),te=Xe(Y.prototype,"contextPath",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),ne=Xe(Y.prototype,"height",[$],{configurable:true,enumerable:true,writable:true,initializer:function(){return h.system.phone?"75vh":"100%"}}),ae=Xe(Y.prototype,"width",[D],{configurable:true,enumerable:true,writable:true,initializer:function(){return"100%"}}),ie=Xe(Y.prototype,"header",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),oe=Xe(Y.prototype,"headerVisible",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),re=Xe(Y.prototype,"headerLevel",[O],{configurable:true,enumerable:true,writable:true,initializer:function(){return Oe.Auto}}),se=Xe(Y.prototype,"selectionMode",[B],{configurable:true,enumerable:true,writable:true,initializer:function(){return"MULTIPLE"}}),le=Xe(Y.prototype,"personalization",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),ce=Xe(Y.prototype,"filterBar",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),ue=Xe(Y.prototype,"noDataText",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),de=Xe(Y.prototype,"chartDelegate",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),ge=Xe(Y.prototype,"vizProperties",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),pe=Xe(Y.prototype,"chartActions",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),he=Xe(Y.prototype,"draftSupported",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),me=Xe(Y.prototype,"autoBindOnInit",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),be=Xe(Y.prototype,"visible",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),fe=Xe(Y.prototype,"navigationPath",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),ve=Xe(Y.prototype,"filter",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),Pe=Xe(Y.prototype,"measures",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),Ae=Xe(Y.prototype,"_applyIdToContent",[U],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),ye=Xe(Y.prototype,"variantManagement",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),Ce=Xe(Y.prototype,"variantSelected",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),xe=Xe(Y.prototype,"variantSaved",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),Me=Xe(Y.prototype,"actions",[G],{configurable:true,enumerable:true,writable:true,initializer:null}),$e=Xe(Y.prototype,"selectionChange",[X],{configurable:true,enumerable:true,writable:true,initializer:null}),De=Xe(Y.prototype,"stateChange",[J],{configurable:true,enumerable:true,writable:true,initializer:null}),Y))||K);Te=Ze;return Te},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/ChartAPI", ["sap/base/Log","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/HookSupport","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ClassSupport","sap/fe/macros/MacroAPI","sap/fe/macros/chart/ChartRuntime","sap/fe/macros/chart/ChartUtils","sap/fe/macros/filter/FilterUtils","sap/ui/model/Filter","../insights/AnalyticalInsightsHelper","../insights/CommonInsightsHelper","../insights/InsightsService"],function(e,t,r,n,i,a,o,l,s,c,u,p,g,d){"use strict";var h,f,b,y,C,v,m,w,P,S,M,z,A,D,I,O,x,E,k,j,T,R,V,q,F,B,H,U,N,$,_,G,L,W,J;var K=d.showInsightsCardPreview;var Q=d.showCollaborationManagerCardPreview;var X=d.getCardManifest;var Y=g.showGenericErrorMessage;var Z=g.hasInsightActionEnabled;var ee=p.createChartCardParams;var te=a.xmlEventHandler;var re=a.property;var ne=a.event;var ie=a.defineUI5Class;var ae=a.aggregation;var oe=i.getInvolvedDataModelObjects;var le=n.controllerExtensionHandler;function se(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ce(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function ue(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;pe(e,t)}function pe(e,t){pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return pe(e,t)}function ge(e,t,r,n,i){var a={};Object.keys(n).forEach(function(e){a[e]=n[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a);if(i&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(i):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function de(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let he=(h=ie("sap.fe.macros.chart.ChartAPI",{returnTypes:["sap.fe.macros.MacroAPI"]}),f=re({type:"string"}),b=re({type:"string",required:true,expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:["com.sap.vocabularies.UI.v1.Chart"]}),y=re({type:"string",required:true,expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:[]}),C=re({type:"string"}),v=re({type:"boolean",defaultValue:true}),m=re({type:"string",defaultValue:"Multiple",allowedValues:["None","Single","Multiple"]}),w=re({type:"string"}),P=re({type:"string",allowedValues:["Control"]}),S=re({type:"boolean | string",defaultValue:true}),M=re({type:"string[]",defaultValue:[]}),z=ae({type:"sap.fe.macros.chart.Action",multiple:true}),A=ne(),D=ne(),I=ne(),O=te(),x=te(),E=le("collaborationManager","collectAvailableCards"),k=te(),h(j=(T=function(n){ue(i,n);function i(){var e;for(var t=arguments.length,r=new Array(t),i=0;i<t;i++){r[i]=arguments[i]}e=n.call(this,...r)||this;se(e,"id",R,ce(e));se(e,"metaPath",V,ce(e));se(e,"contextPath",q,ce(e));se(e,"header",F,ce(e));se(e,"headerVisible",B,ce(e));se(e,"selectionMode",H,ce(e));se(e,"filterBar",U,ce(e));se(e,"variantManagement",N,ce(e));se(e,"personalization",$,ce(e));se(e,"prevDrillStack",_,ce(e));se(e,"actions",G,ce(e));se(e,"selectionChange",L,ce(e));se(e,"stateChange",W,ce(e));se(e,"internalDataRequested",J,ce(e));return e}var a=i.prototype;a.getSelectedContexts=function e(){var t,r;return((t=this.content)===null||t===void 0?void 0:(r=t.getBindingContext("internal"))===null||r===void 0?void 0:r.getProperty("selectedContexts"))||[]};a.onAfterRendering=function e(){const t=this.getController().getView();const r=t.getBindingContext("internal");const n=this.getContent();const i={};const a=n.data("entitySet"),o=`${a}Chart`,l=t.getBindingContext();i[o]=n.data("draftSupported")==="true"&&!!l&&!l.getObject("IsActiveEntity");r.setProperty("controls/showMessageStrip",i)};a.refreshNotApplicableFields=function e(t){const r=this.getContent();return c.getNotApplicableFilters(t,r)};a.handleSelectionChange=function e(r){const n=r.getParameter("data");const i=r.getParameter("name")==="selectData";l.fnUpdateChart(r);this.fireSelectionChange(t({},{data:n,selected:i}))};a.onInternalDataRequested=function e(){this.fireEvent("internalDataRequested")};a.collectAvailableCards=function e(t){const r=this.content.getActions();if(Z(r)){t.push((async()=>{const e=await this.getCardManifestChart();return{card:e,title:this.getChartControl().getHeader(),callback:this.onAddCardToCollaborationManagerCallback.bind(this)}})())}};a.hasSelections=function t(){const r=this.content;if(r){try{var n;const e=(n=r.getControlDelegate())===null||n===void 0?void 0:n.getInnerChart(r);if(e){const t=s.getDimensionsFromDrillStack(e);const n=t.length>this.prevDrillStack.length;const i=t.length<this.prevDrillStack.length;const a=t.toString()===this.prevDrillStack.toString();let o;if(i&&t.length===1){o=s.getChartSelections(r,true)}else{o=s.getChartSelections(r)}if(n||i){this.prevDrillStack=t;return o.length>0}else if(a){return o.length>0}}}catch(t){e.error(`Error while checking for selections in Chart: ${t}`)}}return false};a.onAddCardToInsightsPressed=async function t(){try{const e=await ee(this);if(e){K(e);return}}catch(t){Y(this.content);e.error(t)}};a.getCardManifestChart=async function e(){const t=await ee(this);return X(t)};a.onAddCardToCollaborationManagerCallback=async function t(r){try{if(r){await Q(r,this.getController().collaborationManager.getService());return}}catch(t){Y(this.content);e.error(t)}};a.getFilter=function e(){const t=s.getAllFilterInfo(this.content);if(t.filters.length){t.filters=r.getChartPropertiesWithoutPrefixes(t.filters);return new u({filters:t.filters,and:true})}return undefined};a.getChartControl=function e(){return this.content};a.getDimensionDataModel=function e(t){const r=this.content.data("targetCollectionPath");const n=this.content.getModel().getMetaModel();const i=n.createBindingContext(`${r}/${t}`);return oe(i)};return i}(o),R=ge(T.prototype,"id",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),V=ge(T.prototype,"metaPath",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),q=ge(T.prototype,"contextPath",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),F=ge(T.prototype,"header",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),B=ge(T.prototype,"headerVisible",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),H=ge(T.prototype,"selectionMode",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),U=ge(T.prototype,"filterBar",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),N=ge(T.prototype,"variantManagement",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),$=ge(T.prototype,"personalization",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),_=ge(T.prototype,"prevDrillStack",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),G=ge(T.prototype,"actions",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),L=ge(T.prototype,"selectionChange",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),W=ge(T.prototype,"stateChange",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),J=ge(T.prototype,"internalDataRequested",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),ge(T.prototype,"handleSelectionChange",[O],Object.getOwnPropertyDescriptor(T.prototype,"handleSelectionChange"),T.prototype),ge(T.prototype,"onInternalDataRequested",[x],Object.getOwnPropertyDescriptor(T.prototype,"onInternalDataRequested"),T.prototype),ge(T.prototype,"collectAvailableCards",[E],Object.getOwnPropertyDescriptor(T.prototype,"collectAvailableCards"),T.prototype),ge(T.prototype,"onAddCardToInsightsPressed",[k],Object.getOwnPropertyDescriptor(T.prototype,"onAddCardToInsightsPressed"),T.prototype),T))||j);return he},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/ChartDelegate", ["sap/base/Log","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/chart/ChartHelper","sap/fe/macros/chart/ChartUtils","sap/fe/macros/filter/FilterUtils","sap/ui/core/Core","sap/ui/mdc/enums/ChartItemRoleType","sap/ui/mdc/odata/v4/util/DelegateUtil","sap/ui/mdc/odata/v4/vizChart/ChartDelegate","sap/ui/model/Filter","sap/ui/model/FilterOperator","../filterBar/FilterBarDelegate"],function(e,t,r,a,n,o,i,s,l,c,g,d,u,f,p,h,m){"use strict";var b=n.getResourceModel;var v=a.isMultiValueFilterExpression;var y=a.getSortRestrictionsInfo;var C=a.getFilterRestrictionsInfo;const _=Object.assign({},f);f.apiVersion=2;_._loadChart=async function(){await g.loadLibrary("sap.chart");return f._loadChart()};_._setChartNoDataText=function(e,t){let r="";const a=l.getAllFilterInfo(e),n=t.path.startsWith("/")?t.path.substr(1):t.path;const o=function(){if(e.data("multiViews")){return"M_TABLE_AND_CHART_NO_DATA_TEXT_MULTI_VIEW"}else{return"T_TABLE_AND_CHART_NO_DATA_TEXT_WITH_FILTER"}};if(e.getFilter()){if(a.search||a.filters&&a.filters.length){r=o()}else{r="T_TABLE_AND_CHART_NO_DATA_TEXT"}}else if(a.search||a.filters&&a.filters.length){r=o()}else{r="M_TABLE_AND_CHART_NO_FILTERS_NO_DATA_TEXT"}e.setNoDataText(b(e).getText(r,undefined,n))};_._handleProperty=function(t,r,a,n,i,s){const l=o.parseCustomData(t.data("applySupported"));const c=y(r);const g=r["@Org.OData.Capabilities.V1.FilterRestrictions"];const d=C(g);const u=this.getModel().getObject(this.getPath());const f=this.getModel().getObject(`${this.getPath()}@sapui.name`);const p=this.getModel();const h=t.getP13nMode();I(t,h);if(u&&u.$kind==="Property"){if(u.$isCollection){return}const r=p.getObject(`${this.getPath()}@`);const o=p.getObject("@sapui.name",p.getMetaContext(this.getPath()));const g=l&&l.GroupableProperties;const y=l&&l.AggregatableProperties;let C=g?A(g,o):false;let I=y?A(y,o):false;if(!g||g&&!g.length){C=r["@Org.OData.Aggregation.V1.Groupable"]}if(!y||y&&!y.length){I=r["@Org.OData.Aggregation.V1.Aggregatable"]}if(!C&&!I){return}D(n,f,C,I);const $=Object.keys(n);if(I){const e=_._createPropertyInfosForAggregatable(t,f,r,d,c,a,n);e.forEach(function(e){i.push(e)});if(h&&h.includes("Filter")){const e=Object.keys(a);const n=g.map(e=>e.$PropertyPath);if(e.includes(f)&&!n.includes(f)){var m,b;i=P(i,f,r,$.includes(f)?false:(d===null||d===void 0?void 0:(m=d.propertyInfo)===null||m===void 0?void 0:(b=m[f])===null||b===void 0?void 0:b.filterable)??true,d,c,t,s,u,false,$.includes(f)?false:true,undefined,true)}}}if(C){var v,T;const a=f||"",n=r["@com.sap.vocabularies.Common.v1.Text"]?r["@com.sap.vocabularies.Common.v1.Text"].$Path:null;let o=false;if(a&&a.includes("/")){e.error(`$expand is not yet supported. Property: ${a} from an association cannot be used`);return}if(n&&n.indexOf("/")>-1){e.error(`$expand is not yet supported. Text Property: ${n} from an association cannot be used`);o=true}i=P(i,f,r,$.includes(f)?false:(d===null||d===void 0?void 0:(v=d.propertyInfo)===null||v===void 0?void 0:(T=v[f])===null||T===void 0?void 0:T.filterable)??true,d,c,t,s,u,$.includes(f)?false:true,false,o)}}};function P(e,t,r,a,n,o,i,s,l,c,g,u,f){e.push({name:"_fe_groupable_"+t,propertyPath:t,label:r["@com.sap.vocabularies.Common.v1.Label"]||t,sortable:_._getSortable(i,o.propertyInfo[t],false),filterable:a,groupable:c,aggregatable:g,maxConditions:v(n.propertyInfo[t])?-1:1,sortKey:t,path:t,role:d.category,criticality:s,typeConfig:T(i,a,l),visible:f?!f:true,textProperty:!u&&r["@com.sap.vocabularies.Common.v1.Text"]?r["@com.sap.vocabularies.Common.v1.Text"].$Path:null,textFormatter:r["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]});return e}function T(e,t,r){let a;if(t){var n;a=e===null||e===void 0?void 0:(n=e.getTypeMap())===null||n===void 0?void 0:n.getTypeConfig(r.$Type)}return a}function I(e,t){var r,a,n;const o=e===null||e===void 0?void 0:(r=e.getModel())===null||r===void 0?void 0:(a=r.getMetaModel())===null||a===void 0?void 0:(n=a.getObject(`${e.data("targetCollectionPath")}@Org.OData.Capabilities.V1.FilterRestrictions`))===null||n===void 0?void 0:n.Filterable;if(o!==undefined&&!o){t=t.filter(e=>e!=="Filter");e.setP13nMode(t)}}function A(e,t){if(e.length){for(const a of e){var r;if((a===null||a===void 0?void 0:a.$PropertyPath)===t||(a===null||a===void 0?void 0:(r=a.Property)===null||r===void 0?void 0:r.$PropertyPath)===t){return true}}}}function D(e,t,r,a){const n=Object.keys(e);if(r&&a&&n.includes(t)){throw new Error("Same property can not be configured as groupable and aggregatable")}}_.formatText=function(e,t){const r=this.textFormatter;if(!r||r.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextFirst"){return`${t} (${e})`}else if(r.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextLast"){return`${e} (${t})`}else if(r.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){return t}return t?t:e};_.updateBindingInfo=function(e,t){const a=e.getBindingContext("internal");a.setProperty("isInsightsEnabled",true);_._setChartNoDataText(e,t);const n=sap.ui.getCore().byId(e.getFilter());const i=e.getConditions();if(!t){t={}}if(!t.parameters){t.parameters={}}if(n){const a=c.getFilterInfo(n,{});const i=o.parseCustomData(e.data("applySupported"));if(i&&i.enableSearch&&a.search){t.parameters.$search=r.normalizeSearchTerm(a.search)}else if(t.parameters.$search){delete t.parameters.$search}}const s=i?u.getParametersInfo(n,i):null;if(s){t.path=s}const g=l.getAllFilterInfo(e);if(g.filters){g.filters=r.getChartPropertiesWithoutPrefixes(g.filters)}t.filters=g.filters.length>0?new p({filters:g.filters,and:true}):undefined;t.sorter=this.getSorters(e);_._checkAndAddDraftFilter(e,t)};_.fetchProperties=function(e){const t=this._getModel(e);let r;if(!t){r=new Promise(t=>{e.attachModelContextChange({resolver:t},$,this)}).then(t=>this._createPropertyInfos(e,t))}else{r=this._createPropertyInfos(e,t)}return r.then(function(t){if(e.data){e.data("$mdcChartPropertyInfo",t);i.setCachedProperties(e,t)}return t})};function $(e,t){const r=e.getSource();const a=this._getModel(r);if(a){r.detachModelContextChange($);t.resolver(a)}}_._createPropertyInfos=async function(e,t){const r=`/${e.data("entitySet")}`;const a=t.getMetaModel();const n=await Promise.all([a.requestObject(`${r}/`),a.requestObject(`${r}@`)]);const i=[];const l=n[0];const c=n[1];const g=o.parseCustomData(e.data("customAgg"));x(g,e);let d;const u=[];for(const e in c){if(e.startsWith("@Org.OData.Aggregation.V1.CustomAggregate")){d=e.replace("@Org.OData.Aggregation.V1.CustomAggregate#","");const t=d.split("@");if(t.length==2&&t[1]=="com.sap.vocabularies.Common.v1.Label"){g[t[0]]=c[e]}}}const f=o.parseCustomData(e.data("transAgg"));const p={};for(const e in f){const t=f[e].propertyPath;p[t]=p[t]||{};p[t][f[e].aggregationMethod]={name:f[e].name,label:f[e].label}}for(const t in l){if(t.indexOf("$")!==0){u.push(s.fetchCriticality(a,a.createBindingContext(`${r}/${t}`)).then(_._handleProperty.bind(a.getMetaContext(`${r}/${t}`),e,c,p,g,i)))}}await Promise.all(u);return i};function x(t,r){const a=[],n=[];if(t&&Object.keys(t).length>=1){const t=r.getItems();for(const e in t){if(t[e].getType()==="groupable"){a.push(_.getInternalChartNameFromPropertyNameAndKind(t[e].getName(),"groupable"))}else if(t[e].getType()==="aggregatable"){n.push(_.getInternalChartNameFromPropertyNameAndKind(t[e].getName(),"aggregatable"))}}if(n.filter(function(e){return a.includes(e)}).length>=1){e.error("Dimension and Measure has the sameProperty Configured")}}}_._createPropertyInfosForAggregatable=function(e,r,a,n,o,i,s){const l=[];if(Object.keys(i).includes(r)){for(const e in i[r]){l.push({name:"_fe_aggregatable_"+i[r][e].name,propertyPath:r,label:i[r][e].label||`${a["@com.sap.vocabularies.Common.v1.Label"]} (${e})`||`${r} (${e})`,sortable:o.propertyInfo[r]?o.propertyInfo[r].sortable:true,filterable:false,groupable:false,aggregatable:true,path:r,aggregationMethod:e,maxConditions:v(n.propertyInfo[r])?-1:1,role:d.axis1,datapoint:null})}}if(Object.keys(s).includes(r)){for(const e in s){if(e===r){const r=t({},s[e],{name:"_fe_aggregatable_"+e,groupable:false,aggregatable:true,filterable:false,role:d.axis1,propertyPath:e,datapoint:null});l.push(r);break}}}return l};_.rebind=function(e,t){const r=t.parameters.$search;if(r){delete t.parameters.$search}f.rebind(e,t);if(r){const t=e.getControlDelegate().getInnerChart(e),a=t&&t.getBinding("data");a.suspend();a.setAggregation({search:r});const n={onBeforeRendering:function(){a.resume();t.removeEventDelegate(n)}};t.addEventDelegate(n)}e.fireEvent("bindingUpdated")};_._setChart=function(e,t){const r=e.getParent();t.setVizProperties(e.data("vizProperties"));t.detachSelectData(r.handleSelectionChange.bind(r));t.detachDeselectData(r.handleSelectionChange.bind(r));t.detachDrilledUp(r.handleSelectionChange.bind(r));t.attachSelectData(r.handleSelectionChange.bind(r));t.attachDeselectData(r.handleSelectionChange.bind(r));t.attachDrilledUp(r.handleSelectionChange.bind(r));t.setSelectionMode(e.getPayload().selectionMode.toUpperCase());f._setChart(e,t)};_._getBindingInfo=function(e){if(this._getBindingInfoFromState(e)){return this._getBindingInfoFromState(e)}const r=e.getDelegate().payload;const a=e.getModel()&&e.getModel().getMetaModel();const n=e.data("targetCollectionPath");const o=(a.getObject(`${n}/$kind`)!=="NavigationProperty"?"/":"")+r.contextPath;const i=t({},r.parameters,{entitySet:e.data("entitySet")});return{path:o,events:{dataRequested:e.getParent().onInternalDataRequested.bind(e.getParent())},parameters:i}};_.removeItemFromInnerChart=function(e,t){f.removeItemFromInnerChart.call(this,e,t);if(t.getType()==="groupable"){const t=this.getInnerChart(e);t.fireDeselectData()}};_._getSortable=function(e,t,r){if(r){if(e.data("draftSupported")==="true"){return false}else{return t?t.sortable:true}}return t?t.sortable:true};_._checkAndAddDraftFilter=function(e,t){if(e.data("draftSupported")==="true"){if(!t){t={}}if(!t.filters){t.filters=[];t.filters.push(new p("IsActiveEntity",h.EQ,true))}else{var r,a;(r=t.filters)===null||r===void 0?void 0:(a=r.aFilters)===null||a===void 0?void 0:a.push(new p("IsActiveEntity",h.EQ,true))}}};_.getInternalChartNameFromPropertyNameAndKind=function(e,t){return e.replace("_fe_"+t+"_","")};_.getPropertyFromNameAndKind=function(e,t,r){return r.getPropertyHelper().getProperty("_fe_"+t+"_"+e)};_.getFilterDelegate=function(){return Object.assign({apiVersion:2},m,{addItem:function(e,t){const r=_.getInternalChartNameFromPropertyNameAndKind(t,"groupable");return m.addItem(e,r).then(e=>{e===null||e===void 0?void 0:e.bindProperty("conditions",{path:"$filters>/conditions/"+t});return e})}})};return _},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/ChartHelper", ["sap/base/Log","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/macros/CommonHelper","sap/fe/macros/internal/helpers/ActionHelper","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/AnnotationHelper"],function(e,a,t,o,r,i){"use strict";var n=a.getUiControl;function s(e){return e.getPath().replace(/@com.sap.vocabularies.UI.v1.(Chart|PresentationVariant).*/,"")}var c;(function(e){e["com.sap.vocabularies.UI.v1.ChartType/Column"]="column";e["com.sap.vocabularies.UI.v1.ChartType/ColumnStacked"]="stacked_column";e["com.sap.vocabularies.UI.v1.ChartType/ColumnDual"]="dual_column";e["com.sap.vocabularies.UI.v1.ChartType/ColumnStackedDual"]="dual_stacked_column";e["com.sap.vocabularies.UI.v1.ChartType/ColumnStacked100"]="100_stacked_column";e["com.sap.vocabularies.UI.v1.ChartType/ColumnStackedDual100"]="100_dual_stacked_column";e["com.sap.vocabularies.UI.v1.ChartType/Bar"]="bar";e["com.sap.vocabularies.UI.v1.ChartType/BarStacked"]="stacked_bar";e["com.sap.vocabularies.UI.v1.ChartType/BarDual"]="dual_bar";e["com.sap.vocabularies.UI.v1.ChartType/BarStackedDual"]="dual_stacked_bar";e["com.sap.vocabularies.UI.v1.ChartType/BarStacked100"]="100_stacked_bar";e["com.sap.vocabularies.UI.v1.ChartType/BarStackedDual100"]="100_dual_stacked_bar";e["com.sap.vocabularies.UI.v1.ChartType/Area"]="area";e["com.sap.vocabularies.UI.v1.ChartType/AreaStacked"]="stacked_column";e["com.sap.vocabularies.UI.v1.ChartType/AreaStacked100"]="100_stacked_column";e["com.sap.vocabularies.UI.v1.ChartType/HorizontalArea"]="bar";e["com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked"]="stacked_bar";e["com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked100"]="100_stacked_bar";e["com.sap.vocabularies.UI.v1.ChartType/Line"]="line";e["com.sap.vocabularies.UI.v1.ChartType/LineDual"]="dual_line";e["com.sap.vocabularies.UI.v1.ChartType/Combination"]="combination";e["com.sap.vocabularies.UI.v1.ChartType/CombinationStacked"]="stacked_combination";e["com.sap.vocabularies.UI.v1.ChartType/CombinationDual"]="dual_combination";e["com.sap.vocabularies.UI.v1.ChartType/CombinationStackedDual"]="dual_stacked_combination";e["com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationStacked"]="horizontal_stacked_combination";e["com.sap.vocabularies.UI.v1.ChartType/Pie"]="pie";e["com.sap.vocabularies.UI.v1.ChartType/Donut"]="donut";e["com.sap.vocabularies.UI.v1.ChartType/Scatter"]="scatter";e["com.sap.vocabularies.UI.v1.ChartType/Bubble"]="bubble";e["com.sap.vocabularies.UI.v1.ChartType/Radar"]="line";e["com.sap.vocabularies.UI.v1.ChartType/HeatMap"]="heatmap";e["com.sap.vocabularies.UI.v1.ChartType/TreeMap"]="treemap";e["com.sap.vocabularies.UI.v1.ChartType/Waterfall"]="waterfall";e["com.sap.vocabularies.UI.v1.ChartType/Bullet"]="bullet";e["com.sap.vocabularies.UI.v1.ChartType/VerticalBullet"]="vertical_bullet";e["com.sap.vocabularies.UI.v1.ChartType/HorizontalWaterfall"]="horizontal_waterfall";e["com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationDual"]="dual_horizontal_combination";e["com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationStackedDual"]="dual_horizontal_stacked_combination"})(c||(c={}));var l;(function(e){e["com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Category"]="category";e["com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Series"]="series";e["com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Category2"]="category2"})(l||(l={}));const u={formatJSONToString(e){if(!e){return undefined}let a=JSON.stringify(e);a=a.replace(new RegExp("{","g"),"\\{");a=a.replace(new RegExp("}","g"),"\\}");return a},formatChartType(e){return c[e===null||e===void 0?void 0:e.$EnumMember]},formatDimensions(a){const t=a.getObject("./"),o=a.getModel(),i=s(a),n=[];let c=false;t.DimensionAttributes=t.DimensionAttributes||[];for(const a of t.Dimensions){const r=a.$PropertyPath;const s=o.getObject(`${i+r}@${"com.sap.vocabularies.Common.v1.Text"}`)||{};if(r.includes("/")){e.error(`$expand is not yet supported. Dimension: ${r} from an association cannot be used`)}if(s.$Path&&s.$Path.indexOf("/")>-1){e.error(`$expand is not yet supported. Text Property: ${s.$Path} from an association cannot be used for the dimension ${r}`);c=true}const v={key:r,textPath:!c?s.$Path:undefined,label:o.getObject(`${i+r}@${"com.sap.vocabularies.Common.v1.Label"}`),role:"category"};for(const e of t.DimensionAttributes){var u;if(v.key===((u=e.Dimension)===null||u===void 0?void 0:u.$PropertyPath)){var p;v.role=l[(p=e.Role)===null||p===void 0?void 0:p.$EnumMember]||v.role;break}}v.criticality=this.fetchCriticality(o,o.createBindingContext(i+r)).then(this.formatJSONToString);n.push(v)}const v=new r(n);v.$$valueAsPromise=true;return v.createBindingContext("/")},fetchCriticality(e,a){const t="@com.sap.vocabularies.UI.v1";return e.requestObject(`${t}.ValueCriticality`,a).then(function(e){let a,t;if(e){a={VeryPositive:[],Positive:[],Critical:[],VeryNegative:[],Negative:[],Neutral:[]};for(let o=0;o<e.length;o++){t=e[o];if(t.Criticality.$EnumMember.endsWith("VeryPositive")){a.VeryPositive.push(t.Value)}else if(t.Criticality.$EnumMember.endsWith("Positive")){a.Positive.push(t.Value)}else if(t.Criticality.$EnumMember.endsWith("Critical")){a.Critical.push(t.Value)}else if(t.Criticality.$EnumMember.endsWith("VeryNegative")){a.VeryNegative.push(t.Value)}else if(t.Criticality.$EnumMember.endsWith("Negative")){a.Negative.push(t.Value)}else{a.Neutral.push(t.Value)}}for(const e in a){if(a[e].length==0){delete a[e]}}}return a})},formatMeasures(e){return e.getModel().getData()},getUiChart(e){return n(e,`@${"com.sap.vocabularies.UI.v1.Chart"}`)},getOperationAvailableMap(e,a){const t=(e===null||e===void 0?void 0:e.Actions)||[];return JSON.stringify(o.getOperationAvailableMap(t,"chart",a))},getSortConditions:function(e,a,o,r){if(a&&t._isPresentationVariantAnnotation(o)&&a.SortOrder){const t={sorters:[]};const o=e.getPath(0).split("@")[0];a.SortOrder.forEach(function(){let a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let i="";const n={};if(a.DynamicProperty){var s;i="_fe_aggregatable_"+((s=e.getModel(0).getObject(o+a.DynamicProperty.$AnnotationPath))===null||s===void 0?void 0:s.Name)}else if(a.Property){const t=r.GroupableProperties;if(t&&t.length){for(let e=0;e<t.length;e++){if(t[e].$PropertyPath===a.Property.$PropertyPath){i="_fe_groupable_"+a.Property.$PropertyPath;break}if(!i){i="_fe_aggregatable_"+a.Property.$PropertyPath}}}else if(e.getModel(0).getObject(`${o+a.Property.$PropertyPath}@${"Org.OData.Aggregation.V1.Groupable"}`)){i="_fe_groupable_"+a.Property.$PropertyPath}else{i="_fe_aggregatable_"+a.Property.$PropertyPath}}if(i){n.name=i;n.descending=!!a.Descending;t.sorters.push(n)}else{throw new Error("Please define the right path to the sort property")}});return JSON.stringify(t)}return undefined},getBindingData(e,a,o){const r=[];let i;for(const e in o){if(o[e].$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){const i=o[e].Action;const n=t.getActionPath(a,false,i,true);if(n&&n.$Path){r.push(`'${n.$Path}'`)}else if(n===null){}}}if(r.length>0){i=" $select: '"+r.join()+"'"}return"'{path: '"+(a.getObject("$kind")==="EntitySet"?"/":"")+a.getObject("@sapui.name")+"'"+(i?",parameters:{"+i+"}":"")+"}'"},_getModel(e,a){return a.context},isDataFieldForActionButtonEnabled(e,a,t,r,i){if(e!==true){return"true"}const n=t.getModel();const s=t.getPath();const c=n.getObject(s).$Partner;const l=r&&JSON.parse(r);const u=l&&l[a]&&l[a].split("/");const p=o.getNumberOfContextsExpression(i);if(u&&u[0]===c){const e=l[a].replace(c+"/","");return"{= ${"+p+" && ${"+e+"}}"}else{return"{= ${"+p+"}"}},getHiddenPathExpressionForTableActionsAndIBN(e,a){const t=a.context,o=t.getPath(),r=i.getNavigationPath(o);if(e.indexOf("/")>0){const a=e.split("/");const o=a[0];if(t.getObject(r+"/$Partner")===o){return"{= !%{"+a.slice(1).join("/")+"} }"}}return true},getPressEventForDataFieldForActionButton(e,a,t){return o.getPressEventDataFieldForActionButton(e,a,{contexts:"${internal>selectedContexts}"},t)},getActionType(e){return(e["$Type"].includes("com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")||e["$Type"].includes("com.sap.vocabularies.UI.v1.DataFieldForAction"))&&e["Inline"]},getCollectionName(e){return e.split("/")[e.split("/").length-1]}};u.getSortConditions.requiresIContext=true;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/ChartRuntime", ["sap/fe/core/ActionRuntime","sap/fe/macros/chart/ChartUtils","sap/fe/macros/DelegateUtil"],function(t,e,n){"use strict";const a={fnUpdateChart:function(a){const o=a.getSource();const s=o.getParent();let c,i={},l=[];s.getCustomData().forEach(function(t){if(t.getKey()==="operationAvailableMap"){i=n.getCustomData(s,"operationAvailableMap")&&n.getCustomData(s,"operationAvailableMap").customData}else if(t.getKey()==="multiSelectDisabledActions"){c=t.getValue();l=c?c.split(","):[]}});const r=s.getBindingContext("internal");const g=[];let f;const u=e.getChartSelectedData(o);for(let t=0;t<u.length;t++){g.push(u[t].context)}r.setProperty("selectedContexts",g);r.getModel().setProperty(`${r.getPath()}/numberOfSelectedContexts`,o.getSelectedDataPoints().count);for(let t=0;t<g.length;t++){const e=g[t];const n=e.getObject();for(const t in n){if(t.indexOf("#")===0){let e=t;e=e.substring(1,e.length);f=r.getObject();f[e]=true;r.setProperty("",f)}}f=r.getObject()}t.setActionEnablement(r,i,g,"chart");if(g.length>1){l.forEach(function(t){r.setProperty(t,false)})}}};return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/chart/ChartUtils", ["sap/fe/core/CommonUtils","sap/fe/macros/filter/FilterUtils","sap/ui/model/Filter","sap/ui/model/FilterOperator","../CommonHelper","../table/Utils"],function(t,e,i,n,r,s){"use strict";const o={getChartSelections:function(t,e){if(e){this.getChartModel(t,"",{})}const i=this.getChartModel(t,"filters");return i||[]},getChartFilters:function(t){const e=this.getChartSelections(t)||[];return new i(e)},setChartFilters:function(t){const e=this.getChartModel(t,"drillStack")||{};const r=t.getControlDelegate().getInnerChart(t);const s=[];let o;function l(t){for(const e in t){const r=[];for(const s in o){const l=o[s];const a=t[e].data[l];if(a!==undefined){r.push(new i({path:l,operator:n.EQ,value1:a}))}}if(r.length>0){s.push(new i(r,true))}}}if(r){const i=this.getVizSelection(r);o=r.getVisibleDimensions();const n=this.getDimensionsFromDrillStack(r);if(n.length>0){this.getChartModel(t,"drillStack",{});e[n.toString()]=i;this.getChartModel(t,"drillStack",e)}if(i.length>0){l(i)}else{const t=Object.keys(e)||[];const i=e[t[t.length-2]]||[];l(i)}this.getChartModel(t,"filters",s)}},getFilterBarFilterInfo:function(t){return e.getFilterInfo(t.getFilter(),{targetControl:t})},getAllFilterInfo:function(e){const i=this.getFilterBarFilterInfo(e);const n=this.getChartFilters(e);const o=s.getP13nFilters(e);const l=r.parseCustomData(e.data("selectionPresentationVariantPath"))?r.parseCustomData(e.data("selectionPresentationVariantPath")).data:"";const a=l?t.getFiltersInfoForSV(e,l,true):null;if(n&&n.aFilters&&n.aFilters.length){i.filters.push(n)}if(o.length>0){o.forEach(t=>{if(t.aFilters&&t.aFilters.length>0){t.aFilters.forEach(t=>{i.filters.push(t)})}else{i.filters.push(t)}})}if(a&&a.filters.length>0){a.filters.forEach(t=>{i.filters.push(t.aFilters[0])})}return i},getChartSelectedData:function(t){let e=[];switch(t.getSelectionBehavior()){case"DATAPOINT":e=t.getSelectedDataPoints().dataPoints;break;case"CATEGORY":e=t.getSelectedCategories().categories;break;case"SERIES":e=t.getSelectedSeries().series;break}return e},getChartModel:function(t,e,i){const n=t.getBindingContext("internal");if(!n){return false}if(i){n.setProperty(e,i)}return n&&n.getObject(e)},getDimensionsFromDrillStack:function(t){const e=t.getDrillStack()||[];const i=e.pop()||{};return i.dimension||[]},getVizSelection:function(t){return t&&t._getVizFrame()&&t._getVizFrame().vizSelection()||[]}};return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/Contact.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/contact/ContactHelper"],function(e,t,i,r,a,n,l,o){"use strict";var s,c,u,p,d,f,b,m,h,y,g,v,P,w,x,B,z;var I={};var k=o.getMsTeamsMail;var C=l.getRelativePaths;var E=n.generate;var O=a.getExpressionFromAnnotation;var M=r.getInvolvedDataModelObjects;var T=r.convertMetaModelContext;var _=i.xml;var j=t.defineBuildingBlock;var F=t.blockAttribute;function D(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function $(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function L(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;S(e,t)}function S(e,t){S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return S(e,t)}function R(e,t,i,r,a){var n={};Object.keys(r).forEach(function(e){n[e]=r[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n);if(a&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(a):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}function A(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let H=(s=j({name:"Contact",namespace:"sap.fe.macros",designtime:"sap/fe/macros/Contact.designtime"}),c=F({type:"string"}),u=F({type:"string"}),p=F({type:"sap.ui.model.Context",expectedTypes:["com.sap.vocabularies.Communication.v1.ContactType"],required:true}),d=F({type:"sap.ui.model.Context",expectedTypes:["EntitySet","NavigationProperty","EntityType","Singleton"]}),f=F({type:"string"}),b=F({type:"boolean"}),m=F({type:"boolean"}),s(h=(y=function(e){L(t,e);function t(){var t;for(var i=arguments.length,r=new Array(i),a=0;a<i;a++){r[a]=arguments[a]}t=e.call(this,...r)||this;D(t,"idPrefix",g,$(t));D(t,"_flexId",v,$(t));D(t,"metaPath",P,$(t));D(t,"contextPath",w,$(t));D(t,"ariaLabelledBy",x,$(t));D(t,"visible",B,$(t));D(t,"showEmptyIndicator",z,$(t));return t}I=t;var i=t.prototype;i.getTemplate=function e(){let t;if(this._flexId){t=this._flexId}else{t=this.idPrefix?E([this.idPrefix,"Field-content"]):undefined}const i=T(this.metaPath);const r=M(this.metaPath,this.contextPath);const a=O(i.fn,C(r));const n={name:"sap/fe/macros/contact/ContactDelegate",payload:{contact:this.metaPath.getPath(),mail:k(r)}};return _`<mdc:Field
		xmlns:mdc="sap.ui.mdc"
		delegate="{name: 'sap/fe/macros/field/FieldBaseDelegate'}"
		${this.attr("id",t)}
		editMode="Display"
		width="100%"
		${this.attr("visible",this.visible)}
		${this.attr("showEmptyIndicator",this.showEmptyIndicator)}
		${this.attr("value",a)}
		${this.attr("ariaLabelledBy",this.ariaLabelledBy)}
	>
		<mdc:fieldInfo>
			<mdc:Link
				core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
				enablePersonalization="false"
				${this.attr("delegate",JSON.stringify(n))}
			/>
		</mdc:fieldInfo>
	</mdc:Field>
			`};return t}(e),g=R(y.prototype,"idPrefix",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),v=R(y.prototype,"_flexId",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),P=R(y.prototype,"metaPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),w=R(y.prototype,"contextPath",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),x=R(y.prototype,"ariaLabelledBy",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),B=R(y.prototype,"visible",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),z=R(y.prototype,"showEmptyIndicator",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),y))||h);I=H;return I},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/ContactDelegate", ["sap/fe/core/CommonUtils","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/mdc/enums/LinkType","sap/ui/mdc/LinkDelegate","sap/ui/model/json/JSONModel"],function(t,e,n,o,i,a,c){"use strict";return Object.assign({},a,{_fnTemplateFragment:async function(i,a,s){const r="sap.fe.macros.contact.ContactQuickView";const d=t.getTargetView(s);const l=t.getAppComponent(d);const p={bindingContexts:{},models:{},appComponent:l};const u=a.createBindingContext(i.contact);const g=new c(i);if(i.contact&&u){p.bindingContexts={contact:u,payload:g.createBindingContext("/")};p.models={contact:a,payload:g}}const m=o.loadTemplate(r,"fragment");const f=await n.process(m,{name:r},p);return e.load({definition:f,controller:d.getController()})},fetchAdditionalContent:async function(t){var e;const n=t.getPayload();const o=(e=n.navigationPath)===null||e===void 0?void 0:e.match(/{(.*?)}/);const i=o&&o.length>1&&o[1]?t.getModel().bindContext(o[1],t.getBindingContext(),{$$ownRequest:true}):null;if(t.isA("sap.ui.mdc.Link")){const e=t.getModel().getMetaModel();const o=await this._fnTemplateFragment(n,e,t);if(i){o.setBindingContext(i.getBoundContext())}return[o]}return Promise.resolve([])},fetchLinkType:async function(){return{initialType:{type:i.Popover,directLink:undefined},runtimeType:undefined}}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/ContactHelper", ["sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper"],function(e,n){"use strict";var i={};var t=n.getRelativePaths;var o=e.getExpressionFromAnnotation;var r=e.compileExpression;const a=function(e,n){switch(e){case"phone":return`tel:${n}`;case"mail":return`mailto:${n}`;default:return n}};i.formatUri=a;const l=function(e,n,i,t,o){const r=[];if(e){r.push(e)}if(n&&i){r.push(`${n} ${i}`)}else{if(n){r.push(n)}if(i){r.push(i)}}if(t){r.push(t)}if(o){r.push(o)}return r.join(", ")};i.formatAddress=l;const s=function(e){if(e.includes("fax")){return"{sap.fe.i18n>POPOVER_CONTACT_SECTION_FAX}"}else if(e.includes("cell")){return"{sap.fe.i18n>POPOVER_CONTACT_SECTION_MOBILE}"}else{return"{sap.fe.i18n>POPOVER_CONTACT_SECTION_PHONE}"}};i.computePhoneLabel=s;const u=function(e){var n,i,a,l,s,u;let d=(n=e.targetObject)===null||n===void 0?void 0:(i=n.email)===null||i===void 0?void 0:i.find(e=>{var n;return(n=e.type)===null||n===void 0?void 0:n.includes("Communication.ContactInformationType/preferred")});d=d||((a=e.targetObject)===null||a===void 0?void 0:(l=a.email)===null||l===void 0?void 0:l.find(e=>{var n;return(n=e.type)===null||n===void 0?void 0:n.includes("Communication.ContactInformationType/work")}));d=d||((s=e.targetObject)===null||s===void 0?void 0:(u=s.email)===null||u===void 0?void 0:u.length)&&e.targetObject.email[0];return d?r(o(d.address,t(e))):undefined};i.getMsTeamsMail=u;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/Email.block", ["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/helpers/BindingToolkit","sap/m/Link","sap/m/library","sap/ui/core/CustomData","sap/base/Log","sap/fe/core/jsx-runtime/jsx"],function(e,t,i,r,n,a,o,l){"use strict";var u,s,p,c,b,f,d,m,y,v,g,h,w,z,B,C,M;var k={};var P=i.compileExpression;var T=e.defineBuildingBlock;var O=e.blockAttribute;function j(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function x(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function L(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}function I(e,t){I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return I(e,t)}function E(e,t,i,r,n){var a={};Object.keys(r).forEach(function(e){a[e]=r[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function S(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let A=(u=T({name:"Email",namespace:"sap.fe.macros"}),s=O({type:"string"}),p=O({type:"boolean",bindable:true}),c=O({type:"boolean",bindable:true}),b=O({type:"string",bindable:true}),f=O({type:"string",bindable:true}),d=O({type:"string"}),m=O({type:"string"}),u(y=(v=function(e){L(i,e);var t=i.prototype;t.isTeamsConnectionActive=async function e(){if(this.appComponent){return this.appComponent.getCollaborativeToolsService().isContactsCollaborationSupported()}else{return false}};t.getMailPopoverFromMsTeamsIntegration=function e(t){if(this.appComponent){return this.appComponent.getCollaborativeToolsService().getMailPopoverFromMsTeamsIntegration(t)}else{return undefined}};function i(t,i,r){var n;n=e.call(this,t,i,r)||this;j(n,"id",g,x(n));j(n,"visible",h,x(n));j(n,"enabled",w,x(n));j(n,"text",z,x(n));j(n,"mail",B,x(n));j(n,"emptyIndicatorMode",C,x(n));j(n,"ariaLabelledBy",M,x(n));n.appComponent=r===null||r===void 0?void 0:r.appComponent;return n}k=i;t.openPopover=async function e(t){t.preventDefault();let i=false;const r=t.getSource();const a=r.data("mail");if(await this.isTeamsConnectionActive()){if(a){try{const e=await this.getMailPopoverFromMsTeamsIntegration(a);e.openBy(r)}catch(e){o.error(`Failed to retrieve Teams minimal popover for email :${e}`);i=true}}}else{i=true}if(i){n.URLHelper.redirect(`mailto:${a}`)}};t.getContent=function e(){const t=`mailto:${this.mail}`;const i=l(r,{id:this.id,visible:this.visible,text:this.text,href:t,enabled:this.enabled,emptyIndicatorMode:this.emptyIndicatorMode,class:"sapMTextRenderWhitespaceWrap",press:async e=>this.openPopover(e)});if(this.ariaLabelledBy){i.addAriaLabelledBy(this.ariaLabelledBy)}i.addCustomData(new a({key:"mail",value:P(this.mail)}));return i};return i}(t),g=E(v.prototype,"id",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),h=E(v.prototype,"visible",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return"true"}}),w=E(v.prototype,"enabled",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return"true"}}),z=E(v.prototype,"text",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),B=E(v.prototype,"mail",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),C=E(v.prototype,"emptyIndicatorMode",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Off"}}),M=E(v.prototype,"ariaLabelledBy",[m],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),v))||y);k=A;return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/contact/TeamContactOptions.block", ["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/helpers/BindingToolkit","sap/ui/core/CustomData","sap/fe/core/helpers/ClassSupport","sap/m/Button","sap/m/Toolbar","sap/ui/performance/trace/FESRHelper","sap/fe/core/jsx-runtime/jsx"],function(e,t,i,r,n,a,o,l,u){"use strict";var s,c,p,f,b,d,v,m,h;var g={};var y=n.defineReference;var w=i.compileExpression;var C=e.defineBuildingBlock;var O=e.blockAttribute;function B(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function k(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function z(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;j(e,t)}function j(e,t){j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return j(e,t)}function S(e,t,i,r,n){var a={};Object.keys(r).forEach(function(e){a[e]=r[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function E(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let P=(s=C({name:"TeamContactOptions",namespace:"sap.fe.macros"}),c=O({type:"string"}),p=O({type:"string",bindable:true}),f=y(),s(b=(d=function(e){z(t,e);function t(){var t;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++){r[n]=arguments[n]}t=e.call(this,...r)||this;B(t,"id",v,k(t));B(t,"mail",m,k(t));B(t,"toolbar",h,k(t));t.visible=false;return t}g=t;var i=t.prototype;i.retrieveContactOptions=async function e(t){var i,r;const n=t?await t.getCollaborativeToolsService().getTeamContactOptions():undefined;if(!(n!==null&&n!==void 0&&n.length)||!this.mail){return}this.visible=true;(i=this.toolbar.current)===null||i===void 0?void 0:i.removeAllContent();n.map(e=>{var t;(t=this.toolbar.current)===null||t===void 0?void 0:t.addContent(this.getContactOptionButton(e))});this.visible=true;(r=this.toolbar.current)===null||r===void 0?void 0:r.setVisible(true)};i.getContactOptionButton=function e(t){const i=u(a,{icon:t.icon,class:"sapUiSmallMarginEnd",type:"Transparent"});i.attachPress(t.callBackHandler);i.addCustomData(new r({key:"email",value:w(this.mail)}));i.addCustomData(new r({key:"type",value:t.key}));l.setSemanticStepname(i,"press",t.fesrStepName);return i};i.getContent=function e(t,i){const r=u(o,{id:this.id,ref:this.toolbar,visible:this.visible,width:"100%"});this.isInitialized=this.retrieveContactOptions(i);return r};return t}(t),v=S(d.prototype,"id",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),m=S(d.prototype,"mail",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),h=S(d.prototype,"toolbar",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||b);g=P;return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/ConditionalWrapper", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/Control"],function(e,t){"use strict";var i,r,n,l,a,o,u,c,s,f,p,b,d,y,h,m,g;var v=e.property;var _=e.implementInterface;var w=e.defineUI5Class;var z=e.association;var A=e.aggregation;function C(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function B(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function L(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}function O(e,t){O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return O(e,t)}function j(e,t,i,r,n){var l={};Object.keys(r).forEach(function(e){l[e]=r[e]});l.enumerable=!!l.enumerable;l.configurable=!!l.configurable;if("value"in l||l.initializer){l.writable=true}l=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},l);if(n&&l.initializer!==void 0){l.value=l.initializer?l.initializer.call(n):void 0;l.initializer=undefined}if(l.initializer===void 0){Object.defineProperty(e,t,l);l=null}return l}function F(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let I=(i=w("sap.fe.macros.controls.ConditionalWrapper"),r=_("sap.ui.core.IFormContent"),n=v({type:"sap.ui.core.CSSSize",defaultValue:null}),l=v({type:"boolean",defaultValue:false}),a=v({type:"boolean",defaultValue:false}),o=z({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),u=A({type:"sap.ui.core.Control",multiple:false,isDefault:true}),c=A({type:"sap.ui.core.Control",multiple:false}),i(s=(f=function(e){L(t,e);function t(){var t;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++){r[n]=arguments[n]}t=e.call(this,...r)||this;C(t,"__implements__sap_ui_core_IFormContent",p,B(t));C(t,"width",b,B(t));C(t,"formDoNotAdjustWidth",d,B(t));C(t,"condition",y,B(t));C(t,"ariaLabelledBy",h,B(t));C(t,"contentTrue",m,B(t));C(t,"contentFalse",g,B(t));return t}var i=t.prototype;i.enhanceAccessibilityState=function e(t,i){const r=this.getParent();if(r&&r.enhanceAccessibilityState){r.enhanceAccessibilityState(this,i)}return i};i.getAccessibilityInfo=function e(){var t;let i;if(this.condition){i=this.contentTrue}else{i=this.contentFalse}return(t=i)!==null&&t!==void 0&&t.getAccessibilityInfo?i.getAccessibilityInfo():{}};i._setAriaLabelledBy=function e(t){if(t&&t.addAriaLabelledBy){const e=this.ariaLabelledBy;for(let i=0;i<e.length;i++){const r=e[i];const n=t.getAriaLabelledBy()||[];if(n.indexOf(r)===-1){t.addAriaLabelledBy(r)}}}};i.onBeforeRendering=function e(){this._setAriaLabelledBy(this.contentTrue);this._setAriaLabelledBy(this.contentFalse)};t.render=function e(t,i){t.openStart("div",i);t.style("width",i.width);t.style("display","inline-block");t.openEnd();if(i.condition){t.renderControl(i.contentTrue)}else{t.renderControl(i.contentFalse)}t.close("div")};return t}(t),p=j(f.prototype,"__implements__sap_ui_core_IFormContent",[r],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),b=j(f.prototype,"width",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),d=j(f.prototype,"formDoNotAdjustWidth",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),y=j(f.prototype,"condition",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),h=j(f.prototype,"ariaLabelledBy",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),m=j(f.prototype,"contentTrue",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),g=j(f.prototype,"contentFalse",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||s);return I},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/CustomFilterFieldContentWrapper", ["sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/SemanticDateOperators","sap/ui/base/ManagedObjectObserver","sap/ui/core/Control","sap/ui/mdc/condition/Condition","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/field/ConditionsType","sap/ui/model/json/JSONModel"],function(e,t,i,n,o,r,l,a){"use strict";var s,u,c,d,p,f,h,b,g,v,y,_,C,m,w,O;var F={};var M=e.property;var A=e.implementInterface;var I=e.event;var L=e.defineUI5Class;var S=e.aggregation;function E(e,t,i,n){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function j(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function z(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;V(e,t)}function V(e,t){V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return V(e,t)}function P(e,t,i,n,o){var r={};Object.keys(n).forEach(function(e){r[e]=n[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},r);if(o&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(o):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}function D(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let T=(s=L("sap.fe.macros.controls.CustomFilterFieldContentWrapper"),u=A("sap.ui.core.IFormContent"),c=M({type:"sap.ui.core.CSSSize",defaultValue:null}),d=M({type:"boolean",defaultValue:false}),p=M({type:"object[]",defaultValue:[]}),f=S({type:"sap.ui.core.Control",multiple:false,isDefault:true}),h=I(),s(b=(g=(O=function(e){z(n,e);function n(){var t;for(var i=arguments.length,n=new Array(i),o=0;o<i;o++){n[o]=arguments[o]}t=e.call(this,...n)||this;E(t,"__implements__sap_ui_core_IFormContent",v,j(t));E(t,"width",y,j(t));E(t,"formDoNotAdjustWidth",_,j(t));E(t,"conditions",C,j(t));E(t,"content",m,j(t));E(t,"conditionsChange",w,j(t));return t}F=n;n.render=function e(t,i){t.openStart("div",i);t.style("min-height","1rem");t.style("width",i.width);t.openEnd();t.renderControl(i.getContent());t.close("div")};n._filterValuesToConditions=function e(i,n){let a={operators:[]},s=[];if(n){a={operators:[n]}}if(i===""){i=[]}else if(typeof i==="object"&&i.hasOwnProperty("operator")&&i.hasOwnProperty("values")){a={operators:[i.operator]};i=i.values}else if(i!==undefined&&typeof i!=="object"&&typeof i!=="string"){throw new Error(`FilterUtils.js#_filterValuesToConditions: Unexpected type of input parameter vValues: ${typeof i}`)}const u=new l(a);const c=Array.isArray(i)?i:[i];if(typeof n==="string"&&t.getSemanticDateOperations().includes(n)){s=[o.createCondition(n,c,null,null,r.NotValidated)]}else{s=c.map(e=>{const t=e===null||e===void 0?void 0:e.toString(),i=u.parseValue(t,"any");return i===null||i===void 0?void 0:i[0]}).filter(e=>e!==undefined)}return s};n._conditionsToFilterModelString=function e(t,i){const n=new l(i);return t.map(e=>n.formatValue([e],"any")||"").filter(e=>e!=="").join(",")};var s=n.prototype;s._handleFilterModelChange=function e(t){var i;const n=(i=this.getObjectBinding("filterValues"))===null||i===void 0?void 0:i.getPath(),o=t.getSource().getProperty(n);this.updateConditionsByFilterValues(o)};s._handleConditionsChange=function e(t){this.updateFilterModelByConditions(t)};s.init=function t(){e.prototype.init.call(this);this._conditionsObserver=new i(this._observeChanges.bind(this));this._conditionsObserver.observe(this,{properties:["conditions"]});this._filterModel=new a;this._filterModel.attachPropertyChange(this._handleFilterModelChange,this);this.setModel(this._filterModel,n.FILTER_MODEL_ALIAS)};s.clone=function t(i,o){const t=e.prototype.clone.call(this,i,o);t.setModel(t._filterModel,n.FILTER_MODEL_ALIAS);return t};s._observeChanges=function e(t){if(t.name==="conditions"){this._handleConditionsChange(t.current)}};s.getContent=function e(){return this.getAggregation("content")};s.getConditions=function e(){return this.getProperty("conditions")};s.setConditions=function e(t){this.setProperty("conditions",t||[]);return this};s.getFilterModelAlias=function e(){return n.FILTER_MODEL_ALIAS};s.updateConditionsByFilterValues=function e(t,i){const o=n._filterValuesToConditions(t,i);this.setConditions(o)};s.updateFilterModelByConditions=function e(t){var i;const o=((i=t[0])===null||i===void 0?void 0:i.operator)||"";const r=o!==""?{operators:[o]}:{operators:[]};if(this.getBindingContext(n.FILTER_MODEL_ALIAS)){var l;const e=n._conditionsToFilterModelString(t,r);this._filterModel.setProperty((l=this.getBindingContext(n.FILTER_MODEL_ALIAS))===null||l===void 0?void 0:l.getPath(),e)}};s.getAccessibilityInfo=function e(){var t;const i=this.getContent();return(i===null||i===void 0?void 0:(t=i.getAccessibilityInfo)===null||t===void 0?void 0:t.call(i))||{}};s.getIdForLabel=function e(){const t=this.getContent();return t===null||t===void 0?void 0:t.getIdForLabel()};return n}(n),O.FILTER_MODEL_ALIAS="filterValues",O),v=P(g.prototype,"__implements__sap_ui_core_IFormContent",[u],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),y=P(g.prototype,"width",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),_=P(g.prototype,"formDoNotAdjustWidth",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),C=P(g.prototype,"conditions",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),m=P(g.prototype,"content",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),w=P(g.prototype,"conditionsChange",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),g))||b);F=T;return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/CustomQuickViewPage", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/m/QuickViewPage"],function(e,t,r,i){"use strict";var n,a,o,s,c;var l=t.defineUI5Class;var p=t.aggregation;function u(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function f(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;d(e,t)}function d(e,t){d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return d(e,t)}function g(e,t,r,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function b(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let m=(n=l("sap.fe.macros.controls.CustomQuickViewPage"),a=p({type:"sap.m.QuickViewGroup",multiple:true,singularName:"group"}),n(o=(s=function(t){h(i,t);function i(){var e;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}e=t.call(this,...i)||this;u(e,"groups",c,f(e));return e}var n=i.prototype;n.onBeforeRendering=function e(r){this.setTitleLink();t.prototype.onBeforeRendering.call(this,r)};n.findMdcLinkControl=function e(t){while(t&&!t.isA("sap.ui.mdc.Link")){t=t.getParent()}return t};n.setTitleLink=function t(){const i=this.data("titleLink");if(i){this.setCrossAppNavCallback(()=>{const t=e.getTargetView(this);const n=e.getAppComponent(t);const a=n.getShellServices();let o=a.parseShellHash(i);const s={target:{semanticObject:o.semanticObject,action:o.action},params:o.params};const c=`${s.target.semanticObject}-${s.target.action}`;if(c&&typeof c==="string"&&c!==""&&this.oCrossAppNavigator&&this.oCrossAppNavigator.isNavigationSupported([c])){var l;const e=this.findMdcLinkControl(this.getParent());const i=e===null||e===void 0?void 0:(l=e.getModel("$sapuimdcLink"))===null||l===void 0?void 0:l.getProperty("/titleLinkHref");if(i){o=a.parseShellHash(i)}else{o=a.parseShellHash(c);o.params=s.params}r.storeControlRefreshStrategyForHash(t,o);return{target:{semanticObject:o.semanticObject,action:o.action},params:o.params}}else{const e=a.parseShellHash(window.location.hash);r.storeControlRefreshStrategyForHash(t,e);return{target:{semanticObject:e.semanticObject,action:e.action,appSpecificRoute:e.appSpecificRoute},params:e.params}}})}return undefined};return i}(i),c=g(s.prototype,"groups",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||o);return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/FieldWrapper", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/Control"],function(e,t){"use strict";var i,r,n,l,a,o,u,s,c,p,d,f,b,y,h,g,m,v,w,_,A;var z=e.property;var D=e.implementInterface;var E=e.defineUI5Class;var C=e.association;var L=e.aggregation;function B(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function I(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function O(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;j(e,t)}function j(e,t){j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return j(e,t)}function S(e,t,i,r,n){var l={};Object.keys(r).forEach(function(e){l[e]=r[e]});l.enumerable=!!l.enumerable;l.configurable=!!l.configurable;if("value"in l||l.initializer){l.writable=true}l=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},l);if(n&&l.initializer!==void 0){l.value=l.initializer?l.initializer.call(n):void 0;l.initializer=undefined}if(l.initializer===void 0){Object.defineProperty(e,t,l);l=null}return l}function x(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let F=(i=E("sap.fe.macros.controls.FieldWrapper"),r=D("sap.ui.core.IFormContent"),n=z({type:"sap.ui.core.TextAlign"}),l=z({type:"sap.ui.core.CSSSize",defaultValue:null}),a=z({type:"boolean",defaultValue:false}),o=z({type:"string",defaultValue:"Display"}),u=z({type:"boolean",defaultValue:false}),s=C({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),c=L({type:"sap.ui.core.Control",multiple:false,isDefault:true}),p=L({type:"sap.ui.core.Control",multiple:true}),i(d=(f=function(e){O(t,e);function t(){var t;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++){r[n]=arguments[n]}t=e.call(this,...r)||this;B(t,"__implements__sap_ui_core_IFormContent",b,I(t));B(t,"textAlign",y,I(t));B(t,"width",h,I(t));B(t,"formDoNotAdjustWidth",g,I(t));B(t,"editMode",m,I(t));B(t,"required",v,I(t));B(t,"ariaLabelledBy",w,I(t));B(t,"contentDisplay",_,I(t));B(t,"contentEdit",A,I(t));return t}var i=t.prototype;i.enhanceAccessibilityState=function e(t,i){const r=this.getParent();if(r&&r.enhanceAccessibilityState){r.enhanceAccessibilityState(t,i)}return i};i.getAccessibilityInfo=function e(){let t;if(this.editMode==="Display"){t=this.contentDisplay}else{t=this.contentEdit.length?this.contentEdit[0]:null}return t&&t.getAccessibilityInfo?t.getAccessibilityInfo():{}};i.getIdForLabel=function e(){var t;let i;if(this.editMode==="Display"){i=this.contentDisplay}else{i=this.contentEdit.length?this.contentEdit[0]:null}return(t=i)===null||t===void 0?void 0:t.getIdForLabel()};i._setAriaLabelledBy=function e(t){if(t&&t.addAriaLabelledBy){const e=this.ariaLabelledBy;for(let i=0;i<e.length;i++){const r=e[i];const n=t.getAriaLabelledBy()||[];if(n.indexOf(r)===-1){t.addAriaLabelledBy(r)}}}};i.onBeforeRendering=function e(){this._setAriaLabelledBy(this.contentDisplay);const t=this.contentEdit;for(let e=0;e<t.length;e++){this._setAriaLabelledBy(t[e])}};t.render=function e(t,i){t.openStart("div",i);t.style("text-align",i.textAlign);if(i.editMode==="Display"){t.style("width",i.width);t.openEnd();t.renderControl(i.contentDisplay)}else{const e=i.contentEdit;t.style("width",i.width);t.openEnd();for(let i=0;i<e.length;i++){const r=e[i];t.renderControl(r)}}t.close("div")};return t}(t),b=S(f.prototype,"__implements__sap_ui_core_IFormContent",[r],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),y=S(f.prototype,"textAlign",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),h=S(f.prototype,"width",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),g=S(f.prototype,"formDoNotAdjustWidth",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),m=S(f.prototype,"editMode",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),v=S(f.prototype,"required",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),w=S(f.prototype,"ariaLabelledBy",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),_=S(f.prototype,"contentDisplay",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),A=S(f.prototype,"contentEdit",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||d);return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/controls/FileWrapper", ["sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ResourceModelHelper","sap/m/BusyDialog","./FieldWrapper"],function(e,t,i,r,a,l,n){"use strict";var o,s,u,p,c,f,d,h,y,b,g,v,m,w,_,C,B,z,E,P,x,U,A;var I=a.getResourceModel;var S=r.property;var T=r.defineUI5Class;var L=r.aggregation;function D(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function M(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function O(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;j(e,t)}function j(e,t){j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return j(e,t)}function k(e,t,i,r,a){var l={};Object.keys(r).forEach(function(e){l[e]=r[e]});l.enumerable=!!l.enumerable;l.configurable=!!l.configurable;if("value"in l||l.initializer){l.writable=true}l=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},l);if(a&&l.initializer!==void 0){l.value=l.initializer?l.initializer.call(a):void 0;l.initializer=undefined}if(l.initializer===void 0){Object.defineProperty(e,t,l);l=null}return l}function R(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let V=(o=T("sap.fe.macros.controls.FileWrapper"),s=S({type:"sap.ui.core.URI"}),u=S({type:"string"}),p=S({type:"string"}),c=S({type:"string"}),f=L({type:"sap.m.Avatar",multiple:false}),d=L({type:"sap.ui.core.Icon",multiple:false}),h=L({type:"sap.m.Link",multiple:false}),y=L({type:"sap.m.Text",multiple:false}),b=L({type:"sap.ui.unified.FileUploader",multiple:false}),g=L({type:"sap.m.Button",multiple:false}),o(v=(m=function(r){O(a,r);function a(){var e;for(var t=arguments.length,i=new Array(t),a=0;a<t;a++){i[a]=arguments[a]}e=r.call(this,...i)||this;D(e,"uploadUrl",w,M(e));D(e,"propertyPath",_,M(e));D(e,"filename",C,M(e));D(e,"mediaType",B,M(e));D(e,"avatar",z,M(e));D(e,"icon",E,M(e));D(e,"link",P,M(e));D(e,"text",x,M(e));D(e,"fileUploader",U,M(e));D(e,"deleteButton",A,M(e));e._busy=false;e.avatarCacheBustingInitialized=false;return e}var o=a.prototype;o.getAccessibilityInfo=function e(){const t=[];if(this.avatar){t.push(this.avatar)}if(this.icon){t.push(this.icon)}if(this.link){t.push(this.link)}if(this.text){t.push(this.text)}if(this.fileUploader){t.push(this.fileUploader)}if(this.deleteButton){t.push(this.deleteButton)}return{children:t}};o.onBeforeRendering=function e(){this._setAriaLabels();this._addSideEffects();this._refreshAvatar()};o._refreshAvatar=function i(){if(t.isCollaborationEnabled(e.getTargetView(this))){var r;const e=(r=this.avatar)===null||r===void 0?void 0:r.getBindingInfo("src").binding;if(e&&!this.avatarCacheBustingInitialized){e.attachEvent("change",()=>{var e;(e=this.avatar)===null||e===void 0?void 0:e.refreshAvatarCacheBusting()});this.avatarCacheBustingInitialized=true}}};o._setAriaLabels=function e(){this._setAriaLabelledBy(this.avatar);this._setAriaLabelledBy(this.icon);this._setAriaLabelledBy(this.link);this._setAriaLabelledBy(this.text);this._setAriaLabelledBy(this.fileUploader);this._setAriaLabelledBy(this.deleteButton)};o._addSideEffects=function t(){var r;const a=[],l=e.getTargetView(this),n=l.getViewData().fullContextPath,o=l.getModel().getMetaModel(),s=o.getMetaPath(n),u=o.getContext(n),p=i.getInvolvedDataModelObjects(u),c=this.data("sourcePath"),f=c.replace(`${s}`,""),d=f.replace(this.propertyPath,"");a.push({$NavigationPropertyPath:f});if(this.filename){a.push({$NavigationPropertyPath:d+this.filename})}if(this.mediaType){a.push({$NavigationPropertyPath:d+this.mediaType})}(r=this._getSideEffectController())===null||r===void 0?void 0:r.addControlSideEffects(p.targetEntityType.fullyQualifiedName,{sourceProperties:[f],targetEntities:a,sourceControlId:this.getId()})};o._getSideEffectController=function e(){const t=this._getViewController();return t?t._sideEffects:undefined};o._getViewController=function t(){const i=e.getTargetView(this);return i&&i.getController()};o.getUploadUrl=function e(){const t=this.getBindingContext();return t&&this.uploadUrl?this.uploadUrl.replace(t.getPath(),t.getCanonicalPath()):""};o.setUIBusy=function e(t){const i=this;this._busy=t;if(t){if(!this.busyDialog){this.busyDialog=new l({text:I(this).getText("M_FILEWRAPPER_BUSY_DIALOG_TITLE"),showCancelButton:false})}setTimeout(function(){if(i._busy){var e;(e=i.busyDialog)===null||e===void 0?void 0:e.open()}},1e3)}else{var r;(r=this.busyDialog)===null||r===void 0?void 0:r.close(false)}};o.getUIBusy=function e(){return this._busy};a.render=function e(t,i){t.openStart("div",i);t.style("width",i.width);t.openEnd();t.openStart("div");t.style("display","flex");t.style("box-sizing","border-box");t.style("justify-content","space-between");t.style("align-items","center");t.style("flex-wrap","wrap");t.style("align-content","stretch");t.style("width","100%");t.openEnd();t.openStart("div");t.style("display","flex");t.style("align-items","center");t.openEnd();if(i.avatar){t.renderControl(i.avatar)}else{t.renderControl(i.icon);t.renderControl(i.link);t.renderControl(i.text)}t.close("div");t.openStart("div");t.style("display","flex");t.style("align-items","center");t.openEnd();t.renderControl(i.fileUploader);t.renderControl(i.deleteButton);t.close("div");t.close("div");t.close("div")};o.destroy=function e(t){const i=this._getSideEffectController();if(i){i.removeControlSideEffects(this)}delete this.busyDialog;n.prototype.destroy.apply(this,[t])};return a}(n),w=k(m.prototype,"uploadUrl",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),_=k(m.prototype,"propertyPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),C=k(m.prototype,"filename",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),B=k(m.prototype,"mediaType",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),z=k(m.prototype,"avatar",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),E=k(m.prototype,"icon",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),P=k(m.prototype,"link",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),x=k(m.prototype,"text",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),U=k(m.prototype,"fileUploader",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),A=k(m.prototype,"deleteButton",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||v);return V},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/draftIndicator/DraftIndicator.block", ["sap/base/strings/formatMessage","sap/fe/core/CommonUtils","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/m/Button","sap/m/ObjectMarker","sap/m/Popover","sap/m/Text","sap/m/VBox","sap/m/library","sap/ui/core/Core","sap/fe/core/jsx-runtime/jsx","sap/fe/core/jsx-runtime/jsxs"],function(e,t,r,i,n,a,s,o,l,c,d,u,p,f,D,v){"use strict";var y,b,g,A,h,T,_,I,m,O,B,P,E,C,x,M,R;var U={};var L=p.ObjectMarkerVisibility;var N=p.ObjectMarkerType;var w=s.pathInModel;var F=s.or;var V=s.not;var j=s.isEmpty;var k=s.ifElse;var z=s.constant;var S=s.and;var H=a.UI;var G=a.Entity;var K=n.convertMetaModelContext;var J=r.defineBuildingBlock;var W=r.blockAttribute;function X(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function q(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;$(e,t)}function $(e,t){$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return $(e,t)}function Q(e,t,r,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function Z(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let ee=(y=J({name:"DraftIndicator",namespace:"sap.fe.macros"}),b=W({type:"string"}),g=W({type:"string"}),A=W({type:"string",validate:e=>{if(e&&![L.IconOnly,L.IconAndText].includes(e)){throw new Error(`Allowed value ${e} does not match`)}}}),h=W({type:"sap.ui.model.Context",required:true,expectedTypes:["EntitySet","NavigationProperty"]}),T=W({type:"boolean",bindable:true}),_=W({type:"string"}),I=W({type:"boolean"}),y(m=(O=function(r){q(i,r);function i(){var e;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}e=r.call(this,...i)||this;X(e,"id",B,Y(e));X(e,"ariaLabelledBy",P,Y(e));X(e,"draftIndicatorType",E,Y(e));X(e,"entitySet",C,Y(e));X(e,"isDraftIndicatorVisible",x,Y(e));X(e,"class",M,Y(e));X(e,"usedInTable",R,Y(e));return e}U=i;i.formatDraftOwnerTextInPopover=function e(t,r,i,n,a){const s=f.getLibraryResourceBundle("sap.fe.macros");if(t){const e=n||r||a||i;if(!e){return s.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_UNSAVED_CHANGES_BY_UNKNOWN")}else{return r?s.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_LOCKED_BY_KNOWN",[e]):s.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_UNSAVED_CHANGES_BY_KNOWN",[e])}}else{return s.getText("M_FIELD_RUNTIME_DRAFT_POPOVER_NO_DATA_TEXT")}};var n=i.prototype;n.getDraftAdministrativeDataProperties=function e(){const t=this.entitySet.getModel().createBindingContext("DraftAdministrativeData",this.entitySet);const r=K(t);return r.targetType.entityProperties.map(e=>e.name)};n.getPopoverTitleBindingExpression=function e(){return k(V(G.IsActive),w("M_COMMON_DRAFT_OBJECT","sap.fe.i18n"),k(G.HasDraft,k(V(j(w("DraftAdministrativeData/InProcessByUser"))),w("M_COMMON_DRAFT_LOCKED_OBJECT","sap.fe.i18n"),w("M_DRAFT_POPOVER_ADMIN_UNSAVED_OBJECT","sap.fe.i18n")),this.draftIndicatorType===L.IconAndText?" ":w("C_DRAFT_POPOVER_ADMIN_DATA_DRAFTINFO_FLAGGED_OBJECT","sap.fe.i18n")))};n.getDraftOwnerTextBindingExpression=function e(){const t=this.getDraftAdministrativeDataProperties();const r=[{path:"HasDraftEntity",targetType:"any"},{path:"DraftAdministrativeData/InProcessByUser"},{path:"DraftAdministrativeData/LastChangedByUser"}];if(t.includes("InProcessByUserDescription")){r.push({path:"DraftAdministrativeData/InProcessByUserDescription"})}if(t.includes("LastChangedByUserDescription")){r.push({path:"DraftAdministrativeData/LastChangedByUserDescription"})}return{parts:r,formatter:i.formatDraftOwnerTextInPopover}};n.createPopover=function r(i){const n=S(V(G.IsActive),j(w("DraftAdministrativeData/LastChangeDateTime")));const a=this.draftIndicatorType===L.IconAndText?w("M_DRAFT_POPOVER_ADMIN_GENERIC_LOCKED_OBJECT_POPOVER_TEXT","sap.fe.i18n"):w("C_DRAFT_POPOVER_ADMIN_DATA_DRAFTINFO_POPOVER_NO_DATA_TEXT","sap.fe.i18n");const s=S(V(G.IsActive),V(j(w("DraftAdministrativeData/LastChangeDateTime"))));const l={parts:[{path:"M_DRAFT_POPOVER_ADMIN_LAST_CHANGE_TEXT",model:"sap.fe.i18n"},{path:"DraftAdministrativeData/LastChangeDateTime"}],formatter:e};const p=S(G.IsActive,V(j(w("DraftAdministrativeData/LastChangeDateTime"))));const f={...l};const y=D(c,{title:this.getPopoverTitleBindingExpression(),showHeader:true,contentWidth:"15.625rem",verticalScrolling:false,class:"sapUiContentPadding",placement:"Auto",endButton:D(o,{icon:"sap-icon://decline",press:()=>{var e;return(e=this.draftPopover)===null||e===void 0?void 0:e.close()}}),children:v(u,{class:"sapUiContentPadding",children:[D(u,{visible:n,children:D(d,{text:a})}),D(u,{visible:s,children:D(d,{text:l})}),v(u,{visible:p,children:[D(d,{text:this.getDraftOwnerTextBindingExpression()}),D(d,{class:"sapUiSmallMarginTop",text:f})]})]})});t.getTargetView(i).addDependent(y);return y};n.onObjectMarkerPressed=function e(t){const r=t.getSource();const i=r.getBindingContext();this.draftPopover??=this.createPopover(r);this.draftPopover.setBindingContext(i);this.draftPopover.openBy(r,false)};n.getIconAndTextAdditionalInfoBindingExpression=function e(){const t=this.getDraftAdministrativeDataProperties();const r=[];if(t.includes("InProcessByUserDescription")){r.push(w("DraftAdministrativeData/InProcessByUserDescription"))}r.push(w("DraftAdministrativeData/InProcessByUser"));if(t.includes("LastChangedByUserDescription")){r.push(w("DraftAdministrativeData/LastChangedByUserDescription"))}r.push(w("DraftAdministrativeData/LastChangedByUser"));return k(G.HasDraft,F(...r),"")};n.getIconAndTextContent=function e(){const t=k(V(G.IsActive),N.Draft,k(G.HasDraft,k(w("DraftAdministrativeData/InProcessByUser"),N.LockedBy,k(w("DraftAdministrativeData/LastChangedByUser"),N.UnsavedBy,N.Unsaved)),N.Flagged));const r=k(V(G.HasDraft),L.TextOnly,L.IconAndText);return D(l,{type:t,press:this.onObjectMarkerPressed.bind(this),visibility:r,visible:this.isDraftIndicatorVisible,additionalInfo:this.getIconAndTextAdditionalInfoBindingExpression(),ariaLabelledBy:this.ariaLabelledBy?[this.ariaLabelledBy]:[],class:this.class})};n.getIconOnlyContent=function e(){const t=k(V(G.IsActive),N.Draft,k(G.HasDraft,k(w("DraftAdministrativeData/InProcessByUser"),N.Locked,N.Unsaved),N.Flagged));let r;if(this.usedInTable===true){r=F(V(G.IsActive),S(G.IsActive,G.HasDraft))}else{r=S(V(j(G.HasDraft)),V(H.IsEditable),G.HasDraft,V(w("DraftAdministrativeData/DraftIsCreatedByMe")))}return D(l,{type:t,press:this.onObjectMarkerPressed.bind(this),visibility:L.IconOnly,visible:r,ariaLabelledBy:this.ariaLabelledBy?[this.ariaLabelledBy]:[],class:this.class})};n.getContent=function e(){if(this.draftIndicatorType===L.IconAndText){return this.getIconAndTextContent()}else{return this.getIconOnlyContent()}};return i}(i),B=Q(O.prototype,"id",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),P=Q(O.prototype,"ariaLabelledBy",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),E=Q(O.prototype,"draftIndicatorType",[A],{configurable:true,enumerable:true,writable:true,initializer:function(){return L.IconAndText}}),C=Q(O.prototype,"entitySet",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),x=Q(O.prototype,"isDraftIndicatorVisible",[T],{configurable:true,enumerable:true,writable:true,initializer:function(){return z(false)}}),M=Q(O.prototype,"class",[_],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),R=Q(O.prototype,"usedInTable",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),O))||m);U=ee;return U},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/fcl/FlexibleColumnLayoutActions.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor"],function(e,o,t){"use strict";var n,r;var i={};var c=t.xml;var l=o.defineBuildingBlock;function s(e,o){e.prototype=Object.create(o.prototype);e.prototype.constructor=e;a(e,o)}function a(e,o){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(o,t){o.__proto__=t;return o};return a(e,o)}let p=(n=l({name:"FlexibleColumnLayoutActions",namespace:"sap.fe.macros.fcl",publicNamespace:"sap.fe.macros",returnTypes:["sap.m.OverflowToolbarButton"]}),n(r=function(e){s(o,e);function o(){return e.apply(this,arguments)||this}i=o;var t=o.prototype;t.getTemplate=function e(){return c`
            <m:OverflowToolbarButton
                id="fe::FCLStandardAction::FullScreen"
                type="Transparent"
                icon="{fclhelper>/actionButtonsInfo/switchIcon}"
                visible="{fclhelper>/actionButtonsInfo/switchVisible}"
                press="._routing.switchFullScreen()"
            />
            <m:OverflowToolbarButton
                id="fe::FCLStandardAction::Close"
                type="Transparent"
                icon="sap-icon://decline"
                tooltip="{sap.fe.i18n>C_COMMON_SAPFE_CLOSE}"
                visible="{fclhelper>/actionButtonsInfo/closeVisible}"
                press="._routing.closeColumn()"
            />`};return o}(e))||r);i=p;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldAPI", ["sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/helpers/ClassSupport","sap/ui/core/Core","sap/ui/core/message/Message","../MacroAPI"],function(e,t,i,n,r,o){"use strict";var a,l,s,u,c,d,p,f,g,b,h,y,v,m,F,P,I,A,C,w,O,M,z,L,B,E,x,j,R,S,G,D,T;var V=i.xmlEventHandler;var k=i.property;var H=i.event;var W=i.defineUI5Class;var _=i.association;var N=t.CollaborationFieldGroupPrefix;var q=t.Activity;function U(e,t,i,n){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function $(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function J(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;K(e,t)}function K(e,t){K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return K(e,t)}function Q(e,t,i,n,r){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function X(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}function Y(e){if(e.isA("sap.fe.macros.controls.FieldWrapper")){const t=e;const i=t.getEditMode()==="Display"?[t.getContentDisplay()]:t.getContentEdit();if(i.length>=1){return i.length?i[0]:undefined}}else{return e}return undefined}let Z=(a=W("sap.fe.macros.field.FieldAPI",{returnTypes:["sap.fe.core.controls.FormElementWrapper"]}),l=k({type:"boolean"}),s=k({type:"boolean"}),u=k({type:"string"}),c=k({type:"string",expectedAnnotations:[],expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty","Property"]}),d=k({type:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"]}),p=H(),f=H(),g=_({type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}),b=k({type:"boolean"}),h=k({type:"sap.fe.macros.FieldFormatOptions"}),y=k({type:"string"}),v=k({type:"boolean"}),m=k({type:"boolean"}),F=k({type:"string"}),P=V(),I=V(),a(A=(C=function(t){J(i,t);function i(){var e;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++){n[r]=arguments[r]}e=t.call(this,...n)||this;U(e,"editable",w,$(e));U(e,"readOnly",O,$(e));U(e,"id",M,$(e));U(e,"metaPath",z,$(e));U(e,"contextPath",L,$(e));U(e,"change",B,$(e));U(e,"liveChange",E,$(e));U(e,"ariaLabelledBy",x,$(e));U(e,"required",j,$(e));U(e,"formatOptions",R,$(e));U(e,"semanticObject",S,$(e));U(e,"collaborationEnabled",G,$(e));U(e,"visible",D,$(e));U(e,"mainPropertyRelativePath",T,$(e));e.focusHandlersAttached=false;return e}var o=i.prototype;o.handleChange=function e(t){this.fireChange({value:this.getValue(),isValid:t.getParameter("valid")})};o.handleLiveChange=function e(t){this.fireEvent("liveChange")};i.getAPI=function e(i){return t.getAPI.call(this,i,"sap.fe.macros.field.FieldAPI")};o.onBeforeRendering=function e(){const t=function(e){return e.isA(["sap.m.Button","sap.fe.macros.controls.FieldWrapper","sap.ui.mdc.Field","sap.fe.macros.controls.FileWrapper"])};const i=this.content;if(i&&t(i)&&i.addAriaLabelledBy){const e=this.getAriaLabelledBy();for(let t=0;t<e.length;t++){const n=e[t];const r=i.getAriaLabelledBy()||[];if(r.indexOf(n)===-1){i.addAriaLabelledBy(n)}}}};i.getLastFocusId=function e(){return i.lastFocusId};i.getLastFocusFieldGroups=function e(){return i.lastFocusFieldGroups};i.setLastFocusInformation=function e(t){i.lastFocusId=t===null||t===void 0?void 0:t.getId();i.lastFocusFieldGroups=t===null||t===void 0?void 0:t.getFieldGroupIds().join(",")};o.getCollaborationPath=function e(){const t=this.getBindingContext();if(!this.mainPropertyRelativePath||!t){return undefined}const i=this.content;if((i===null||i===void 0?void 0:i.getProperty("editMode"))!=="Editable"){return undefined}return`${t.getPath()}/${this.mainPropertyRelativePath}`};o.sendFocusInMessage=function t(){const i=this.getCollaborationPath();if(i){e.send(this,{action:q.Lock,content:i})}};o.sendFocusOutMessage=function t(){const i=this.getCollaborationPath();if(i){e.send(this,{action:q.Unlock,content:i})}};o.handleContentFocusIn=function e(t){var r;if(!((r=this.getDomRef())!==null&&r!==void 0&&r.contains(t.relatedTarget))){if(i.getLastFocusId()!=this.getId()&&i.getLastFocusFieldGroups()===this.getFieldGroupIds().join(",")){const e=n.byId(i.getLastFocusId());e===null||e===void 0?void 0:e.sendFocusOutMessage()}i.setLastFocusInformation(this);this.sendFocusInMessage()}};o.handleContentFocusOut=function e(t){const r=t.getParameter("fieldGroupIds");if(r.some(e=>e.startsWith(N))){const e=t.getSource();let r=n.byId(n.getCurrentFocusedControlId());while(r&&r!==e){r=r.getParent()}if(r!==e){this.sendFocusOutMessage();if(i.getLastFocusId()===this.getId()){i.setLastFocusInformation(undefined)}}}};o.onAfterRendering=function e(){if(this.collaborationEnabled&&!this.focusHandlersAttached){var t,i;(t=this.content)===null||t===void 0?void 0:t.addEventDelegate({onfocusin:this.handleContentFocusIn},this);(i=this.content)===null||i===void 0?void 0:i.attachValidateFieldGroup(this.handleContentFocusOut,this);this.focusHandlersAttached=true}};o.enhanceAccessibilityState=function e(t,i){const n=this.getParent();if(n&&n.enhanceAccessibilityState){n.enhanceAccessibilityState(t,i)}return i};o.getAccessibilityInfo=function e(){const t=this.content;return t&&t.getAccessibilityInfo?t.getAccessibilityInfo():{}};o.getIdForLabel=function e(){const t=this.content;return t.getIdForLabel()};o.getValue=function e(){var t,i,n,r;let o=Y(this.content);if(this.collaborationEnabled&&(t=o)!==null&&t!==void 0&&t.isA("sap.m.HBox")){o=o.getItems()[0]}if((i=o)!==null&&i!==void 0&&i.isA("sap.m.CheckBox")){return o.getSelected()}else if((n=o)!==null&&n!==void 0&&n.isA("sap.m.InputBase")){return o.getValue()}else if((r=o)!==null&&r!==void 0&&r.isA("sap.ui.mdc.Field")){return o.getValue()}else{throw"getting value not yet implemented for this field type"}};o.addMessage=function e(t){const i=this.getMessageManager();const n=Y(this.content);let o;if(n!==null&&n!==void 0&&n.isA("sap.m.CheckBox")){var a;o=(a=n.getBinding("selected"))===null||a===void 0?void 0:a.getResolvedPath()}else if(n!==null&&n!==void 0&&n.isA("sap.m.InputBase")){var l;o=(l=n.getBinding("value"))===null||l===void 0?void 0:l.getResolvedPath()}else if(n!==null&&n!==void 0&&n.isA("sap.ui.mdc.Field")){o=n.getBinding("value").getResolvedPath()}const s=new r({target:o,type:t.type,message:t.message,processor:n===null||n===void 0?void 0:n.getModel(),description:t.description,persistent:t.persistent});i.addMessages(s);return s.getId()};o.removeMessage=function e(t){const i=this.getMessageManager();const n=i.getMessageModel().getData();const r=n.find(e=>e.id===t);if(r){i.removeMessages(r)}};o.getMessageManager=function e(){return n.getMessageManager()};return i}(o),w=Q(C.prototype,"editable",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),O=Q(C.prototype,"readOnly",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),M=Q(C.prototype,"id",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),z=Q(C.prototype,"metaPath",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),L=Q(C.prototype,"contextPath",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),B=Q(C.prototype,"change",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),E=Q(C.prototype,"liveChange",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),x=Q(C.prototype,"ariaLabelledBy",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),j=Q(C.prototype,"required",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),R=Q(C.prototype,"formatOptions",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),S=Q(C.prototype,"semanticObject",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),G=Q(C.prototype,"collaborationEnabled",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),D=Q(C.prototype,"visible",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),T=Q(C.prototype,"mainPropertyRelativePath",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),Q(C.prototype,"handleChange",[P],Object.getOwnPropertyDescriptor(C.prototype,"handleChange"),C.prototype),Q(C.prototype,"handleLiveChange",[I],Object.getOwnPropertyDescriptor(C.prototype,"handleLiveChange"),C.prototype),C))||A);return Z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldBaseDelegate", ["sap/base/Log","sap/fe/core/CommonUtils","sap/ui/mdc/field/FieldBaseDelegate","sap/ui/mdc/odata/v4/TypeMap","sap/ui/model/Filter"],function(e,t,n,o,i){"use strict";return Object.assign({},n,{apiVersion:2,initializeTypeFromBinding:function(e,t,n){const o={};if(t&&t.isA(["sap.ui.model.odata.type.Unit","sap.ui.model.odata.type.Currency"])&&Array.isArray(n)&&n.length>2&&n[2]!==undefined){t.formatValue(n,"string");o.bTypeInitialized=true;o.mCustomUnits=n[2]}return o},initializeInternalUnitType:function(e,t,n){if((n===null||n===void 0?void 0:n.mCustomUnits)!==undefined){t.formatValue([null,null,n.mCustomUnits],"string")}},enhanceValueForUnit:function(e,t,n){if((n===null||n===void 0?void 0:n.bTypeInitialized)===true&&t.length===2){t.push(n.mCustomUnits);return t}return undefined},getDefaultValueHelpDelegate:function(e){return{name:"sap/ui/mdc/odata/v4/ValueHelpDelegate",payload:{}}},getTypeMap:function(e){return o},_getValueListParameter:function(e,t){return e.Parameters.filter(function(e){if(e.LocalDataProperty){return e.LocalDataProperty.$PropertyPath===t}else{return false}})},_getFilter:function(e,t,n,o,a,r,l){const u=[];const s=e.Parameters.filter(function(e){var o;return e.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterIn"||e.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||((o=e.LocalDataProperty)===null||o===void 0?void 0:o.$PropertyPath)===t&&e.ValueListProperty===n});for(const e of s){var d;let n;if(((d=e.LocalDataProperty)===null||d===void 0?void 0:d.$PropertyPath)===t){n=o}else if((a===null||a===void 0?void 0:a.isActionParameterDialog)===true){var c;const t=`APD_::${(c=e.LocalDataProperty)===null||c===void 0?void 0:c.$PropertyPath}`;const o=sap.ui.getCore().byId(t);n=o===null||o===void 0?void 0:o.getValue()}else if(r!==undefined){var f;const t=(f=e.LocalDataProperty)===null||f===void 0?void 0:f.$PropertyPath;const o=r===null||r===void 0?void 0:r[0];n=t&&(o===null||o===void 0?void 0:o[t])}else if(l!==undefined){var p;const t=(p=e.LocalDataProperty)===null||p===void 0?void 0:p.$PropertyPath;n=l.getObject(t)}if(n!==null&&n!==undefined){u.push(new i({path:e.ValueListProperty,operator:"EQ",value1:n}))}}return u},getItemForValue:function(e,t,o){if(o.value===""){return}if(o.checkDescription){const e=t.getPayload();const n=e.valueHelpDescriptionPath;const i=e===null||e===void 0?void 0:e.maxLength;const a=o.value!==null&&o.value!==undefined?o.value.toString().length:0;if(n===""){o.checkDescription=false}else if(i!==undefined&&a>i){return}}return n.getItemForValue(e,t,o)},getDescription:async function(n,o,i,a,r,l,u,s,d,c,f){var p,v;let g=n===null||n===void 0?void 0:n.getPayload();if(!g&&c!==null&&c!==void 0&&c.getDisplay().includes("Description")){g={retrieveTextFromValueList:true}}if(((p=g)===null||p===void 0?void 0:p.retrieveTextFromValueList)===true||((v=g)===null||v===void 0?void 0:v.isFilterField)===true){const n=o.getModel();const a=n?n.getMetaModel():t.getAppComponent(o).getModel().getMetaModel();const r=o.getPayload();const u=d===null||d===void 0?void 0:d[r.valueHelpQualifier];const s=r.propertyPath;const c=r===null||r===void 0?void 0:r.propertyDescriptionPath;let f;try{var m;const n=await a.requestValueListInfo(s,true,l);const d=a.getObject(`${s}@sapui.name`);const p=n[Object.keys(n)[0]];const v=this._getValueListParameter(p,d);const g=v===null||v===void 0?void 0:(m=v[0])===null||m===void 0?void 0:m.ValueListProperty;if(!g){throw Error(`Inconsistent value help annotation for ${d}`)}const y=p.$model;const P=y.getMetaModel().getObject(`/${p.CollectionPath}/${g}@com.sap.vocabularies.Common.v1.Text`);if(P&&P.$Path){f=P.$Path;const e=this._getFilter(p,d,g,i,r,u,l);const t=y.bindList(`/${p.CollectionPath}`,undefined,undefined,e,{$select:f});const n=await t.requestContexts(0,2);return n.length?n[0].getObject(f):undefined}else if(l!==undefined&&c){const n=c.lastIndexOf("/");const i=n>0?c.substring(0,n):c;const a=t.getAppComponent(o).getSideEffectsService();await a.requestSideEffects([i],l);e.warning(`RequestSideEffects is triggered because the text annotation for ${g} is not defined at the CollectionPath of the value help`);return undefined}else{e.error(`Text Annotation for ${g} is not defined`);return undefined}}catch(t){const n=t?t.status:undefined;const o=t instanceof Error?t.message:String(t);const i=n===404?`Metadata not found (${n}) for value help of property ${s}`:o;e.error(i)}}return undefined}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldHelper", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/CommonHelper","sap/fe/macros/internal/valuehelp/ValueListHelper","sap/ui/base/ManagedObject","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,n,a,i,r,o,s,l,c,u,f,m){"use strict";var p=l.getAlignmentExpression;var g=s.isRequiredExpression;var d=o.generate;var v=i.or;var b=i.ifElse;var y=i.equal;var P=i.constant;var $=i.compileExpression;var h=a.UI;var O=n.KeyHelper;const T="@Org.OData.Measures.V1.ISOCurrency",F="@Org.OData.Measures.V1.Unit";const D={isNotAlwaysHidden:function(e,t){const n=t.context;let a=false;if(e.Value&&e.Value.$Path){a=n.getObject("Value/$Path@com.sap.vocabularies.UI.v1.Hidden")}if(!a||a.$Path){a=n.getObject("@com.sap.vocabularies.UI.v1.Hidden");if(!a||a.$Path){a=false}}return!a},isRequired:function(e,t){if(t==="Display"||t==="ReadOnly"||t==="Disabled"){return false}if(e){if(f.bindingParser(e)){return"{= %"+e+" === 7}"}else{return e=="com.sap.vocabularies.Common.v1.FieldControlType/Mandatory"}}return false},getActionParameterVisibility:function(e,t){if(typeof e==="object"){if(e&&e.$If&&e.$If.length===3){const n={$If:[]};n.$If[0]=e.$If[0];n.$If[1]=e.$If[2];n.$If[2]=e.$If[1];return m.value(n,t)}else{return"{= !%{"+e.$Path+"} }"}}else if(typeof e==="boolean"){return m.value(!e,t)}else{return undefined}},propertyName:function(e,t){let n;if(typeof e==="string"){if(t.context.getPath().indexOf("$Path")>-1||t.context.getPath().indexOf("$PropertyPath")>-1){n=e}}else if(e.$Path||e.$PropertyPath){const a=e.$Path?"/$Path":"/$PropertyPath";const i=t.context.getPath();n=t.context.getObject(`${i+a}/$@sapui.name`)}else if(e.Value&&e.Value.$Path){n=e.Value.$Path}else{n=t.context.getObject("@sapui.name")}return n},fieldControl:function(e,t){const n=t&&t.context.getModel();const a=t&&t.context.getPath();const i=n&&n.createBindingContext(`${a}@com.sap.vocabularies.Common.v1.FieldControl`);const r=i&&i.getProperty();if(r){if(r.hasOwnProperty("$EnumMember")){return r.$EnumMember}else if(r.hasOwnProperty("$Path")){return m.value(r,{context:i})}}else{return undefined}},valueHelpProperty:function(e,t){const n=e.getPath();const a=e.getObject()||{};let i=a.$Path?`${n}/$Path`:n;const r=`${i}@`;const o=e.getObject(r);let s;if(o){s=o.hasOwnProperty(T)&&T||o.hasOwnProperty(F)&&F;if(s&&!t){const t=`${i+s}/$Path`;if(e.getObject(t)){i=t}}}return i},valueHelpPropertyForFilterField:function(e){return D.valueHelpProperty(e,true)},getIDForFieldValueHelp:function(e,t,n,a){if(e){return e}let i=a;if(n!==a){i=`${n}::${a}`}return d([t,i])},getValueHelpPropertyForFilterField:function(e,n,a,i,r,o,s,l){const u=D.propertyName(n,{context:e}),f=l==="true"||l===true;const m=e.getModel(),p=e.getPath(),g=c.getLocationForPropertyPath(m,p),d=t.getFilterRestrictionsByPath(g,m);if((a==="Edm.DateTimeOffset"||a==="Edm.Date")&&f&&d&&d.FilterAllowedExpressions&&d.FilterAllowedExpressions[u]&&(d.FilterAllowedExpressions[u].includes("SingleRange")||d.FilterAllowedExpressions[u].includes("SingleValue"))||a==="Edm.Boolean"&&!s){return undefined}return D.getIDForFieldValueHelp(null,i||"FilterFieldValueHelp",r,o)},computeFieldBaseDelegate:function(e,t){if(t){return JSON.stringify({name:e,payload:{retrieveTextFromValueList:t}})}return`{name: '${e}'}`},_getPrimaryIntents:function(t){const n=[];if(t){const e=sap.ushell&&sap.ushell.Container;const a=e&&e.getService("CrossApplicationNavigation");t.forEach(function(e){if(typeof e==="string"){n.push(a.getPrimaryIntent(e,{}))}})}return Promise.all(n).then(function(e){return e}).catch(function(t){e.error("Error fetching primary intents",t);return[]})},_checkIfSemanticObjectsHasPrimaryAction:function(e,t,n){const a=function(e,t,n){for(const a in e.semanticObjectUnavailableActions[n].actions){if(t.intent.split("-")[1].indexOf(e.semanticObjectUnavailableActions[n].actions[a])===0){return false}}return true};e.semanticPrimaryActions=t;const i=e.semanticObjects&&e.mainSemanticObject&&e.semanticPrimaryActions[e.semanticObjects.indexOf(e.mainSemanticObject)];const r=n.getShellServices().getHash();if(e.mainSemanticObject&&!!i&&i.intent!==r){for(const t in e.semanticObjectUnavailableActions){if(e.mainSemanticObject.indexOf(e.semanticObjectUnavailableActions[t].semanticObject)===0){return a(e,i,t)}}return true}else{return false}},checkPrimaryActions:function(t,n,a){return this._getPrimaryIntents(t&&t.semanticObjects).then(e=>n?{titleLink:e,hasTitleLink:this._checkIfSemanticObjectsHasPrimaryAction(t,e,a),payload:t}:this._checkIfSemanticObjectsHasPrimaryAction(t,e,a)).catch(function(t){e.error("Error in checkPrimaryActions",t)})},_getTitleLinkWithParameters:function(e,t){if(e&&e.titlelink){return e.titlelink}else{return t}},getPrimaryAction:function(e){return e.semanticPrimaryActions[e.semanticObjects.indexOf(e.mainSemanticObject)].intent?D._getTitleLinkWithParameters(e,e.semanticPrimaryActions[e.semanticObjects.indexOf(e.mainSemanticObject)].intent):e.primaryIntentAction},operators:function(e,n,a,i,o){if(!n||!o){return undefined}let s;const l=D.propertyName(n,{context:e});const u=e.getModel(),f=e.getPath(),m=c.getLocationForPropertyPath(u,f),p=n.$Type;if(p==="Edm.Guid"){return t.getOperatorsForGuidProperty()}o=o.slice(0,-1);const g=o.lastIndexOf("/")>0;const d=g&&o!==m||!g&&m.lastIndexOf("/")>0;const v=d&&m.substr(m.indexOf(o)+o.length+1)||"";const b=d&&v+"/"+l||l;if(!g){if(!d){s=t.getOperatorsForProperty(l,m,u,p,a,i)}else{s=t.getOperatorsForProperty(b,o,u,p,a,i);if(s.length===0){s=t.getOperatorsForProperty(l,m,u,p,a,i)}}}else if(!d){var y;s=t.getOperatorsForProperty(b,o,u,p,a,i);if(s.length===0){s=t.getOperatorsForProperty(l,r.getEntitySetPath(o),u,p,a,i)}return((y=s)===null||y===void 0?void 0:y.length)>0?s.toString():undefined}else{s=t.getOperatorsForProperty(b,o,u,p,a,i);if(s.length===0){s=t.getOperatorsForProperty(b,r.getEntitySetPath(o),u,p,a,i)}}if((!s||s.length===0)&&(p==="Edm.Date"||p==="Edm.DateTimeOffset")){s=t.getOperatorsForDateProperty(p)}return s.length>0?s.toString():undefined},getDataFieldDefault:function(e){const t=e.getModel().getObject(`${e.getPath()}@com.sap.vocabularies.UI.v1.DataFieldDefault`);return t?`${e.getPath()}@com.sap.vocabularies.UI.v1.DataFieldDefault`:e.getPath()},isDataFieldActionButtonVisible:function(e,t,n,a){return t["@com.sap.vocabularies.UI.v1.Hidden"]!==true&&(n!==true||a!==false)},getPressEventForDataFieldActionButton:function(e,t){var n;let a="Isolated";if(t.InvocationGrouping&&t.InvocationGrouping.$EnumMember==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"){a="ChangeSet"}let i=e.navigateAfterAction;i=i==="false"?false:true;const r=e===null||e===void 0?void 0:(n=e.entitySet)===null||n===void 0?void 0:n.getPath().split("/");const o=r[r.length-1];const s={contexts:"${$source>/}.getBindingContext()",invocationGrouping:c.addSingleQuotes(a),model:"${$source>/}.getModel()",label:c.addSingleQuotes(t.Label,true),isNavigable:i,entitySetName:c.addSingleQuotes(o)};return c.generateFunction(".editFlow.invokeAction",c.addSingleQuotes(t.Action),c.objectToString(s))},isNumericDataType:function(e){const t=e;if(t!==undefined){const e=["Edm.Int16","Edm.Int32","Edm.Int64","Edm.Byte","Edm.SByte","Edm.Single","Edm.Decimal","Edm.Double"];return!e.includes(t)?false:true}else{return false}},isDateOrTimeDataType:function(e){if(e!==undefined){const t=["Edm.DateTimeOffset","Edm.DateTime","Edm.Date","Edm.TimeOfDay","Edm.Time"];return t.includes(e)}else{return false}},isDateTimeDataType:function(e){if(e!==undefined){const t=["Edm.DateTimeOffset","Edm.DateTime"];return t.includes(e)}else{return false}},isDateDataType:function(e){return e==="Edm.Date"},isTimeDataType:function(e){if(e!==undefined){const t=["Edm.TimeOfDay","Edm.Time"];return t.includes(e)}else{return false}},getDataTypeForVisualization:function(e,t){var n,a;const i="@com.sap.vocabularies.Common.v1.Text",r="@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement";return(e===null||e===void 0?void 0:(n=e[r])===null||n===void 0?void 0:n.$EnumMember)!=="com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate"&&e!==null&&e!==void 0&&(a=e[i])!==null&&a!==void 0&&a.$Path?"Edm.String":t},getColumnAlignment:function(e,t){const n=t.collection.sPath,a=t.collection.oModel;if((e["$Type"]==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e["$Type"]==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&e.Inline&&e.IconUrl){return"Center"}const i=a.getObject(`${n}/@com.sap.vocabularies.Common.v1.SemanticKey`);if(e["$Type"]==="com.sap.vocabularies.UI.v1.DataField"){const t=e.Value.$Path;const n=i&&!i.every(function(e){return e.$PropertyPath!==t});if(n){return"Begin"}}return D.getDataFieldAlignment(e,a,n)},getPropertyAlignment:function(e,t,n){let a="Begin";const i=t?t.textAlignMode:"";switch(i){case"Form":if(this.isNumericDataType(e)){a="Begin";if(n){a=p(n,"Begin","End")}}break;default:if(this.isNumericDataType(e)||this.isDateOrTimeDataType(e)){a="Right"}break}return a},getDataFieldAlignment:function(e,t,n,a,i){let r,o="Begin",s,l;if(e["$Type"]==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){r=e.Target.$AnnotationPath;if(e.Target["$AnnotationPath"]&&e.Target["$AnnotationPath"].indexOf("com.sap.vocabularies.UI.v1.FieldGroup")>=0){const e=t.getObject(`${n}/${r}`);for(let c=0;c<e.Data.length;c++){s=t.getObject(`${n}/${r}/Data/${c.toString()}/Value/$Path/$Type`);l=t.getObject(`${n}/${r}/Data/${c.toString()}/Value/$Path@`);s=this.getDataTypeForVisualization(l,s);o=this.getPropertyAlignment(s,a,i);if(o==="Begin"){break}}return o}else if(e.Target["$AnnotationPath"]&&e.Target["$AnnotationPath"].indexOf("com.sap.vocabularies.UI.v1.DataPoint")>=0&&t.getObject(`${n}/${r}/Visualization/$EnumMember`)==="com.sap.vocabularies.UI.v1.VisualizationType/Rating"){return o}else{s=t.getObject(`${n}/${r}/$Type`);if(s==="com.sap.vocabularies.UI.v1.DataPointType"){s=t.getObject(`${n}/${r}/Value/$Path/$Type`);l=t.getObject(`${n}/${r}/Value/$Path@`);s=this.getDataTypeForVisualization(l,s)}o=this.getPropertyAlignment(s,a,i)}}else{r=e.Value.$Path;s=t.getObject(`${n}/${r}/$Type`);l=t.getObject(`${n}/${r}@`);s=this.getDataTypeForVisualization(l,s);if(!(t.getObject(`${n}/`)["$Key"].indexOf(r)===0)){o=this.getPropertyAlignment(s,a,i)}}return o},isDataFieldActionButtonEnabled:function(e,t,n,a){if(t!==true){return"true"}return(n===null?"{= !${#"+e.Action+"} ? false : true }":n)?a:"true"},computeLabelText:function(e,t){const n=t.context.getModel();let a=t.context.getPath();if(a.endsWith("/")){a=a.slice(0,a.lastIndexOf("/"))}const i=n.getObject(`${a}/Label`);if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){return undefined}if(i){return i}else if(i===""){return""}let r;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(e.Target.$AnnotationPath.indexOf("@com.sap.vocabularies.UI.v1.DataPoint")>-1||e.Target.$AnnotationPath.indexOf("@com.sap.vocabularies.UI.v1.Chart")>-1){r=n.getObject(`${a}/Target/$AnnotationPath@/Title`)}if(e.Target.$AnnotationPath.indexOf("@com.sap.vocabularies.Communication.v1.Contact")>-1){r=n.getObject(`${a}/Target/$AnnotationPath@/fn/$Path@com.sap.vocabularies.Common.v1.Label`)}}if(r){return r}let o;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){o=n.getObject(`${a}/Target/$AnnotationPath@/Label`)}if(o){return o}const s=n.getObject(`${a}/Value/$Path@com.sap.vocabularies.Common.v1.Label`);if(s){return s}let l;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){l=n.getObject(`${a}/Target/$AnnotationPath/Value/$Path@com.sap.vocabularies.Common.v1.Label`)}if(l){return l}return""},buildExpressionForAlignItems:function(e){const t=P(e);const n=P("com.sap.vocabularies.UI.v1.VisualizationType/Progress");const a=P("com.sap.vocabularies.UI.v1.VisualizationType/Rating");return $(b(v(y(t,n),y(t,a)),P("Center"),b(h.IsEditable,P("Center"),P("Stretch"))))},hasValueHelpAnnotation:function(e){if(e){return!!(e["@com.sap.vocabularies.Common.v1.ValueListReferences"]||e["@com.sap.vocabularies.Common.v1.ValueListMapping"]||e["@com.sap.vocabularies.Common.v1.ValueList"])}return false},getAPDialogDisplayFormat:function(e,n){let a;const i=n.context.getModel();const r=n.context.getPath();const o=e.$Name||n.context.getProperty(`${r}@sapui.name`);const s=i.getObject(`${r}@`);const l=s["@com.sap.vocabularies.Common.v1.ValueList"]||s["@com.sap.vocabularies.Common.v1.ValueListMapping"]||s["@com.sap.vocabularies.Common.v1.ValueListReferences"];const c=function(e){const t=e.Parameters.find(function(e){return e.LocalDataProperty&&e.LocalDataProperty.$PropertyPath===o});return t&&t.ValueListProperty};let u;if(s["@com.sap.vocabularies.Common.v1.TextArrangement"]||s["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]){return t.computeDisplayMode(s,undefined)}else if(l){if(l.CollectionPath){u=c(l);if(!u){return"Value"}a=i.getObject(`/${l.CollectionPath}/${u}@`);return a&&a["@com.sap.vocabularies.Common.v1.Text"]?t.computeDisplayMode(a,undefined):"Value"}else{return i.requestValueListInfo(r,true).then(function(e){u=c(e[""]);if(!u){return"Value"}a=e[""].$model.getMetaModel().getObject(`/${e[""]["CollectionPath"]}/${u}@`);return a&&a["@com.sap.vocabularies.Common.v1.Text"]?t.computeDisplayMode(a,undefined):"Value"})}}else{return"Value"}},getActionParameterDialogValueHelp:function(e,t,n){return this.hasValueHelpAnnotation(e)?d([t,n]):undefined},getValueHelpDelegate:function(e,t,n,a){const i={name:c.addSingleQuotes("sap/fe/macros/valuehelp/ValueHelpDelegate"),payload:{propertyPath:c.addSingleQuotes(u.getPropertyPath({UnboundAction:!e,EntityTypePath:t,Action:n,Property:a})),qualifiers:{},valueHelpQualifier:c.addSingleQuotes(""),isActionParameterDialog:true}};return c.objectToString(i)},getValueHelpDelegateForNonComputedVisibleKeyField:function(e){const t={name:c.addSingleQuotes("sap/fe/macros/valuehelp/ValueHelpDelegate"),payload:{propertyPath:c.addSingleQuotes(e),qualifiers:{},valueHelpQualifier:c.addSingleQuotes("")}};return c.objectToString(t)},_getEntitySetFromMultiLevel:function(e,t,n,a,i){let r=t.split("/").filter(Boolean);r=r.filter(function(e){return e!=="$NavigationPropertyBinding"});if(r.length>0){for(let t=a;t<r.length-i;t++){n=`/${e.getObject(`${n}/$NavigationPropertyBinding/${r[t]}`)}`}}return n},getBindingInfoForTextArrangement:function(e,t,n){if(t&&t.$EnumMember&&t.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"&&n){return`{${n.Value.$Path}}`}return undefined},getPathForIconSource:function(e){return"{= FIELDRUNTIME.getIconForMimeType(%{"+e+"@odata.mediaContentType})}"},getFilenameExpr:function(e,t){if(e){if(e.indexOf("{")===0){return"{= $"+e+" ? $"+e+" : $"+t+"}"}return e}return t},calculateMBfromByte:function(e){return e?(e/(1024*1024)).toFixed(6):undefined},getDownloadUrl:function(e){return e+"{= ${internal>/stickySessionToken} ? ('?SAP-ContextId=' + ${internal>/stickySessionToken}) : '' }"},getMarginClass:function(e){return e==="true"||e===true?"sapMTableContentMargin":undefined},getRequired:function(e,t,n){let a=P(false);if(t!==null){a=g(t===null||t===void 0?void 0:t.targetObject)}return $(v(a,n.indexOf(e)>-1))},isFieldPartOfForm:function(e,t){const n=O.generateKeyFromDataField(t.targetObject);const a=e.find(e=>e.key===n);return a?true:false}};D.fieldControl.requiresIContext=true;D.getAPDialogDisplayFormat.requiresIContext=true;D.computeLabelText.requiresIContext=true;D.getActionParameterVisibility.requiresIContext=true;return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldRuntime", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/CommonHelper","sap/fe/macros/controls/FieldWrapper","sap/fe/macros/field/FieldAPI","sap/m/IllustratedMessage","sap/m/IllustratedMessageType","sap/m/Label","sap/m/library","sap/m/MessageBox","sap/m/ResponsivePopover","sap/ui/core/Core","sap/ui/core/IconPool","sap/ui/Device","sap/ui/model/Filter","sap/ui/unified/FileUploaderParameter","sap/ui/util/openWindow"],function(e,t,n,o,i,a,r,s,l,c,d,g,u,f,p,m,h,v,C,S,P,E,_){"use strict";var T=s.getResourceModel;var F=o.getActivityKeyFromPath;var y=o.Activity;function A(e){let n=e.getBindingContext().getBinding();if(!n.isA("sap.ui.model.odata.v4.ODataListBinding")){const o=t.getTargetView(e);n=o.getBindingContext().getBinding()}return n}const O={uploadPromises:undefined,creatingInactiveRow:false,onDataFieldWithNavigationPath:function(n,o,a){if(o._routing){let e=n.getBindingContext();const s=t.getTargetView(n),l=e.getModel().getMetaModel(),c=function(t){if(t){e=t}o._routing.navigateToTarget(e,a,true)};if(s.getViewData().converterType==="ObjectPage"&&!r.isStickySessionSupported(l)){i.processDataLossOrDraftDiscardConfirmation(c,Function.prototype,e,s.getController(),true,i.NavigationType.ForwardNavigation)}else{c()}}else{e.error("FieldRuntime: No routing listener controller extension found. Internal navigation aborted.","sap.fe.macros.field.FieldRuntime","onDataFieldWithNavigationPath")}},isDraftIndicatorVisible:function(e,t,n,o,i){if(o!==undefined&&n!==undefined&&(!o||n)&&!i){return e===t}else{return false}},onValidateFieldGroup:function(e,t){const n=O._getExtensionController(e);n._sideEffects.handleFieldGroupChange(t)},_fetchRecommendations:function(e,n){const o=t.getTargetView(e);const i=e.getBindingContext();let a;const r=i===null||i===void 0?void 0:i.getBinding();if(r.isA("sap.ui.model.odata.v4.ODataListBinding")){a=i}else{a=o.getBindingContext()}const s=O._getExtensionController(n);s.recommendations.fetchAndApplyRecommendationsOnFieldChange(e,[a])},handleChange:function(t,o){const i=o.getSource(),a=i&&i.getBindingContext().isTransient(),r=o.getParameter("promise")||Promise.resolve(),s=o.getSource(),l=o.getParameter("valid"),c=this.getFieldStateOnChange(o).state["validity"],g=o.getSource();const u=O._getExtensionController(t);r.then(function(){o.oSource=s;o.mParameters={valid:l};d.handleChange(o,t);u._sideEffects.handleFieldChange(o,c,r);O._fetchRecommendations(g,t);return}).catch(function(){o.oSource=s;o.mParameters={valid:false};u._sideEffects.prepareSideEffectsForField(o,c,r);e.debug("Prerequisites on Field for the SideEffects and Recommendations have been rejected");d.handleChange(o,t)});u.editFlow.syncTask(r);if(a){return}const f=n.isConnected(g);if(f&&c){var p,m;const e=A(g);const t=[...((p=g.getBindingInfo("value")||g.getBindingInfo("selected"))===null||p===void 0?void 0:p.parts)||[],...((m=g.getBindingInfo("additionalValue"))===null||m===void 0?void 0:m.parts)||[]].filter(e=>(e===null||e===void 0?void 0:e.path)!==undefined&&e.path.indexOf("@@")<0).map(function(e){var t;return`${(t=g.getBindingContext())===null||t===void 0?void 0:t.getPath()}/${e.path}`});n.retainAsyncMessages(g,t);const o=()=>{if(e.hasPendingChanges()){e.attachEventOnce("patchCompleted",function(){n.send(g,{action:y.Change,content:t});n.releaseAsyncMessages(g,t)})}else{n.releaseAsyncMessages(g,t)}};if(i.isA("sap.ui.mdc.Field")){r.then(()=>{o();return}).catch(()=>{o()})}else{o()}}},handleLiveChange:function(e){d.handleLiveChange(e)},_sendCollaborationMessageForFileUploader(e,t){if(n.isConnected(e)){var o,i;const a=(o=e.getParent())===null||o===void 0?void 0:o.getProperty("propertyPath");const r=`${(i=e.getBindingContext())===null||i===void 0?void 0:i.getPath()}/${a}`;n.send(e,{action:t,content:r})}},handleOpenUploader:function(e){const t=e.getSource();O._sendCollaborationMessageForFileUploader(t,y.Lock)},handleCloseUploader:function(e){const t=e.getSource();O._sendCollaborationMessageForFileUploader(t,y.Unlock)},getFieldStateOnChange:function(e){let t=e.getSource(),n={};const o=function(e){return e&&e.getDataState()?e.getDataState().getInvalidValue()===undefined:true};if(t.isA("sap.fe.macros.field.FieldAPI")){t=t.getContent()}if(t.isA(c.getMetadata().getName())&&t.getEditMode()==="Editable"){t=t.getContentEdit()[0]}if(t.isA("sap.ui.mdc.Field")){let i=e.getParameter("valid")||e.getParameter("isValid");if(i===undefined){if(t.getMaxConditions()===1){const e=t.getBindingInfo("value");i=o(e&&e.binding)}if(t.getValue()===""&&!t.getProperty("required")){i=true}}n={fieldValue:t.getValue(),validity:!!i}}else{const e=t.getBinding("uploadUrl")||t.getBinding("value")||t.getBinding("selected");n={fieldValue:e&&e.getValue(),validity:o(e)}}return{field:t,state:n}},_fnFixHashQueryString:function(e){if(e&&e.indexOf("?")!==-1){e=e.split("?")[0]}return e},_fnGetLinkInformation:function(e,n,o,i,a){const r=n&&n.getModel();const s=r&&r.getMetaModel();const l=i||e&&e.getValue();const c=n&&t.getTargetView(n);const d=c&&c.getBindingContext("internal");const g=c&&t.getAppComponent(c);const u=g&&g.getShellServices();const f=u&&u.getLinksWithCache([[{semanticObject:l}]]);const p=s&&s.getObject(`${o}@com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions`);return{SemanticObjectName:l,SemanticObjectFullPath:o,MetaModel:s,InternalModelContext:d,ShellServiceHelper:u,GetLinksPromise:f,SemanticObjectUnavailableActions:p,fnSetActive:a}},_fnQuickViewHasNewCondition:function(e,t){if(e&&e.path&&e.path===t.SemanticObjectFullPath){const n=e[!t.SemanticObjectUnavailableActions?"HasTargetsNotFiltered":"HasTargets"];t.fnSetActive(!!n);return true}else{return false}},_fnQuickViewSetNewConditionForConditionalWrapper:function(e,t){if(t[e.SemanticObjectName]){let n,o;const i=Object.keys(t[e.SemanticObjectName]);for(const a in i){n=i[a];o=t[e.SemanticObjectName]&&t[e.SemanticObjectName][n];if(O._fnQuickViewHasNewCondition(o,e)){break}}}},_fnUpdateSemanticObjectsTargetModel:function(n,o,i,a){const r=n&&n.getSource();let s;if(i.isA("sap.m.ObjectStatus")){s=e=>i.setActive(e)}if(i.isA("sap.m.ObjectIdentifier")){s=e=>i.setTitleActive(e)}const l=i&&i.getParent();if(l&&l.isA("sap.fe.macros.controls.ConditionalWrapper")){s=e=>l.setCondition(e)}if(s!==undefined){const n=O._fnGetLinkInformation(r,i,a,o,s);n.fnSetActive=s;const l=O._fnFixHashQueryString(t.getAppComponent(i).getShellServices().getHash());t.updateSemanticTargets([n.GetLinksPromise],[{semanticObject:n.SemanticObjectName,path:n.SemanticObjectFullPath}],n.InternalModelContext,l).then(function(e){if(e){O._fnQuickViewSetNewConditionForConditionalWrapper(n,e)}return}).catch(function(t){e.error("Cannot update Semantic Targets model",t)})}},_checkControlHasModelAndBindingContext(e){if(!e.getModel()||!e.getBindingContext()){return false}else{return true}},_checkCustomDataValueBeforeUpdatingSemanticObjectModel(e,t,n){let o;let i;const a=function(e){return!(e!==null&&typeof e==="object")};n=n.filter(e=>e.getKey()!=="sap-ui-custom-settings");for(const r in n){o=n[r].getValue();if(!o&&a(o)){i=n[r].getBinding("value");if(i){i.attachEventOnce("change",function(n){O._fnUpdateSemanticObjectsTargetModel(n,null,e,t)})}}else if(a(o)){O._fnUpdateSemanticObjectsTargetModel(null,o,e,t)}}},LinkModelContextChange:function(e,t,n){const o=e.getSource();if(O._checkControlHasModelAndBindingContext(o)){const e=`${n}/${t}`;const i=o.getDependents().length?o.getDependents()[0]:undefined;const a=i===null||i===void 0?void 0:i.getCustomData();if(a&&a.length>0){O._checkCustomDataValueBeforeUpdatingSemanticObjectModel(o,e,a)}}},openExternalLink:function(e){const t=e.getSource();if(t.data("url")&&t.getProperty("text")!==""){_(t.data("url"),"_self")}},createPopoverWithNoTargets:function(e){const t=e.getId();const n={title:T(e).getText("M_ILLUSTRATEDMESSAGE_TITLE"),description:T(e).getText("M_ILLUSTRATEDMESSAGE_DESCRIPTION"),enableFormattedText:true,illustrationSize:"Dot",illustrationType:u.Tent};const o=new g(`${t}-illustratedmessage`,n);const i={horizontalScrolling:false,showHeader:S.system.phone,placement:p.PlacementType.Auto,content:[o],afterClose:function(e){if(e.getSource()){e.getSource().destroy()}}};return new h(`${t}-popover`,i)},openLink:async function(n,o){try{const i=await n.getTriggerHref();if(!i){try{const e=await n.retrieveLinkItems();if((e===null||e===void 0?void 0:e.length)===0&&n.getPayload().hasQuickViewFacets==="false"){const e=O.createPopoverWithNoTargets(n);n.addDependent(e);e.openBy(o)}else{await n.open(o)}}catch(t){e.error(`Cannot retrieve the QuickView Popover dialog: ${t}`)}}else{const n=t.getTargetView(o);const r=t.getAppComponent(n);const s=r.getShellServices();const l=s.parseShellHash(i);const c={target:{semanticObject:l.semanticObject,action:l.action},params:l.params};a.storeControlRefreshStrategyForHash(n,l);if(t.isStickyEditMode(o)!==true){s.toExternal(c,r)}else{try{const e=await s.hrefForExternalAsync(c,r);_(e)}catch(t){e.error(`Error while retireving hrefForExternal : ${t}`)}}}}catch(t){e.error(`Error triggering link Href: ${t}`)}},pressLink:async function(e){const t=e.getSource();const n=t.isA("sap.m.ObjectIdentifier")?t.findElements(false,e=>e.isA("sap.m.Link"))[0]:t;if(t.getDependents()&&t.getDependents().length>0&&n.getProperty("text")!==""){const e=t.getDependents()[0];if(e&&e.isA("sap.ui.mdc.Link")){await O.openLink(e,n)}}return n},uploadStream:function(e,t){const o=t.getSource(),i=O._getExtensionController(e),a=o.getParent(),r=a.getUploadUrl();if(r!==""){var s,l;a.setUIBusy(true);o.setUploadUrl(r);o.removeAllHeaderParameters();const e=(s=o.getModel())===null||s===void 0?void 0:s.getHttpHeaders()["X-CSRF-Token"];if(e){const t=new E;t.setName("x-csrf-token");t.setValue(e);o.addHeaderParameter(t)}const t=(l=o.getBindingContext())===null||l===void 0?void 0:l.getProperty("@odata.etag");if(t){const e=new E;e.setName("If-Match");e.setValue(n.isConnected(o)?"*":t);o.addHeaderParameter(e)}const c=new E;c.setName("Accept");c.setValue("application/json");o.addHeaderParameter(c);const d=new Promise((e,t)=>{this.uploadPromises=this.uploadPromises||{};this.uploadPromises[o.getId()]={resolve:e,reject:t};o.upload()});i.editFlow.syncTask(d)}else{m.error(T(e).getText("M_FIELD_FILEUPLOADER_ABORTED_TEXT"))}},handleUploadComplete:function(e,o,i,a){const r=Number(e.getParameter("status")),s=e.getSource(),l=s.getParent();l.setUIBusy(false);const c=s.getBindingContext();if(r===0||r>=400){this._displayMessageForFailedUpload(e);this.uploadPromises[s.getId()].reject()}else{var d,g;const t=(d=e.getParameter("headers"))===null||d===void 0?void 0:d.etag;if(t){c===null||c===void 0?void 0:c.setProperty("@odata.etag",t,null)}if(o!==null&&o!==void 0&&o.path){c===null||c===void 0?void 0:c.setProperty(o.path,s.getValue())}(g=l.avatar)===null||g===void 0?void 0:g.refreshAvatarCacheBusting();this._callSideEffectsForStream(e,l,a);this.uploadPromises[s.getId()].resolve()}delete this.uploadPromises[s.getId()];const u=n.isConnected(s);if(!u||!c){return}const f=[`${c.getPath()}/${i}`];if(o!==null&&o!==void 0&&o.path){f.push(`${c.getPath()}/${o.path}`)}let p=c.getBinding();if(!p.isA("sap.ui.model.odata.v4.ODataListBinding")){const e=t.getTargetView(s);p=e.getBindingContext().getBinding()}if(p.hasPendingChanges()){p.attachEventOnce("patchCompleted",()=>{n.send(l,{action:y.Change,content:f});n.send(l,{action:y.Unlock,content:f})})}else{n.send(l,{action:y.Change,content:f});n.send(l,{action:y.Unlock,content:f})}},_displayMessageForFailedUpload:function(e){const t=e.getParameter("responseRaw")||e.getParameter("response");let n,o;try{o=t&&JSON.parse(t);n=o.error&&o.error.message}catch(o){n=t||T(e.getSource()).getText("M_FIELD_FILEUPLOADER_ABORTED_TEXT")}m.error(n)},removeStream:function(e,o,i,a){const r=e.getSource();const s=r.getParent();const l=s.getBindingContext();l.setProperty(i,null);l.setProperty(i,undefined,null);this._callSideEffectsForStream(e,s,a);const c=n.isConnected(r);if(c){let e=l.getBinding();if(!e.isA("sap.ui.model.odata.v4.ODataListBinding")){const n=t.getTargetView(r);e=n.getBindingContext().getBinding()}const a=[`${l.getPath()}/${i}`];if(o!==null&&o!==void 0&&o.path){a.push(`${l.getPath()}/${o.path}`)}n.send(r,{action:y.Lock,content:a});e.attachEventOnce("patchCompleted",function(){n.send(r,{action:y.Change,content:a});n.send(r,{action:y.Unlock,content:a})})}},_callSideEffectsForStream:function(e,t,n){const o=O._getExtensionController(n);if(t&&t.getBindingContext().isTransient()){return}if(t){e.oSource=t}o._sideEffects.handleFieldChange(e,this.getFieldStateOnChange(e).state["validity"])},getIconForMimeType:function(e){return C.getIconForMimeType(e)},retrieveTextFromValueList:function(t,n,o){let i;let a;let r;if(t){a=l.getMetaModel();r=a.getObject(`${n}@sapui.name`);return a.requestValueListInfo(n,true).then(function(e){const n=e[e[""]?"":Object.keys(e)[0]];const a=n.$model;const s=a.getMetaModel();const l=n.Parameters.find(function(e){return e.LocalDataProperty&&e.LocalDataProperty.$PropertyPath===r});if(l&&!l.ValueListProperty){throw new Error(`Inconsistent value help annotation for ${r}`)}const c=s.getObject(`/${n.CollectionPath}/${l.ValueListProperty}@com.sap.vocabularies.Common.v1.Text`);if(c&&c.$Path){i=c.$Path;const e=new P({path:l.ValueListProperty,operator:"EQ",value1:t});const o=a.bindList(`/${n.CollectionPath}`,undefined,undefined,e,{$select:i});return o.requestContexts(0,2)}else{o="Value";return t}}).then(function(e){var n;const a=i?(n=e[0])===null||n===void 0?void 0:n.getObject()[i]:"";switch(o){case"Description":return a;case"DescriptionValue":return v.getLibraryResourceBundle("sap.fe.core").getText("C_FORMAT_FOR_TEXT_ARRANGEMENT",[a,t]);case"ValueDescription":return v.getLibraryResourceBundle("sap.fe.core").getText("C_FORMAT_FOR_TEXT_ARRANGEMENT",[t,a]);default:return t}}).catch(function(t){const o=t.status&&t.status===404?`Metadata not found (${t.status}) for value help of property ${n}`:t.message;e.error(o)})}return t},handleTypeMissmatch:function(e){const t=T(e.getSource());m.error(t.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE"),{details:`<p><strong>${t.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE_DETAILS_SELECTED")}</strong></p>${e.getParameters().mimeType}<br><br>`+`<p><strong>${t.getText("M_FIELD_FILEUPLOADER_WRONG_MIMETYPE_DETAILS_ALLOWED")}</strong></p>${e.getSource().getMimeType().toString().replaceAll(",",", ")}`,contentWidth:"150px"})},handleFileSizeExceed:function(e){m.error(T(e.getSource()).getText("M_FIELD_FILEUPLOADER_FILE_TOO_BIG",e.getSource().getMaximumFileSize().toFixed(3)),{contentWidth:"150px"})},_getExtensionController:function(e){return e.isA("sap.fe.core.ExtensionAPI")?e._controller:e},showCollaborationEditUser:function(e,t){var n,o,i;const a=s.getResourceModel(t);let r=v.byId(`manageCollaborationDraft--editUser`);if(!r){r=new h("manageCollaborationDraft--editUser",{showHeader:false,placement:"Bottom"});r.addStyleClass("sapUiContentPadding");t.addDependent(r)}const l=(n=e.getBinding("initials"))===null||n===void 0?void 0:n.getBindings().find(e=>{var t;return e===null||e===void 0?void 0:(t=e.getPath())===null||t===void 0?void 0:t.startsWith("/collaboration/activities")}).getPath();const c=(o=e.getBindingContext("internal"))===null||o===void 0?void 0:o.getObject(l);let d;if(c&&c.length>0){d=c.find(t=>t.key===F(e.getBindingContext().getPath()))}r.destroyContent();r.addContent(new f({text:a.getText("C_COLLABORATIONAVATAR_USER_EDIT_FIELD",[`${(i=d)===null||i===void 0?void 0:i.name}`])}));r.openBy(e)}};return O},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/FieldTemplating", ["sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CommonFormatters","sap/fe/core/templating/DataFieldFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/SemanticObjectHelper","sap/fe/core/templating/UIFormatters","sap/ui/model/json/JSONModel","./FieldHelper"],function(e,t,i,n,a,o,r,l,s,d,u,c){"use strict";var v={};var g=s.hasSemanticObject;var f=s.getDynamicPathFromSemanticObject;var p=r.getContextRelativeTargetObjectPath;var m=r.getContextPropertyRestriction;var b=r.enhanceDataModelPath;var y=o.generateVisibleExpression;var h=n.isProperty;var O=n.isPathAnnotationExpression;var T=n.isNavigationProperty;var I=i.transformRecursively;var j=i.pathInModel;var P=i.or;var D=i.not;var U=i.isPathInModelExpression;var F=i.isComplexTypeExpression;var x=i.getExpressionFromAnnotation;var $=i.formatWithTypeInformation;var E=i.formatResult;var V=i.constant;var S=i.compileExpression;var C=t.UI;var B=e.isDataFieldForAnnotation;const M=function(e,t){return I(e,"PathInModel",e=>{let i=e;if(e.modelName===undefined){const n=b(t,e.path);i=a.getBindingWithTextArrangement(n,e)}return i})};v.addTextArrangementToBindingExpression=M;const A=function(e,t){return I(e,"PathInModel",e=>{let i=e;if(e.modelName===undefined){const n=b(t,e.path);i=$(n.targetObject,e)}return i})};v.formatValueRecursively=A;const W=function(e,t){return k(e,t,true)};v.getTextBindingExpression=W;const k=function(e,t){var i,n,o,r,l,s,u,c,v,g,f,m,y,h,T,I,P,D;let U=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let $=arguments.length>3?arguments[3]:undefined;if(((i=e.targetObject)===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.DataField"||((n=e.targetObject)===null||n===void 0?void 0:n.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"||((o=e.targetObject)===null||o===void 0?void 0:o.$Type)==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"||((r=e.targetObject)===null||r===void 0?void 0:r.$Type)==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||((l=e.targetObject)===null||l===void 0?void 0:l.$Type)==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||((s=e.targetObject)===null||s===void 0?void 0:s.$Type)==="com.sap.vocabularies.UI.v1.DataFieldWithAction"){const t=x(e.targetObject.Value)??"";return S(t)}if(O(e.targetObject)&&e.targetObject.$target){e=b(e,e.targetObject.path)}const E=j(p(e));let V;if((u=e.targetObject)!==null&&u!==void 0&&(c=u.annotations)!==null&&c!==void 0&&(v=c.Measures)!==null&&v!==void 0&&v.Unit||(g=e.targetObject)!==null&&g!==void 0&&(f=g.annotations)!==null&&f!==void 0&&(m=f.Measures)!==null&&m!==void 0&&m.ISOCurrency){V=d.getBindingWithUnitOrCurrency(e,E);if((t===null||t===void 0?void 0:t.measureDisplayMode)==="Hidden"&&F(V)){V.formatOptions={...V.formatOptions,showMeasure:false}}}else if((y=e.targetObject)!==null&&y!==void 0&&(h=y.annotations)!==null&&h!==void 0&&(T=h.Common)!==null&&T!==void 0&&T.Timezone){V=d.getBindingWithTimezone(e,E,false,true,t.dateFormatOptions)}else if((I=e.targetObject)!==null&&I!==void 0&&(P=I.annotations)!==null&&P!==void 0&&(D=P.Common)!==null&&D!==void 0&&D.IsTimezone){V=d.getBindingForTimezone(e,E)}else{V=a.getBindingWithTextArrangement(e,E,t,$)}if(U){return V}return S(V)};v.getTextBinding=k;const N=function(e,t){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let a=arguments.length>4?arguments[4]:undefined;let o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let r=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;if(O(e.targetObject)&&e.targetObject.$target){const t=e.targetEntityType.resolvePath(e.targetObject.path,true);e.targetObject=t.target;t.visitedObjects.forEach(t=>{if(T(t)){e.navigationProperties.push(t)}})}const l=e.targetObject;if(h(l)){let t=j(p(e));if(U(t)){var s,u,c,v,g,f,m,b;if((s=l.annotations)!==null&&s!==void 0&&(u=s.Communication)!==null&&u!==void 0&&u.IsEmailAddress){t.type="sap.fe.core.type.Email"}else if(!i&&((c=l.annotations)!==null&&c!==void 0&&(v=c.Measures)!==null&&v!==void 0&&v.ISOCurrency||(g=l.annotations)!==null&&g!==void 0&&(f=g.Measures)!==null&&f!==void 0&&f.Unit)){t=d.getBindingWithUnitOrCurrency(e,t,true,r?undefined:{showMeasure:false})}else if((m=e.targetObject.annotations)!==null&&m!==void 0&&(b=m.Common)!==null&&b!==void 0&&b.IsTimezone){t=d.getBindingForTimezone(e,t)}else{var y,I;const i=(y=e.targetObject.annotations)===null||y===void 0?void 0:(I=y.Common)===null||I===void 0?void 0:I.Timezone;if(i){t=d.getBindingWithTimezone(e,t,true)}else{t=$(l,t)}}if(U(t)){if(n){delete t.formatOptions;delete t.constraints;delete t.type}if(a){t.parameters=a}if(o){t.targetType="any"}}return S(t)}else{return""}}else if((l===null||l===void 0?void 0:l.$Type)==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||(l===null||l===void 0?void 0:l.$Type)==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){return S(x(l.Value))}else{return""}};v.getValueBinding=N;const H=function(e,t){const i=l.getAssociatedTextPropertyPath(e.targetObject);if(i){const n=b(e,i);return N(n,t,true,false,{$$noPatch:true})}return undefined};v.getAssociatedTextBinding=H;const w=function(e,t){var i,n,a,o,r;const l=(e===null||e===void 0?void 0:(i=e.targetEntityType)===null||i===void 0?void 0:i.navigationProperties)||[];const s=(e===null||e===void 0?void 0:(n=e.targetEntityType)===null||n===void 0?void 0:(a=n.annotations)===null||a===void 0?void 0:(o=a.Common)===null||o===void 0?void 0:o.SemanticKey)||[];let d=false;l.forEach(e=>{if(e.referentialConstraint&&e.referentialConstraint.length){e.referentialConstraint.forEach(i=>{if((i===null||i===void 0?void 0:i.sourceProperty)===t.name){var n,a,o;if(e!==null&&e!==void 0&&(n=e.targetType)!==null&&n!==void 0&&(a=n.annotations)!==null&&a!==void 0&&(o=a.UI)!==null&&o!==void 0&&o.QuickViewFacets){d=true}}})}});if(((r=e.contextLocation)===null||r===void 0?void 0:r.targetEntitySet)!==e.targetEntitySet){var u,c,v;const i=s.some(function(e){var i;return(e===null||e===void 0?void 0:(i=e.$target)===null||i===void 0?void 0:i.name)===t.name});if((i||t.isKey)&&e!==null&&e!==void 0&&(u=e.targetEntityType)!==null&&u!==void 0&&(c=u.annotations)!==null&&c!==void 0&&(v=c.UI)!==null&&v!==void 0&&v.QuickViewFacets){d=true}}return d};v.isUsedInNavigationWithQuickViewFacets=w;const z=function(e,t){var i,n,a;const o=O(e)&&e.$target||e;if(!((i=o.annotations)!==null&&i!==void 0&&(n=i.Common)!==null&&n!==void 0&&n.Text)&&!((a=o.annotations)!==null&&a!==void 0&&a.Measures)&&l.hasValueHelp(o)&&t.textAlignMode==="Form"){return true}return false};v.isRetrieveTextFromValueListEnabled=z;const R=function(e,t,i){var n,a,o,r,s,d;let u=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let v=((n=e.targetObject.Value)===null||n===void 0?void 0:n.$target.type)||((a=e.targetObject.Target)===null||a===void 0?void 0:a.$target.Value.$target.type);if(l.isKey(((o=e.targetObject.Value)===null||o===void 0?void 0:o.$target)||((r=e.targetObject.Target)===null||r===void 0?void 0:(s=r.$target)===null||s===void 0?void 0:(d=s.Value)===null||d===void 0?void 0:d.$target))){return"Begin"}if(u&&t.displayMode&&["Description","DescriptionValue","ValueDescription"].includes(t.displayMode)){var g,f,p,m,b;const t=(g=e.targetObject.Value)===null||g===void 0?void 0:(f=g.$target.annotations)===null||f===void 0?void 0:(p=f.Common)===null||p===void 0?void 0:p.Text;const i=t===null||t===void 0?void 0:(m=t.annotations)===null||m===void 0?void 0:(b=m.UI)===null||b===void 0?void 0:b.TextArrangement.valueOf();if(t&&i!=="UI.TextArrangementType/TextSeparate"){v=t.$target.type}}return c.getPropertyAlignment(v,t,i)};v.getTextAlignment=R;const Q=function(e,t){const i=e.targetObject;return S(y(i,t))};v.getVisibleExpression=Q;const L=function(e){if(!e.targetObject){return""}if(typeof e.targetObject==="string"){return e.targetObject}return k(e,{})};v.getQuickViewBinding=L;const K=function(e){var t,i,n,a,o,r,l,s,d,u;const c=e.targetObject;if(c!==null&&c!==void 0&&c.Url&&c.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){return"link"}if(c!==null&&c!==void 0&&(t=c.Value.$target)!==null&&t!==void 0&&(i=t.annotations)!==null&&i!==void 0&&(n=i.Communication)!==null&&n!==void 0&&n.IsEmailAddress||(a=c.annotations)!==null&&a!==void 0&&(o=a.Communication)!==null&&o!==void 0&&o.IsEmailAddress){return"email"}if(c!==null&&c!==void 0&&(r=c.Value.$target)!==null&&r!==void 0&&(l=r.annotations)!==null&&l!==void 0&&(s=l.Communication)!==null&&s!==void 0&&s.IsPhoneNumber||(d=c.annotations)!==null&&d!==void 0&&(u=d.Communication)!==null&&u!==void 0&&u.IsPhoneNumber){return"phone"}return"text"};v.getQuickViewType=K;const G=function(e,t){const i=[];let n;let a;if(e){const o=Object.keys(e).filter(function(e){return e==="SemanticObject"||e.startsWith("SemanticObject#")});for(const r of o){a=e[r];n=S(x(a));if(!t||t&&O(a)){i.push({key:f(n)||n,value:n})}}}return i};v.getSemanticObjectExpressionToResolve=G;const J=function(e){if(e.length>0){let t="";let i="";const n=[];for(let a=0;a<e.length;a++){t=e[a].key;i=S(x(e[a].value));n.push({key:t,value:i})}const a=new u(n);a.$$valueAsPromise=true;const o=a.createBindingContext("/");return o}else{return new u([]).createBindingContext("/")}};v.getSemanticObjects=J;const q=function(e,t,i){if(e.wrap===false){return false}if(t!=="Edm.String"){return i}if(e.editMode==="Display"){return true}if(e.editMode.indexOf("{")>-1){return S(P(D(C.IsEditable),i))}return i};v.getMultipleLinesForDataField=q;const X=function(e,t){const i=l.getAssociatedUnitProperty(e);const n=l.getAssociatedCurrencyProperty(e);return l.hasValueHelp(e)&&e.type!=="Edm.Boolean"||t!=="Hidden"&&(i&&l.hasValueHelp(i)||n&&l.hasValueHelp(n))};const Y=function(e,t,i,n){var a,o,r,l,s,d,u,c,v,g,f,p;const m=i.targetObject;if(!h(m)||["com.sap.vocabularies.UI.v1.DataFieldForAction","com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath","com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"].includes(t.$Type)){e.editStyle=null;return}if(!n){var b,y,O,T,I,j;e.valueBindingExpression=N(i,e.formatOptions);const n=((b=t.annotations)===null||b===void 0?void 0:(y=b.UI)===null||y===void 0?void 0:y.Placeholder)||((O=t.Value)===null||O===void 0?void 0:(T=O.$target)===null||T===void 0?void 0:(I=T.annotations)===null||I===void 0?void 0:(j=I.UI)===null||j===void 0?void 0:j.Placeholder);if(n){e.editStylePlaceholder=S(x(n))}}const P=B(t)?(a=t.Target)===null||a===void 0?void 0:a.$target:t;if((P===null||P===void 0?void 0:P.Visualization)==="UI.VisualizationType/Rating"){var D,U;e.editStyle="RatingIndicator";if((D=P.annotations)!==null&&D!==void 0&&(U=D.Common)!==null&&U!==void 0&&U.QuickInfo){var F,$;e.ratingIndicatorTooltip=S(x((F=P.annotations)===null||F===void 0?void 0:($=F.Common)===null||$===void 0?void 0:$.QuickInfo))}e.ratingIndicatorTargetValue=S(x(P.TargetValue));return}if(X(m,(o=e.formatOptions)===null||o===void 0?void 0:o.measureDisplayMode)||((r=e.formatOptions)===null||r===void 0?void 0:r.measureDisplayMode)!=="Hidden"&&((l=m.annotations)!==null&&l!==void 0&&(s=l.Measures)!==null&&s!==void 0&&s.ISOCurrency||(d=m.annotations)!==null&&d!==void 0&&(u=d.Measures)!==null&&u!==void 0&&u.Unit)){if(!n){var E;e.textBindingExpression=H(i,e.formatOptions);if(((E=e.formatOptions)===null||E===void 0?void 0:E.measureDisplayMode)!=="Hidden"){e.valueBindingExpression=N(i,e.formatOptions,false,false,undefined,false,true)}}e.editStyle="InputWithValueHelp";return}switch(m.type){case"Edm.Date":e.editStyle="DatePicker";return;case"Edm.Time":case"Edm.TimeOfDay":e.editStyle="TimePicker";return;case"Edm.DateTime":case"Edm.DateTimeOffset":e.editStyle="DateTimePicker";if(!((c=m.annotations)!==null&&c!==void 0&&(v=c.Common)!==null&&v!==void 0&&v.Timezone)){e.showTimezone=undefined}else{e.showTimezone=true}return;case"Edm.Boolean":e.editStyle="CheckBox";return;case"Edm.Stream":e.editStyle="File";return;case"Edm.String":if((g=m.annotations)!==null&&g!==void 0&&(f=g.UI)!==null&&f!==void 0&&(p=f.MultiLineText)!==null&&p!==void 0&&p.valueOf()){e.editStyle="TextArea";return}break;default:e.editStyle="Input"}e.editStyle="Input"};v.setEditStyleProperties=Y;const Z=e=>{var t,i,n,a;const o=e.targetObject;if(s.hasSemanticObject(o)){return true}const r=e!==null&&e!==void 0&&(t=e.navigationProperties)!==null&&t!==void 0&&t.length?e===null||e===void 0?void 0:e.navigationProperties[(e===null||e===void 0?void 0:(i=e.navigationProperties)===null||i===void 0?void 0:i.length)-1]:null;if(!r||(n=e.contextLocation)!==null&&n!==void 0&&(a=n.navigationProperties)!==null&&a!==void 0&&a.find(e=>e.name===r.name)){return false}return s.hasSemanticObject(r)};v.hasSemanticObjectInNavigationOrProperty=Z;const _=e=>{if(!e.targetObject){return undefined}let t="";if(e.targetObject.term==="com.sap.vocabularies.UI.v1.DataPoint"){e.targetObject.$Type=e.targetObject.$Type||"com.sap.vocabularies.UI.v1.DataPointType"}switch(e.targetObject.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataPointType":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":if(typeof e.targetObject.Value==="object"){t=e.targetObject.Value.path}break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(e.targetObject.Target.$target){if(e.targetObject.Target.$target.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.targetObject.Target.$target.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){if(e.targetObject.Target.value.indexOf("/")>0){var i;t=e.targetObject.Target.value.replace(/\/@.*/,`/${(i=e.targetObject.Target.$target.Value)===null||i===void 0?void 0:i.path}`)}else{var n;t=(n=e.targetObject.Target.$target.Value)===null||n===void 0?void 0:n.path}}else{var a;t=(a=e.targetObject.Target)===null||a===void 0?void 0:a.path}}break}if(t&&t.length>0){return b(e,t)}else{return undefined}};v.getDataModelObjectPathForValue=_;const ee=e=>{let t;if(g(e.targetObject)){t=e.targetObject}else if(e.navigationProperties.length>0){for(const n of e.navigationProperties){var i;if(!((i=e.contextLocation)!==null&&i!==void 0&&i.navigationProperties.find(e=>e.fullyQualifiedName===n.fullyQualifiedName))&&!t&&g(n)){t=n}}}return t};v.getPropertyWithSemanticObject=ee;const te=e=>{const t=m(e,e=>{var t;return e===null||e===void 0?void 0:(t=e.InsertRestrictions)===null||t===void 0?void 0:t.NonInsertableProperties});return t.some(t=>{var i,n;return(t===null||t===void 0?void 0:(i=t.$target)===null||i===void 0?void 0:i.fullyQualifiedName)===((n=e.targetObject)===null||n===void 0?void 0:n.fullyQualifiedName)})};v.hasPropertyInsertRestrictions=te;const ie=e=>e?S(E([V(e),j("semanticKeyHasDraftIndicator","internal"),j("HasDraftEntity"),j("IsActiveEntity"),j("hideDraftInfo","pageInternal")],"sap.fe.macros.field.FieldRuntime.isDraftIndicatorVisible")):"false";v.getDraftIndicatorVisibleBinding=ie;return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/PublicField.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/helpers/BindingToolkit","sap/fe/macros/field/FieldHelper"],function(e,t,i,r,a){"use strict";var n,o,l,s,u,p,c,d,f,h,m,b,y,x,g,O,v,w,M;var P={};var $=r.resolveBindingString;var D=r.ifElse;var E=r.equal;var B=r.compileExpression;var z=i.xml;var F=t.defineBuildingBlock;var j=t.blockEvent;var T=t.blockAttribute;function k(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function H(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function V(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;q(e,t)}function q(e,t){q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return q(e,t)}function _(e,t,i,r,a){var n={};Object.keys(r).forEach(function(e){n[e]=r[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n);if(a&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(a):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}function A(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let C=(n=F({name:"Field",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.core.controls.FormElementWrapper"]}),o=T({type:"string",isPublic:true,required:true}),l=T({type:"sap.ui.model.Context",isPublic:true,required:true}),s=T({type:"sap.ui.model.Context",isPublic:true,required:true}),u=T({type:"boolean",isPublic:true,required:false}),p=T({type:"string",isPublic:true,required:false}),c=T({type:"string",isPublic:true,required:false}),d=T({type:"object",isPublic:true,validate:function(e){if(e.displayMode&&!["Value","Description","ValueDescription","DescriptionValue"].includes(e.displayMode)){throw new Error(`Allowed value ${e.displayMode} for displayMode does not match`)}if(e.measureDisplayMode&&!["Hidden","ReadOnly"].includes(e.measureDisplayMode)){throw new Error(`Allowed value ${e.measureDisplayMode} for measureDisplayMode does not match`)}if(e.textExpandBehaviorDisplay&&!["InPlace","Popover"].includes(e.textExpandBehaviorDisplay)){throw new Error(`Allowed value ${e.textExpandBehaviorDisplay} for textExpandBehaviorDisplay does not match`)}return e}}),f=j(),n(h=(m=function(e){V(t,e);function t(t){var i;i=e.call(this,t)||this;k(i,"id",b,H(i));k(i,"metaPath",y,H(i));k(i,"contextPath",x,H(i));k(i,"readOnly",g,H(i));k(i,"semanticObject",O,H(i));k(i,"editModeExpression",v,H(i));k(i,"formatOptions",w,H(i));k(i,"change",M,H(i));if(i.readOnly!==undefined){i.editModeExpression=B(D(E($(i.readOnly,"boolean"),true),"Display","Editable"))}return i}P=t;var i=t.prototype;i.getFormatOptions=function e(){return z`
		<internalMacro:formatOptions
			textAlignMode="Form"
			showEmptyIndicator="true"
			displayMode="${this.formatOptions.displayMode}"
			measureDisplayMode="${this.formatOptions.measureDisplayMode}"
			textLinesEdit="${this.formatOptions.textLinesEdit}"
			textMaxLines="${this.formatOptions.textMaxLines}"
			textMaxCharactersDisplay="${this.formatOptions.textMaxCharactersDisplay}"
			textExpandBehaviorDisplay="${this.formatOptions.textExpandBehaviorDisplay}"
			textMaxLength="${this.formatOptions.textMaxLength}"
			>
			${this.writeDateFormatOptions()}
		</internalMacro:formatOptions>
			`};i.writeDateFormatOptions=function e(){if(this.formatOptions.showTime||this.formatOptions.showDate||this.formatOptions.showTimezone){return z`<internalMacro:dateFormatOptions showTime="${this.formatOptions.showTime}"
				showDate="${this.formatOptions.showDate}"
				showTimezone="${this.formatOptions.showTimezone}"
				/>`}return""};i.getPossibleValueHelpTemplate=function e(){const t=a.valueHelpProperty(this.metaPath);const i=this.metaPath.getModel().createBindingContext(t,this.metaPath);const r=a.hasValueHelpAnnotation(i.getObject("@"));if(r){return z`
			<internalMacro:dependents>
				<macros:ValueHelp _flexId="${this.id}-content_FieldValueHelp" property="${i}" contextPath="${this.contextPath}" />
			</internalMacro:dependents>`}return""};i.getTemplate=function e(){const t=this.contextPath.getPath();const i=this.metaPath.getPath();return z`
		<internalMacro:Field
			xmlns:internalMacro="sap.fe.macros.internal"
			entitySet="${t}"
			dataField="${i}"
			editMode="${this.editModeExpression}"
			onChange="${this.change}"
			_flexId="${this.id}"
			semanticObject="${this.semanticObject}"
		>
			${this.getFormatOptions()}
			${this.getPossibleValueHelpTemplate()}
		</internalMacro:Field>`};return t}(e),b=_(m.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),y=_(m.prototype,"metaPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),x=_(m.prototype,"contextPath",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),g=_(m.prototype,"readOnly",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),O=_(m.prototype,"semanticObject",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),v=_(m.prototype,"editModeExpression",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),w=_(m.prototype,"formatOptions",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),M=_(m.prototype,"change",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||h);P=C;return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/field/TextAreaEx", ["sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ResourceModelHelper","sap/m/TextArea","sap/ui/core/library"],function(e,t,r,a){"use strict";var n,o;var s={};var i=a.ValueState;var u=t.getResourceModel;var l=e.defineUI5Class;function p(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}let f=(n=l("sap.fe.macros.field.TextAreaEx"),n(o=function(e){p(t,e);function t(){return e.apply(this,arguments)||this}s=t;var r=t.prototype;r.fireLiveChange=function t(r){e.prototype.fireLiveChange.call(this,r);this._validateTextLength(r===null||r===void 0?void 0:r.value);return this};r.setValue=function t(r){e.prototype.setValue.call(this,r??"");this._validateTextLength(r);return this};r._validateTextLength=function e(t){const r=this.getMaxLength();if(!r||t===undefined||t===null){this.setValueState(i.None);return}if(t.length>r){const e=u(this).getText("M_FIELD_TEXTAREA_TEXT_TOO_LONG");this.setValueState(i.Error);this.setValueStateText(e)}else{this.setValueState(i.None)}};return t}(r))||o);s=f;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/FilterFieldHelper", ["sap/base/util/JSTokenizer","sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/core/type/FiscalDate","sap/fe/macros/CommonHelper","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,n,o,i,r,s,a){"use strict";var l={};var c=i.getProperty;var u=o.getContextRelativeTargetObjectPath;var p=n.pathInModel;var f=n.getFiscalType;var d=n.EDM_TYPE_MAPPING;var g=n.compileExpression;function m(e,n){const o=n.context.getModel();const i=n.context.getPath();const r=s.getLocationForPropertyPath(o,i);let a;let l=o.getObject(`${r}/@com.sap.vocabularies.Common.v1.ResultContext`);if(!l){var c;if(typeof e==="string"){a=e}else{a=o.getObject(`${i}@sapui.name`)}const n=t.getFilterRestrictionsByPath(r,o);l=n===null||n===void 0?void 0:(c=n.RequiredProperties)===null||c===void 0?void 0:c.includes(a)}return l}l.isRequiredInFilter=m;function v(e,n){var o;const i=n.context.getModel();const r=n.context.getPath();const a=s.getLocationForPropertyPath(i,r);let l;let c=-1;if(i.getObject(`${a}/@com.sap.vocabularies.Common.v1.ResultContext`)===true){return 1}if(typeof e==="string"){l=e}else{l=i.getObject(`${r}@sapui.name`)}const u=t.getFilterRestrictionsByPath(a,i);let p=i.getObject(`${a}/${l}`);if(!p){p=i.getObject(r)}if(p.$Type==="Edm.Boolean"){c=1}else if(u!==null&&u!==void 0&&(o=u.FilterAllowedExpressions)!==null&&o!==void 0&&o[l]){const e=t.getSpecificAllowedExpression(u.FilterAllowedExpressions[l]);if(e==="SingleValue"||e==="SingleRange"){c=1}}return c}l.maxConditions=v;function y(e){const t=u(e,false,true);return g(p(`/conditions/${t}`,"$filters"))}l.getConditionsBinding=y;function P(t,n){const o=a.format(t,n)||"";const i=o.match(/constraints:.*?({.*?})/);const r=e.parseJS((i===null||i===void 0?void 0:i[1])||"{}");if(o.includes("sap.ui.model.odata.type.DateTimeOffset")){r.V4=true}if(r.nullable===false){delete r.nullable}return Object.keys(r).length===0?undefined:JSON.stringify(r).replaceAll('"',"'")}l.constraints=P;function b(e,t){var n;if(e.$Type==="Edm.String"){if(!e.hasOwnProperty("$Nullable")||e.$Nullable===true){t.arguments=[null,{parseKeepsEmptyString:false}]}const n=f(c(e,t));if(n){if(!t.arguments){t.arguments=[null,{}]}t.arguments[1].fiscalType=n}}const o=a.format(e,t)||"";return((n=o.match(/formatOptions:.*?({.*?})/))===null||n===void 0?void 0:n[1])||undefined}l.formatOptions=b;function h(e){if(e.type==="Edm.String"){const t=f(e);if(t){return"sap.fe.core.type.FiscalDate"}}const t=d[e.type];return t?t.type:e.type}l.getDataType=h;function O(e){if(e.type==="Edm.String"){const t=f(e);if(t){return new r({fiscalType:t},{}).getPattern()}}return undefined}l.getPlaceholder=O;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/FilterFieldTemplating", ["sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters"],function(t,e){"use strict";var o={};var n=e.getDisplayMode;var i=t.hasValueHelp;const r=function(t,e){return i(e)?n(t):"Value"};o.getDisplayProperty=r;const a=async function(t,e,o){var a,u;const s=e===null||e===void 0?void 0:(a=e.annotations)===null||a===void 0?void 0:(u=a.Common)===null||u===void 0?void 0:u.Text;if(s){return r(t,e)}const v=i(e);if(v){var c,d,p;const e=t===null||t===void 0?void 0:(c=t.targetEntityType)===null||c===void 0?void 0:(d=c.annotations)===null||d===void 0?void 0:(p=d.UI)===null||p===void 0?void 0:p.TextArrangement;return e?n(t):l(o,t)}return"Value"};o.getFilterFieldDisplayFormat=a;async function l(t,e){const o=t.context;const n=t.context.getModel();return n.requestValueListInfo(o.getPath(),true,o).then(function(t){var o;const i=Object.keys(t)[0];const r=t[i];const a=(o=r.Parameters)===null||o===void 0?void 0:o.find(t=>{var o,n;return((o=t.LocalDataProperty)===null||o===void 0?void 0:o.$PropertyPath)===(e===null||e===void 0?void 0:(n=e.targetObject)===null||n===void 0?void 0:n.name)});const l=a===null||a===void 0?void 0:a.ValueListProperty;const u=n.getObject("/"+r.CollectionPath+"/"+l+"@com.sap.vocabularies.Common.v1.Text");return u?"DescriptionValue":"Value"})}o._getDisplayModeFromValueHelp=l;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/FilterUtils", ["sap/base/Log","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticDateOperators","sap/fe/core/templating/DisplayModeFormatter","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/ui/core/Core","sap/ui/mdc/condition/Condition","sap/ui/mdc/condition/ConditionConverter","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/odata/v4/TypeMap","sap/ui/mdc/p13n/StateUtil","sap/ui/mdc/util/FilterUtil","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/odata/v4/ODataUtils"],function(t,e,n,i,o,r,a,s,l,c,f,d,u,g,p,y,h,C,m,F,v,P){"use strict";var T=c.ODATA_TYPE_MAPPING;var b=a.getAllCustomAggregates;const S={getFilter:function(t){const e=S.getFilterInfo(t).filters;return e.length?new F(S.getFilterInfo(t).filters,false):undefined},getFilterField:function(t,e,n){return r.getFilterField(t,e,n)},buildProperyInfo:function(t,e){let n;const i={};const o=e.getConverterContextFor(t.annotationPath);const a=o.getDataModelObjectPath().targetObject;const s=r.fetchTypeConfig(a);n=r.fetchPropertyInfo(e,t,s);i[t.key]=s;n=r.assignDataTypeToPropertyInfo(n,e,[],i);return n},createConverterContext:function(t,r,a,s){const l=d.getCustomData(t,"entityType"),c=r||l;const f=t.isA?n.getTargetView(t):null;const u=a||t.getModel().getMetaModel();const g=s||f&&n.getAppComponent(f);const p=o.getInvolvedDataModelObjects(u.createBindingContext(c));let y;if(t.isA&&!t.isA("sap.ui.mdc.filterbar.vh.FilterBar")){y=f&&f.getViewData()||{}}return i.createConverterContextForMacro(p.startingEntitySet.name,u,g===null||g===void 0?void 0:g.getDiagnostics(),e,p.contextLocation,y)},getConvertedFilterFields:function(t,e,n,i,o,r,a){const s=this._getFilterMetaModel(t,i);const l=d.getCustomData(t,"entityType"),c=e||l;const f=this._getFieldsForTable(t,e);const u=this.createConverterContext(t,e,i,o);return this._getSelectionFields(t,e,l,c,f,s,u,n,r,a)},getBindingPathForParameters:function(t,n,i,o){const r=[];i=S.setTypeConfigToProperties(i);for(let a=0;a<o.length;a++){const s=o[a];if(n[s]&&n[s].length>0){const o=e({},n[s][0]);const a=m.getPropertyByKey(i,s);const l=a.typeConfig||h.getTypeConfig(a.dataType,a.formatOptions,a.constraints);const c=p.toType(o,l,t.getTypeMap());const f=T[l.className];r.push(`${s}=${encodeURIComponent(P.formatLiteral(c.values[0],f))}`)}}const a=t.data("entityType");const s=a.substring(0,a.length-1);const l=s.slice(0,s.lastIndexOf("/"));const c=s.substring(s.lastIndexOf("/")+1);return`${l}(${r.toString()})/${c}`},getEditStateIsHideDraft:function(t){let e=false;if(t&&t.$editState){const n=t.$editState.find(function(t){return t.operator==="DRAFT_EDIT_STATE"});if(n&&(n.values.includes("ALL_HIDING_DRAFTS")||n.values.includes("SAVED_ONLY"))){e=true}}return e},getFilterInfo:function(t,e,n){let i=e&&e.ignoredProperties||[];const o=e&&e.targetControl,r=o?o.data("entityType"):undefined;const a={};let s=t,l,c=[],f,d=e&&e.propertiesMetadata;if(typeof t==="string"){s=u.byId(t)}if(s){l=this._getSearchField(s,i);const t=this._getFilterConditions(e,n,s);let o=s.getPropertyInfoSet?s.getPropertyInfoSet():null;o=this._getFilterPropertiesMetadata(o,s);if(e&&e.targetControl&&e.targetControl.isA("sap.ui.mdc.Chart")){Object.keys(t).forEach(function(e){if(e==="$editState"){delete t["$editState"]}})}let u=s.data("parameters")||[];u=typeof u==="string"?JSON.parse(u):u;if(u&&u.length>0){f=S.getBindingPathForParameters(s,t,o,u);if(Object.keys(t).length){Object.keys(t).forEach(e=>{u.forEach(n=>{if(e===n){const i=t[e][0].values;a[n]=i[0]}})})}}if(t){if(r&&s.data("entityType")&&s.data("entityType")!==r){const t=s.getModel().getMetaModel();const e=s.getControlDelegate().fetchPropertiesForEntity(r,t,s);d=e;const n=this._getIgnoredProperties(o,e);if(n.length>0){i=i.concat(n)}}else if(!d){d=o}const e=m.getFilterInfo(s,t,S.setTypeConfigToProperties(d),i.concat(u)).filters;c=e?[e]:[]}}return{parameters:a,filters:c,search:l||undefined,bindingPath:f}},setTypeConfigToProperties:function(t){if(t&&t.length){t.forEach(function(t){if(t.typeConfig&&t.typeConfig.typeInstance&&t.typeConfig.typeInstance.getConstraints instanceof Function){return}if(t.path==="$editState"){t.typeConfig=h.getTypeConfig("sap.ui.model.odata.type.String",{},{})}else if(t.path==="$search"){t.typeConfig=h.getTypeConfig("sap.ui.model.odata.type.String",{},{})}else if(t.dataType||t.typeConfig&&t.typeConfig.className){t.typeConfig=h.getTypeConfig(t.dataType||t.typeConfig.className,t.formatOptions,t.constraints)}})}return t},getNotApplicableFilters:function(t,e){var n;const i=e.data("entityType"),o=t.data("entityType"),r=t.getModel().getMetaModel(),a=r.getObject(o),s=[],l=t.getConditions(),c=i===o,u=e.isA("sap.ui.mdc.Chart"),g=!u&&e.getParent().getTableDefinition().enableAnalytics,p=!u&&((n=e.control)===null||n===void 0?void 0:n.type)==="TreeTable",y=u?f.parseCustomData(d.getCustomData(e,"applySupported")).enableSearch:!(g||p)||e.getParent().getTableDefinition().enableBasicSearch;if(l&&(!c||g||u)){const n=c?[]:t.getControlDelegate().fetchPropertiesForEntity(i,r,t),o=n.reduce(function(t,e){t[e.name]=e;return t},{}),f=!u&&e.getParent().getTableDefinition().aggregates||{},d={};Object.keys(f).forEach(function(t){const e=f[t];d[e.relativePath]=e});const g=e.getModel().getMetaModel().getObject(e.data("targetCollectionPath")+"/");if(e.isA("sap.ui.mdc.Chart")){const t=e.getModel().getMetaModel().getObject(`${e.data("targetCollectionPath")}@`),n=b(t);Object.keys(n).forEach(function(t){if(!d[t]){const e=n[t];d[t]=e}})}for(const t in l){const e=l[t];let n=true;if(g[t]&&a[t]){n=g[t]["$Type"]===a[t]["$Type"]}if(Array.isArray(e)&&e.length>0&&((!o[t]||o[t].isCustomFilter&&o[t].annotationPath==undefined||o[t]&&!n)&&(!c||t==="$editState"&&u)||d[t])){s.push(t.replace(/\+|\*/g,""))}}}if(!y&&t.getSearch()){s.push("$search")}return s},async _getValueListInfo(t,e){var n;const i=(n=t.getModel())===null||n===void 0?void 0:n.getMetaModel();if(!i){return undefined}const o=t.data("entityType")??"";const r=await i.requestValueListInfo(o+e,true).catch(()=>null);return r===null||r===void 0?void 0:r[""]},_getConditionValidated:async function(e,n,i){if(!e){return y.NotValidated}try{const t=e.Parameters.filter(t=>["com.sap.vocabularies.Common.v1.ValueListParameterInOut".valueOf(),"com.sap.vocabularies.Common.v1.ValueListParameterOut".valueOf()].includes(t.$Type)).filter(t=>{var e;return((e=t.LocalDataProperty)===null||e===void 0?void 0:e.$PropertyPath)===n}).map(t=>t.ValueListProperty);const o=t[0]??n;const r=new F({path:o,operator:v.EQ,value1:i});const a=e.$model.bindList(`/${e.CollectionPath}`,undefined,undefined,r,{$select:o});const s=(await a.requestContexts()).length>0;if(s){return y.Validated}else{return y.NotValidated}}catch(e){t.error("FilterUtils: Error while retrieving ConditionValidated",e);return y.NotValidated}},async _clearFilterValue(t,e){const n=await C.retrieveExternalState(t);if(n.filter[e]){n.filter[e].forEach(t=>{t.filtered=false});await C.applyExternalState(t,{filter:{[e]:n.filter[e]}})}},setFilterValues:async function(e,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),r=2;r<i;r++){o[r-2]=arguments[r]}let a=o===null||o===void 0?void 0:o[0];let s=o===null||o===void 0?void 0:o[1];if(!e){return}if(o.length===2&&(s===undefined||s===null||s==="")&&a&&Object.keys(v).includes(a)){t.warning(`An empty filter value cannot be applied with the ${a} operator`);return}if(s===undefined&&!l.getSemanticDateOperations().includes(a||"")){s=a??[];a=undefined}if(!a){a=v.EQ}const c=["string","number","boolean"];if(s!==undefined&&(!Array.isArray(s)&&!c.includes(typeof s)||Array.isArray(s)&&s.length>0&&!c.includes(typeof s[0]))){throw new Error("FilterUtils.js#_setFilterValues: Filter value not supported; only primitive values or an array thereof can be used.")}let f;if(s!==undefined){f=Array.isArray(s)?s:[s]}const d=await this._getValueListInfo(e,n);const u={};if(n){if(f&&f.length){if(a===v.BT){u[n]=[g.createCondition(a,f,null,null,y.NotValidated)]}else{u[n]=await Promise.all(f.map(async t=>{const e=a===v.EQ?await this._getConditionValidated(d,n,t):y.NotValidated;return g.createCondition(a,[t],null,null,e)}))}}else if(l.getSemanticDateOperations().includes(a||"")){u[n]=[g.createCondition(a,[],null,null,y.NotValidated)]}}await this._clearFilterValue(e,n);if(u[n]){await C.applyExternalState(e,{filter:u})}},conditionToModelPath:function(t){return t.replace(/\//g,"\\")},_getFilterMetaModel:function(t,e){return e||t.getModel().getMetaModel()},_getEntitySetPath:function(t){return t&&s.getEntitySetPath(t)},_getFieldsForTable:function(t,e){const i=[];if(e){const e=n.getTargetView(t);const o=e&&e.getController()&&e.getController()._getControls&&e.getController()._getControls("table");if(o){o.forEach(function(t){i.push(t.getParent().getTableDefinition())})}return i}return[]},_getSelectionFields:function(t,e,n,i,a,s,l,c,f,d){let u=r.getSelectionFields(l,a,undefined,c,d).selectionFields;if((f?f.getControlType(t)==="sap.ui.mdc.FilterBar":t.isA("sap.ui.mdc.FilterBar"))&&e!==n){const t=o.getInvolvedDataModelObjects(s.createBindingContext(i));const e=l.getConverterContextFor(n);const a=e.getEntityTypeAnnotation("@com.sap.vocabularies.UI.v1.SelectionFields").annotation||[];const c={};u.forEach(function(t){c[t.conditionPath]=true});a.forEach(function(e){const n=e.value;if(!c[n]){const e=r.getFilterField(n,l,t.startingEntitySet.entityType);if(e){u.push(e)}}})}if(u){const e=[];u.forEach(function(t){e.push(t.key)});u=this._getSelectionFieldsFromPropertyInfos(t,e,u)}return u},_getSelectionFieldsFromPropertyInfos:function(t,e,n){const i=t.getPropertyInfo&&t.getPropertyInfo()||[];i.forEach(function(t){if(t.name==="$search"||t.name==="$editState"){return}const i=n[e.indexOf(t.key)];if(e.indexOf(t.key)!==-1&&i.annotationPath){t.group=i.group;t.groupLabel=i.groupLabel;t.settings=i.settings;t.visualFilter=i.visualFilter;t.label=i.label;n[e.indexOf(t.key)]=t}if(e.indexOf(t.key)===-1&&!t.annotationPath){n.push(t)}});return n},_getSearchField:function(t,e){return t.getSearch&&e.indexOf("search")===-1?t.getSearch():null},_getFilterConditions:function(t,e,n){const i=e||n.getConditions();if(t&&t.targetControl&&t.targetControl.isA("sap.ui.mdc.Chart")){Object.keys(i).forEach(function(t){if(t==="$editState"){delete i["$editState"]}})}return i},_getFilterPropertiesMetadata:function(t,e){if(!(t&&t.length)){if(e.getPropertyInfo){t=e.getPropertyInfo()}else{t=null}}return t},_getIgnoredProperties:function(t,e){const n=[];t.forEach(function(t){const i=t.name;const o=e.find(t=>t.name===i);if(o&&(!t.isCustomFilter&&t.dataType!==o.dataType||t.isCustomFilter&&!e.find(e=>!e.isCustomFilter&&e.annotationPath==t.annotationPath))){n.push(i)}});return n},getFilters:function(t){const{parameters:e,filters:n,search:i}=this.getFilterInfo(t);return{parameters:e,filters:n,search:i}}};return S},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/type/MultiValue", ["sap/fe/core/helpers/ClassSupport","sap/fe/macros/filter/type/Value"],function(t,e){"use strict";var r,o;var n={};var a=t.defineUI5Class;function i(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;f(t,e)}function f(t,e){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,r){e.__proto__=r;return e};return f(t,e)}let u=(r=a("sap.fe.macros.filter.type.MultiValue"),r(o=function(t){i(e,t);function e(){return t.apply(this,arguments)||this}n=e;var r=e.prototype;r.formatConditionValues=function t(e){return e};r.formatValue=function e(r,o){let n=r;if(typeof n==="string"){n=n.split(",")}if(Array.isArray(n)){n=n.map(e=>t.prototype.formatValue.call(this,e,this.getElementTypeName(o))).filter(t=>t!==undefined)}return n||[]};r.parseValue=function t(e,r){if(!e){e=[]}return e.map(t=>{if(t===undefined){t=[]}else if(!Array.isArray(t)){t=[t]}return this.operator.format({values:t})})};return e}(e))||o);n=u;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/type/Range", ["sap/fe/core/helpers/ClassSupport","sap/fe/macros/filter/type/Value"],function(t,e){"use strict";var r,o;var n={};var a=t.defineUI5Class;function u(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;i(t,e)}function i(t,e){i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,r){e.__proto__=r;return e};return i(t,e)}let p=(r=a("sap.fe.macros.filter.type.Range"),r(o=function(t){u(e,t);function e(){return t.apply(this,arguments)||this}n=e;var r=e.prototype;r.getDefaultOperatorName=function t(){return"BT"};r.formatConditionValues=function t(e){return e};r.formatValue=function e(r,o){let n=t.prototype.formatValue.call(this,r,o);if(!n){const t=this.oFormatOptions.min||Number.MIN_SAFE_INTEGER,e=this.oFormatOptions.max||Number.MAX_SAFE_INTEGER;n=[t,e]}return n};return e}(e))||o);n=p;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filter/type/Value", ["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/ui/mdc/enums/FieldDisplay","sap/ui/model/SimpleType","sap/ui/model/type/Boolean","sap/ui/model/type/Date","sap/ui/model/type/Float","sap/ui/model/type/Integer","sap/ui/model/type/String"],function(e,t,r,n,a,o,i,s,u,p,l){"use strict";var f,c,d;var y={};var m=t.defineUI5Class;function _(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}function T(e,t){T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return T(e,t)}let h=(f=m("sap.fe.macros.filter.type.Value"),f(c=(d=function(t){_(o,t);function o(e,n){var a;a=t.call(this,e,n)||this;const o=(e===null||e===void 0?void 0:e.operator)||a.getDefaultOperatorName();const i=r.getOperator(o);a.operator=i;if(!i&&o.includes(".")){a._registerCustomOperator(o)}return a}y=o;var f=o.prototype;f._registerCustomOperator=function e(t){const a=t.substring(0,t.lastIndexOf(".")).replace(/\./g,"/"),o=t.substring(t.lastIndexOf(".")+1);sap.ui.require([a],e=>{if(!e){return}this.operator=new n({filterOperator:"",tokenFormat:"",name:t,valueTypes:["self"],tokenParse:"^(.*)$",format:e=>this.formatConditionValues(e.values),parse:function(e,r,a,o){if(typeof e==="object"){if(e.operator!==t){throw Error("not matching operator")}return e.values}return n.prototype.parse.apply(this,[e,r,a,o])},getModelFilter:t=>e[o].call(e,this.formatConditionValues(t.values))});r.addOperator(this.operator)})};f._isMultiValueOperator=function e(t){return t.valueTypes.filter(function(e){return!!e&&e!==o.OPERATOR_VALUE_TYPE_STATIC}).length>1};f.hasCustomOperator=function e(){return this.operator.name.includes(".")};f._stringToExternal=function e(t,r){let n;const a=this._getTypeInstance(r);if(r&&o._isArrayType(r)){if(!Array.isArray(t)){t=[t]}n=t.map(e=>a?a.parseValue(e,o.INTERNAL_VALUE_TYPE):e)}else{n=a?a.parseValue(t,o.INTERNAL_VALUE_TYPE):t}return n};o._isArrayType=function e(t){if(!t){return false}return t==="array"||t.endsWith("[]")};f._externalToString=function e(t,r){let n;const a=this._getTypeInstance(r);if(r&&o._isArrayType(r)){if(!Array.isArray(t)){t=[t]}n=t.map(e=>a?a.formatValue(e,o.INTERNAL_VALUE_TYPE):e)}else{n=a?a.formatValue(t,o.INTERNAL_VALUE_TYPE):t}return n};f._getTypeInstance=function t(r){r=this.getElementTypeName(r)||r;switch(r){case"string":return new l;case"number":case"int":return new p;case"float":return new u;case"date":return new s;case"boolean":return new i;default:e.error("Unexpected filter type");throw new Error("Unexpected filter type")}};f.getDefaultOperatorName=function e(){return r.getEQOperator().name};f.formatConditionValues=function e(t){return Array.isArray(t)&&t.length?t[0]:t};f.getElementTypeName=function e(t){if(t!==null&&t!==void 0&&t.endsWith("[]")){return t.substring(0,t.length-2)}return undefined};f.formatValue=function e(t,r){if(!t){return undefined}const n=this._isMultiValueOperator(this.operator),i=this._getTypeInstance(o.INTERNAL_VALUE_TYPE);const s=this.operator.parse(t||"",i,a.Value,false);const u=!n&&Array.isArray(s)?s[0]:s;return this._stringToExternal(u,r)};f.parseValue=function e(t,r){if(!t){return undefined}const n=this._isMultiValueOperator(this.operator),a=this._getTypeInstance(r);const o=this._externalToString(t,r);const i=n?o:[o];if(this.hasCustomOperator()){return{operator:this.operator.name,values:[this.operator.format({values:i},a)],validated:undefined}}return this.operator.format({values:i},a)};f.validateValue=function e(t){};return o}(o),d.INTERNAL_VALUE_TYPE="string",d.OPERATOR_VALUE_TYPE_STATIC="static",d))||c);y=h;return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterBar.block", ["sap/base/Log","sap/fe/core/TemplateModel","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/FilterHelper","sap/fe/macros/CommonHelper"],function(e,t,r,i,a,l,n,o,s,u,c,p,d){"use strict";var f,b,h,g,m,y,v,F,C,P,S,B,w,I,$,_,D,x,z,A,M,k,E,H,T,R,O,V,L,N,j,q,U,J,X,G,W,K,Q,Y,Z,ee,te,re,ie,ae,le,ne,oe,se,ue,ce,pe,de,fe,be,he,ge,me,ye,ve,Fe,Ce;var Pe={};var Se=p.getFilterConditions;var Be=c.generate;var we=s.getSearchRestrictions;var Ie=o.getSelectionFields;var $e=n.getSelectionVariant;var _e=l.getInvolvedDataModelObjects;var De=a.xml;var xe=i.defineBuildingBlock;var ze=i.blockEvent;var Ae=i.blockAttribute;var Me=i.blockAggregation;function ke(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Ee(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function He(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Te(e,t)}function Te(e,t){Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return Te(e,t)}function Re(e,t,r,i,a){var l={};Object.keys(i).forEach(function(e){l[e]=i[e]});l.enumerable=!!l.enumerable;l.configurable=!!l.configurable;if("value"in l||l.initializer){l.writable=true}l=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},l);if(a&&l.initializer!==void 0){l.value=l.initializer?l.initializer.call(a):void 0;l.initializer=undefined}if(l.initializer===void 0){Object.defineProperty(e,t,l);l=null}return l}function Oe(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const Ve=function(e,t){t.slotName=t.key;t.key=t.key.replace("InlineXML_","");t.label=e.getAttribute("label");t.required=e.getAttribute("required")==="true";return t};let Le=(f=xe({name:"FilterBar",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.macros.filterBar.FilterBarAPI"]}),b=Ae({type:"string",isPublic:true}),h=Ae({type:"boolean",isPublic:true}),g=Ae({type:"sap.ui.model.Context"}),m=Ae({type:"string"}),y=Ae({type:"sap.ui.model.Context",isPublic:true}),v=Ae({type:"sap.ui.model.Context",isPublic:true}),F=Ae({type:"boolean",isPublic:true}),C=Ae({type:"string"}),P=Ae({type:"boolean"}),S=Ae({type:"boolean"}),B=Ae({type:"boolean"}),w=Ae({type:"sap.ui.mdc.FilterBarP13nMode[]"}),I=Ae({type:"string"}),$=Ae({type:"boolean"}),_=Ae({type:"boolean",isPublic:true}),D=Ae({type:"string",required:false}),x=Ae({type:"boolean"}),z=Ae({type:"boolean"}),A=Ae({type:"boolean"}),M=Ae({type:"string"}),k=Ae({type:"string"}),E=Ae({type:"boolean",isPublic:true}),H=Ae({type:"boolean"}),T=ze(),R=ze(),O=ze(),V=ze(),L=ze(),N=ze(),j=Me({type:"sap.fe.macros.FilterField",isPublic:true,hasVirtualNode:true,processAggregations:Ve}),f(q=(U=function(r){He(i,r);function i(i,a,l){var n,o,s,c,p;var f;f=r.call(this,i,a,l)||this;ke(f,"id",J,Ee(f));ke(f,"visible",X,Ee(f));ke(f,"selectionFields",G,Ee(f));ke(f,"filterBarDelegate",W,Ee(f));ke(f,"metaPath",K,Ee(f));ke(f,"contextPath",Q,Ee(f));ke(f,"showMessages",Y,Ee(f));ke(f,"variantBackreference",Z,Ee(f));ke(f,"hideBasicSearch",ee,Ee(f));ke(f,"enableFallback",te,Ee(f));ke(f,"showAdaptFiltersButton",re,Ee(f));ke(f,"p13nMode",ie,Ee(f));ke(f,"propertyInfo",ae,Ee(f));ke(f,"useSemanticDateRange",le,Ee(f));ke(f,"liveMode",ne,Ee(f));ke(f,"filterConditions",oe,Ee(f));ke(f,"suspendSelection",se,Ee(f));ke(f,"showDraftEditState",ue,Ee(f));ke(f,"isDraftCollaborative",ce,Ee(f));ke(f,"toggleControlId",pe,Ee(f));ke(f,"initialLayout",de,Ee(f));ke(f,"showClearButton",fe,Ee(f));ke(f,"_applyIdToContent",be,Ee(f));ke(f,"search",he,Ee(f));ke(f,"filterChanged",ge,Ee(f));ke(f,"stateChange",me,Ee(f));ke(f,"internalFilterChanged",ye,Ee(f));ke(f,"internalSearch",ve,Ee(f));ke(f,"afterClear",Fe,Ee(f));ke(f,"filterFields",Ce,Ee(f));f.checkIfCollaborationDraftSupported=e=>{if(u.isCollaborationDraftSupported(e)){f.isDraftCollaborative=true}};f.getEntityTypePath=e=>e[0].endsWith("/")?e[0]:e[0]+"/";f.getSearch=()=>{if(!f.hideBasicSearch){return De`<control:basicSearchField>
			<mdc:FilterField
				id="${Be([f.id,"BasicSearchField"])}"
				placeholder="{sap.fe.i18n>M_FILTERBAR_SEARCH}"
				conditions="{$filters>/conditions/$search}"
				dataType="sap.ui.model.odata.type.String"
				maxConditions="1"
			/>
		</control:basicSearchField>`}return""};f.processSelectionFields=()=>{var e,t,r,i;let a="";if(f.showDraftEditState){a=`<core:Fragment fragmentName="sap.fe.core.filter.DraftEditState" type="XML" />`}f._valueHelps=[];f._filterFields=[];(e=f._filterFields)===null||e===void 0?void 0:e.push(a);if(!Array.isArray(f.selectionFields)){f.selectionFields=f.selectionFields.getObject()}(t=f.selectionFields)===null||t===void 0?void 0:t.forEach((e,t)=>{if(e.availability==="Default"){f.setFilterFieldsAndValueHelps(e,t)}});f._filterFields=((r=f._filterFields)===null||r===void 0?void 0:r.length)>0?f._filterFields:"";f._valueHelps=((i=f._valueHelps)===null||i===void 0?void 0:i.length)>0?f._valueHelps:""};f.setFilterFieldsAndValueHelps=(e,t)=>{if(e.template===undefined&&e.type!=="Slot"){f.pushFilterFieldsAndValueHelps(e)}else if(Array.isArray(f._filterFields)){var r;(r=f._filterFields)===null||r===void 0?void 0:r.push(De`<template:with path="selectionFields>${t}" var="item">
					<core:Fragment fragmentName="sap.fe.macros.filter.CustomFilter" type="XML" />
				</template:with>`)}};f.pushFilterFieldsAndValueHelps=e=>{if(Array.isArray(f._filterFields)){var t;(t=f._filterFields)===null||t===void 0?void 0:t.push(De`<internalMacro:FilterField
			idPrefix="${Be([f.id,"FilterField",d.getNavigationPath(e.annotationPath)])}"
			vhIdPrefix="${Be([f.id,"FilterFieldValueHelp"])}"
			property="${e.annotationPath}"
			contextPath="${f._getContextPathForFilterField(e,f._internalContextPath)}"
			useSemanticDateRange="${f.useSemanticDateRange}"
			settings="${d.stringifyCustomData(e.settings)}"
			visualFilter="${e.visualFilter}"
			/>`)}if(Array.isArray(f._valueHelps)){var r;(r=f._valueHelps)===null||r===void 0?void 0:r.push(De`<macro:ValueHelp
			idPrefix="${Be([f.id,"FilterFieldValueHelp"])}"
			conditionModel="$filters"
			property="${e.annotationPath}"
			contextPath="${f._getContextPathForFilterField(e,f._internalContextPath)}"
			filterFieldValueHelp="true"
			useSemanticDateRange="${f.useSemanticDateRange}"
		/>`)}};if(!f.metaPath){e.error("Context Path not available for FilterBar Macro.");return Ee(f)}const b=f.metaPath.getPath();let h="";const g=(b===null||b===void 0?void 0:b.split("/@com.sap.vocabularies.UI.v1.SelectionFields"))||[];if(g.length>0){h=f.getEntityTypePath(g)}const m=u.getEntitySetPath(h);const y=(n=f.contextPath)===null||n===void 0?void 0:n.getModel();f._internalContextPath=y===null||y===void 0?void 0:y.createBindingContext(h);const v="@com.sap.vocabularies.UI.v1.SelectionFields";const F="@com.sap.vocabularies.UI.v1.SelectionFields"+(g.length&&g[1]||"");const C={};C[v]={filterFields:f.filterFields};const P=_e(f._internalContextPath);const S=f.getConverterContext(P,undefined,l,C);if(!f.propertyInfo){f.propertyInfo=Ie(S,[],F).sPropertyInfo}if(!f.selectionFields){const e=Ie(S,[],F).selectionFields;f.selectionFields=new t(e,y).createBindingContext("/");const r=S.getEntityType(),i=$e(r,S),a=y.getContext(m),l=Se(a,{selectionVariant:i});f.filterConditions=l}f._processPropertyInfos(f.propertyInfo);const B=_e(f.metaPath,f.contextPath).targetEntitySet;if(B!==null&&B!==void 0&&(o=B.annotations)!==null&&o!==void 0&&(s=o.Common)!==null&&s!==void 0&&s.DraftRoot||B!==null&&B!==void 0&&(c=B.annotations)!==null&&c!==void 0&&(p=c.Common)!==null&&p!==void 0&&p.DraftNode){f.showDraftEditState=true;f.checkIfCollaborationDraftSupported(y)}if(f._applyIdToContent){f._apiId=f.id+"::FilterBar";f._contentId=f.id}else{f._apiId=f.id;f._contentId=f.getContentId(f.id+"")}if(f.hideBasicSearch!==true){const e=we(m,y);f.hideBasicSearch=Boolean(e&&!e.Searchable)}f.processSelectionFields();return f}Pe=i;var a=i.prototype;a._processPropertyInfos=function e(t){const r=[];if(t){const e=t.replace(/\\{/g,"{").replace(/\\}/g,"}");const i=JSON.parse(e);const a=this.getTranslatedText("FILTERBAR_EDITING_STATUS");i.forEach(function(e){if(e.isParameter){r.push(e.name)}if(e.path==="$editState"){e.label=a}});this.propertyInfo=JSON.stringify(i).replace(/\{/g,"\\{").replace(/\}/g,"\\}")}this._parameters=JSON.stringify(r)};a._getContextPathForFilterField=function e(t,r){let i=r;if(t.isParameter){const e=t.annotationPath;i=e.substring(0,e.lastIndexOf("/")+1)}return i};a.getTemplate=function e(){var t;const r=(t=this._internalContextPath)===null||t===void 0?void 0:t.getPath();let i="";if(this.filterBarDelegate){i=this.filterBarDelegate}else{i="{name:'sap/fe/macros/filterBar/FilterBarDelegate', payload: {entityTypePath: '"+r+"'}}"}return De`<macroFilterBar:FilterBarAPI
        xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"
        xmlns:core="sap.ui.core"
        xmlns:mdc="sap.ui.mdc"
        xmlns:control="sap.fe.core.controls"
        xmlns:macroFilterBar="sap.fe.macros.filterBar"
        xmlns:macro="sap.fe.macros"
        xmlns:internalMacro="sap.fe.macros.internal"
        xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
		id="${this._apiId}"
		search="${this.search}"
		filterChanged="${this.filterChanged}"
		afterClear="${this.afterClear}"
		internalSearch="${this.internalSearch}"
		internalFilterChanged="${this.internalFilterChanged}"
		stateChange="${this.stateChange}"
	>
		<control:FilterBar
			core:require="{API: 'sap/fe/macros/filterBar/FilterBarAPI'}"
			id="${this._contentId}"
			liveMode="${this.liveMode}"
			delegate="${i}"
			variantBackreference="${this.variantBackreference}"
			showAdaptFiltersButton="${this.showAdaptFiltersButton}"
			showClearButton="${this.showClearButton}"
			p13nMode="${this.p13nMode}"
			search="API.handleSearch($event)"
			filtersChanged="API.handleFilterChanged($event)"
			filterConditions="${this.filterConditions}"
			suspendSelection="${this.suspendSelection}"
			showMessages="${this.showMessages}"
			toggleControl="${this.toggleControlId}"
			initialLayout="${this.initialLayout}"
			propertyInfo="${this.propertyInfo}"
			customData:localId="${this.id}"
			visible="${this.visible}"
			customData:hideBasicSearch="${this.hideBasicSearch}"
			customData:showDraftEditState="${this.showDraftEditState}"
			customData:useSemanticDateRange="${this.useSemanticDateRange}"
			customData:entityType="${r}"
			customData:parameters="${this._parameters}"
		>
			<control:dependents>
				${this._valueHelps}
			</control:dependents>
			${this.getSearch()}
			<control:filterItems>
				${this._filterFields}
			</control:filterItems>
		</control:FilterBar>
	</macroFilterBar:FilterBarAPI>`};return i}(r),J=Re(U.prototype,"id",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),X=Re(U.prototype,"visible",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),G=Re(U.prototype,"selectionFields",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),W=Re(U.prototype,"filterBarDelegate",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),K=Re(U.prototype,"metaPath",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=Re(U.prototype,"contextPath",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=Re(U.prototype,"showMessages",[F],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Z=Re(U.prototype,"variantBackreference",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),ee=Re(U.prototype,"hideBasicSearch",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),te=Re(U.prototype,"enableFallback",[S],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),re=Re(U.prototype,"showAdaptFiltersButton",[B],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),ie=Re(U.prototype,"p13nMode",[w],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Item,Value"}}),ae=Re(U.prototype,"propertyInfo",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),le=Re(U.prototype,"useSemanticDateRange",[$],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),ne=Re(U.prototype,"liveMode",[_],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),oe=Re(U.prototype,"filterConditions",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),se=Re(U.prototype,"suspendSelection",[x],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),ue=Re(U.prototype,"showDraftEditState",[z],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),ce=Re(U.prototype,"isDraftCollaborative",[A],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),pe=Re(U.prototype,"toggleControlId",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),de=Re(U.prototype,"initialLayout",[k],{configurable:true,enumerable:true,writable:true,initializer:function(){return"compact"}}),fe=Re(U.prototype,"showClearButton",[E],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),be=Re(U.prototype,"_applyIdToContent",[H],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),he=Re(U.prototype,"search",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),ge=Re(U.prototype,"filterChanged",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),me=Re(U.prototype,"stateChange",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),ye=Re(U.prototype,"internalFilterChanged",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),ve=Re(U.prototype,"internalSearch",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),Fe=Re(U.prototype,"afterClear",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),Ce=Re(U.prototype,"filterFields",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),U))||q);Pe=Le;return Pe},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterBarAPI", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/merge","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/DraftEditState","sap/fe/core/helpers/SemanticDateOperators","sap/fe/macros/filter/FilterUtils","sap/fe/macros/filterBar/adapter/SelectionVariantToStateFilters","sap/fe/macros/filterBar/adapter/StateFilterToSelectionVariant","sap/ui/mdc/p13n/StateUtil","../MacroAPI"],function(e,t,r,i,n,a,o,l,s,u,c){"use strict";var p,f,d,g,h,b,y,v,F,m,S,w,C,E,P,z,O,V,B,x,I,T,_,D,A,M,j,k,U,$,N,R,L;var H=i.xmlEventHandler;var W=i.property;var q=i.event;var J=i.defineUI5Class;var G=i.aggregation;function K(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Q(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function X(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Y(e,t)}function Y(e,t){Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return Y(e,t)}function Z(e,t,r,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function ee(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let te=(p=J("sap.fe.macros.filterBar.FilterBarAPI",{returnTypes:["sap.ui.core.Control"]}),f=W({type:"string"}),d=W({type:"string",expectedAnnotations:["com.sap.vocabularies.UI.v1.SelectionFields"],expectedTypes:["EntitySet","EntityType"]}),g=W({type:"string",expectedTypes:["EntitySet","EntityType","NavigationProperty"]}),h=W({type:"boolean",defaultValue:false}),b=W({type:"boolean",defaultValue:true}),y=W({type:"boolean",defaultValue:true}),v=W({type:"boolean",defaultValue:false}),F=G({type:"sap.fe.macros.FilterField",multiple:true}),m=q(),S=q(),w=q(),C=q(),E=q(),P=q(),z=H(),O=H(),p(V=(B=function(i){X(c,i);function c(){var e;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}e=i.call(this,...r)||this;K(e,"id",x,Q(e));K(e,"metaPath",I,Q(e));K(e,"contextPath",T,Q(e));K(e,"liveMode",_,Q(e));K(e,"visible",D,Q(e));K(e,"showMessages",A,Q(e));K(e,"showClearButton",M,Q(e));K(e,"filterFields",j,Q(e));K(e,"search",k,Q(e));K(e,"internalSearch",U,Q(e));K(e,"filterChanged",$,Q(e));K(e,"afterClear",N,Q(e));K(e,"internalFilterChanged",R,Q(e));K(e,"stateChange",L,Q(e));e.isSemanticDateFilterApplied=()=>a.hasSemanticDateOperations(e.content.getConditions(),false);return e}var p=c.prototype;p.handleSearch=function e(t){const i=t.getSource();const n=t.getParameters();if(i){const e=i.getFilterConditions();const t=this._prepareEventParameters(i);this.fireInternalSearch(r({conditions:e},n));this.fireSearch(t)}};p.handleFilterChanged=function e(t){const i=t.getSource();const n=t.getParameters();if(i){const e=i.getFilterConditions();const t=this._prepareEventParameters(i);this.fireInternalFilterChanged(r({conditions:e},n));this.fireFilterChanged(t)}};p._prepareEventParameters=function e(t){const{parameters:r,filters:i,search:n}=o.getFilters(t);return{parameters:r,filters:i,search:n}};p.setFilterValues=function e(t,r,i){if(arguments.length===2){i=r;return o.setFilterValues(this.content,t,i)}return o.setFilterValues(this.content,t,r,i)};p.getActiveFiltersText=function e(){var t;const r=this.content;return(r===null||r===void 0?void 0:(t=r.getAssignedFiltersText())===null||t===void 0?void 0:t.filtersText)||""};p.getFilters=function e(){return o.getFilters(this.content)};p.triggerSearch=async function t(){const r=this.content;try{if(r){await r.waitForInitialization();return await r.triggerSearch()}}catch(t){const r=t instanceof Error?t.message:String(t);e.error(`FE : Buildingblock : FilterBar : ${r}`);throw Error(r)}};p.getSelectionVariant=async function t(){try{const e=this.content;const t=await u.retrieveExternalState(e);const r=t.filter;const i=e.data("parameters");return s.getSelectionVariantFromConditions(r,e.getPropertyHelper(),i)}catch(t){const r=this.getId();const i=t instanceof Error?t.message:String(t);e.error(`FilterBar Building Block (${r}) - get selection variant failed : ${i}`);throw Error(i)}};p.getMandatoryFilterPropertyNames=function e(){const t=this.content;return t.getPropertyInfoSet().filter(function(e){return e.required}).map(function(e){return e.conditionPath})};p.setSelectionVariant=async function t(r){try{const e=this.content,t=await this.convertSelectionVariantToStateFilters(r);await this.clearFilterValues(e);const i=await this._getFilterBarSupportedFields(e);const n=l.getStateToApply(i,t);return await u.applyExternalState(e,n)}catch(t){const r=t instanceof Error?t.message:String(t);e.error(`FE : Buildingblock : FilterBar : ${r}`);throw Error(r)}};p.convertSelectionVariantToStateFilters=async function e(t){const r=this.content;const i=await this._getFilterBarSupportedFields(r);if(!i.length){throw new Error("No valid metadata properties present for filter bar")}const n=this._getFilterBarInfoForConversion();const a=l.getStateFiltersFromSV(t,n,i)||{};return a};p._getFilterBarInfoForConversion=function e(){var t;const r=this.content,i=(t=r.getModel())===null||t===void 0?void 0:t.getMetaModel(),n=r.data("entityType"),a=r.data("useSemanticDateRange")==="true"||r.data("useSemanticDateRange")===true,o=r.getModel("viewData"),l=o.getData(),s=l===null||l===void 0?void 0:l.controlConfiguration,u=s===null||s===void 0?void 0:s["@com.sap.vocabularies.UI.v1.SelectionFields"],c=u===null||u===void 0?void 0:u.filterFields;return{metaModel:i,contextPath:n,useSemanticDateRange:a,filterFieldsConfig:c}};p.getParameters=function e(){const t=this.content;const r=t.data("parameters");if(r){return Array.isArray(r)?r:JSON.parse(r)}return[]};p._getFilterBarSupportedFields=async function e(t){await t.waitForInitialization();return t.getControlDelegate().fetchProperties(t)};p.clearFilterValues=async function e(t){await this._clearFilterValuesWithOptions(t);this.fireEvent("afterClear")};p._clearFilterValuesWithOptions=async function e(r,i){var a;if(!r){return}const o=await u.retrieveExternalState(r);const l="$editState";const s=n.ALL.id;const c=t((a=o.filter[l])===null||a===void 0?void 0:a[0]);const p=(c===null||c===void 0?void 0:c.values[0])===s;const f=i&&Object.keys(i).length>0&&i.clearEditFilter;for(const e of Object.keys(o.filter)){if(!f&&e===l&&p){continue}for(const t of o.filter[e]){t.filtered=false}}await u.applyExternalState(r,{filter:o.filter});if(!f&&c&&!p){c.values=[s];await u.applyExternalState(r,{filter:{[l]:[c]}})}r.cleanUpAllFilterFieldsInErrorState()};return c}(c),x=Z(B.prototype,"id",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),I=Z(B.prototype,"metaPath",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),T=Z(B.prototype,"contextPath",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),_=Z(B.prototype,"liveMode",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),D=Z(B.prototype,"visible",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),A=Z(B.prototype,"showMessages",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),M=Z(B.prototype,"showClearButton",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),j=Z(B.prototype,"filterFields",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),k=Z(B.prototype,"search",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),U=Z(B.prototype,"internalSearch",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),$=Z(B.prototype,"filterChanged",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),N=Z(B.prototype,"afterClear",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),R=Z(B.prototype,"internalFilterChanged",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),L=Z(B.prototype,"stateChange",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),Z(B.prototype,"handleSearch",[z],Object.getOwnPropertyDescriptor(B.prototype,"handleSearch"),B.prototype),Z(B.prototype,"handleFilterChanged",[O],Object.getOwnPropertyDescriptor(B.prototype,"handleFilterChanged"),B.prototype),B))||V);return te},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/FilterBarDelegate", ["sap/base/Log","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/TemplateModel","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/core/type/EDM","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/filter/FilterUtils","sap/ui/mdc/FilterBarDelegate","sap/ui/mdc/odata/v4/TypeMap","sap/ui/model/json/JSONModel"],function(e,t,n,o,i,r,a,l,s,c,u,d,f,p,g,m,v){"use strict";var h=u.getModelType;var P=c.hasValueHelp;var y=s.generate;var F=l.getResourceModel;var C=l.getLocalizedText;var x=r.isPropertyFilterable;var b=i.sortPropertyInfosByGroupLabel;var M=i.processSelectionFields;const I=Object.assign({},g);I.apiVersion=2;const T="$editState",w="$search",D="FilterFieldValueHelp",S="sap_fe_FilterBarDelegate_propertyInfoMap",A=/[+*]/g;function E(e,t,n){const o=new v({id:e,isDraftCollaborative:a.isCollaborationDraftSupported(t)}),i={bindingContexts:{this:o.createBindingContext("/")},models:{this:o}};return f.templateControlFragment("sap.fe.core.filter.DraftEditState",i,undefined,n).finally(function(){o.destroy()})}I._templateCustomFilter=async function(e,t,i,r,a){const l=await f.getCustomData(e,"entityType",a);const s=new v({id:t}),c=new o(i,r),u={bindingContexts:{contextPath:r.createBindingContext(l),this:s.createBindingContext("/"),item:c.createBindingContext("/")},models:{contextPath:r,this:s,item:c}},d=n.getTargetView(e),p=d?d.getController():undefined,g={controller:p?p:undefined,view:d};return f.templateControlFragment("sap.fe.macros.filter.CustomFilter",u,g,a).finally(function(){s.destroy();c.destroy()})};function $(e){return e.replace(A,"")}I._findSelectionField=function(e,t){return e.find(function(e){return(e.conditionPath===t||e.conditionPath.replaceAll(/\*/g,"")===t)&&e.availability!=="Hidden"})};function _(e,t,n){return n?y([e,t,n]):y([e,t])}function B(n,o){const i=new v({idPrefix:o.sVhIdPrefix,conditionModel:"$filters",navigationPrefix:o.sNavigationPrefix?`/${o.sNavigationPrefix}`:"",filterFieldValueHelp:true,useSemanticDateRange:o.bUseSemanticDateRange});const r=t({},n,{bindingContexts:{this:i.createBindingContext("/")},models:{this:i}});return Promise.resolve(f.templateControlFragment("sap.fe.macros.internal.valuehelp.ValueHelp",r,{isXML:n.isXML})).then(function(e){if(e){const t="dependents";if(e.length){e.forEach(function(e){if(o.oModifier){o.oModifier.insertAggregation(o.oControl,t,e,0)}else{o.oControl.insertAggregation(t,e,0,false)}})}else if(o.oModifier){o.oModifier.insertAggregation(o.oControl,t,e,0)}else{o.oControl.insertAggregation(t,e,0,false)}}return}).catch(function(t){e.error("Error while evaluating DelegateUtil.isValueHelpRequired",t)}).finally(function(){i.destroy()})}async function V(t,n,o){try{const e=await Promise.resolve(n.getAggregation(t,"dependents"));let i;if(e&&e.length>1){for(i=0;i<=e.length;i++){const t=e[i];if(t&&t.isA("sap.ui.mdc.FilterField")){const e=t.getFieldPath(),n=t.getId();if(o===e&&n.indexOf("CustomFilterField")){return t}}}}}catch(t){e.error("Filter Cannot be added",t)}}function L(e,n,i){const r=new v({idPrefix:n.sIdPrefix,vhIdPrefix:n.sVhIdPrefix,propertyPath:n.sPropertyName,navigationPrefix:n.sNavigationPrefix?`/${n.sNavigationPrefix}`:"",useSemanticDateRange:n.bUseSemanticDateRange,settings:n.oSettings,visualFilter:n.visualFilter});const a=n.oMetaModel;const l=new o(n.visualFilter,a);const s=t({},e,{bindingContexts:{this:r.createBindingContext("/"),visualFilter:l.createBindingContext("/")},models:{this:r,visualFilter:l,metaModel:a,converterContext:i}});return f.templateControlFragment("sap.fe.macros.internal.filterField.FilterFieldTemplate",s,{isXML:e.isXML}).finally(function(){r.destroy()})}async function U(t,n,o,i){try{i=i.replace("*","");const e=y([i]);if(n&&!n.modifier){throw"FilterBar Delegate method called without modifier."}const r=await n.modifier.getProperty(t,"delegate");const a=await n.modifier.getProperty(t,"propertyInfo");if(a){const l=a.some(function(t){return t.key===e||t.name===e});if(!l){const e=r.payload.entityTypePath;const l=p.createConverterContext(t,e,o,n.appComponent);const s=l.getEntityType();let c=p.getFilterField(i,l,s);c=p.buildProperyInfo(c,l);a.push(c);n.modifier.setProperty(t,"propertyInfo",a)}}}catch(n){e.warning(`${t.getId()} : ${n}`)}}I.addItem=async function(e,t,n){if(!n){return I._addP13nItem(t,e)}const o=n.modifier;const i=n&&n.appComponent&&n.appComponent.getModel();const r=i&&i.getMetaModel();if(!r){return Promise.resolve(null)}const a=o&&o.targets==="xmlTree";if(a){await U(e,n,r,t)}return I._addFlexItem(t,e,r,o,n.appComponent)};I.removeItem=async function(e,t,n){let o=true;const i=n.modifier;const r=i&&i.targets==="xmlTree";if(r&&!e.data("sap_fe_FilterBarDelegate_propertyInfoMap")){const o=n&&n.appComponent&&n.appComponent.getModel();const i=o&&o.getMetaModel();if(!i){return Promise.resolve(null)}if(typeof t!=="string"&&t.getFieldPath()){await U(e,n,i,t.getFieldPath())}else{await U(e,n,i,t)}}if(typeof t!=="string"&&t.isA&&t.isA("sap.ui.mdc.FilterField")){if(t.data("isSlot")==="true"&&n){i.insertAggregation(e,"dependents",t);o=false}}return Promise.resolve(o)};I.addCondition=async function(e,t,n){const o=n.modifier;const i=o&&o.targets==="xmlTree";if(i){const o=n&&n.appComponent&&n.appComponent.getModel();const i=o&&o.getMetaModel();if(!i){return Promise.resolve(null)}await U(e,n,i,t)}return Promise.resolve()};I.removeCondition=async function(e,t,n){if(!e.data("sap_fe_FilterBarDelegate_propertyInfoMap")){const o=n.modifier;const i=o&&o.targets==="xmlTree";if(i){const o=n&&n.appComponent&&n.appComponent.getModel();const i=o&&o.getMetaModel();if(!i){return Promise.resolve(null)}await U(e,n,i,t)}}return Promise.resolve()};I.clearFilters=async function(e){const t=e.getParent();return t.clearFilterValues(e)};I._addP13nItem=function(t,n){return f.fetchModel(n).then(function(e){return I._addFlexItem(t,n,e.getMetaModel(),undefined)}).catch(function(t){e.error("Model could not be resolved",t);return null})};I.fetchPropertiesForEntity=function(e,t,o){const i=t.getObject(e);const r=o.isA("sap.ui.mdc.filterbar.vh.FilterBar")?true:undefined;if(!o||!i){return[]}const l=p.createConverterContext(o,e);const s=a.getEntitySetPath(e);const c=p.getConvertedFilterFields(o,e,r);let u=[];c.forEach(function(e){const n=e.annotationPath;if(n){var o,i,r,a;const s=l.getConvertedTypes().resolvePath(n).target;const c=d.getLocationForPropertyPath(t,n);const f=n.replace(`${c}/`,"");const p=l.getEntityType();const g=(o=p.annotations)===null||o===void 0?void 0:(i=o.UI)===null||i===void 0?void 0:i.SelectionFields;const m=(r=p.annotations)===null||r===void 0?void 0:(a=r.UI)===null||a===void 0?void 0:a.FilterFacets;if(I._isFilterAdaptable(e,s,g,m)&&x(t,c,$(f),true)){u.push(e)}}else{u.push(e)}});const g=[];const v=M(u,l);const y=[];v.forEach(function(e){if(e.key){y.push(e.key)}});u=u.filter(function(e){return y.includes(e.key)});const b=n.getFilterRestrictionsByPath(s,t),T=b.FilterAllowedExpressions;v.forEach(function(e,o){const i=u[o];if(!i||!i.conditionPath){return}const r=$(i.conditionPath);e=Object.assign(e,{group:i.group,groupLabel:i.groupLabel,path:i.conditionPath,tooltip:null,removeFromAppState:false,hasValueHelp:false});if(i.annotationPath){const n=i.annotationPath;const o=t.getObject(n),r=t.getObject(`${n}@`),a=t.createBindingContext(n);const l=r["@com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]||r["@com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"]||r["@com.sap.vocabularies.Analytics.v1.Measure"];const s=d.getLocationForPropertyPath(t,i.annotationPath);const c=n.replace(`${s}/`,"");let u;let f;if(x(t,s,$(c),true)){u=r["@com.sap.vocabularies.Common.v1.FilterDefaultValue"];if(u){f=u[`$${h(o.$Type)}`]}e=Object.assign(e,{tooltip:r["@com.sap.vocabularies.Common.v1.QuickInfo"]||undefined,removeFromAppState:l,hasValueHelp:P(a.getObject(),{context:a}),defaultFilterConditions:f?[{fieldPath:i.conditionPath,operator:"EQ",values:[f]}]:undefined})}}if(e){if(T[r]&&T[r].length>0){e.filterExpression=n.getSpecificAllowedExpression(T[r])}else{e.filterExpression="auto"}e=Object.assign(e,{visible:i.availability==="Default"})}v[o]=e});v.forEach(function(e){if(e.path==="$editState"){e.label=F(o).getText("FILTERBAR_EDITING_STATUS")}e.typeConfig=m.getTypeConfig(e.dataType,e.formatOptions,e.constraints);e.label=C(e.label,o)||"";if(e.isParameter){g.push(e.name)}});u=v;f.setCustomData(o,"parameters",g);return u};function H(e,t){var n;if(e.isA("sap.fe.macros.table.TableAPI")){const o=e.getMetaPath().split("#")[0].split("/");switch(o[o.length-1]){case`@${"com.sap.vocabularies.UI.v1.SelectionPresentationVariant"}`:case`@${"com.sap.vocabularies.UI.v1.PresentationVariant"}`:return(n=t.getObject(e.getMetaPath()).Visualizations)===null||n===void 0?void 0:n.find(e=>e.$AnnotationPath.includes(`@${"com.sap.vocabularies.UI.v1.LineItem"}`)).$AnnotationPath;case`@${"com.sap.vocabularies.UI.v1.LineItem"}`:const o=e.getMetaPath().split("/");return o[o.length-1]}}return undefined}I._isFilterAdaptable=function(e,t,n,o){var i,r;let a,l;if(n){a=n.some(function(t){if(t.value===e.key){return true}return false})}else{a=false}if(o){l=o.some(function(t){var n;const o=(n=t.Target)===null||n===void 0?void 0:n.$target;return o===null||o===void 0?void 0:o.Data.some(function(t){if(t.Value.path===e.key){return true}return false})})}else{l=false}return a||l||!((i=t.annotations)!==null&&i!==void 0&&(r=i.UI)!==null&&r!==void 0&&r.AdaptationHidden)};I._addFlexItem=function(e,t,o,i,r){const l=i?i.getId(t):t.getId(),s=i?"":"Adaptation",c=p.getConvertedFilterFields(t,null,undefined,o,r,i,i?undefined:H(t.getParent(),o)),u=I._findSelectionField(c,e),g=$(e),m=!!i&&i.targets==="xmlTree";if(e===T){return E(_(l,`${s}FilterField`),o,i)}else if(e===w){return Promise.resolve(null)}else if(u!==null&&u!==void 0&&u.template){return I._templateCustomFilter(t,_(l,`${s}FilterField`),u,o,i)}if((u===null||u===void 0?void 0:u.type)==="Slot"&&i){return V(t,i,g)}const v=d.getNavigationPath(g);let h;let P;let y;let F;let C;return Promise.resolve().then(function(){if(u!==null&&u!==void 0&&u.isParameter){const e=u.annotationPath;return e.substr(0,e.lastIndexOf("/")+1)}return f.getCustomData(t,"entityType",i)}).then(function(e){h=e;return f.getCustomData(t,"useSemanticDateRange",i)}).then(function(e){P=e;const n=o.createBindingContext(h+g);const r=i?i.getId(t):t.getId();y={bindingContexts:{contextPath:o.createBindingContext(h),property:n},models:{contextPath:o,property:o},isXML:m};F=`/${a.getEntitySetPath(h).split("/").filter(a.filterOutNavPropBinding).join("/")}`;C={sPropertyName:g,sBindingPath:F,sValueHelpType:s+D,oControl:t,oMetaModel:o,oModifier:i,sIdPrefix:_(r,`${s}FilterField`,v),sVhIdPrefix:_(r,s+D),sNavigationPrefix:v,bUseSemanticDateRange:P,oSettings:(u===null||u===void 0?void 0:u.settings)??{},visualFilter:u===null||u===void 0?void 0:u.visualFilter};return f.doesValueHelpExist(C)}).then(function(e){if(!e){return B(y,C)}return}).then(function(){let e;if(C.visualFilter){e=n.getTargetView(t).getController()._getPageModel()}return L(y,C,e)})};function O(e){if(e instanceof window.Element){return null}return f.getCustomData(e,S)}function R(e,t){if(e instanceof window.Element){return}f.setCustomData(e,S,t)}function N(e,t,n){let o=O(n);let i;if(!o){o=I.fetchPropertiesForEntity(e,t,n);o.forEach(function(e){i=null;if(e.groupLabel){i=C(e.groupLabel,n);e.groupLabel=i===null?e.groupLabel:i}});b(o);R(n,o)}return o}I.fetchProperties=async function(e){const t=f.getCustomData(e,"entityType");return f.fetchModel(e).then(function(n){if(!n){return[]}return N(t,n.getMetaModel(),e)})};I.getTypeMap=function(){return m};return I},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/adapter/SelectionVariantToStateFilters", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/FilterHelper","sap/fe/macros/filter/FilterFieldHelper","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/util/FilterUtil"],function(t,e,n,o,r,i,a){"use strict";var s=r.maxConditions;var l=o.getConditions;var p=n.ODATA_TYPE_MAPPING;var c=e.EDM_TYPE_MAPPING;const d=["$search","$editState"];const u={getStateFiltersFromSV:function(t,e,n){const{contextPath:o}=e;const r={};n.forEach(function(n){if(!d.includes(n.name)){let i=[];const{conditionPath:a,annotationPath:s}=n;const l=a.replaceAll("*","");const p=l.substring(0,l.lastIndexOf("/"));const c=l.substring(l.lastIndexOf("/")+1);const d={propertyName:c,navPath:p,propertyContextPath:`${o}${p?p+"/":""}`,propertyMetadata:n,selectionVariant:t,filterBarInfo:e};if(n.isParameter&&s){d.propertyContextPath=s.substring(0,s.lastIndexOf("/")+1);i=u._getConditionsForParameter(d)}else if(a.includes("/")){i=u._getConditionsForNavProperty(d)}else{i=u._getConditionsForProperty(d)}if(i.length>0){r[a]=i}}});return r},getStateToApply:(t,e)=>{const n=Object.keys(e).reduce((e,n)=>{const o=a.getPropertyByKey(t,n);if(o.hiddenFilter===undefined||!o.hiddenFilter){e.push({name:n})}return e},[]);return{filter:e,items:n}},_getPropertyFilterConfigurationSetting:function(t,e){var n;return(e===null||e===void 0?void 0:(n=e[t])===null||n===void 0?void 0:n.settings)??{}},_getConditionsForParameter:function(t){let e=[];const{propertyMetadata:n,selectionVariant:o}=t;const r=n.name;const i=u._getSelectOptionName(o,r,true);if(i){e=u._getPropertyConditions(t,i,true)}return e},_getConditionsForProperty:function(t){const{propertyMetadata:e,selectionVariant:n}=t;const o=e.name;const r=u._getSelectOptionName(n,o);let i=[];if(r){i=u._getPropertyConditions(t,r,false)}return i},_getConditionsForNavProperty:function(t){const{filterBarInfo:e,selectionVariant:n,propertyName:o,navPath:r}=t;const{contextPath:i}=e;let a=[];let s=`${i.substring(1)}${r}`.replaceAll("/",".");let l=u._getSelectOptionName(n,o,false,s);if(!l){s=r.replaceAll("/",".");l=u._getSelectOptionName(n,o,false,s)}if(l){a=u._getPropertyConditions(t,l,false)}return a},_getSelectOptionName:function(t,e,n,o){const r=[];const i=t.getSelectOptionsPropertyNames();if(n){r.push(`$Parameter.${e}`);r.push(e);if(e.startsWith("P_")){r.push(`$Parameter.${e.slice(2,e.length)}`);r.push(e.slice(2,e.length))}else{r.push(`$Parameter.P_${e}`);r.push(`P_${e}`)}}else{r.push(e);r.push(`$Parameter.${e}`);if(e.startsWith("P_")){const t=e.slice(2,e.length);r.push(`$Parameter.${t}`);r.push(t)}else{const t=`P_${e}`;r.push(`$Parameter.${t}`);r.push(t)}}let a="";r.some(t=>{const e=o?`${o}.${t}`:t;return i.includes(e)?a=e:false});return a},_getMaxConditions(t){const{filterBarInfo:e,propertyContextPath:n,propertyName:o}=t;const{metaModel:r}=e;const i=`${n}${o}`;const a=r.createBindingContext(i);let l=0;if(a){l=s(o,{context:a})}return l},_getPropertyConditions:function(e,n,o){const{filterBarInfo:r,propertyMetadata:i,selectionVariant:a,propertyContextPath:s,propertyName:l}=e;const p=a.getSelectOption(n);const{metaModel:c}=r;const d=u._getMaxConditions(e);let f=[];if(p!==null&&p!==void 0&&p.length&&d!==0){const n=u._getSemanticDateOperators(e,o);const r=s.substring(0,s.length-1);const a=o?["EQ"]:t.getOperatorsForProperty(l,r,c);f=this._getConditionsFromSelectOptions(p,i,a,n,d===1)}return f},_getSemanticDateOperators:function(e,n){const{filterBarInfo:o,propertyMetadata:r,propertyName:i,propertyContextPath:a}=e;const s=r.name;let l=[];const{useSemanticDateRange:c,filterFieldsConfig:d,metaModel:f}=o;if(c){if(n){l=["EQ"]}else{const e=a.substring(0,a.length-1),n=u._getPropertyFilterConfigurationSetting(s,d);l=t.getOperatorsForProperty(i,e,f,p[r.dataType],c,n)}}return l},_getConditionsFromSelectOptions:function(t,e,n,o,r){let i=[];if(t.length){i=r?u._addConditionFromSelectOption(e,n,o,i,t[0]):t.reduce(u._addConditionFromSelectOption.bind(null,e,n,o),i)}return i},_addConditionFromSelectOption:function(t,e,n,o,r){const{hasValueHelp:i,dataType:a}=t;const s=u._getEdmType(a);const p=l(r,s,!!i);if(r.SemanticDates&&n.length&&n.includes(r.SemanticDates.operator)){const t=u._addSemanticDatesToConditions(r.SemanticDates);if(Object.keys(t).length>0){o.push(t)}}else if(p){if(e.length===0||e.includes(p.operator)){if(i){u._adjustValueHelpCondition(p)}o.push(p)}}return o},_addSemanticDatesToConditions:t=>{const e=[];if(t.high){e.push(t.high)}if(t.low){e.push(t.low)}return{values:e,operator:t.operator,isEmpty:undefined}},_getEdmType:t=>{const e=Object.fromEntries(Object.entries(c).map(t=>{let[e,n]=t;return[n.type,e]}));return e[t]},_adjustValueHelpCondition:t=>{t.validated=i.Validated;if(t.operator==="Empty"){t.operator="EQ";t.values=[""]}else if(t.operator==="NotEmpty"){t.operator="NE";t.values=[""]}delete t.isEmpty}};return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/filterBar/adapter/StateFilterToSelectionVariant", ["sap/base/Log","sap/base/util/isEmptyObject","sap/fe/core/helpers/SemanticDateOperators","sap/fe/navigation/SelectionVariant","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/RangeOperator","sap/ui/mdc/odata/v4/TypeMap"],function(e,t,n,o,i,a,r){"use strict";const s={getSelectionVariantFromConditions:function(e,n,i){const a=new o;if(!t(e)){for(const t in e){const o=e[t];if(o!==null&&o!==void 0&&o.length){const e=s.getSelectionOptionsFromCondition(o,t,n);if(e.length){if(i!==null&&i!==void 0&&i.includes(t)){a.massAddSelectOption(`$Parameter.${t}`,e)}a.massAddSelectOption(t,e)}}}}return a},compareSelectOptions:function(e,t){return e.Option===t.Option&&e.Sign===t.Sign&&e.Low===t.Low&&e.High===t.High},mergeSelectionVariants:function(e,t){const n=new o(e.toJSONString());const i=t.getSelectOptionsPropertyNames();const a=[];for(const e of i){const o=t.getSelectOption(e)||[];const i=n.getSelectOption(e)||[];if(!a.includes(e)){n.massAddSelectOption(e,o);a.push(e)}else{for(const e of o){if(!i.some(t=>s.compareSelectOptions(t,e))){i.push(e)}}n.massAddSelectOption(e,i)}}return n},getSelectionOptionsFromCondition:function(e,t,n){const o=[];for(const i of e){const e=s.getSelectionOption(i,t,n);if(e){o.push(e)}}return o},getSelectionOption:function(e,t,o){var r;let c;let p;const l=e.operator&&e.operator!==""?i.getOperator(e.operator):undefined;if(l instanceof a){c=s.createSemanticDatesFromConditions(e);p=s.getOptionForPropertyWithRangeOperator(l,e,t,o)}else{const o=n.getSupportedOperations();if(o.includes(e.operator)){c=s.createSemanticDatesFromConditions(e)}p=s.getSelectionFormatForNonRangeOperator(e,t)}if((r=p)!==null&&r!==void 0&&r.Option){p.SemanticDates=c?c:undefined}return p},getSelectionFormatForNonRangeOperator:function(e,t){const[n,o]=e.values;return s.getSelectOption(e.operator,n!==undefined&&n!==null?n.toString():"",o!==undefined&&o!==null?o.toString():null,t)},getTypeInfoForFilterProperty:function(e,t){const n=t.getProperty(e);let o;if(n){o=n.typeConfig}return o},getOptionForPropertyWithRangeOperator:function(e,t,n,o){const i={Sign:"I",Option:"",Low:"",High:""};const a=s.getTypeInfoForFilterProperty(n,o);const c=e.getModelFilter(t,n,a?a.typeInstance:undefined,false,a?a.baseType:undefined);const p=c.getFilters();if(p===undefined){i.Sign=e.exclude?"E":"I";i.Low=r.externalizeValue(c.getValue1(),a?a.typeInstance:"string");i.High=r.externalizeValue(c.getValue2(),a?a.typeInstance:"string");i.Option=c.getOperator()??""}return i.Option!=""?i:undefined},getSelectOption:function(t,n,o,i){const a={Option:"",Sign:"I",Low:n,High:o};switch(t){case"Contains":a.Option="CP";a.Low=`*${a.Low}*`;break;case"StartsWith":a.Option="CP";a.Low+="*";break;case"EndsWith":a.Option="CP";a.Low=`*${a.Low}`;break;case"BT":case"LE":case"LT":case"GT":case"EQ":a.Option=t;break;case"DATE":a.Option="EQ";break;case"DATERANGE":a.Option="BT";break;case"FROM":a.Option="GE";break;case"TO":a.Option="LE";break;case"EEQ":a.Option="EQ";break;case"Empty":a.Option="EQ";a.Low="";break;case"NE":a.Sign="E";a.Option="EQ";break;case"NotContains":a.Option="CP";a.Sign="E";a.Low=`*${a.Low}*`;break;case"NOTBT":a.Option="BT";a.Sign="E";break;case"NotStartsWith":a.Option="CP";a.Low+="*";a.Sign="E";break;case"NotEndsWith":a.Option="CP";a.Low=`*${a.Low}`;a.Sign="E";break;case"NotEmpty":a.Option="EQ";a.Low="";a.Sign="E";break;case"NOTLE":a.Option="LE";a.Sign="E";break;case"NOTGE":a.Option="GE";a.Sign="E";break;case"NOTLT":a.Option="LT";a.Sign="E";break;case"NOTGT":a.Option="GT";a.Sign="E";break;default:e.warning(`${t} is not supported. ${i} could not be added to the Selection variant`)}return a.Option!==""?a:undefined},createSemanticDatesFromConditions:function(e){if(!t(e)){return{high:e.values[0]?e.values[0]:null,low:e.values[1]?e.values[1]:null,operator:e.operator}}}};return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/Form.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/Form","sap/fe/core/converters/helpers/ID","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/form/FormHelper","sap/ui/core/library","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,a,i,r,n,o,l,s,u,c,p){"use strict";var m,f,b,h,y,d,g,v,P,C,$,L,F,S,x,T,w,I,M,z,E,O,k,B,j,A,_,D,X;var U={};var N=c.TitleLevel;var R=s.getContextRelativeTargetObjectPath;var V=l.resolveBindingString;var q=l.ifElse;var G=l.equal;var H=l.compileExpression;var Q=o.UI;var W=n.getFormContainerID;var J=r.createFormDefinition;var K=i.getInvolvedDataModelObjects;var Y=a.xml;var Z=t.defineBuildingBlock;var ee=t.blockEvent;var te=t.blockAttribute;var ae=t.blockAggregation;function ie(e,t,a,i){if(!a)return;Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(i):void 0})}function re(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function ne(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;oe(e,t)}function oe(e,t){oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,a){t.__proto__=a;return t};return oe(e,t)}function le(e,t,a,i,r){var n={};Object.keys(i).forEach(function(e){n[e]=i[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=a.slice().reverse().reduce(function(a,i){return i(e,t,a)||a},n);if(r&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(r):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}function se(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let ue=(m=Z({name:"Form",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.macros.form.FormAPI"]}),f=te({type:"string",isPublic:true,required:true}),b=te({type:"sap.ui.model.Context",required:true,isPublic:true,expectedTypes:["EntitySet","NavigationProperty","Singleton","EntityType"]}),h=te({type:"sap.ui.model.Context",isPublic:true,required:true,expectedAnnotationTypes:["com.sap.vocabularies.UI.v1.FieldGroupType","com.sap.vocabularies.UI.v1.CollectionFacet","com.sap.vocabularies.UI.v1.ReferenceFacet"],expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"]}),y=te({type:"array"}),d=te({type:"boolean"}),g=te({type:"boolean"}),v=te({type:"string",isPublic:true}),P=te({type:"sap.ui.core.TitleLevel",isPublic:true}),C=te({type:"string"}),$=te({type:"string"}),L=ee(),F=ae({type:"sap.fe.macros.form.FormElement",isPublic:true,slot:"formElements",isDefault:true}),S=te({type:"object",isPublic:true}),m(x=(T=function(e){ne(t,e);function t(t,a,i){var r;r=e.call(this,t,a,i)||this;ie(r,"id",w,re(r));ie(r,"contextPath",I,re(r));ie(r,"metaPath",M,re(r));ie(r,"formContainers",z,re(r));ie(r,"useFormContainerLabels",E,re(r));ie(r,"partOfPreview",O,re(r));ie(r,"title",k,re(r));ie(r,"titleLevel",B,re(r));ie(r,"displayMode",j,re(r));ie(r,"isVisible",A,re(r));ie(r,"onChange",_,re(r));ie(r,"formElements",D,re(r));ie(r,"layout",X,re(r));if(r.metaPath&&r.contextPath&&(r.formContainers===undefined||r.formContainers===null)){const e=K(r.metaPath,r.contextPath);const t={};let a=e.targetObject;let n=false;if(a&&a.$Type==="com.sap.vocabularies.UI.v1.FieldGroupType"){n=true;a={$Type:"com.sap.vocabularies.UI.v1.ReferenceFacet",Label:a.Label,Target:{$target:a,fullyQualifiedName:a.fullyQualifiedName,path:"",term:"",type:"AnnotationPath",value:R(e)},annotations:{},fullyQualifiedName:a.fullyQualifiedName};t[a.Target.value]={fields:r.formElements}}const o=r.getConverterContext(e,undefined,i,t);const l=J(a,r.isVisible,o);if(n){l.formContainers[0].annotationPath=r.metaPath.getPath()}r.formContainers=l.formContainers;r.useFormContainerLabels=l.useFormContainerLabels;r.facetType=a&&a.$Type}else{var n;r.facetType=(n=r.metaPath.getObject())===null||n===void 0?void 0:n.$Type}if(!r.isPublic){r._apiId=r.createId("Form");r._contentId=r.id}else{r._apiId=r.id;r._contentId=`${r.id}-content`}if(r.displayMode!==undefined){r._editable=H(q(G(V(r.displayMode,"boolean"),false),true,false))}else{r._editable=H(Q.IsEditable)}return r}U=t;var a=t.prototype;a.getDataFieldCollection=function e(t,a){const i=K(a).targetObject;let r;let n;if(i.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){r=p.getNavigationPath(i.Target.value);n=i}else{const e=this.contextPath.getPath();let t=a.getPath();if(t.startsWith(e)){t=t.substring(e.length)}r=p.getNavigationPath(t);n=t}const o=u.getFormContainerTitleLevel(this.title,this.titleLevel);const l=this.useFormContainerLabels&&i?p.label(i,{context:a}):"";const s=this.id?W(n):undefined;return Y`
					<macro:FormContainer
					xmlns:macro="sap.fe.macros"
					${this.attr("id",s)}
					title="${l}"
					titleLevel="${o}"
					contextPath="${r?t.entitySet:this.contextPath}"
					metaPath="${a}"
					dataFieldCollection="${t.formElements}"
					navigationPath="${r}"
					visible="${t.isVisible}"
					displayMode="${this.displayMode}"
					onChange="${this.onChange}"
					actions="${t.actions}"
				>
				<macro:formElements>
					<slot name="formElements" />
				</macro:formElements>
			</macro:FormContainer>`};a.getFormContainers=function e(){if(this.formContainers.length===0){return""}if(this.facetType.includes("com.sap.vocabularies.UI.v1.CollectionFacet")){return this.formContainers.map((e,t)=>{if(e.isVisible){const a=this.contextPath.getModel().createBindingContext(e.annotationPath,this.contextPath);const i=a.getObject();if(i.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&u.isReferenceFacetPartOfPreview(i,this.partOfPreview)){if(i.Target.$AnnotationPath.$Type==="com.sap.vocabularies.Communication.v1.AddressType"){return Y`<template:with path="formContainers>${t}" var="formContainer">
											<template:with path="formContainers>${t}/annotationPath" var="facet">
												<core:Fragment fragmentName="sap.fe.macros.form.AddressSection" type="XML" />
											</template:with>
										</template:with>`}return this.getDataFieldCollection(e,a)}}return""})}else if(this.facetType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){return this.formContainers.map(e=>{if(e.isVisible){const t=this.contextPath.getModel().createBindingContext(e.annotationPath,this.contextPath);return this.getDataFieldCollection(e,t)}else{return""}})}return""};a.getLayoutInformation=function e(){switch(this.layout.type){case"ResponsiveGridLayout":return Y`<f:ResponsiveGridLayout adjustLabelSpan="${this.layout.adjustLabelSpan}"
													breakpointL="${this.layout.breakpointL}"
													breakpointM="${this.layout.breakpointM}"
													breakpointXL="${this.layout.breakpointXL}"
													columnsL="${this.layout.columnsL}"
													columnsM="${this.layout.columnsM}"
													columnsXL="${this.layout.columnsXL}"
													emptySpanL="${this.layout.emptySpanL}"
													emptySpanM="${this.layout.emptySpanM}"
													emptySpanS="${this.layout.emptySpanS}"
													emptySpanXL="${this.layout.emptySpanXL}"
													labelSpanL="${this.layout.labelSpanL}"
													labelSpanM="${this.layout.labelSpanM}"
													labelSpanS="${this.layout.labelSpanS}"
													labelSpanXL="${this.layout.labelSpanXL}"
													singleContainerFullSize="${this.layout.singleContainerFullSize}" />`;case"ColumnLayout":default:return Y`<f:ColumnLayout
								columnsM="${this.layout.columnsM}"
								columnsL="${this.layout.columnsL}"
								columnsXL="${this.layout.columnsXL}"
								labelCellsLarge="${this.layout.labelCellsLarge}"
								emptyCellsLarge="${this.layout.emptyCellsLarge}" />`}};a.getTemplate=function e(){const t=this.onChange&&this.onChange.replace("{","\\{").replace("}","\\}")||"";const a=this.metaPath.getPath();const i=this.contextPath.getPath();if(!this.isVisible){return""}else{return Y`<macro:FormAPI xmlns:macro="sap.fe.macros.form"
					xmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
					xmlns:f="sap.ui.layout.form"
					xmlns:fl="sap.ui.fl"
					id="${this._apiId}"
					metaPath="${a}"
					contextPath="${i}">
				<f:Form
					fl:delegate='{
						"name": "sap/fe/macros/form/FormDelegate",
						"delegateType": "complete"
					}'
					id="${this._contentId}"
					editable="${this._editable}"
					macrodata:entitySet="{contextPath>@sapui.name}"
					visible="${this.isVisible}"
					class="sapUxAPObjectPageSubSectionAlignContent"
					macrodata:navigationPath="${i}"
					macrodata:onChange="${t}"
				>
					${this.addConditionally(this.title!==undefined,Y`<f:title>
							<core:Title level="${this.titleLevel}" text="${this.title}" />
						</f:title>`)}
					<f:layout>
					${this.getLayoutInformation()}

					</f:layout>
					<f:formContainers>
						${this.getFormContainers()}
					</f:formContainers>
				</f:Form>
			</macro:FormAPI>`}};return t}(e),w=le(T.prototype,"id",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),I=le(T.prototype,"contextPath",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),M=le(T.prototype,"metaPath",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),z=le(T.prototype,"formContainers",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),E=le(T.prototype,"useFormContainerLabels",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),O=le(T.prototype,"partOfPreview",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),k=le(T.prototype,"title",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),B=le(T.prototype,"titleLevel",[P],{configurable:true,enumerable:true,writable:true,initializer:function(){return N.Auto}}),j=le(T.prototype,"displayMode",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),A=le(T.prototype,"isVisible",[$],{configurable:true,enumerable:true,writable:true,initializer:function(){return"true"}}),_=le(T.prototype,"onChange",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),D=le(T.prototype,"formElements",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),X=le(T.prototype,"layout",[S],{configurable:true,enumerable:true,writable:true,initializer:function(){return{type:"ColumnLayout",columnsM:2,columnsXL:6,columnsL:3,labelCellsLarge:12}}}),T))||x);U=ue;return U},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormAPI", ["sap/fe/core/helpers/ClassSupport","../MacroAPI"],function(e,r){"use strict";var t,i,n,a,o,l,u,c,s;var p=e.property;var f=e.defineUI5Class;function b(e,r,t,i){if(!t)return;Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;y(e,r)}function y(e,r){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(r,t){r.__proto__=t;return r};return y(e,r)}function m(e,r,t,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,r,a);a=null}return a}function g(e,r){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let h=(t=f("sap.fe.macros.form.FormAPI"),i=p({type:"string"}),n=p({type:"string",expectedAnnotations:["@com.sap.vocabularies.UI.v1.FieldGroup","@com.sap.vocabularies.UI.v1.CollectionFacet","@com.sap.vocabularies.UI.v1.ReferenceFacet"],expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"]}),a=p({type:"string"}),t(o=(l=function(e){v(r,e);function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;b(r,"id",u,d(r));b(r,"metaPath",c,d(r));b(r,"title",s,d(r));return r}return r}(r),u=m(l.prototype,"id",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),c=m(l.prototype,"metaPath",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),s=m(l.prototype,"title",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),l))||o);return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormContainer.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/converters/controls/Common/Form","sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/DataModelPathHelper"],function(e,t,r,i,n){"use strict";var a,l,o,u,c,s,p,f,b,m,d,y,g,v,h,z,w,P,C,E,O,j,k,x,F,B,S,T,M,L,N;var A={};var D=n.getContextRelativeTargetObjectPath;var Q=i.getInvolvedDataModelObjects;var _=r.createFormDefinition;var R=t.defineBuildingBlock;var q=t.blockEvent;var I=t.blockAttribute;var $=t.blockAggregation;function H(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function U(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function G(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;J(e,t)}function J(e,t){J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return J(e,t)}function K(e,t,r,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function V(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let W=(a=R({name:"FormContainer",namespace:"sap.fe.macros",fragment:"sap.fe.macros.form.FormContainer"}),l=I({type:"string"}),o=I({type:"sap.ui.model.Context",required:true,isPublic:true,expectedTypes:["EntitySet","NavigationProperty","EntityType","Singleton"]}),u=I({type:"sap.ui.model.Context"}),c=I({type:"sap.ui.model.Context",isPublic:true,required:true}),s=I({type:"array"}),p=I({type:"boolean"}),f=I({type:"string"}),b=I({type:"sap.ui.core.TitleLevel",isPublic:true}),m=I({type:"string"}),d=I({type:"string"}),y=I({type:"string"}),g=I({type:"array"}),v=$({type:"sap.fe.macros.form.FormElement"}),h=q(),a(z=(w=function(e){G(t,e);function t(t,r,i){var n;n=e.call(this,t)||this;H(n,"id",P,U(n));H(n,"contextPath",C,U(n));H(n,"entitySet",E,U(n));H(n,"metaPath",O,U(n));H(n,"dataFieldCollection",j,U(n));H(n,"displayMode",k,U(n));H(n,"title",x,U(n));H(n,"titleLevel",F,U(n));H(n,"navigationPath",B,U(n));H(n,"visible",S,U(n));H(n,"designtimeSettings",T,U(n));H(n,"actions",M,U(n));H(n,"formElements",L,U(n));H(n,"onChange",N,U(n));n.entitySet=n.contextPath;if(n.formElements&&Object.keys(n.formElements).length>0){const e=Q(n.metaPath,n.contextPath);const t={};let r=e.targetObject;r={$Type:"com.sap.vocabularies.UI.v1.ReferenceFacet",Label:r.Label,Target:{$target:r,fullyQualifiedName:r.fullyQualifiedName,path:"",term:"",type:"AnnotationPath",value:D(e)},annotations:{},fullyQualifiedName:r.fullyQualifiedName};t[r.Target.value]={fields:n.formElements};const a=n.getConverterContext(e,undefined,i,t);const l=_(r,"true",a);n.dataFieldCollection=l.formContainers[0].formElements}return n}A=t;return t}(e),P=K(w.prototype,"id",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),C=K(w.prototype,"contextPath",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),E=K(w.prototype,"entitySet",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),O=K(w.prototype,"metaPath",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),j=K(w.prototype,"dataFieldCollection",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),k=K(w.prototype,"displayMode",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),x=K(w.prototype,"title",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),F=K(w.prototype,"titleLevel",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Auto"}}),B=K(w.prototype,"navigationPath",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),S=K(w.prototype,"visible",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),T=K(w.prototype,"designtimeSettings",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return"sap/fe/macros/form/FormContainer.designtime"}}),M=K(w.prototype,"actions",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),L=K(w.prototype,"formElements",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),N=K(w.prototype,"onChange",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),w))||z);A=W;return A},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormContainerAPI", ["sap/fe/core/helpers/ClassSupport","../MacroAPI"],function(e,t){"use strict";var r,i,n,o,a,l,u,s,c;var f=e.xmlEventHandler;var p=e.property;var b=e.defineUI5Class;function d(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}function v(e,t){v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return v(e,t)}function g(e,t,r,i,n){var o={};Object.keys(i).forEach(function(e){o[e]=i[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function m(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let w=(r=b("sap.fe.macros.form.FormContainerAPI"),i=p({type:"string"}),n=p({type:"boolean"}),o=f(),r(a=(l=(c=function(e){h(t,e);function t(t){var r;r=e.call(this,t,true)||this;d(r,"formContainerId",u,y(r));d(r,"showDetails",s,y(r));r.setParentBindingContext("internal",`controls/${r.formContainerId}`);return r}var r=t.prototype;r.toggleDetails=function e(){this.showDetails=!this.showDetails};return t}(t),c.isDependentBound=true,c),u=g(l.prototype,"formContainerId",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),s=g(l.prototype,"showDetails",[n],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),g(l.prototype,"toggleDetails",[o],Object.getOwnPropertyDescriptor(l.prototype,"toggleDetails"),l.prototype),l))||a);return w},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormDelegate", ["sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/ui/model/json/JSONModel","sap/ui/model/ListBinding"],function(e,t,o,n){"use strict";const a={createLayout:async function(n){var a;const i=n.modifier,r=(a=n.appComponent)===null||a===void 0?void 0:a.getMetaModel(),s=n.element;let l=await t.getCustomData(s,"entitySet",i);if(!l){l=await t.getCustomData(s,"navigationPath",i)}const d=l.startsWith("/")?`${l}`:`/${l}`;const c=n.parentSelector?n.modifier.bySelector(n.parentSelector,n.appComponent,n.view):undefined;const p=await t.getCustomData(c,"navigationPath",i);const m=p?`${d}/${p}`:d;const u=r===null||r===void 0?void 0:r.getMetaContext(m);const v=r===null||r===void 0?void 0:r.createBindingContext(`${m}/${n.bindingPath}`);const f=n.element.sId||n.element.id;const g={sPropertyName:n.bindingPath,sBindingPath:m,sValueHelpType:"FormVH",oControl:s,oMetaModel:r,oModifier:i};function h(e){var a;const s=new o({id:f,idPrefix:(a=n.fieldSelector)===null||a===void 0?void 0:a.id}),l={bindingContexts:{entitySet:u,contextPath:u,property:v,this:s.createBindingContext("/")},models:{this:s,entitySet:r,contextPath:r,metaModel:r,property:r}};return t.templateControlFragment(e,l,{},i)}async function C(a,l,d){var c;const p=await t.getCustomData(s,"onChange",i);const m=await t.getCustomData(s,"displayMode",i);const f=new o({_flexId:(c=n.fieldSelector)===null||c===void 0?void 0:c.id,onChange:e.removeEscapeCharacters(p),displayMode:e.removeEscapeCharacters(m),navigationPath:d});const g={bindingContexts:{entitySet:u,dataField:v,this:f.createBindingContext("/")},models:{this:f,entitySet:r,metaModel:r,dataField:r},appComponent:n.appComponent};return t.templateControlFragment(a,g,{view:l},i)}const y=await t.isValueHelpRequired(g);const b=await t.doesValueHelpExist(g);let F;if(y&&!b){F=await h("sap.fe.macros.form.ValueHelpWrapper")}const P=await C("sap.fe.macros.form.FormElementFlexibility",n.view,p);return{control:P,valueHelp:F}},getPropertyInfo:function(e){function t(e){if(e&&e.$Type){if(e.$Type.toLowerCase().indexOf("edm")!==0){return true}}return false}function o(e,t){return t.some(function(t){return e.startsWith(t)})}function a(e,a,i,r,s,l,d){const c={name:e,bindingPath:e,entityType:r};const p=i["@com.sap.vocabularies.UI.v1.DataFieldDefault"];const m=p&&p.Label||i["@com.sap.vocabularies.Common.v1.Label"];c.label=m||"[LABEL_MISSING: "+e+"]";const u=i["@com.sap.vocabularies.UI.v1.Hidden"];c.hideFromReveal=u;if(u&&u.$Path){var v;c.hideFromReveal=(v=s.getBindingContext())===null||v===void 0?void 0:v.getProperty(u.$Path)}if(!c.hideFromReveal){c.hideFromReveal=i["@com.sap.vocabularies.UI.v1.AdaptationHidden"]}let f;if(!c.hideFromReveal){f=i["@com.sap.vocabularies.Common.v1.FieldControl"];if(f){c.hideFromReveal=f.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden"}}f=i["@com.sap.vocabularies.Common.v1.FieldControl"];const g=f&&f.Path;if(g&&!c.hideFromReveal){const e=s.getBinding(l)instanceof n;if(!e){var h;const e=(h=s.getBindingContext())===null||h===void 0?void 0:h.getProperty(g);c.hideFromReveal=e===0}}if(p&&(p.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||p.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||p.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction"||p.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){c.unsupported=true}if(o(e,d)||t(a)){c.unsupported=true}return c}function i(e,t,o,n,i){const r=[];let s="";const l=[];let d;for(s in e){d=e[s];if(d.$kind==="NavigationProperty"){l.push(s)}}for(s in e){d=e[s];if(d.$kind==="Property"){const e=o.getObject("/"+t+"/"+s+"@");const c=a(s,d,e,t,n,i,l);r.push(c)}}return r}function r(e,t){if(t.path){return t.path}const o=e.getBindingContext();if(o){if(e.data("navigationPath")){return o.getPath()+"/"+e.data("navigationPath")}return o.getPath()}}function s(e,t,o){const n=e.getModel(o.modelName);if(n){if(n.isA("sap.ui.model.odata.v4.ODataModel")){const a=n.getMetaModel();const s=r(e,o);if(s){const o=a.getMetaContext(s);const n=o.getObject();const r=o.getObject(n.$Type);return i(r,n.$Type,a,e,t)}}}return Promise.resolve([])}return Promise.resolve().then(function(){return s(e.element,e.aggregationName,e.payload)})}};return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormElement.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter"],function(e,t,i,r){"use strict";var a,l,n,o,u,s,c,b,p,d,f,v,m,y,g,h,P;var F={};var z=r.getInvolvedDataModelObjects;var k=i.xml;var w=t.defineBuildingBlock;var B=t.blockAttribute;var I=t.blockAggregation;function x(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function D(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function E(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}function O(e,t){O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return O(e,t)}function U(e,t,i,r,a){var l={};Object.keys(r).forEach(function(e){l[e]=r[e]});l.enumerable=!!l.enumerable;l.configurable=!!l.configurable;if("value"in l||l.initializer){l.writable=true}l=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},l);if(a&&l.initializer!==void 0){l.value=l.initializer?l.initializer.call(a):void 0;l.initializer=undefined}if(l.initializer===void 0){Object.defineProperty(e,t,l);l=null}return l}function j(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let T=(a=w({name:"FormElement",publicNamespace:"sap.fe.macros",returnTypes:["sap.ui.layout.form.FormElement"]}),l=B({type:"string",isPublic:true,required:true}),n=B({type:"sap.ui.model.Context",isPublic:true,required:true,expectedTypes:["EntitySet","NavigationProperty","Singleton","EntityType"]}),o=B({type:"sap.ui.model.Context",isPublic:true,required:true,expectedTypes:["Property"],expectedAnnotationTypes:["com.sap.vocabularies.UI.v1.DataField","com.sap.vocabularies.UI.v1.DataFieldWithUrl","com.sap.vocabularies.UI.v1.DataFieldForAnnotation","com.sap.vocabularies.UI.v1.DataFieldForAction","com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldWithAction","com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath","com.sap.vocabularies.UI.v1.DataPointType"]}),u=B({type:"string",isPublic:true}),s=B({type:"boolean",isPublic:true}),c=B({type:"string",isPublic:true}),b=I({type:"sap.ui.core.Control",slot:"fields",isPublic:true,isDefault:true}),a(p=(d=function(e){E(t,e);function t(t,i,r){var a;a=e.call(this,t,i,r)||this;x(a,"id",f,D(a));x(a,"contextPath",v,D(a));x(a,"metaPath",m,D(a));x(a,"label",y,D(a));x(a,"visible",g,D(a));x(a,"key",h,D(a));x(a,"fields",P,D(a));const l=z(a.metaPath,a.contextPath);if(a.label===undefined){var n,o;a.label=((n=l.targetObject.annotations.Common)===null||n===void 0?void 0:(o=n.Label)===null||o===void 0?void 0:o.toString())??""}return a}F=t;var i=t.prototype;i.getFields=function e(){if(this.fields){return k`<slot name="fields" />`}else{return k`<macros:Field
						metaPath="${this.metaPath}"
						contextPath="${this.contextPath}"
						id="${this.createId("FormElementField")}" />`}};i.getTemplate=function e(){return k`<f:FormElement xmlns:f="sap.ui.layout.form" id="${this.id}"
			key="${this.key}"
			label="${this.label}"
			visible="${this.visible}">
			<f:fields>
				${this.getFields()}
			</f:fields>
		</f:FormElement>`};return t}(e),f=U(d.prototype,"id",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),v=U(d.prototype,"contextPath",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),m=U(d.prototype,"metaPath",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),y=U(d.prototype,"label",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),g=U(d.prototype,"visible",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),h=U(d.prototype,"key",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),P=U(d.prototype,"fields",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||p);F=T;return F},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/form/FormHelper", ["sap/ui/core/library"],function(e){"use strict";var r=e.TitleLevel;const t={isReferenceFacetPartOfPreview:function(e,r){r=r.toString();if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){const t=e["@com.sap.vocabularies.UI.v1.PartOfPreview"];return r==="true"&&t!==false||r==="false"&&t===false}return false},create$Select:function(e){return(e||[]).map(e=>e.$PropertyPath).join(",")},generateBindingExpression:function(e,r){if(!e&&!r){return""}const n={path:e||""};if(r){n.parameters={$select:t.create$Select(r)}}return JSON.stringify(n)},getFormContainerTitleLevel:function(e,t){if(!e){return t}switch(t){case r.H1:return r.H2;case r.H2:return r.H3;case r.H3:return r.H4;case r.H4:return r.H5;case r.H5:case r.H6:return r.H6;default:return r.Auto}}};return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/fpm/CustomFragment.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor"],function(e,t,r){"use strict";var i,n,a,o,l,u,c,s,m,f,p;var g={};var d=r.xml;var b=t.defineBuildingBlock;var h=t.blockAttribute;var y=t.blockAggregation;function v(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function w(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;k(e,t)}function k(e,t){k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return k(e,t)}function z(e,t,r,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function B(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let O=(i=b({name:"CustomFragment",namespace:"sap.fe.macros.fpm"}),n=h({type:"string",required:true}),a=h({type:"sap.ui.model.Context",required:false}),o=h({type:"string",required:true}),l=y({type:"sap.ui.core.CustomData",slot:"childCustomData"}),i(u=(c=function(e){w(t,e);function t(){var t;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}t=e.call(this,...i)||this;v(t,"id",s,C(t));v(t,"contextPath",m,C(t));v(t,"fragmentName",f,C(t));v(t,"childCustomData",p,C(t));return t}g=t;var r=t.prototype;r.getTemplate=function e(){const t=this.fragmentName+"-JS".replace(/\//g,".");const r=this.childCustomData;const i={};let n=r===null||r===void 0?void 0:r.firstElementChild;while(n){const e=n.getAttribute("key");if(e!==null){i[e]=n.getAttribute("value")}n=n.nextElementSibling}return d`<macros:CustomFragmentFragment
			xmlns:compo="http://schemas.sap.com/sapui5/extension/sap.ui.core.xmlcomposite/1"
			xmlns:macros="sap.fe.macros.fpm"
			fragmentName="${t}"
			${this.attr("childCustomData",Object.keys(i).length?JSON.stringify(i):undefined)}
			id="${this.id}"
			type="CUSTOM"
		>
			<compo:fragmentContent>
				<core:FragmentDefinition>
					<core:Fragment fragmentName="${this.fragmentName}" type="XML"/>
				</core:FragmentDefinition>
			</compo:fragmentContent>
		</macros:CustomFragmentFragment>`};return t}(e),s=z(c.prototype,"id",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),m=z(c.prototype,"contextPath",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),f=z(c.prototype,"fragmentName",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),p=z(c.prototype,"childCustomData",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||u);g=O;return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/fpm/CustomFragmentFragment", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/Fragment"],function(e,r){"use strict";var t,i,n,a,o;var l={};var u=e.property;var c=e.defineUI5Class;function s(e,r,t,i){if(!t)return;Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function f(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;b(e,r)}function b(e,r){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(r,t){r.__proto__=t;return r};return b(e,r)}function d(e,r,t,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,r,a);a=null}return a}function v(e,r){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let h=(t=c("sap.fe.macros.fpm.CustomFragmentFragment"),i=u({type:"string"}),t(n=(a=function(e){p(r,e);function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;s(r,"childCustomData",o,f(r));return r}l=r;return r}(r),o=d(a.prototype,"childCustomData",[i],{configurable:true,enumerable:true,writable:true,initializer:null}),a))||n);l=h;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ina/AbstractContextMenuHandler", [],function(){"use strict";var i={};let n=function(){function n(i,n){this.dataProvider=i;this.dimensionMapping=n}i.AbstractContextMenuHandler=n;var e=n.prototype;e.create=function i(n){return{isActionVisible:async(i,n)=>this.isActionVisible(this.findCell(n)),isActionEnabled:async(i,n)=>this.isActionEnabled(this.findCell(n)),getActionDescription:async(i,e)=>Promise.resolve(n),triggerAction:async(i,n)=>this.triggerAction(this.findCell(n))}};e.findCell=function i(n){var e,t,l;if(n.Grid.SelectedCells.length!==1){return{cell:undefined,dimensionMapping:undefined}}const s=n.Grid.SelectedCells[0].columnIndex;const o=n.Grid.SelectedCells[0].rowIndex;const d=(e=this.dataProvider)===null||e===void 0?void 0:(t=e.Grid)===null||t===void 0?void 0:(l=t.Cells)===null||l===void 0?void 0:l.find(i=>i.Row===o&&i.Column===s);const r=d!==null&&d!==void 0&&d.Dimension?this.dimensionMapping[d.Dimension]:undefined;return{cell:d,dimensionMapping:r}};return n}();i.AbstractContextMenuHandler=n;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ina/FilteringContextMenuHandler", ["sap/fe/macros/ina/AbstractContextMenuHandler","sap/ui/model/FilterOperator"],function(t,e){"use strict";var r={};var n=t.AbstractContextMenuHandler;function i(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;o(t,e)}function o(t,e){o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,r){e.__proto__=r;return e};return o(t,e)}let s=function(t){i(n,t);function n(e,r,n){var i;i=t.call(this,r,n)||this;i.filterBar=e;return i}r=n;var o=n.prototype;o.isActionVisible=async function t(e){var r;return Promise.resolve(!!((r=e.dimensionMapping)!==null&&r!==void 0&&r.filterProperty))};o.isActionEnabled=async function t(){return Promise.resolve(true)};o.triggerAction=async function t(r){const{cell:n,dimensionMapping:i}=r;if(!n||!(i!==null&&i!==void 0&&i.filterProperty)){return}await this.filterBar.setFilterValues(i.filterProperty,e.EQ,n.Member)};return n}(n);r=s;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ina/MultiDimensionalGrid.block", ["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/controllerextensions/HookSupport","sap/fe/core/helpers/ClassSupport","sap/fe/macros/ina/FilteringContextMenuHandler","sap/fe/macros/ina/NavigationContextMenuHandler","sap/ui/model/FilterOperator","sap/fe/core/jsx-runtime/jsx"],function(e,t,r,i,n,a,o,l,s){"use strict";var d,u,c,f,p,h,m,g,v,b,y,M,C,w,P,D,x,A,F,I,O,N,z,B;function E(e){return new Promise((t,r)=>{sap.ui.require([e],r=>{if(!(r&&r.__esModule)){r=r===null||!(typeof r==="object"&&e.endsWith("/library"))?{default:r}:r;Object.defineProperty(r,"__esModule",{value:true})}t(r)},e=>{r(e)})})}var _={};var T=n.defineReference;var H=i.controllerExtensionHandler;var j=t.defineBuildingBlock;var k=t.blockAttribute;function S(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function q(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function R(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;L(e,t)}function L(e,t){L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return L(e,t)}function G(e,t,r,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function U(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let V=(d=j({name:"MultiDimensionalGrid",namespace:"sap.fe.macros.internal",libraries:["sap/sac/df"]}),u=k({type:"string",required:true}),c=k({type:"string",required:false}),f=k({type:"string",required:true}),p=k({type:"string",required:true}),h=k({type:"string",required:false}),m=k({type:"string",required:false}),g=k({type:"string",required:false}),v=k({type:"object",required:false}),b=T(),y=T(),M=H("editFlow","onAfterSave"),d(C=(w=function(t){R(r,t);function r(){var e;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}e=t.call(this,...i)||this;S(e,"id",P,q(e));S(e,"variantManagementId",D,q(e));S(e,"modelName",x,q(e));S(e,"dataProviderName",A,q(e));S(e,"filterBar",F,q(e));S(e,"height",I,q(e));S(e,"width",O,q(e));S(e,"dimensionMapping",N,q(e));S(e,"flexAnalysisControl",z,q(e));S(e,"multiDimModelChangeHandler",B,q(e));e.refreshPromise=Promise.resolve();return e}_=r;r.load=async function e(){await t.load.call(this);if(r.FlexAnalysisControl===undefined){const{default:e}=await E("sap/sac/df/FlexAnalysis");r.FlexAnalysisControl=e}if(r.MultiDimModelChangeHandlerControl===undefined){const{default:e}=await E("sap/sac/df/changeHandler/MultiDimModelChangeHandler");r.MultiDimModelChangeHandlerControl=e}if(r.MemberFilter===undefined){const{default:e}=await E("sap/sac/df/model/MemberFilter");r.MemberFilter=e}return this};var i=r.prototype;i.getContent=function t(i,n){Promise.all([r.waitForViewInitialization(i),this.prepareDataProvider(n)]).then(()=>this.attachFiltering(i)).then(()=>this.addNavigationContextMenu(n,i)).catch(t=>e.error(`Could not initialize the DragonFly data provider '${this.dataProviderName}' of model '${this.modelName}'!`,t));if(!r.FlexAnalysisControl||!r.MultiDimModelChangeHandlerControl){e.error("sap/sac/df/FlexAnalysis or sap/sac/df/changeHandler/MultiDimModelChangeHandler could not be loaded!");return undefined}return s(r.FlexAnalysisControl,{id:this.id,ref:this.flexAnalysisControl,multiDimModelId:this.modelName,dataProvider:this.dataProviderName,clientIdentifier:"UI5",blocked:"false",hideToolBar:"true",hideFilterLine:"true",height:this.height,width:this.width,configId:"fe",children:{dependents:[s(r.MultiDimModelChangeHandlerControl,{id:this.variantManagementId,ref:this.multiDimModelChangeHandler})]}})};r.waitForViewInitialization=async function e(t){return new Promise(e=>t.attachAfterInit(()=>e()))};i.prepareDataProvider=async function e(t){var r;const i=t.getModel(this.modelName);await(i===null||i===void 0?void 0:i.loaded());this.dataProvider=i===null||i===void 0?void 0:i.getDataProvider(this.dataProviderName);if(!this.dataProvider){throw new Error("Data provider not found")}(r=this.multiDimModelChangeHandler.current)===null||r===void 0?void 0:r.registerMultiDimModel(i);i===null||i===void 0?void 0:i.attachRequestCompleted(()=>t.getAppStateHandler().createAppState())};i.attachFiltering=function e(t){var r;const i=this.filterBar?t.byId(this.filterBar):undefined;if(!i){return}const n=i.isA("sap.fe.macros.filterBar.FilterBarAPI")?i.getAggregation("content"):i;const o=()=>{var e;return(e=this.flexAnalysisControl.current)===null||e===void 0?void 0:e.setBlocked(true)};const l=()=>{var e;this.setConditionsOnGrid(n.getConditions());(e=this.flexAnalysisControl.current)===null||e===void 0?void 0:e.setBlocked(false)};n.attachFiltersChanged(o);n.attachSearch(l);const s=new a(n.getParent(),this.dataProvider,this.dimensionMapping).create({Text:this.getTranslatedText("MULTIDIMENSIONALGRID_CONTEXT_MENU_ITEM_FILTER_MEMBER"),Icon:"filter"});(r=this.flexAnalysisControl.current)===null||r===void 0?void 0:r.addContextMenuAction("MemberCellFiltering",s);t.attachBeforeExit(()=>{n.detachFiltersChanged(o);n.detachSearch(l)})};i.addNavigationContextMenu=function e(t,r){var i;const n=new o(t,r,this.dataProvider,this.dimensionMapping).create({Text:this.getTranslatedText("MULTIDIMENSIONALGRID_CONTEXT_MENU_ITEM_GO_TO_DETAILS"),Icon:"action"});(i=this.flexAnalysisControl.current)===null||i===void 0?void 0:i.addContextMenuAction("MemberCellNavigation",n)};i.refresh=async function e(){this.refreshPromise=this.refreshPromise.then(async()=>{if(this.dataProvider){await this.dataProvider.getResultSet(true)}});return this.refreshPromise};i.setConditionsOnGrid=function e(t){if(!this.dataProvider||!r.MemberFilter){return}const i=r.MemberFilter;for(const e of Object.keys(this.dataProvider.Dimensions)){this.dataProvider.getDimension(e).removeMemberFilter()}for(const[e,r]of Object.entries(t)){var n;const t=(n=Object.entries(this.dimensionMapping).find(t=>{let[,r]=t;return r.filterProperty===e}))===null||n===void 0?void 0:n[0];const a=r.filter(e=>e.operator===l.EQ.valueOf()).flatMap(e=>e.values).map(e=>new i([e]));if(t&&this.dataProvider.Dimensions[t]){this.dataProvider.getDimension(t).setMemberFilter(a)}}};return r}(r),P=G(w.prototype,"id",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),D=G(w.prototype,"variantManagementId",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),x=G(w.prototype,"modelName",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),A=G(w.prototype,"dataProviderName",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),F=G(w.prototype,"filterBar",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),I=G(w.prototype,"height",[m],{configurable:true,enumerable:true,writable:true,initializer:function(){return"100%"}}),O=G(w.prototype,"width",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return"100%"}}),N=G(w.prototype,"dimensionMapping",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),z=G(w.prototype,"flexAnalysisControl",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),B=G(w.prototype,"multiDimModelChangeHandler",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),G(w.prototype,"refresh",[M],Object.getOwnPropertyDescriptor(w.prototype,"refresh"),w.prototype),w))||C);_=V;return _},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/ina/NavigationContextMenuHandler", ["sap/fe/macros/ina/AbstractContextMenuHandler"],function(t){"use strict";var n={};var e=t.AbstractContextMenuHandler;function i(t,n){t.prototype=Object.create(n.prototype);t.prototype.constructor=t;o(t,n)}function o(t,n){o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(n,e){n.__proto__=e;return n};return o(t,n)}let a=function(t){i(e,t);function e(n,e,i,o){var a;a=t.call(this,i,o)||this;a.appComponent=n;a.view=e;return a}n=e;var o=e.prototype;o.isActionVisible=async function t(n){const{dimensionMapping:e}=n;if((e===null||e===void 0?void 0:e.navigationType)==="internal"){return!!e.navigationEntitySet}else if((e===null||e===void 0?void 0:e.navigationType)==="external"){return!!e.navigationSemanticObject&&!!await this.appComponent.getShellServices().getPrimaryIntent(e.navigationSemanticObject)}else{return false}};o.isActionEnabled=async function t(n){var e;return Promise.resolve(!!n.dimensionMapping&&!!((e=n.cell)!==null&&e!==void 0&&e.Member))};o.triggerAction=async function t(n){const{cell:e,dimensionMapping:i}=n;if(!e||!i){return}if(i.navigationType==="internal"&&i.navigationEntitySet){const t=this.appComponent.getModel().createBindingContext(`/${i.navigationEntitySet}(${e.Member})`);await this.view.getController()._routing.navigateForwardToContext(t)}else if(i.navigationType==="external"&&i.navigationKeyProperty&&i.navigationSemanticObject){const t=await this.appComponent.getShellServices().getPrimaryIntent(i.navigationSemanticObject);if(t){var o;const n={target:{shellHash:`${t.intent}?${i.navigationKeyProperty}=${e.Member}`}};await((o=this.appComponent.getShellServices().crossAppNavService)===null||o===void 0?void 0:o.toExternal(n))}}};return e}(e);n=a;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/insights/AnalyticalInsightsHelper", ["sap/fe/macros/field/FieldTemplating","sap/fe/macros/insights/CommonInsightsHelper"],function(e,t){"use strict";var a={};var r=t.createInsightsParams;var n=e.getTextBinding;function s(e){return e.getMeasures().map(e=>({name:e.getLabel(),value:"{"+e.getName()+"}"}))}a.getMeasures=s;function i(e,t){return e.getDimensions().filter(function(t){return e.getVisibleDimensions().includes(t.getName())}).map(e=>{const a=t.getDimensionDataModel(e.getName());const r=a?n(a,{},false,"extension.formatters.sapfe.formatWithBrackets"):undefined;if(e.getTextProperty()){return{name:e.getLabel(),value:"{"+e.getTextProperty()+"}",displayValue:r}}else{return{name:e.getLabel(),value:"{"+e.getName()+"}",displayValue:r}}})}a.getDimensions=i;function o(e){const t=e.getAggregation("_vizFrame").getFeeds();const a=t.map(t=>t.getProperty("values").map(a=>{const r=g(e,a.getProperty("name"),a.getProperty("type"));const n={type:t.getProperty("type"),uid:t.getProperty("uid"),values:[r]};return n}));return a.flat()}a.getFeeds=o;function g(e,t,a){if(a==="Dimension"){const a=e.getDimensions();return a.filter(e=>e.getName()===t)[0].getLabel()||t}else{const a=e.getMeasures();return a.filter(e=>e.getName()===t)[0].getLabel()||t}}async function l(e){var t;const a=e.content;const n=(t=a.getControlDelegate())===null||t===void 0?void 0:t.getInnerChart(a);if(!n){throw new Error("Cannot access chart.")}const g=await r("Analytical",e,a.getFilter());if(!g){return}g.entitySetPath=a.data("targetCollectionPath");g.requestParameters.queryUrl=n.getBinding("data").getDownloadUrl();const l={cardTitle:a.getHeader(),legendVisible:false,chartType:a.getChartType(),measures:s(n),dimensions:i(n,e),feeds:o(n),allowedChartTypes:n.getAvailableChartTypes().available,chartProperties:n.getAggregation("_vizFrame").getVizProperties()};return{...g,content:l}}a.createChartCardParams=l;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/insights/CommonInsightsHelper", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/ResourceModelHelper","sap/m/MessageBox","sap/ui/core/Core","sap/ui/mdc/p13n/StateUtil","../filterBar/adapter/StateFilterToSelectionVariant"],function(t,e,n,o,r,a){"use strict";var s={};var i=e.getResourceModel;const c={"sap.ui.model.odata.type.String":"string","sap.ui.model.odata.type.Int":"integer","sap.ui.model.odata.type.Int32":"integer","sap.ui.model.odata.type.Int64":"integer","sap.ui.model.odata.type.Boolean":"boolean","sap.ui.model.odata.type.Decimal":"number","sap.ui.model.odata.type.Double":"number","sap.ui.model.odata.type.Date":"date","sap.ui.model.odata.type.DateTimeOffset":"datetime"};function l(t,e){if(e&&e.length===0){return false}const n=o.byId(t);if(n!==null&&n!==void 0&&n.isA("sap.fe.core.controls.FilterBar")){const t=n.getParent().isSemanticDateFilterApplied();return!t}return true}s.isInsightsCardCreationPossible=l;function p(t,e){if(t==="Table"){const t=`<strong>\n\t\t${e.getText("M_CARD_RETRY_MESSAGE")}\n\t\t</strong>`;const o=`<ul><li>\n\t\t\t${e.getText("M_CARD_FAILURE_REASON_DATE_RANGE_FILTERS")}\n\t\t\t</li><li>\n\t\t\t${e.getText("M_CARD_FAILURE_TABLE_REASON_UNSUPPORTED_COLUMNS")}\n\t\t\t</li></ul>`;const r=t+o;n.error(e.getText("M_CARD_CREATION_FAILURE"),{onClose:function(){throw new Error("Insights is not supported")},details:r})}else{const t=e.getText("M_CARD_CREATION_FAILURE_CHART_REASON_DATE_RANGE_FILTERS");n.error(t,{onClose:function(){throw new Error("Insights is not supported")}})}}function u(t){const e=t.getShellServices();const n=t.getNavigationService();const o=e.getHash();const r=e.parseShellHash(o);return{iAppStateKey:n.getIAppStateKey(),intent:{semanticObject:r.semanticObject,action:r.action}}}function g(t,e,n,o){const r={};const s=a.mergeSelectionVariants(e,o);const i=s.getSelectOptionsPropertyNames();if(i.length){for(const e of i){const o=f(e,n);if(e!=="$editState"&&!t.includes(e)&&!e.includes("$Parameter.")&&o){const t={id:s.getID(),Parameters:[],SelectOptions:[{PropertyName:e,Ranges:s.getSelectOption(e)}]};r[e]={value:JSON.stringify(t),type:o}}}}return r}function d(t,e,n){const o={};const r=e.getSelectOptionsPropertyNames();if(r.length){for(const s of t){const t=f(s,n);if(r.includes(s)&&t){var a;o[s]={value:(a=e.getSelectOption(s))===null||a===void 0?void 0:a[0].Low,type:t}}}}return o}function f(t,e){let n;e.forEach(e=>{if(e.name===t){n=c[e.dataType]}});return n}async function m(e,n,s,c){const f=l(s,c);if(!f){p(e,i(n));return}const m=t.getAppComponent(n.content);const S=o.byId(s);const A=n.content;const y=await r.retrieveExternalState(A);const E=a.getSelectionVariantFromConditions(y.filter,A.getPropertyHelper());let R,_,I=[];if(S!==null&&S!==void 0&&S.isA("sap.fe.core.controls.FilterBar")){const t=S.getParent();const e=t.getParameters();const n=await t.getSelectionVariant();const o=S.getPropertyInfoSet();I=t.getMandatoryFilterPropertyNames();R=g(e,n,o,E);_=d(e,n,o)}const T={navigation:u(m),type:e,requestParameters:{serviceUrl:n.content.getModel().getServiceUrl(),queryUrl:"",sortQuery:""},content:{cardTitle:""},parentAppManifest:m.getManifest(),parameters:{mandatoryFilters:I,filters:R,oDataParameters:_},entitySetPath:""};return T}s.createInsightsParams=m;function S(t){const o=e.getResourceModel(t);n.error(o.getText("M_CARD_FAILURE_GENERIC"))}s.showGenericErrorMessage=S;function A(t){let e=false;for(const n of t){const t=n.getAction();const o=t.getId().includes("StandardAction::Insights");e=o&&t.getVisible()&&t.getEnabled();if(e){break}}return e}s.hasInsightActionEnabled=A;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/insights/InsightsService", ["sap/ui/VersionInfo","sap/ui/core/Core"],function(e,t){"use strict";function a(e){return new Promise((t,a)=>{sap.ui.require([e],a=>{if(!(a&&a.__esModule)){a=a===null||!(typeof a==="object"&&e.endsWith("/library"))?{default:a}:a;Object.defineProperty(a,"__esModule",{value:true})}t(a)},e=>{a(e)})})}var r={};const n=15;const s="{{destinations.service}}";function i(e,t){return e==="Analytical"}function o(e){let{type:t,requestParameters:a}=e;let r=a.queryUrl;if(a.queryUrl.includes(a.serviceUrl)){r=a.queryUrl.split(a.serviceUrl)[1]}if(t==="Table"){r=`${r}&$top=${n}`}return{request:{url:`${s}${a.serviceUrl}$batch`,method:"POST",headers:{"X-CSRF-Token":"{{csrfTokens.token1}}"},batch:{response:{method:"GET",url:r,headers:{Accept:"application/json"}}}}}}function u(e){const t={title:e.content.cardTitle,actions:[{type:"Navigation",parameters:"{= extension.formatters.getNavigationContext(${parameters>/state/value})}"}]};if(e.type==="Table"){t.status={text:"{/response/@odata.count}"}}return t}function c(e){const t={parameters:{ibnTarget:e.intent,ibnParams:{sensitiveProps:[],nhHybridIAppStateKey:e.iAppStateKey}}};return JSON.stringify(t)}function p(e,t,a,r,s,i,o,u){const p={state:{value:c(a)},_relevantODataFilters:{value:[]},_relevantODataParameters:{value:[]},_mandatoryODataFilters:{value:e},_mandatoryODataParameters:{value:[]},sensitiveProps:[],_entitySet:{value:r},_contentDataUrl:{value:i},_HeaderDataUrl:{value:i},_contentTopQuery:{value:u==="Table"?`$top=${n}`:""},_headerTopQuery:{value:u==="Table"?`$top=${n}`:""},_contentSkipQuery:{value:u==="Table"?"$skip=0":""},_headerSkipQuery:{value:u==="Table"?"$skip=0":""},_contentSortQuery:{value:o===""?"":`$orderby=${o}`},_headerSortQuery:{value:o===""?"":`$orderby=${o}`}};for(const e in t){p._relevantODataFilters.value.push(e);p[e]={value:t[e].value,type:t[e].type}}for(const e in s){p._relevantODataParameters.value.push(e);p._mandatoryODataParameters.value.push(e);p[e]={value:s[e].value,type:s[e].type}}return p}function l(e){const t={};const a=e.requestParameters.serviceUrl;t.destinations={service:{name:"(default)",defaultUrl:"/"}};t.csrfTokens={token1:{data:{request:{url:`${s}${a}`,method:"HEAD",headers:{"X-CSRF-Token":"Fetch"}}}}};t.parameters=p(e.parameters.mandatoryFilters??[],e.parameters.filters??{},e.navigation,e.entitySetPath,e.parameters.oDataParameters??{},e.requestParameters.queryUrl,e.requestParameters.sortQuery,e.type);return t}function d(e){const t={type:e.type};t.configuration=l(e);t.header=u(e);t.data=o(e);if(i(e.type,e.content)){t.content=v(e.content)}else{t.content=y(e)}t.extension="module:sap/fe/core/InsightsFormattersExtension";return t}function y(e){let{requestParameters:t,content:a,parameters:r}=e;const s={data:{path:"/response/value"},maxItems:n,row:{columns:a.insightsRelevantColumns}};if(t.groupBy){const e=t.groupBy.property;const a=t.groupBy.descending;s.group={title:"{"+e+"}",order:{path:e,dir:a===true?"DESC":"ASC"}}}if(r.isNavigationEnabled===true){s.row.actions=[{type:"Navigation",parameters:"{= extension.formatters.getNavigationContext(${parameters>/state/value}, ${})}"}]}return s}function v(e){return{chartType:e.chartType,chartProperties:e.chartProperties,data:{path:"/response/value"},dimensions:e.dimensions,measures:e.measures,feeds:e.feeds,actions:[{type:"Navigation",parameters:"{= extension.formatters.getNavigationContext(${parameters>/state/value}, ${})}"}],actionableArea:"Chart"}}r.getAnalyticalCardContent=v;async function f(t){let{parentAppManifest:a,entitySetPath:r,type:n,content:s}=t;const o=await e.load();const u={parentAppId:a["sap.app"].id,cardType:"RT",versions:{ui5:o.version+"-"+o.buildTimestamp},filterEntitySet:r};if(i(n,s)){u.allowedChartTypes=s.allowedChartTypes}return u}async function m(e){const t={...e.parentAppManifest["sap.app"]};const a={...e.parentAppManifest["sap.ui5"]};const r=a.models[""];const n=r.dataSource?r.dataSource:"";const s={};t.id=`user.${t.id}.${Date.now()}`;t.type="card";t.dataSources.filterService={...t.dataSources[n]};s["sap.app"]=t;s["sap.card"]=d(e);s["sap.insights"]=await f(e);s["sap.ui5"]={contentDensities:a.contentDensities,dependencies:{libs:{"sap.insights":{lazy:false}}},componentName:s["sap.app"].id};return s}r.createCardManifest=m;async function h(e,t){const{default:r}=await a("sap/insights/CardHelper");const n=await r.getServiceAsync("UIService");const s=await m(e);await n.showCardPreview(s,true,t)}r.showInsightsCardPreview=h;async function g(e,r){const{default:n}=await a("sap/insights/CardHelper");const s=await n.getServiceAsync("UIService");const i=t.getLibraryResourceBundle("sap.fe.macros").getText("C_SEND_TO_COLLABORATION_MANAGER");await s.showCardPreview(e,true,{type:"None"},i,e=>{const t=e.getParameter("manifest")??e.getSource().getManifest();r.publishCard(t)})}r.showCollaborationManagerCardPreview=g;async function S(e){return m(e)}r.getCardManifest=S;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/insights/TableInsightsHelper", ["sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TitleHelper","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/PropertyHelper","sap/fe/macros/field/FieldTemplating","sap/ui/mdc/p13n/StateUtil","./CommonInsightsHelper"],function(t,e,n,o,a,i,r,s,l,c){"use strict";var u={};var v=c.createInsightsParams;var d=s.getTextBinding;var p=r.isSemanticKey;var g=r.isImageURL;var f=r.hasSemanticObject;var m=i.buildExpressionForCriticalityIcon;var h=i.buildExpressionForCriticalityColor;var y=a.getTitleBindingExpression;var C=o.pathInModel;var P=o.getExpressionFromAnnotation;var x=o.concat;var I=o.compileExpression;var T=n.isDataFieldTypes;var b=e.getInvolvedDataModelObjects;var S=e.convertTypes;function w(t,e){var n,o;const a=((n=t.annotations.Measures)===null||n===void 0?void 0:n.ISOCurrency)||((o=t.annotations.Measures)===null||o===void 0?void 0:o.Unit);if(!a){return}else{const t=C(e);return I(x(t," ",P(a)))}}function E(t){return"annotationPath"in t}function M(t,e,n){return e.columns.reduce(function(e,o){if(o.name in t&&E(o)){const i=n.resolvePath(o.annotationPath).target;if(o.label&&o.annotationPath.includes("@com.sap.vocabularies.UI.v1.LineItem")&&T(i)){const n=i.Value.$target;if(!(n&&g(n))&&!o.isMultiValue){var a;e.push({...t[o.name],annotationPath:o.annotationPath,formatOptions:(a=o.typeConfig)===null||a===void 0?void 0:a.formatOptions})}}}return e},[])}function U(t){var e;const n=(e=t.annotations.Common)===null||e===void 0?void 0:e.Text;if(n){var o,a;const t=(o=n.annotations)===null||o===void 0?void 0:(a=o.UI)===null||a===void 0?void 0:a.TextArrangement;return!t}return false}function D(e){var n;const o=e.content;const a=(n=o.getModel())===null||n===void 0?void 0:n.getMetaModel();const i=o.data("metaPath");const r={};o.getColumns().forEach(t=>{const e=t.getDataProperty();const n=a.getContext(i+"/"+e);const o=b(n);const s=t.getProperty("header");r[e]={property:e,context:n,objectPath:o,title:s}});const l=M(r,e.getTableDefinition(),S(a));return l.map(function(n){const o=b(n.context);const r=o.targetObject;const l=w(r,n.property);const c=l??d(o,{},false,"extension.formatters.sapfe.formatWithBrackets");const u={visible:false,value:c,title:n.title};if(p(r,o)&&!f(r)){u.value=y(o,s.getTextBindingExpression,n.formatOptions,undefined,t.getTargetView(e).getViewData(),"extension.formatters.sapfe.formatTitle");u.additionalText=U(r)?C(n.property):undefined;u.identifier=true}if(n.annotationPath){const t=F(n.annotationPath,i,a);if(t){u.state=t.state;u.showStateIcon=t.showStateIcon;u.customStateIcon=t.customStateIcon}}return u})}u.getInsightsRelevantColumns=D;function F(t,e,n){const o=b(n.getContext(t),n.getContext(e)),a=o.targetObject;if(a.Criticality){const t=a.CriticalityRepresentation!=="UI.CriticalityRepresentationType/WithoutIcon";return{state:h(a),showStateIcon:t,customStateIcon:t?m(a):""}}return undefined}async function O(t,e){const n=t.content;const o=await v("Table",t,n.getFilter(),e);if(!o){return}try{var a,i;const t=await l.retrieveExternalState(n);const e=(a=t.groupLevels)===null||a===void 0?void 0:(i=a[0])===null||i===void 0?void 0:i.name.split("::").pop();if(e){o.requestParameters.groupBy={property:e}}}catch{throw Error("Error retrieving control states")}o.parameters.isNavigationEnabled=B(t);o.entitySetPath=n.data("metaPath");o.requestParameters.sortQuery=t.getSortConditionsQuery();o.requestParameters.queryUrl=n.getRowBinding().getDownloadUrl();const r={cardTitle:n.getHeader(),insightsRelevantColumns:e};return{...o,content:r}}u.createTableCardParams=O;function B(e){var n,o,a,i;const r=e.content,s=t.getTargetView(e).getViewData(),l=r.data("metaPath"),c=(n=s.navigation)!==null&&n!==void 0&&n[l]?s.navigation[l]:(o=s.navigation)===null||o===void 0?void 0:o[l.replace("/","")];return!(c!==null&&c!==void 0&&(a=c.detail)!==null&&a!==void 0&&a.outbound||c!==null&&c!==void 0&&(i=c.display)!==null&&i!==void 0&&i.target)}return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/ActionCommand.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor"],function(e,i,t){"use strict";var r,n,o,l,a,u,c,s,b,f,p,d,h,m,v,y,g,E,B;var w={};var z=t.xml;var k=i.defineBuildingBlock;var x=i.blockEvent;var A=i.blockAttribute;function N(e,i,t,r){if(!t)return;Object.defineProperty(e,i,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function O(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function P(e,i){e.prototype=Object.create(i.prototype);e.prototype.constructor=e;j(e,i)}function j(e,i){j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(i,t){i.__proto__=t;return i};return j(e,i)}function I(e,i,t,r,n){var o={};Object.keys(r).forEach(function(e){o[e]=r[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=t.slice().reverse().reduce(function(t,r){return r(e,i,t)||t},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,i,o);o=null}return o}function M(e,i){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let F=(r=k({name:"ActionCommand",namespace:"sap.fe.macros.internal"}),n=A({type:"string",required:true}),o=A({type:"object",required:true}),l=A({type:"boolean"}),a=A({type:"boolean"}),u=A({type:"boolean"}),c=x(),s=x(),b=x(),r(f=(p=function(e){P(i,e);function i(){var i;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}i=e.call(this,...r)||this;N(i,"id",d,O(i));N(i,"action",h,O(i));N(i,"isActionEnabled",m,O(i));N(i,"isIBNEnabled",v,O(i));N(i,"visible",y,O(i));N(i,"onExecuteAction",g,O(i));N(i,"onExecuteIBN",E,O(i));N(i,"onExecuteManifest",B,O(i));return i}w=i;var t=i.prototype;t.getTemplate=function e(){let i;let t;switch(this.action.type){case"ForAction":i=this.onExecuteAction;t=this.isActionEnabled!==undefined?this.isActionEnabled:this.action.enabled;break;case"ForNavigation":i=this.onExecuteIBN;t=this.isIBNEnabled!==undefined?this.isIBNEnabled:this.action.enabled;break;default:i=this.onExecuteManifest;t=this.action.enabled;break}return z`
		<control:CommandExecution
			xmlns:control="sap.fe.core.controls"
			core:require="{FPM: 'sap/fe/core/helpers/FPMHelper'}"
			execute="${i}"
			enabled="${t}"
			visible="${this.visible!==undefined?this.visible:this.action.visible}"
			command="${this.action.command}"
		/>`};return i}(e),d=I(p.prototype,"id",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),h=I(p.prototype,"action",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),m=I(p.prototype,"isActionEnabled",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),v=I(p.prototype,"isIBNEnabled",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),y=I(p.prototype,"visible",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),g=I(p.prototype,"onExecuteAction",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),E=I(p.prototype,"onExecuteIBN",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),B=I(p.prototype,"onExecuteManifest",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),p))||f);w=F;return w},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/DataPoint.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/helpers/DataPointTemplating"],function(t,e,i,a,r,n,o,l,s,d,u,c,p){"use strict";var h,m,f,v,b,g,P,y,O,T,$,x,j;var V={};var M=p.getValueFormatted;var w=p.getHeaderRatingIndicatorText;var S=p.buildFieldBindingExpression;var D=p.buildExpressionForProgressIndicatorPercentValue;var z=p.buildExpressionForProgressIndicatorDisplayValue;var F=c.isUsedInNavigationWithQuickViewFacets;var E=c.getVisibleExpression;var I=c.getPropertyWithSemanticObject;var C=d.hasUnit;var B=d.hasCurrency;var k=s.getRelativePaths;var N=s.enhanceDataModelPath;var R=l.buildExpressionForCriticalityIcon;var L=l.buildExpressionForCriticalityColor;var A=o.isProperty;var Q=n.generate;var U=r.pathInModel;var _=r.notEqual;var H=r.getExpressionFromAnnotation;var q=r.formatResult;var G=r.compileExpression;var W=a.getInvolvedDataModelObjects;var J=a.convertMetaModelContext;var K=i.xml;var X=e.defineBuildingBlock;var Y=e.blockAttribute;function Z(t,e,i,a){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function tt(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function et(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;it(t,e)}function it(t,e){it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return it(t,e)}function at(t,e,i,a,r){var n={};Object.keys(a).forEach(function(t){n[t]=a[t]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=i.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},n);if(r&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(r):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(t,e,n);n=null}return n}function rt(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let nt=(h=X({name:"DataPoint",namespace:"sap.fe.macros.internal"}),m=Y({type:"string"}),f=Y({type:"sap.ui.model.Context",required:true}),v=Y({type:"string"}),b=Y({type:"object",validate:function(t){if(t!==null&&t!==void 0&&t.dataPointStyle&&!["","large"].includes(t===null||t===void 0?void 0:t.dataPointStyle)){throw new Error(`Allowed value ${t.dataPointStyle} for dataPointStyle does not match`)}if(t!==null&&t!==void 0&&t.displayMode&&!["Value","Description","ValueDescription","DescriptionValue"].includes(t===null||t===void 0?void 0:t.displayMode)){throw new Error(`Allowed value ${t.displayMode} for displayMode does not match`)}if(t!==null&&t!==void 0&&t.iconSize&&!["1rem","1.375rem","2rem"].includes(t===null||t===void 0?void 0:t.iconSize)){throw new Error(`Allowed value ${t.iconSize} for iconSize does not match`)}if(t!==null&&t!==void 0&&t.measureDisplayMode&&!["Hidden","ReadOnly"].includes(t===null||t===void 0?void 0:t.measureDisplayMode)){throw new Error(`Allowed value ${t.measureDisplayMode} for measureDisplayMode does not match`)}return t}}),g=Y({type:"sap.ui.model.Context",required:true,expectedTypes:["EntitySet","NavigationProperty","EntityType","Singleton"]}),h(P=(y=function(t){et(e,t);e.getTemplatingObjects=function t(e){var i,a;const r=W(e.metaPath,e.contextPath);let n;e.visible=E(r);if(r!==null&&r!==void 0&&(i=r.targetObject)!==null&&i!==void 0&&(a=i.Value)!==null&&a!==void 0&&a.path){n=N(r,r.targetObject.Value.path)}const o=J(e.metaPath);return{dataModelPath:r,valueDataModelPath:n,dataPointConverted:o}};e.getDataPointVisualization=function t(i){const{dataModelPath:a,valueDataModelPath:r,dataPointConverted:n}=e.getTemplatingObjects(i);if((n===null||n===void 0?void 0:n.Visualization)==="UI.VisualizationType/Rating"){i.visualization="Rating";return i}if((n===null||n===void 0?void 0:n.Visualization)==="UI.VisualizationType/Progress"){i.visualization="Progress";return i}const o=r&&r.targetObject;i.hasQuickView=o&&F(a,o);if(I(r)){i.hasQuickView=true}if(!i.hasQuickView){if(A(o)&&(C(o)||B(o))){i.visualization="ObjectNumber";return i}}i.visualization="ObjectStatus";return i};function e(i){var a;i.hasQuickView=false;a=t.call(this,e.getDataPointVisualization(i))||this;Z(a,"idPrefix",O,tt(a));Z(a,"metaPath",T,tt(a));Z(a,"ariaLabelledBy",$,tt(a));Z(a,"formatOptions",x,tt(a));Z(a,"contextPath",j,tt(a));return a}V=e;var i=e.prototype;i.getRatingIndicatorTemplate=function t(){var i;const{dataModelPath:a,valueDataModelPath:r,dataPointConverted:n}=e.getTemplatingObjects(this);const o=a.targetObject;const l=this.getTargetValueBinding();const s=(o===null||o===void 0?void 0:o.Value)||"";const d=s===null||s===void 0?void 0:(i=s.$target)===null||i===void 0?void 0:i.type;let u;if(d==="Edm.Decimal"&&o.ValueFormat){if(o.ValueFormat.NumberOfFractionalDigits){u=o.ValueFormat.NumberOfFractionalDigits}}const c=M(r,s,d,u);const p=w(this.metaPath,o);let h="";let m="";const f=G(q([U("T_HEADER_RATING_INDICATOR_FOOTER","sap.fe.i18n"),H(n.Value,k(a)),n.TargetValue?H(n.TargetValue,k(a)):"5"],"MESSAGE"));if(this.formatOptions.showLabels??false){h=K`<Label xmlns="sap.m"
					${this.attr("text",p)}
					${this.attr("visible",o.SampleSize||o.Description?true:false)}
				/>`;m=K`<Label
			xmlns="sap.m"
			core:require="{MESSAGE: 'sap/base/strings/formatMessage' }"
			${this.attr("text",f)}
			visible="true" />`}return K`
		${h}
		<RatingIndicator
		xmlns="sap.m"

		${this.attr("id",this.idPrefix?Q([this.idPrefix,"RatingIndicator-Field-display"]):undefined)}
		${this.attr("maxValue",l)}
		${this.attr("value",c)}
		${this.attr("tooltip",this.getTooltipValue())}
		${this.attr("iconSize",this.formatOptions.iconSize)}
		${this.attr("class",this.formatOptions.showLabels??false?"sapUiTinyMarginTopBottom":undefined)}
		editable="false"
	/>
	${m}`};i.getProgressIndicatorTemplate=function t(){var i;const{dataModelPath:a,valueDataModelPath:r,dataPointConverted:n}=e.getTemplatingObjects(this);const o=L(n,a);const l=z(a);const s=D(a);const d=a.targetObject;let u;let c;if((this===null||this===void 0?void 0:(i=this.formatOptions)===null||i===void 0?void 0:i.showLabels)??false){var p,h,m,f;u=K`<Label
				xmlns="sap.m"
				${this.attr("text",d===null||d===void 0?void 0:d.Description)}
				${this.attr("visible",!!(d!==null&&d!==void 0&&d.Description))}
			/>`;const t=r===null||r===void 0?void 0:(p=r.targetObject)===null||p===void 0?void 0:(h=p.annotations)===null||h===void 0?void 0:(m=h.Common)===null||m===void 0?void 0:(f=m.Label)===null||f===void 0?void 0:f.toString();if(t){c=K`<Label
					xmlns="sap.m"
					${this.attr("text",G(t))}
					${this.attr("visible",!!G(_(undefined,t)))}
				/>`}}return K`
		${u}
			<ProgressIndicator
				xmlns="sap.m"
				${this.attr("id",this.idPrefix?Q([this.idPrefix,"ProgressIndicator-Field-display"]):undefined)}
				${this.attr("displayValue",l)}
				${this.attr("percentValue",s)}
				${this.attr("state",o)}
				${this.attr("tooltip",this.getTooltipValue())}
			/>
			${c}`};i.getObjectNumberCommonTemplate=function t(){const{dataModelPath:i,valueDataModelPath:a,dataPointConverted:r}=e.getTemplatingObjects(this);const n=L(r,i);const o=this.formatOptions.showEmptyIndicator??false?"On":undefined;const l=S(i,this.formatOptions,true);const s=this.formatOptions.measureDisplayMode==="Hidden"?undefined:G(u.getBindingForUnitOrCurrency(a));return K`<ObjectNumber
			xmlns="sap.m"
			${this.attr("id",this.idPrefix?Q([this.idPrefix,"ObjectNumber-Field-display"]):undefined)}
			core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
			${this.attr("state",n)}
			${this.attr("number",l)}
			${this.attr("unit",s)}
			${this.attr("visible",this.visible)}
			emphasized="false"
			${this.attr("class",this.formatOptions.dataPointStyle==="large"?"sapMObjectNumberLarge":undefined)}
			${this.attr("tooltip",this.getTooltipValue())}
			${this.attr("emptyIndicatorMode",o)}
		/>`};i.getObjectNumberTemplate=function t(){var i;const{valueDataModelPath:a}=e.getTemplatingObjects(this);if((this===null||this===void 0?void 0:(i=this.formatOptions)===null||i===void 0?void 0:i.isAnalytics)??false){return K`
				<control:ConditionalWrapper
					xmlns:control="sap.fe.macros.controls"
					${this.attr("condition",u.hasValidAnalyticalCurrencyOrUnit(a))}
				>
					<control:contentTrue>
						${this.getObjectNumberCommonTemplate()}
					</control:contentTrue>
					<control:contentFalse>
						<ObjectNumber
							xmlns="sap.m"
							${this.attr("id",this.idPrefix?Q([this.idPrefix,"ObjectNumber-Field-display-differentUnit"]):undefined)}
							number="*"
							unit=""
							${this.attr("visible",this.visible)}
							emphasized="false"
							${this.attr("class",this.formatOptions.dataPointStyle==="large"?"sapMObjectNumberLarge":undefined)}
						/>
					</control:contentFalse>
				</control:ConditionalWrapper>`}else{return K`${this.getObjectNumberCommonTemplate()}`}};i.getObjectStatusDependentsTemplate=function t(){if(this.hasQuickView){return`<dependents><macro:QuickView\n\t\t\t\t\t\txmlns:macro="sap.fe.macros"\n\t\t\t\t\t\tdataField="{metaPath>}"\n\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t/></dependents>`}return""};i.getObjectStatusTemplate=function t(){const{dataModelPath:i,valueDataModelPath:a,dataPointConverted:r}=e.getTemplatingObjects(this);let n=L(r,i);if(n==="None"&&a){n=this.hasQuickView?"Information":"None"}n=n?n:L(r,i);const o=this.formatOptions.showEmptyIndicator??false?"On":undefined;const l=S(i,this.formatOptions,false);const s=this.formatOptions.dataPointStyle==="large"?undefined:R(r,i);return K`<ObjectStatus
						xmlns="sap.m"
						${this.attr("id",this.idPrefix?Q([this.idPrefix,"ObjectStatus-Field-display"]):undefined)}
						core:require="{ FieldRuntime: 'sap/fe/macros/field/FieldRuntime' }"
						${this.attr("class",this.formatOptions.dataPointStyle==="large"?"sapMObjectStatusLarge":undefined)}
						${this.attr("icon",s)}
						${this.attr("tooltip",this.getTooltipValue())}
						${this.attr("state",n)}
						${this.attr("text",l)}
						${this.attr("emptyIndicatorMode",o)}
						${this.attr("active",this.hasQuickView)}
						press="FieldRuntime.pressLink"
						${this.attr("ariaLabelledBy",this.ariaLabelledBy!==null?this.ariaLabelledBy:undefined)}
				>${this.getObjectStatusDependentsTemplate()}
				</ObjectStatus>`};i.getTooltipValue=function t(){var i,a;const{dataModelPath:r,dataPointConverted:n}=e.getTemplatingObjects(this);return H(n===null||n===void 0?void 0:(i=n.annotations)===null||i===void 0?void 0:(a=i.Common)===null||a===void 0?void 0:a.QuickInfo,k(r))};i.getTargetValueBinding=function t(){const{dataModelPath:i,dataPointConverted:a}=e.getTemplatingObjects(this);return H(a.TargetValue,k(i))};i.getTemplate=function t(){switch(this.visualization){case"Rating":{return this.getRatingIndicatorTemplate()}case"Progress":{return this.getProgressIndicatorTemplate()}case"ObjectNumber":{return this.getObjectNumberTemplate()}default:{return this.getObjectStatusTemplate()}}};return e}(t),O=at(y.prototype,"idPrefix",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),T=at(y.prototype,"metaPath",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),$=at(y.prototype,"ariaLabelledBy",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),x=at(y.prototype,"formatOptions",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),j=at(y.prototype,"contextPath",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),y))||P);V=nt;return V},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/FilterField.block", ["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/macros/CommonHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/filter/FilterFieldHelper","sap/fe/macros/filter/FilterFieldTemplating"],function(e,t,i,r,a,n,l,o,s,u,c,p,d){"use strict";var f,m,b,v,h,y,g,P,F,x,$,C,B,O,T,w,z;var D={};var V=d.getFilterFieldDisplayFormat;var E=p.maxConditions;var I=p.isRequiredInFilter;var j=p.getPlaceholder;var k=p.getDataType;var H=p.getConditionsBinding;var q=p.formatOptions;var S=p.constraints;var A=s.getRelativePropertyPath;var L=o.getTargetObjectPath;var M=l.generate;var R=n.constant;var _=n.compileExpression;var W=r.xml;var U=r.SAP_UI_MODEL_CONTEXT;var N=i.defineBuildingBlock;var X=i.blockAttribute;function G(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function J(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function K(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Q(e,t)}function Q(e,t){Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return Q(e,t)}function Y(e,t,i,r,a){var n={};Object.keys(r).forEach(function(e){n[e]=r[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n);if(a&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(a):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}function Z(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let ee=(f=N({name:"FilterField",namespace:"sap.fe.macros.internal"}),m=X({type:"sap.ui.model.Context",required:true,isPublic:true}),b=X({type:"sap.ui.model.Context",required:true,isPublic:true}),v=X({type:"sap.ui.model.Context",isPublic:true}),h=X({type:"string",isPublic:true}),y=X({type:"string",isPublic:true}),g=X({type:"boolean",isPublic:true}),P=X({type:"string",isPublic:true}),f(F=(x=function(t){K(i,t);function i(e,i,r){var n,l,o,s;var p;p=t.call(this,e,i,r)||this;G(p,"property",$,J(p));G(p,"contextPath",C,J(p));G(p,"visualFilter",B,J(p));G(p,"idPrefix",O,J(p));G(p,"vhIdPrefix",T,J(p));G(p,"useSemanticDateRange",w,J(p));G(p,"settings",z,J(p));const d=a.convertMetaModelContext(p.property);const f=a.getInvolvedDataModelObjects(p.property,p.contextPath);const m=d.name,b=!!((n=d.annotations)!==null&&n!==void 0&&(l=n.Common)!==null&&l!==void 0&&l.ValueListWithFixedValues);p.controlId=p.idPrefix&&M([p.idPrefix,m]);p.sourcePath=L(f);p.dataType=k(d);const v=d===null||d===void 0?void 0:(o=d.annotations)===null||o===void 0?void 0:(s=o.Common)===null||s===void 0?void 0:s.Label;const h=(v===null||v===void 0?void 0:v.toString())??R(m);p.label=_(h)||m;p.conditionsBinding=H(f)||"";p.placeholder=j(d);p.vfEnabled=!!p.visualFilter&&!(p.idPrefix&&p.idPrefix.includes("Adaptation"));p.vfId=p.vfEnabled?M([p.idPrefix,m,"VisualFilter"]):undefined;const y=p.property,g=y.getModel(),P=c.valueHelpPropertyForFilterField(y),F=u.isPropertyFilterable(y),x=y.getObject(),D={context:y};p.display=V(f,d,D);p.isFilterable=!(F===false||F==="false");p.maxConditions=E(x,D);p.dataTypeConstraints=S(x,D);p.dataTypeFormatOptions=q(x,D);p.required=I(x,D);p.operators=c.operators(y,x,p.useSemanticDateRange,p.settings||"",p.contextPath.getPath());const W=g.createBindingContext(P);const U=W.getObject(),N={context:W},X=A(U,N),K=A(x,D);p.valueHelpProperty=c.getValueHelpPropertyForFilterField(y,x,x.$Type,p.vhIdPrefix,K,X,b,p.useSemanticDateRange);return p}D=i;var r=i.prototype;r.getVisualFilterContent=function e(){var t,i;let r=this.visualFilter,a="";if(!this.vfEnabled||!r){return a}if((t=r)!==null&&t!==void 0&&(i=t.isA)!==null&&i!==void 0&&i.call(t,U)){r=r.getObject()}const{contextPath:n,presentationAnnotation:l,outParameter:o,inParameters:s,valuelistProperty:c,selectionVariantAnnotation:p,multipleSelectionAllowed:d,required:f,requiredProperties:m=[],showOverlayInitially:b,renderLineChart:v,isValueListWithFixedValues:h}=r;a=W`
				<macro:VisualFilter
					id="${this.vfId}"
					contextPath="${n}"
					metaPath="${l}"
					outParameter="${o}"
					inParameters="${s}"
					valuelistProperty="${c}"
					selectionVariantAnnotation="${p}"
					multipleSelectionAllowed="${d}"
					required="${f}"
					requiredProperties="${u.stringifyCustomData(m)}"
					showOverlayInitially="${b}"
					renderLineChart="${v}"
					isValueListWithFixedValues="${h}"
					filterBarEntityType="${n}"
				/>
			`;return a};r.getTemplate=async function t(){let i=``;if(this.isFilterable){let t;try{t=await this.display}catch(t){e.error(`FE : FilterField BuildingBlock : Error fetching display property for ${this.sourcePath} : ${t}`)}i=W`
				<mdc:FilterField
					xmlns:mdc="sap.ui.mdc"
					xmlns:macro="sap.fe.macros"
					xmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"
					xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
					unittest:id="UnitTest::FilterField"
					customData:sourcePath="${this.sourcePath}"
					id="${this.controlId}"
					delegate="{name: 'sap/fe/macros/field/FieldBaseDelegate', payload:{isFilterField:true}}"
					label="${this.label}"
					dataType="${this.dataType}"
					display="${t}"
					maxConditions="${this.maxConditions}"
					valueHelp="${this.valueHelpProperty}"
					conditions="${this.conditionsBinding}"
					dataTypeConstraints="${this.dataTypeConstraints}"
					dataTypeFormatOptions="${this.dataTypeFormatOptions}"
					required="${this.required}"
					operators="${this.operators}"
					placeholder="${this.placeholder}"

				>
					${this.vfEnabled?this.getVisualFilterContent():""}
				</mdc:FilterField>
			`}return i};return i}(t),$=Y(x.prototype,"property",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),C=Y(x.prototype,"contextPath",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),B=Y(x.prototype,"visualFilter",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),O=Y(x.prototype,"idPrefix",[h],{configurable:true,enumerable:true,writable:true,initializer:function(){return"FilterField"}}),T=Y(x.prototype,"vhIdPrefix",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return"FilterFieldValueHelp"}}),w=Y(x.prototype,"useSemanticDateRange",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),z=Y(x.prototype,"settings",[P],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),x))||F);D=ee;return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/InternalField.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/CollaborationFormatter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TitleHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldTemplating","sap/fe/macros/situations/SituationsIndicator.block","sap/ui/mdc/enums/FieldEditMode","./field/FieldStructure","./valuehelp/AdditionalValueFormatter"],function(e,t,i,a,r,o,n,l,d,s,u,p,c,f,y,v,m,b,g,h){"use strict";var I,x,P,O,M,F,S,D,E,w,T,C,A,U,j,V,B,z,L,R,$,k,W,_,N,q,K,H,Q,G,J,X,Y,Z,ee,te,ie,ae,re,oe,ne,le,de,se,ue,pe,ce,fe,ye,ve,me,be,ge,he,Ie,xe,Pe;var Oe={};var Me=f.isSemanticKey;var Fe=c.getTargetObjectPath;var Se=c.getRelativePaths;var De=c.getContextRelativeTargetObjectPath;var Ee=p.isProperty;var we=u.getTitleBindingExpression;var Te=s.generate;var Ce=l.getRequiredPropertiesFromUpdateRestrictions;var Ae=l.getRequiredPropertiesFromInsertRestrictions;var Ue=n.wrapBindingExpression;var je=n.pathInModel;var Ve=n.not;var Be=n.ifElse;var ze=n.getExpressionFromAnnotation;var Le=n.formatWithTypeInformation;var Re=n.formatResult;var $e=n.fn;var ke=n.constant;var We=n.compileExpression;var _e=n.and;var Ne=i.CollaborationFieldGroupPrefix;var qe=t.defineBuildingBlock;var Ke=t.blockEvent;var He=t.blockAttribute;function Qe(e,t,i,a){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function Ge(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function Je(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Xe(e,t)}function Xe(e,t){Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return Xe(e,t)}function Ye(e,t,i,a,r){var o={};Object.keys(a).forEach(function(e){o[e]=a[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function Ze(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let et=(I=qe({name:"Field",namespace:"sap.fe.macros.internal",designtime:"sap/fe/macros/internal/Field.designtime"}),x=He({type:"string"}),P=He({type:"string"}),O=He({type:"string"}),M=He({type:"string"}),F=He({type:"string"}),S=He({type:"string"}),D=He({type:"string"}),E=He({type:"sap.ui.model.Context",required:true,expectedTypes:["EntitySet","NavigationProperty","EntityType","Singleton"]}),w=He({type:"boolean"}),T=He({type:"sap.ui.model.Context",required:true,expectedTypes:["Property"],expectedAnnotationTypes:["com.sap.vocabularies.UI.v1.DataField","com.sap.vocabularies.UI.v1.DataFieldWithUrl","com.sap.vocabularies.UI.v1.DataFieldForAnnotation","com.sap.vocabularies.UI.v1.DataFieldForAction","com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldWithAction","com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath","com.sap.vocabularies.UI.v1.DataPointType"]}),C=He({type:"sap.ui.mdc.enums.EditMode"}),A=He({type:"boolean"}),U=He({type:"string"}),j=He({type:"string"}),V=He({type:"sap.ui.core.TextAlign"}),B=He({type:"string",required:false}),z=He({type:"string"}),L=He({type:"boolean"}),R=He({type:"boolean"}),$=He({type:"object",validate:function(e){if(e.textAlignMode&&!["Table","Form"].includes(e.textAlignMode)){throw new Error(`Allowed value ${e.textAlignMode} for textAlignMode does not match`)}if(e.displayMode&&!["Value","Description","ValueDescription","DescriptionValue"].includes(e.displayMode)){throw new Error(`Allowed value ${e.displayMode} for displayMode does not match`)}if(e.fieldMode&&!["nowrapper",""].includes(e.fieldMode)){throw new Error(`Allowed value ${e.fieldMode} for fieldMode does not match`)}if(e.measureDisplayMode&&!["Hidden","ReadOnly"].includes(e.measureDisplayMode)){throw new Error(`Allowed value ${e.measureDisplayMode} for measureDisplayMode does not match`)}if(e.textExpandBehaviorDisplay&&!["InPlace","Popover"].includes(e.textExpandBehaviorDisplay)){throw new Error(`Allowed value ${e.textExpandBehaviorDisplay} for textExpandBehaviorDisplay does not match`)}if(e.semanticKeyStyle&&!["ObjectIdentifier","Label",""].includes(e.semanticKeyStyle)){throw new Error(`Allowed value ${e.semanticKeyStyle} for semanticKeyStyle does not match`)}if(typeof e.isAnalytics==="string"){e.isAnalytics=e.isAnalytics==="true"}if(typeof e.forInlineCreationRows==="string"){e.forInlineCreationRows=e.forInlineCreationRows==="true"}if(typeof e.hasDraftIndicator==="string"){e.hasDraftIndicator=e.hasDraftIndicator==="true"}return e}}),k=He({type:"sap.ui.model.Context"}),W=He({type:"boolean"}),_=He({type:"string"}),N=He({type:"string"}),q=Ke(),K=Ke(),H=He({type:"string"}),I(Q=(G=function(e){Je(i,e);var t=i.prototype;t.getOverrides=function e(t,i){const a={};if(t){const e=t[i];if(e){Object.keys(e).forEach(function(t){a[t]=e[t]})}}return a};t.getObjectIdentifierText=function e(t,i){var a,r;let n=je(De(i));const l=t===null||t===void 0?void 0:t.displayMode;const d=i.targetObject.type==="PropertyPath"?i.targetObject.$target:i.targetObject;const s=(a=d.annotations)===null||a===void 0?void 0:(r=a.Common)===null||r===void 0?void 0:r.Text;if(s===undefined){return undefined}n=Le(d,n);switch(l){case"ValueDescription":const e=Se(i);return We(ze(s,e));case"DescriptionValue":return We(Re([n],o.formatToKeepWhitespace));default:return undefined}};t.setUpDataPointType=function e(t){if((t===null||t===void 0?void 0:t.term)==="com.sap.vocabularies.UI.v1.DataPoint"){t.$Type=t.$Type||"com.sap.vocabularies.UI.v1.DataPointType"}};t.setUpVisibleProperties=function e(t){const i=a.getInvolvedDataModelObjects(t.dataField,t.entitySet);t.visible=v.getVisibleExpression(i,t.formatOptions);t.displayVisible=t.formatOptions.fieldMode==="nowrapper"?t.visible:undefined};t.getContentId=function e(t){return`${t}-content`};t.setUpFormatOptions=function e(t,i,a,r){var o;const n=this.getOverrides(a,t.dataField.getPath());if(!t.formatOptions.displayMode){t.formatOptions.displayMode=y.getDisplayMode(i)}if(t.formatOptions.displayMode==="Description"){t.valueAsStringBindingExpression=v.getValueBinding(i,t.formatOptions,true,true,undefined,true)}t.formatOptions.textLinesEdit=n.textLinesEdit||n.formatOptions&&n.formatOptions.textLinesEdit||t.formatOptions.textLinesEdit||4;t.formatOptions.textMaxLines=n.textMaxLines||n.formatOptions&&n.formatOptions.textMaxLines||t.formatOptions.textMaxLines;if((o=r.models.viewData)!==null&&o!==void 0&&o.getProperty("/retrieveTextFromValueList")){t.formatOptions.retrieveTextFromValueList=v.isRetrieveTextFromValueListEnabled(i.targetObject,t.formatOptions);if(t.formatOptions.retrieveTextFromValueList){var l,d,s;const e=!!(i!==null&&i!==void 0&&(l=i.targetEntityType)!==null&&l!==void 0&&(d=l.annotations)!==null&&d!==void 0&&(s=d.UI)!==null&&s!==void 0&&s.TextArrangement);t.formatOptions.displayMode=e?t.formatOptions.displayMode:"DescriptionValue"}}if(t.formatOptions.fieldMode==="nowrapper"&&t.editMode==="Display"){if(t._flexId){t.noWrapperId=t._flexId}else{t.noWrapperId=t.idPrefix?Te([t.idPrefix,"Field-content"]):undefined}}};t.setUpDisplayStyle=function e(t,i,a){var r,o,n,l,d,s,u,p,c,f,b,g,h,I,x,P,O,M;const F=a.targetObject;if(!a.targetObject){t.displayStyle="Text";return}t.hasUnitOrCurrency=((r=F.annotations)===null||r===void 0?void 0:(o=r.Measures)===null||o===void 0?void 0:o.Unit)!==undefined||((n=F.annotations)===null||n===void 0?void 0:(l=n.Measures)===null||l===void 0?void 0:l.ISOCurrency)!==undefined;t.hasValidAnalyticalCurrencyOrUnit=y.hasValidAnalyticalCurrencyOrUnit(a);t.textFromValueList=Ue(We($e("FieldRuntime.retrieveTextFromValueList",[je(De(a)),`/${F.fullyQualifiedName}`,t.formatOptions.displayMode])),false);if(F.type==="Edm.Stream"){t.displayStyle="File";return}if((d=F.annotations)!==null&&d!==void 0&&(s=d.UI)!==null&&s!==void 0&&s.IsImageURL){t.displayStyle="Avatar";return}switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataPointType":t.displayStyle="DataPoint";return;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(((u=i.Target)===null||u===void 0?void 0:(p=u.$target)===null||p===void 0?void 0:p.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){t.displayStyle="DataPoint";return}else if(((c=i.Target)===null||c===void 0?void 0:(f=c.$target)===null||f===void 0?void 0:f.$Type)==="com.sap.vocabularies.Communication.v1.ContactType"){t.displayStyle="Contact";return}break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":t.displayStyle="Button";return;case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":t.displayStyle="Link";return}const S=v.isUsedInNavigationWithQuickViewFacets(a,F);const D=!!v.getPropertyWithSemanticObject(a)||t.semanticObject!==undefined&&t.semanticObject!=="";if(Me(F,a)&&t.formatOptions.semanticKeyStyle){var E,w,T,C,A,U,j,V;t.hasQuickView=S||D;t.hasSituationsIndicator=m.getSituationsNavigationProperty(a.targetEntityType)!==undefined;this.setUpObjectIdentifierTitleAndText(t,a);if((E=a.contextLocation)!==null&&E!==void 0&&(w=E.targetEntitySet)!==null&&w!==void 0&&(T=w.annotations)!==null&&T!==void 0&&(C=T.Common)!==null&&C!==void 0&&C.DraftRoot&&(A=a.targetEntitySet)!==null&&A!==void 0&&(U=A.annotations)!==null&&U!==void 0&&(j=U.Common)!==null&&j!==void 0&&j.DraftRoot&&t.formatOptions.hasDraftIndicator!==false){t.draftIndicatorVisible=v.getDraftIndicatorVisibleBinding(a.targetObject.name);t.displayStyle="SemanticKeyWithDraftIndicator";return}t.showErrorIndicator=((V=a.contextLocation)===null||V===void 0?void 0:V.targetObject._type)==="NavigationProperty"&&!t.formatOptions.fieldGroupDraftIndicatorPropertyPath;t.situationsIndicatorPropertyPath=a.targetObject.name;t.displayStyle=t.formatOptions.semanticKeyStyle==="ObjectIdentifier"?"ObjectIdentifier":"LabelSemanticKey";return}if(i.Criticality){t.hasQuickView=S||D;t.displayStyle="ObjectStatus";return}if((b=F.annotations)!==null&&b!==void 0&&(g=b.Measures)!==null&&g!==void 0&&g.ISOCurrency&&String(t.formatOptions.isCurrencyAligned)==="true"&&t.formatOptions.measureDisplayMode!=="Hidden"){t.valueAsStringBindingExpression=v.getValueBinding(a,t.formatOptions,true,true,undefined,true);t.unitBindingExpression=We(y.getBindingForUnitOrCurrency(a));t.displayStyle="AmountWithCurrency";return}if((h=F.annotations)!==null&&h!==void 0&&(I=h.Communication)!==null&&I!==void 0&&I.IsEmailAddress||(x=F.annotations)!==null&&x!==void 0&&(P=x.Communication)!==null&&P!==void 0&&P.IsPhoneNumber){t.displayStyle="Link";return}if((O=F.annotations)!==null&&O!==void 0&&(M=O.UI)!==null&&M!==void 0&&M.MultiLineText){t.displayStyle="ExpandableText";return}if(S||D){t.hasQuickView=true;t.displayStyle="LinkWithQuickView";return}if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){t.displayStyle="Link";return}t.displayStyle="Text"};t.setUpEditStyle=function e(t){if(this.idPrefix){this.editStyleId=Te([this.idPrefix,"Field-edit"])}v.setEditStyleProperties(this,this.convertedDataField,this.dataModelPath);this.computeFieldGroupIds(t)};t.computeFieldGroupIds=function e(t){var i,a;const r=["InputWithValueHelp","TextArea","DatePicker","TimePicker","DateTimePicker","InputWithUnit","Input"];if(!t){return}const o=t.getSideEffectsService();const n=o.computeFieldGroupIds(((i=this.dataModelPath.targetEntityType)===null||i===void 0?void 0:i.fullyQualifiedName)??"",((a=this.dataModelPath.targetObject)===null||a===void 0?void 0:a.fullyQualifiedName)??"");if(this.collaborationEnabled&&r.includes(this.editStyle||"")){const e=`${Ne}${this.dataSourcePath}`;n.push(e);this.mainPropertyRelativePath=Ee(this.dataModelPath.targetObject)?De(this.dataModelPath):undefined}this.fieldGroupIds=n.length?n.join(","):undefined};t.setUpObjectIdentifierTitleAndText=function e(t,i){var a;const r=(a=t.formatOptions)===null||a===void 0?void 0:a.semanticKeyStyle;const o=t.formatOptions.displayMode;t.identifierTitle=we(i,v.getTextBindingExpression,{displayMode:o,splitTitleOnTwoLines:true},undefined,undefined);t.identifierText=r==="ObjectIdentifier"?this.getObjectIdentifierText(t.formatOptions,i):undefined};t.setUpValueState=function e(t){var i,a,r,o;let n;const l=t.formatOptions.textAlignMode;const d=je(De(t.dataModelPath));const s=ze((i=t.dataModelPath)===null||i===void 0?void 0:(a=i.targetObject)===null||a===void 0?void 0:(r=a.annotations)===null||r===void 0?void 0:(o=r.Common)===null||o===void 0?void 0:o.Text);if(l==="Table"){n=Re([je(`/recommendationsData`,"internal"),je(`/isEditable`,"ui"),t.dataSourcePath,d,s],h.formatValueState,t.dataModelPath.targetEntityType)}else{n=Re([je(`/recommendationsData`,"internal"),je(`/isEditable`,"ui"),t.dataSourcePath,d,s],h.formatValueState)}t.valueState=We(n)};t.setInputWithValuehelpPlaceholder=function e(t){let i;const a=t.editStylePlaceholder;const r=t.formatOptions.textAlignMode;if(r==="Table"){i=t.dataModelPath.targetEntityType}const o=Re([je(`/recommendationsData`,"internal"),je(`/currentCtxt`,"internal"),je(`${t.dataModelPath.targetObject.name}@$ui5.fe.messageType`),a,t.formatOptions.displayMode],h.formatPlaceholder,i);t.editStylePlaceholder=We(o)};function i(t,i,a){var r,o,n;var l;l=e.call(this,t)||this;Qe(l,"dataSourcePath",J,Ge(l));Qe(l,"emptyIndicatorMode",X,Ge(l));Qe(l,"_flexId",Y,Ge(l));Qe(l,"idPrefix",Z,Ge(l));Qe(l,"_apiId",ee,Ge(l));Qe(l,"noWrapperId",te,Ge(l));Qe(l,"vhIdPrefix",ie,Ge(l));Qe(l,"entitySet",ae,Ge(l));Qe(l,"navigateAfterAction",re,Ge(l));Qe(l,"dataField",oe,Ge(l));Qe(l,"editMode",ne,Ge(l));Qe(l,"wrap",le,Ge(l));Qe(l,"class",de,Ge(l));Qe(l,"ariaLabelledBy",se,Ge(l));Qe(l,"textAlign",ue,Ge(l));Qe(l,"semanticObject",pe,Ge(l));Qe(l,"requiredExpression",ce,Ge(l));Qe(l,"visible",fe,Ge(l));Qe(l,"showErrorObjectStatus",ye,Ge(l));Qe(l,"formatOptions",ve,Ge(l));Qe(l,"entityType",me,Ge(l));Qe(l,"collaborationEnabled",be,Ge(l));Qe(l,"_vhFlexId",ge,Ge(l));Qe(l,"valueState",he,Ge(l));Qe(l,"onChange",Ie,Ge(l));Qe(l,"onLiveChange",xe,Ge(l));l.hasQuickView=false;l.hasUnitOrCurrency=undefined;l.hasValidAnalyticalCurrencyOrUnit=undefined;l.textFromValueList=undefined;l.editStyleId=undefined;Qe(l,"editStylePlaceholder",Pe,Ge(l));l.ratingIndicatorTooltip=undefined;l.ratingIndicatorTargetValue=undefined;l.showErrorIndicator=false;l.situationsIndicatorPropertyPath="";l.hasPropertyInsertRestrictions=false;l.computeCommonProperties(Ge(l),a);l.setUpDataPointType(l.convertedDataField);l.setUpVisibleProperties(Ge(l));if(l._flexId){l._apiId=l._flexId;l._flexId=l.getContentId(l._flexId);l._vhFlexId=`${l._flexId}_${l.vhIdPrefix}`}l.dataSourcePath=Fe(l.dataModelPath);l.entityType=l.metaModel.createBindingContext(`/${l.dataModelPath.targetEntityType.fullyQualifiedName}`);if(((r=l.formatOptions)===null||r===void 0?void 0:r.forInlineCreationRows)===true){l.hasPropertyInsertRestrictions=v.hasPropertyInsertRestrictions(l.dataModelPath)}l.computeEditMode(Ge(l));l.computeCollaborationProperties(Ge(l));l.computeEditableExpressions(Ge(l));l.setUpFormatOptions(Ge(l),l.dataModelPath,i,a);l.setUpDisplayStyle(Ge(l),l.convertedDataField,l.dataModelPath);l.setUpEditStyle(a.appComponent);l.setUpValueState(Ge(l));if(l.editStyle==="InputWithValueHelp"){l.setInputWithValuehelpPlaceholder(Ge(l))}const d=["Avatar","AmountWithCurrency"];if(l.displayStyle&&!d.includes(l.displayStyle)&&l.dataModelPath.targetObject){l.text=l.text??v.getTextBinding(l.dataModelPath,l.formatOptions)}else{l.text=""}l.emptyIndicatorMode=l.formatOptions.showEmptyIndicator?"On":undefined;if(Ee(l.convertedDataField)&&((o=l.convertedDataField.annotations)===null||o===void 0?void 0:(n=o.UI)===null||n===void 0?void 0:n.DataFieldDefault)!==undefined){l.dataField=l.metaModel.createBindingContext(`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`,l.dataField)}return l}Oe=i;t.computeCommonProperties=function e(t,i){var r,o,n;const l=a.convertMetaModelContext(t.dataField);let d=a.getInvolvedDataModelObjects(t.dataField,t.entitySet);d=v.getDataModelObjectPathForValue(d)||d;const s=d.targetObject;this.convertedDataField=l;this.dataModelPath=d;this.property=s;this.metaModel=i.models.metaModel||i.models.entitySet;this.propertyForFieldControl=(r=this.dataModelPath)!==null&&r!==void 0&&(o=r.targetObject)!==null&&o!==void 0&&o.Value?this.dataModelPath.targetObject.Value:(n=this.dataModelPath)===null||n===void 0?void 0:n.targetObject};t.computeEditMode=function e(t){if(t.editMode!==undefined&&t.editMode!==null){t.editModeAsObject=t.editMode}else{const e=t.formatOptions.measureDisplayMode?t.formatOptions.measureDisplayMode==="ReadOnly":false;t.editModeAsObject=y.getEditMode(t.propertyForFieldControl,t.dataModelPath,e,true,t.convertedDataField);t.editMode=We(Be(_e(je("@$ui5.context.isInactive"),t.hasPropertyInsertRestrictions),"Display",t.editModeAsObject))}};t.computeCollaborationProperties=function e(t){const i=y.getEditableExpressionAsObject(t.propertyForFieldControl,t.convertedDataField,t.dataModelPath);if(d.isCollaborationDraftSupported(t.metaModel)&&t.editMode!==b.Display){t.collaborationEnabled=true;t.collaborationExpression=y.getCollaborationExpression(t.dataModelPath,r.hasCollaborationActivity);t.editableExpression=We(_e(i,Ve(t.collaborationExpression)));t.editMode=We(Be(t.collaborationExpression,ke("ReadOnly"),Be(_e(je("@$ui5.context.isInactive"),t.hasPropertyInsertRestrictions),"Display",t.editModeAsObject)))}else{t.editableExpression=We(i)}};t.computeEditableExpressions=function e(t){var i,a;const r=Ae((i=t.entitySet)===null||i===void 0?void 0:i.getPath().replaceAll("/$NavigationPropertyBinding/","/"),t.metaModel);const o=Ce((a=t.entitySet)===null||a===void 0?void 0:a.getPath().replaceAll("/$NavigationPropertyBinding/","/"),t.metaModel);const n={requiredPropertiesFromInsertRestrictions:r,requiredPropertiesFromUpdateRestrictions:o};t.liveChangeEnabled=!!t.onLiveChange;t.enabledExpression=y.getEnabledExpression(t.propertyForFieldControl,t.convertedDataField,false,t.dataModelPath);t.requiredExpression=y.getRequiredExpression(t.propertyForFieldControl,t.convertedDataField,false,false,n,t.dataModelPath)};t.getTemplate=function e(){return g(this)};return i}(e),J=Ye(G.prototype,"dataSourcePath",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),X=Ye(G.prototype,"emptyIndicatorMode",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=Ye(G.prototype,"_flexId",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=Ye(G.prototype,"idPrefix",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),ee=Ye(G.prototype,"_apiId",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),te=Ye(G.prototype,"noWrapperId",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),ie=Ye(G.prototype,"vhIdPrefix",[D],{configurable:true,enumerable:true,writable:true,initializer:function(){return"FieldValueHelp"}}),ae=Ye(G.prototype,"entitySet",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),re=Ye(G.prototype,"navigateAfterAction",[w],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),oe=Ye(G.prototype,"dataField",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),ne=Ye(G.prototype,"editMode",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),le=Ye(G.prototype,"wrap",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),de=Ye(G.prototype,"class",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),se=Ye(G.prototype,"ariaLabelledBy",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),ue=Ye(G.prototype,"textAlign",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),pe=Ye(G.prototype,"semanticObject",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),ce=Ye(G.prototype,"requiredExpression",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),fe=Ye(G.prototype,"visible",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),ye=Ye(G.prototype,"showErrorObjectStatus",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),ve=Ye(G.prototype,"formatOptions",[$],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),me=Ye(G.prototype,"entityType",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),be=Ye(G.prototype,"collaborationEnabled",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),ge=Ye(G.prototype,"_vhFlexId",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),he=Ye(G.prototype,"valueState",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),Ie=Ye(G.prototype,"onChange",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),xe=Ye(G.prototype,"onLiveChange",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),Pe=Ye(G.prototype,"editStylePlaceholder",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),G))||Q);Oe=et;return Oe},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/field/DisplayStyle", ["sap/base/util/uid","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/CommonHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldTemplating","sap/ui/mdc/enums/FieldEditMode"],function(e,t,a,i,n,o,r,l,s,d,c,p,m){"use strict";var u=s.hasValidAnalyticalCurrencyOrUnit;var $=l.getContextRelativeTargetObjectPath;var v=l.enhanceDataModelPath;var y=r.buildExpressionForCriticalityIcon;var b=r.buildExpressionForCriticalityColor;var f=r.buildExpressionForCriticalityButtonType;var x=o.isPathAnnotationExpression;var I=n.generate;var F=i.pathInModel;var g=i.not;var h=i.isPathInModelExpression;var T=i.getExpressionFromAnnotation;var M=i.formatResult;var D=i.equal;var E=i.compileExpression;var L=t.xml;const B={getAmountWithCurrencyTemplate(e){if(e.formatOptions.isAnalytics){return L`<controls:ConditionalWrapper xmlns:controls="sap.fe.macros.controls" visible="${e.displayVisible}" condition="${e.hasValidAnalyticalCurrencyOrUnit}">
			<controls:contentTrue>
				<u:Currency
					xmlns:u="sap.ui.unified"
					stringValue="${e.valueAsStringBindingExpression}"
					currency="${e.unitBindingExpression}"
					useSymbol="false"
					maxPrecision="5"
				/>
			</controls:contentTrue>
			<controls:contentFalse>
				<u:Currency xmlns:u="sap.ui.unified" stringValue="" currency="*" useSymbol="false" />
			</controls:contentFalse>
		</controls:ConditionalWrapper>`}else{return L`<coreControls:FormElementWrapper xmlns:coreControls="sap.fe.core.controls"
			formDoNotAdjustWidth="true"
			width="${e.formatOptions.textAlignMode==="Table"?"100%":undefined}"
		>
			<u:Currency
				xmlns:u="sap.ui.unified"
				visible="${e.displayVisible}"
				stringValue="${e.valueAsStringBindingExpression}"
				currency="${e.unitBindingExpression}"
				useSymbol="false"
				maxPrecision="5"
			/>
		</coreControls:FormElementWrapper>`}},getAvatarTemplate(e){let t;if(e._flexId){t=e._flexId}else if(e.idPrefix){t=I([e.idPrefix,"Field-content"])}const a=p.getVisibleExpression(e.dataModelPath);const i=p.getValueBinding(e.dataModelPath,{});return L`
				<controls:FormElementWrapper
					xmlns:controls="sap.fe.core.controls"
					visible="${a}"
				>
				<Avatar
					xmlns="sap.m"
					id="${t}"
					src="${i}"
					displaySize="S"
					class="sapUiSmallMarginEnd"
					displayShape="Square"
					imageFitType="Contain"
				/>
			</controls:FormElementWrapper>`},getButtonTemplate:e=>{var t,a,i;const n=((t=e.formatOptions)===null||t===void 0?void 0:t.showIconUrl)??false?e.convertedDataField.IconUrl:undefined;const o=!(((a=e.formatOptions)===null||a===void 0?void 0:a.showIconUrl)??false)?e.convertedDataField.Label:undefined;const r=((i=e.formatOptions)===null||i===void 0?void 0:i.showIconUrl)??false?e.convertedDataField.Label:undefined;let l;let s;let p;let m;let u;if(e.convertedDataField.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){var $,v;const t=e.dataField.getObject();l=c.getPressEventForDataFieldActionButton(e,t);s=e.convertedDataField.ActionTarget?e.convertedDataField.ActionTarget.isBound:true;p=e.convertedDataField.ActionTarget?($=e.convertedDataField.ActionTarget.annotations)===null||$===void 0?void 0:(v=$.Core)===null||v===void 0?void 0:v.OperationAvailable:"false";m=e.convertedDataField.ActionTarget?undefined:"false";if(p&&p!=="false"){const t=e.convertedDataField.ActionTarget;const a=t.parameters[0].name;m=E(T(p,[],undefined,e=>{if(e.startsWith(a)){return e.replace(a+"/","")}return e}))}}if(e.convertedDataField.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){var y;l=d.getPressHandlerForDataFieldForIBN(e.dataField.getObject(),undefined,undefined);u=true;if(((y=e.convertedDataField)===null||y===void 0?void 0:y.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&e.convertedDataField.NavigationAvailable!==undefined&&String(e.formatOptions.ignoreNavigationAvailable)!=="true"){u=E(T(e.convertedDataField.NavigationAvailable))}}let b="";if(e.convertedDataField.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){b=L`<Button
				xmlns="sap.m"
				visible="${e.visible}"
				text="${o}"
				icon="${n}"
				enabled="${u}"
				tooltip="${r}"
				press="${l}"
			/>`}else if(c.isDataFieldActionButtonVisible(void 0,e.convertedDataField,s,p)){const t=c.isDataFieldActionButtonEnabled(e.convertedDataField,s,p,m);const a=f(e.dataModelPath);b=L`<Button
				xmlns="sap.m"
			    class="${e.class}"
				text="${o}"
				icon="${n}"
				tooltip="${r}"
				press="${l}"
				enabled="${t}"
				visible="${e.visible}"
				type="${a}"
				/>`}return b},getContactTemplate(e){const t=e.dataField.getModel().createBindingContext("Target/$AnnotationPath",e.dataField);const a=p.getVisibleExpression(e.dataModelPath);return L`
		<macros:Contact
			idPrefix="${e.idPrefix}"
			ariaLabelledBy="${e.ariaLabelledBy}"
			metaPath="${t}"
			contextPath="${e.entitySet}"
			_flexId="${e._flexId}"
			visible="${a}"
			showEmptyIndicator="${e.formatOptions.showEmptyIndicator}"
		/>`},getDataPointInnerPart(e,t){const i=a.convertMetaModelContext(e.dataField);const n=i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"?e.dataField.getModel().createBindingContext("Target/$AnnotationPath",e.dataField):e.dataField;const o=L`<internalMacro:formatOptions
				xmlns:internalMacro="sap.fe.macros.internal"
				measureDisplayMode="${e.formatOptions.measureDisplayMode}"
				showEmptyIndicator="${e.formatOptions.showEmptyIndicator}"
				isAnalytics="${e.formatOptions.isAnalytics}"
			/>`;return L`<internalMacro:DataPoint
			xmlns:internalMacro="sap.fe.macros.internal"
			idPrefix="${e.idPrefix}"
			visible="${!t?e.displayVisible:""}"
			ariaLabelledBy="${e.ariaLabelledBy}"
			_flexId="${e._flexId}"
			metaPath="${n}"
			contextPath="${e.entitySet}"
		>
			${o}
		</internalMacro:DataPoint>`},getDataPointTemplate(e){if((e.formatOptions.isAnalytics??false)&&(e.hasUnitOrCurrency??false)){return L`<controls:ConditionalWrapper xmlns:controls="sap.fe.macros.controls" visible="${e.displayVisible}" condition="${e.hasValidAnalyticalCurrencyOrUnit}">
				<controls:contentTrue>
					 ${this.getDataPointInnerPart(e,true)}
				</controls:contentTrue>
					<controls:contentFalse>
						<Text xmlns="sap.m" text="*" />
				</controls:contentFalse>
			</controls:ConditionalWrapper>`}else{return this.getDataPointInnerPart(e,false)}},getExpandableText(e){var t,a;return L`
			<ExpandableText
				xmlns="sap.m"
				id="${e===null||e===void 0?void 0:e.noWrapperId}"
				visible="${e===null||e===void 0?void 0:e.displayVisible}"
				text="${e===null||e===void 0?void 0:e.text}"
				overflowMode="${e===null||e===void 0?void 0:(t=e.formatOptions)===null||t===void 0?void 0:t.textExpandBehaviorDisplay}"
				maxCharacters="${e===null||e===void 0?void 0:(a=e.formatOptions)===null||a===void 0?void 0:a.textMaxCharactersDisplay}"
				emptyIndicatorMode="${e===null||e===void 0?void 0:e.emptyIndicatorMode}"
		/>`},getFileTemplate(e){var t,a,i,n,o,r,l,s,d,u,y,b;let f;const I=$(e.dataModelPath);const h=(t=e.property.annotations.Core)===null||t===void 0?void 0:(a=t.ContentDisposition)===null||a===void 0?void 0:a.Filename;let M;if(x(h)){const t=v(e.dataModelPath,h.path);M="{ path: '"+$(t)+"' }"}const B=E(g(D(F(`${I}@odata.mediaContentType`),null)));const O=p.getValueBinding(e.dataModelPath,{});const W=(i=e.property.annotations.Core)===null||i===void 0?void 0:(n=i.ContentDisposition)===null||n===void 0?void 0:(o=n.Filename)===null||o===void 0?void 0:o.path;const S=((r=e.property.annotations.Core)===null||r===void 0?void 0:r.MediaType)&&E(T((l=e.property.annotations.Core)===null||l===void 0?void 0:l.MediaType));const P=!!((s=e.property.annotations.UI)!==null&&s!==void 0&&s.IsImageURL)||!!((d=e.property.annotations.UI)!==null&&d!==void 0&&d.IsImage)||/image\//i.test(((u=e.property.annotations.Core)===null||u===void 0?void 0:(y=u.MediaType)===null||y===void 0?void 0:y.toString())??"");const C=p.getValueBinding(e.dataModelPath,{});const V=c.getPathForIconSource(I);const A=c.getFilenameExpr(M,"{sap.fe.i18n>M_FIELD_FILEUPLOADER_NOFILENAME_TEXT}");const U=c.getDownloadUrl(O??"");const R=E(D(F(`${I}@odata.mediaContentType`),null));let k;if((b=e.property.annotations.Core)!==null&&b!==void 0&&b.AcceptableMediaTypes){const t=Array.from(e.property.annotations.Core.AcceptableMediaTypes).map(e=>`'${e}'`);k=`{=odata.collection([${t.join(",")}])}`}const w=c.calculateMBfromByte(e.property.maxLength);if(P){f=L`
			<controls:avatar xmlns:controls="sap.fe.macros.controls">
				<Avatar
					xmlns="sap.m"
					visible="${e.displayVisible}"
					src="${C}"
					displaySize="S"
					class="sapUiSmallMarginEnd"
					displayShape="Square">
					<customData>
						<ImageCustomData paramName="xcache" />
					</customData>
				</Avatar>
			</controls:avatar>`}else{f=L`
			<controls:icon xmlns:controls="sap.fe.macros.controls">
				<core:Icon src="${V}" class="sapUiSmallMarginEnd" visible="${B}" />
			</controls:icon>
			<controls:link>
				<Link
					xmlns="sap.m"
					text="${A}"
					target="_blank"
					href="${U}"
					visible="${B}"
					wrapping="true"
				/>
			</controls:link>
			<controls:text>
				<Text xmlns="sap.m" emptyIndicatorMode="On" text="" visible="${R}" />
			</controls:text>`}if(e.editMode!==m.Display){const t=e.collaborationEnabled?"FIELDRUNTIME.handleOpenUploader":undefined;const a=e.collaborationEnabled?"FIELDRUNTIME.handleCloseUploader":undefined;f+=L`
			<controls:fileUploader xmlns:controls="sap.fe.macros.controls">
				<u:FileUploader
					xmlns:u="sap.ui.unified"
					name="FEV4FileUpload"
					visible="${e.editableExpression}"
					buttonOnly="true"
					iconOnly="true"
					multiple="false"
					tooltip="{sap.fe.i18n>M_FIELD_FILEUPLOADER_UPLOAD_BUTTON_TOOLTIP}"
					icon="sap-icon://upload"
					style="Transparent"
					sendXHR="true"
					useMultipart="false"
					sameFilenameAllowed="true"
					mimeType="${k}"
					typeMissmatch="FIELDRUNTIME.handleTypeMissmatch"
					maximumFileSize="${w}"
					fileSizeExceed="FIELDRUNTIME.handleFileSizeExceed"
					uploadOnChange="false"
					uploadComplete="FIELDRUNTIME.handleUploadComplete($event, ${M||"undefined"}, '${I}', $controller)"
					httpRequestMethod="Put"
					change="FIELDRUNTIME.uploadStream($controller, $event)"
					beforeDialogOpen="${t}"
					afterDialogClose="${a}"
					uploadStart="FIELDRUNTIME.handleOpenUploader"
				/>
			</controls:fileUploader>
			<controls:deleteButton>
				<Button
					xmlns="sap.m"
					icon="sap-icon://sys-cancel"
					type="Transparent"
					press="FIELDRUNTIME.removeStream($event, ${M||"undefined"}, '${I}', $controller)"
					tooltip="{sap.fe.i18n>M_FIELD_FILEUPLOADER_DELETE_BUTTON_TOOLTIP}"
					visible="${e.editableExpression}"
					enabled="${B}"
				/>
			</controls:deleteButton>`}return L`
			<controls:FileWrapper
				xmlns:controls="sap.fe.macros.controls"
				core:require="{FIELDRUNTIME: 'sap/fe/macros/field/FieldRuntime'}"
				visible="${e.visible}"
				uploadUrl="${O}"
				propertyPath="${I}"
				filename="${W}"
				mediaType="${S}"
				fieldGroupIds="${e.fieldGroupIds}"
				validateFieldGroup="FIELDRUNTIME.onValidateFieldGroup($controller, $event)"
				customData:sourcePath="${e.dataSourcePath}"
			>${f}</controls:FileWrapper>`},getLinkTemplate(t){var a,i,n,o;let r;let l;let s;let m;switch(t.convertedDataField.$Type){case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":l=d.getPressHandlerForDataFieldForIBN(t.dataField.getObject());return L`<Link
					xmlns="sap.m"
					id="${t.noWrapperId}"
					core:require="{WSR: 'sap/base/strings/whitespaceReplacer'}"
					visible="${t.displayVisible}"
					text="${B.computeTextWithWhiteSpace(t)}"
					press="${l}"
					ariaLabelledBy="${t.ariaLabelledBy}"
					emptyIndicatorMode="${t.emptyIndicatorMode}"
					class="sapMTextRenderWhitespaceWrap"
				/>`;case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":l=`FieldRuntime.onDataFieldWithNavigationPath(\${$source>/}, $controller, '${t.convertedDataField.Target.value}')`;return L`<Link
					xmlns="sap.m"
					id="${t.noWrapperId}"
					core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
					visible="${t.displayVisible}"
					text="${t.text}"
					press="${l}"
					ariaLabelledBy="${t.ariaLabelledBy}"
					emptyIndicatorMode="${t.emptyIndicatorMode}"
					class="sapMTextRenderWhitespaceWrap"
				/>`;case"com.sap.vocabularies.UI.v1.DataFieldWithAction":l=c.getPressEventForDataFieldActionButton(t,t.dataField.getObject());return L`<Link
					xmlns="sap.m"
					id="${t.noWrapperId}"
					visible="${t.displayVisible}"
					text="${t.text}"
					press="${l}"
					ariaLabelledBy="${t.ariaLabelledBy}"
					emptyIndicatorMode="${t.emptyIndicatorMode}"
					class="sapMTextRenderWhitespaceWrap"
				/>`;case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":t.text=B.computeTextWithWhiteSpace(t);s=t.convertedDataField.IconUrl?E(T(t.convertedDataField.IconUrl)):undefined;const e=T(t.convertedDataField.Url);r=E(e);m=E(g(D(e,"")))}if((a=t.property.annotations)!==null&&a!==void 0&&(i=a.Communication)!==null&&i!==void 0&&i.IsEmailAddress||(n=t.property.annotations)!==null&&n!==void 0&&(o=n.Communication)!==null&&o!==void 0&&o.IsPhoneNumber){var u,$;const a=((u=t.property.annotations.Communication)===null||u===void 0?void 0:u.IsEmailAddress)!==undefined;const i=(($=t.property.annotations.Communication)===null||$===void 0?void 0:$.IsPhoneNumber)!==undefined;const n=p.getValueBinding(t.dataModelPath,{});const o=t.noWrapperId?t.noWrapperId:`mailBlock${e()}`;if(a){r=`mailto:${n}`;return L`<macros:Email
					xmlns:macros="sap.fe.macros"
					id="${o}"
					visible="${t.displayVisible}"
					text="${t.text}"
					mail="${n}"
					enabled="${m}"
					ariaLabelledBy="${t.ariaLabelledBy}"
					emptyIndicatorMode="${t.emptyIndicatorMode}"
				/>`}if(i){r=`tel:${n}`;return L`<Link
					xmlns="sap.m"
					id="${t.noWrapperId}"
					core:require="{WSR: 'sap/base/strings/whitespaceReplacer'}"
					visible="${t.displayVisible}"
					text="${B.computeTextWithWhiteSpace(t)}"
					href="${r}"
					enabled="${m}"
					ariaLabelledBy="${t.ariaLabelledBy}"
					emptyIndicatorMode="${t.emptyIndicatorMode}"
					class="sapMTextRenderWhitespaceWrap"
				/>`}}if(s){return L`<ObjectStatus
				xmlns="sap.m"
				core:require="{WSR: 'sap/base/strings/whitespaceReplacer', FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
				id="${t.noWrapperId}"
				icon="${s}"
				visible="${t.displayVisible}"
				text="${t.text}"
				press="FieldRuntime.openExternalLink"
				active="${m}"
				emptyIndicatorMode="${t.emptyIndicatorMode}"
				ariaLabelledBy="${t.ariaLabelledBy}"
				customData:url="${r}"
			/>`}else{return L`<Link
				xmlns="sap.m"
				id="${t.noWrapperId}"
				core:require="{WSR: 'sap/base/strings/whitespaceReplacer'}"
				visible="${t.displayVisible}"
				text="${t.text}"
				href="${r}"
				enabled="${m}"
				target="_top"
				wrapping="${t.wrap===undefined?true:t.wrap}"
				ariaLabelledBy="${t.ariaLabelledBy}"
				emptyIndicatorMode="${t.emptyIndicatorMode}"
			/>`}},getLinkWithQuickViewTemplate(e){const t=e.formatOptions.retrieveTextFromValueList?e.textFromValueList:B.computeTextWithWhiteSpace(e);return L`<Link
			xmlns="sap.m"
			xmlns:core="sap.ui.core"
			id="${e.noWrapperId}"
			core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime', WSR: 'sap/base/strings/whitespaceReplacer'}"
			text="${t}"
			visible="${e.displayVisible}"
			wrapping="${e.wrap===undefined?true:e.wrap}"
			press="FieldRuntime.pressLink"
			ariaLabelledBy="${e.ariaLabelledBy}"
			emptyIndicatorMode="${e.emptyIndicatorMode}"
			customData:loadValue="${e.valueAsStringBindingExpression}"
		>
			<dependents>
				<macro:QuickView xmlns:macro="sap.fe.macros" dataField="${e.dataField}" semanticObject="${e.semanticObject}" contextPath="${e.entitySet}" />
			</dependents>
		</Link>`},getTextTemplate(e){if(e.formatOptions.isAnalytics&&e.hasUnitOrCurrency){return L`<controls:ConditionalWrapper xmlns:controls="sap.fe.macros.controls" visible="${e.displayVisible}" condition="${e.hasValidAnalyticalCurrencyOrUnit}">
			<controls:contentTrue>
					<Text xmlns="sap.m"
						id="${e.noWrapperId}"
						text="${e.text}"
						emptyIndicatorMode="${e.emptyIndicatorMode}"
						renderWhitespace="true"
						wrapping="${e.wrap}"
					/>
				</controls:contentTrue>
				<controls:contentFalse>
					<Text xmlns="sap.m" id="${e.noWrapperId}" text="*" />
				</controls:contentFalse>
			</controls:ConditionalWrapper>
		`}else if(e.formatOptions.retrieveTextFromValueList){return L`<Text
				xmlns="sap.m"
				id="${e.noWrapperId}"
				visible="${e.displayVisible}"
				text="${e.textFromValueList}"
				core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
				emptyIndicatorMode="${e.emptyIndicatorMode}"
				renderWhitespace="true"
			/>`}else{return L`<Text
				xmlns="sap.m"
				id="${e.noWrapperId}"
				visible="${e.displayVisible}"
				text="${e.text}"
				wrapping="${e.wrap}"
				emptyIndicatorMode="${e.emptyIndicatorMode}"
				renderWhitespace="true"
		/>`}},getObjectIdentifier(e){const t=e.hasQuickView?L`<dependents>
	<macro:QuickView xmlns:macro="sap.fe.macros" dataField="${e.dataField}" semanticObject="${e.semanticObject}" contextPath="${e.entitySet}" />
</dependents>`:"";let a=L`<ObjectIdentifier
	xmlns="sap.m"
	core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
	id="${e.noWrapperId}"
	title="${e.identifierTitle}"
	text="${e.identifierText}"
	titleActive="${e.hasQuickView}"
	titlePress="FieldRuntime.pressLink"
	ariaLabelledBy="${e.ariaLabelledBy}"
	emptyIndicatorMode="${e.emptyIndicatorMode}"
	customData:loadValue="${e.valueAsStringBindingExpression}">
${t}</ObjectIdentifier>`;if(e.hasSituationsIndicator){a=L`<HBox xmlns="sap.m" alignItems="Center" justifyContent="SpaceBetween" width="100%">
							${a}
							<SituationsIndicator
								xmlns="sap.fe.macros.internal.situations"
								entitySet="${e.entitySet}"
								propertyPath="${e.situationsIndicatorPropertyPath}"
							/>
						</HBox>`}if(e.showErrorIndicator&&e.showErrorObjectStatus){a=L`<VBox xmlns="sap.m">
				${a}
					<ObjectStatus
						xmlns="sap.m"
						visible="${e.showErrorObjectStatus}"
						class="sapUiSmallMarginBottom"
						text="{sap.fe.i18n>Contains_Errors}"
						state="Error"
					/>
			</VBox>`}return L`${a}`},getObjectStatus(e){let t;const i=a.getInvolvedDataModelObjects(e.dataField,e.entitySet);const n=v(i,i.targetObject.Value.path);const o=u(n);const r=a.getInvolvedDataModelObjects(e.dataField);const l=y(r);const s=b(r);const d=e.convertedDataField.Url?E(T(e.convertedDataField.Url)):undefined;if(e.formatOptions.isAnalytics&&e.hasUnitOrCurrency){t=L`<controls:ConditionalWrapper xmlns:controls="sap.fe.macros.controls"
			id="${e.noWrapperId}"
			condition="${o}"
		>
			<controls:contentTrue>
				<ObjectStatus
					xmlns="sap.m"
					icon="${l}"
					state="${s}"
					visible="${e.displayVisible}"
					text="${e.text}"
					emptyIndicatorMode="${e.emptyIndicatorMode}"
					class="sapMTextRenderWhitespaceWrap"
				/>
			</controls:contentTrue>
			<controls:contentFalse>
				<ObjectStatus xmlns="sap.m" text="*" visible="${e.displayVisible}" />
			</controls:contentFalse>
		</controls:ConditionalWrapper>`}else{let a="";let i=false;let n;if(e.hasQuickView){a=L`<dependents>
					<macro:QuickView xmlns:macro="sap.fe.macros" dataField="${e.dataField}" semanticObject="${e.semanticObject}" contextPath="${e.entitySet}" />
				</dependents>`;i=true;n="FieldRuntime.pressLink"}if(d){i=true;n="FieldRuntime.openExternalLink"}t=L`<ObjectStatus
				xmlns="sap.m"
				id="${e.noWrapperId}"
				icon="${l}"
				state="${s}"
				text="${e.text}"
				visible="${e.displayVisible}"
				emptyIndicatorMode="${e.emptyIndicatorMode}"
				core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
				active="${i}"
				press="${n}"
				customData:url="${d}"
				customData:loadValue="${e.valueAsStringBindingExpression}"
				ariaLabelledBy="${e.ariaLabelledBy}"
			>
			${a}
		</ObjectStatus>`}return t},getLabelSemanticKey(e){if(e.hasQuickView){return L`<Link
				xmlns="sap.m"
				text="${e.text}"
				wrapping="true"
				core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
				press="FieldRuntime.pressLink"
				ariaLabelledBy="${e.ariaLabelledBy}"
				emptyIndicatorMode="${e.emptyIndicatorMode}"
				customData:loadValue="${e.valueAsStringBindingExpression}">
					<dependents>
						<macro:QuickView xmlns:macro="sap.fe.macros" dataField="${e.dataField}" semanticObject="${e.semanticObject}" contextPath="${e.entitySet}" />
					</dependents>
				</Link>`}return L`<Label
				xmlns="sap.m"
				id="${e.noWrapperId}"
				visible="${e.displayVisible}"
				text="${e.identifierTitle}"
				design="Bold"/>`},getSemanticKeyWithDraftIndicatorTemplate(e){let t=e.formatOptions.semanticKeyStyle==="ObjectIdentifier"?B.getObjectIdentifier(e):B.getLabelSemanticKey(e);if(!e.formatOptions.fieldGroupDraftIndicatorPropertyPath){t=L`<controls:FormElementWrapper
										xmlns:controls="sap.fe.core.controls"
										visible="${e.displayVisible}">
										<VBox
										xmlns="sap.m"
										class="${c.getMarginClass(e.formatOptions.compactSemanticKey)}">
											${t}
											<macro:DraftIndicator
												xmlns:macro="sap.fe.macros"
												draftIndicatorType="IconAndText"
												entitySet="${e.entitySet}"
												isDraftIndicatorVisible="${e.draftIndicatorVisible}"
												ariaLabelledBy="${e.ariaLabelledBy}"/>
										</VBox>
									</controls:FormElementWrapper>`}return t},computeTextWithWhiteSpace(e){const t=p.getTextBinding(e.dataModelPath,e.formatOptions,true);return h(t)||typeof t==="string"?E(M([t],"WSR")):E(t)},getTemplate:e=>{let t;switch(e.displayStyle){case"AmountWithCurrency":t=B.getAmountWithCurrencyTemplate(e);break;case"Avatar":t=B.getAvatarTemplate(e);break;case"Button":t=B.getButtonTemplate(e);break;case"Contact":t=B.getContactTemplate(e);break;case"DataPoint":t=B.getDataPointTemplate(e);break;case"ExpandableText":t=B.getExpandableText(e);break;case"File":t=B.getFileTemplate(e);break;case"Link":t=B.getLinkTemplate(e);break;case"LinkWithQuickView":t=B.getLinkWithQuickViewTemplate(e);break;case"ObjectIdentifier":t=B.getObjectIdentifier(e);break;case"ObjectStatus":{t=B.getObjectStatus(e);break}case"LabelSemanticKey":t=B.getLabelSemanticKey(e);break;case"SemanticKeyWithDraftIndicator":t=B.getSemanticKeyWithDraftIndicatorTemplate(e);break;case"Text":t=B.getTextTemplate(e);break}return t}};return B},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/field/EditStyle", ["sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/CollaborationFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/PropertyFormatters","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/valuehelp/ValueHelpTemplating","sap/ui/mdc/enums/FieldEditMode","../../field/FieldHelper"],function(e,t,a,i,l,n,o,r,d,s){"use strict";var p=o.getTextAlignment;var c=o.getMultipleLinesForDataField;var u=l.getRelativePropertyPath;var m=i.compileExpression;var g=e.xml;const $={getLayoutData(e){let t="";if(e.collaborationEnabled){t=g`<layoutData>
				<FlexItemData growFactor="9" />
			</layoutData>`}return t},getCollaborationAvatar(e){const t=m(e.collaborationExpression);const i=m(n.getCollaborationExpression(e.dataModelPath,a.getCollaborationActivityInitials));const l=m(n.getCollaborationExpression(e.dataModelPath,a.getCollaborationActivityColor));return g`<Avatar
					xmlns:core="sap.ui.core"
					xmlns:controls="sap.fe.core.controls"
					core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
					visible="${t}"
					initials="${i}"
					displaySize="Custom"
					customDisplaySize="1.5rem"
					customFontSize="0.8rem"
					backgroundColor="${l}"
					press="FieldRuntime.showCollaborationEditUser(\${$source>/}, \${$view>/})"
				>
				<dependents>
					<controls:EventDelegateHook stopTapPropagation="true"/>
				</dependents>
				</Avatar>`},getDateTimePickerGeneric(e,a){const i=t.getInvolvedDataModelObjects(e.dataField,e.entitySet);const l=p(i,e.formatOptions,e.editModeAsObject);return g`<${a}
			xmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
			xmlns="sap.m"
			xmlns:core="sap.ui.core"
			core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
			log:sourcePath="${e.dataSourcePath}"
			id="${e.editStyleId}"
			width="100%"
			editable="${e.editableExpression}"
			enabled="${e.enabledExpression}"
			required="${e.requiredExpression}"
			change="${a==="DateTimePicker"?e.onChange||"FieldRuntime.handleChange($controller, $event)":"FieldRuntime.handleChange($controller, $event)"}"
			textAlign="${l}"
			validateFieldGroup="FieldRuntime.onValidateFieldGroup($controller, $event)"
			ariaLabelledBy="${e.ariaLabelledBy}"
			value="${e.valueBindingExpression}"
			fieldGroupIds="${e.fieldGroupIds}"
			showTimezone="${e.showTimezone}"
			liveChange="${e.liveChangeEnabled?"FieldRuntime.handleLiveChange":undefined}"
	>

	</${a}>
	`},getInputTemplate(e){const a=t.getInvolvedDataModelObjects(e.dataField,e.entitySet);const i=p(a,e.formatOptions,e.editModeAsObject);return g`
			<Input
				xmlns="sap.m"
				xmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
				log:sourcePath="${e.dataSourcePath}"
		        core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
				id="${e.editStyleId}"
				value="${e.valueBindingExpression}"
				placeholder="${e.editStylePlaceholder}"
				width="100%"
				editable="${e.editableExpression}"
				enabled="${e.enabledExpression}"
				required="${e.requiredExpression}"
				change="FieldRuntime.handleChange($controller, $event)"
				liveChange="${e.liveChangeEnabled?"FieldRuntime.handleLiveChange":undefined}"
				fieldGroupIds="${e.fieldGroupIds}"
				textAlign="${i}"
				validateFieldGroup="FieldRuntime.onValidateFieldGroup($controller, $event)"
				ariaLabelledBy="${e.ariaLabelledBy}"
				maxLength="${e.formatOptions.textMaxLength}"
			>
				${$.getLayoutData(e)}
			</Input>`},getInputWithValueHelpTemplate(e){var a,i,l;const o=t.getInvolvedDataModelObjects(e.dataField,e.entitySet);const d=s.computeFieldBaseDelegate("sap/fe/macros/field/FieldBaseDelegate",e.formatOptions.retrieveTextFromValueList);const m=n.getFieldDisplay(e.property,e.formatOptions.displayMode,e.editModeAsObject);const $=!!((a=e.property)!==null&&a!==void 0&&(i=a.annotations)!==null&&i!==void 0&&(l=i.UI)!==null&&l!==void 0&&l.MultiLineText);const x=c(e,e.property.type,$);const h=e.dataField.getModel().createBindingContext("Value",e.dataField);const f=e.dataField.getModel().createBindingContext(s.valueHelpProperty(h));const v=r.generateID(e._vhFlexId,e.vhIdPrefix,u(h,{context:h}),u(f,{context:f}));const F=p(o,e.formatOptions,e.editModeAsObject,true);const b=s.computeLabelText(e,{context:e.dataField});let y="";if(e.property.type==="Edm.String"&&$){y=g`<mdc:contentEdit xmlns:mdc="sap.ui.mdc">
				<TextArea
					xmlns="sap.m"
					value="${e.valueBindingExpression}"
					required="${e.requiredExpression}"
					rows="${e.formatOptions.textLinesEdit}"
					growing="${e.formatOptions.textMaxLines>0?true:undefined}"
					growingMaxLines="${e.formatOptions.textMaxLines}"
					width="100%"
					change="FieldRuntime.handleChange($controller, $event)"
					fieldGroupIds="${e.fieldGroupIds}"
				/>
			</mdc:contentEdit>`}let I="";if(e.collaborationEnabled===true){I=g`<mdc:layoutData xmlns:mdc="sap.ui.mdc">
				<FlexItemData xmlns="sap.m" growFactor="9" />
			</mdc:layoutData>`}return g`<mdc:Field
			xmlns:mdc="sap.ui.mdc"
			xmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
			core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
			delegate="${d}"
			id="${e.editStyleId}"
			log:sourcePath="${e.dataSourcePath}"
			value="${e.valueBindingExpression}"
			placeholder="${e.editStylePlaceholder}"
			valueState="${e.valueState}"
			editMode="${e.editMode}"
			width="100%"
			required="${e.requiredExpression}"
			additionalValue="${e.textBindingExpression}"
			display="${m}"
			multipleLines="${x===false?undefined:x}"
			valueHelp="${v}"
			fieldGroupIds="${e.fieldGroupIds}"
			change="FieldRuntime.handleChange($controller, $event)"
			liveChange="${e.liveChangeEnabled?"FieldRuntime.handleLiveChange":undefined}"
			textAlign="${F}"
			validateFieldGroup="FieldRuntime.onValidateFieldGroup($controller, $event)"
			ariaLabelledBy="${e.ariaLabelledBy}"
			label="${b}"
		>
			${y}
			${I}
		</mdc:Field>`},getCheckBoxTemplate(e){return g`
		    <CheckBox
                xmlns="sap.m"
                xmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
		        macrodata:sourcePath="${e.dataSourcePath}"
				core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
				id="${e.editStyleId}"
		        selected="${e.valueBindingExpression}"
		        editable="${e.editableExpression}"
		        enabled="${e.enabledExpression}"
		        select="FieldRuntime.handleChange($controller, $event)"
		        fieldGroupIds="${e.fieldGroupIds}"
		        validateFieldGroup="FieldRuntime.onValidateFieldGroup($controller, $event)"
		        ariaLabelledBy="${e.ariaLabelledBy}"
	    />
        `},getTextAreaTemplate(e){const t=e.liveChangeEnabled||e.formatOptions.textMaxLength?"FieldRuntime.handleLiveChange":undefined;const a=e.formatOptions.textMaxLines?true:false;const i=(!!e.formatOptions.textMaxLength).toString();let l="";if(e.collaborationEnabled){l=g`<field:layoutData>
			<FlexItemData xmlns="sap.m" growFactor="9" />
		</field:layoutData>`}return g`<field:TextAreaEx
			xmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
			xmlns:field="sap.fe.macros.field"
			xmlns:core="sap.ui.core"
			core:require="{FieldRuntime: 'sap/fe/macros/field/FieldRuntime'}"
			log:sourcePath="${e.dataSourcePath}"
			id="${e.editStyleId}"
			value="${e.valueBindingExpression}"
			placeholder="${e.editStylePlaceholder}"
			required="${e.requiredExpression}"
			rows="${e.formatOptions.textLinesEdit}"
			growing="${a}"
			growingMaxLines="${e.formatOptions.textMaxLines}"
			width="100%"
			editable="${e.editableExpression}"
			enabled="${e.enabledExpression}"
			change="FieldRuntime.handleChange($controller, $event)"
			fieldGroupIds="${e.fieldGroupIds}"
			validateFieldGroup="FieldRuntime.onValidateFieldGroup($controller, $event)"
			ariaLabelledBy="${e.ariaLabelledBy}"
			liveChange="${t}"
			maxLength="${e.formatOptions.textMaxLength}"
			showExceededText="${i}"
		>
			${l}
		</field:TextAreaEx>
		`},getRatingIndicatorTemplate:e=>{const t=e.ratingIndicatorTooltip||"{sap.fe.i18n>T_COMMON_RATING_INDICATOR_TITLE_LABEL}";return g`<RatingIndicator
			xmlns="sap.m"
			id="${e.editStyleId}"
			maxValue="${e.ratingIndicatorTargetValue}"
			value="${e.valueBindingExpression}"
			tooltip="${t}"
			iconSize="1.375rem"
			class="sapUiTinyMarginTopBottom"
			editable="true"
		>
		${$.getLayoutData(e)}
		</RatingIndicator>
		`},getTemplateWithWrapper(e){let t;if(e.editMode!==d.Display&&!!e.editStyle){if(e.collaborationEnabled??false){t=g`<HBox xmlns="sap.m" width="100%" alignItems="End">
            ${$.getTemplate(e)}
			${$.getCollaborationAvatar(e)}
        </HBox>`}else{t=g`${$.getTemplate(e)}`}}return t||""},getTemplate:e=>{let t;switch(e.editStyle){case"CheckBox":t=$.getCheckBoxTemplate(e);break;case"DatePicker":case"DateTimePicker":case"TimePicker":{t=$.getDateTimePickerGeneric(e,e.editStyle);break}case"Input":{t=$.getInputTemplate(e);break}case"InputWithValueHelp":{t=$.getInputWithValueHelpTemplate(e);break}case"RatingIndicator":t=$.getRatingIndicatorTemplate(e);break;case"TextArea":t=$.getTextAreaTemplate(e);break;default:}return t}};return $},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/field/FieldStructure", ["sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/helpers/StableIdHelper","sap/ui/mdc/enums/FieldEditMode","./DisplayStyle","./EditStyle"],function(e,i,l,t,n){"use strict";var a=i.generate;var o=e.xml;function r(e,i){let t;if(e.formatOptions.fieldMode==="nowrapper"&&e.editMode===l.Display){return i}if(e._apiId){t=e._apiId}else if(e.idPrefix){t=a([e.idPrefix,"Field"])}else{t=undefined}if(e.onChange===null||e.onChange==="null"){e.onChange=undefined}return o`
			<macroField:FieldAPI
				core:require="{TableAPI: 'sap/fe/macros/table/TableAPI'}"
				xmlns:macroField="sap.fe.macros.field"
				change="${e.onChange}"
				liveChange="${e.onLiveChange}"
				id="${t}"
				required="${e.requiredExpression}"
				editable="${e.editableExpression}"
				collaborationEnabled="${e.collaborationEnabled}"
				visible="${e.visible}"
				mainPropertyRelativePath="${e.mainPropertyRelativePath}"
			>
				${i}
			</macroField:FieldAPI>
		`}function s(e){let i;if(e._flexId){i=e._flexId}else if(e.idPrefix){i=a([e.idPrefix,"Field-content"])}else{i=undefined}const l=t.getTemplate(e);const r=n.getTemplateWithWrapper(e);return o`<controls:FieldWrapper
		xmlns:controls="sap.fe.macros.controls"
		id="${i}"
		editMode="${e.editMode}"
		visible="${e.visible}"
		width="100%"
		textAlign="${e.textAlign}"
		class="${e.class}"
		>

		<controls:contentDisplay>
			${l}
		</controls:contentDisplay>
		<controls:contentEdit>
			${r}
		</controls:contentEdit>

	</controls:FieldWrapper>`}function d(e){if(e.displayStyle==="Avatar"||e.displayStyle==="Contact"||e.displayStyle==="Button"||e.displayStyle==="File"){if(e.displayStyle==="File"&&(e.collaborationEnabled??false)&&e.editMode!==l.Display){const i=o`
				<HBox xmlns="sap.m" width="100%" alignItems="End">
					<VBox width="100%">
						${t.getFileTemplate(e)}
					</VBox>
					${n.getCollaborationAvatar(e)}
				</HBox>`;return r(e,i)}else{return r(e,t.getTemplate(e))}}else if(e.formatOptions.fieldMode==="nowrapper"&&e.editMode===l.Display){return t.getTemplate(e)}else{const i=s(e);return r(e,i)}}return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/helpers/ActionHelper", ["sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/macros/CommonHelper"],function(e,o,i,n){"use strict";var t=i.isPathAnnotationExpression;var a=o.isPathInModelExpression;var l=o.getExpressionFromAnnotation;var r=e.bindingContextPathVisitor;const s={getMultiSelectDisabledActions(e){const o=[];const i=(e===null||e===void 0?void 0:e.filter(e=>e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"))??[];for(const e of i){const i=e===null||e===void 0?void 0:e.ActionTarget;if((i===null||i===void 0?void 0:i.isBound)===true){for(const e of i.parameters){var n,a;if(t((n=e.annotations.UI)===null||n===void 0?void 0:n.Hidden)||t((a=e.annotations.Common)===null||a===void 0?void 0:a.FieldControl)){o.push(i.name)}}}}return o},getPressEventDataFieldForActionButton(e,o,i,t){const a=o.InvocationGrouping&&o.InvocationGrouping.$EnumMember==="com.sap.vocabularies.UI.v1.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated";i=i||{};i["invocationGrouping"]=n.addSingleQuotes(a);i["controlId"]=n.addSingleQuotes(e);i["operationAvailableMap"]=n.addSingleQuotes(t);i["model"]="${$source>/}.getModel()";i["label"]=o.Label&&n.addSingleQuotes(o.Label,true);return n.generateFunction(".editFlow.invokeAction",n.addSingleQuotes(o.Action),n.objectToString(i))},getNumberOfContextsExpression(e){let o;if(e==="single"){o="${internal>numberOfSelectedContexts} === 1"}else{o="${internal>numberOfSelectedContexts} > 0"}return o},getOperationAvailableMap(e,o,i){let n={};if(e){e.forEach(e=>{if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){const t=e.Action;if(!(t!==null&&t!==void 0&&t.includes("/"))&&!e.Determining){if(o==="table"){n=this._getOperationAvailableMapOfTable(e,t,n,i)}else if(o==="chart"){n=this._getOperationAvailableMapOfChart(t,n,i)}}}}})}return n},_getOperationAvailableMapOfTable(e,o,i,n){var t,s,d;const u=e.ActionTarget;if((u===null||u===void 0?void 0:(t=u.annotations)===null||t===void 0?void 0:(s=t.Core)===null||s===void 0?void 0:s.OperationAvailable)===null){}else if(u!==null&&u!==void 0&&(d=u.parameters)!==null&&d!==void 0&&d.length){var v,p,c,f;const e=u.parameters[0].fullyQualifiedName,t=l(u===null||u===void 0?void 0:(v=u.annotations)===null||v===void 0?void 0:(p=v.Core)===null||p===void 0?void 0:p.OperationAvailable,[],undefined,o=>r(o,n.getConvertedTypes(),e));if(a(t)){i=this._addToMap(o,t.path,i)}else if((u===null||u===void 0?void 0:(c=u.annotations)===null||c===void 0?void 0:(f=c.Core)===null||f===void 0?void 0:f.OperationAvailable)!==undefined){i=this._addToMap(o,t,i)}}return i},_getOperationAvailableMapOfChart(e,o,i){let t=n.getActionPath(i.context,false,e,true);if(t===null){o=this._addToMap(e,null,o)}else{t=n.getActionPath(i.context,false,e);if(t.sProperty){o=this._addToMap(e,t.sProperty.substr(t.sBindingParameter.length+1),o)}}return o},_addToMap(e,o,i){if(e&&i){i[e]=o}return i}};return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/helpers/DataPointTemplating", ["sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/ui/model/odata/v4/AnnotationHelper"],function(t,e,n,o,i,r,a){"use strict";var l={};var s=r.getDisplayMode;var u=r.getBindingWithUnitOrCurrency;var d=r.getBindingWithTimezone;var c=r.getBindingForTimezone;var v=i.hasStaticPercentUnit;var g=o.getRelativePaths;var p=o.enhanceDataModelPath;var f=n.isProperty;var m=n.isPathAnnotationExpression;var O=e.unresolvableExpression;var T=e.isPathInModelExpression;var I=e.getExpressionFromAnnotation;var b=e.formatWithTypeInformation;var _=e.formatResult;var E=e.compileExpression;var P=e.EDM_TYPE_MAPPING;const x=["Edm.Single","Edm.Double","Edm.Decimal"];const A=t=>t!==null&&t!==void 0&&t.TargetValue?I(t.TargetValue):O;const D=sap.ui.getCore().getLibraryResourceBundle("sap.fe.macros");const h=e=>{var n;const o=(e===null||e===void 0?void 0:(n=e.targetObject)===null||n===void 0?void 0:n.Value)||"";const i=g(e);let r=I(o,i);const a=A(e.targetObject);if(r&&a){var l,s,u,d;let n=e.targetObject.Value;if(!f(n)){n=e.targetObject.Value.$target}const c=((l=n.annotations)===null||l===void 0?void 0:(s=l.Measures)===null||s===void 0?void 0:s.Unit)||((u=n.annotations)===null||u===void 0?void 0:(d=u.Measures)===null||d===void 0?void 0:d.ISOCurrency);if(!c){return D.getText("T_COMMON_PROGRESS_INDICATOR_DISPLAY_VALUE_NO_UOM",[E(r),E(a)])}if(v(o===null||o===void 0?void 0:o.$target)){return`${E(r)} %`}r=b(n,r);const g=c.$target?b(c.$target,I(c,i)):I(c,i);return E(_([r,a,g],t.formatProgressIndicatorText))}return undefined};l.buildExpressionForProgressIndicatorDisplayValue=h;const N=t=>{var e,n,o,i,r,a;const l=g(t);const s=t===null||t===void 0?void 0:(e=t.targetObject)===null||e===void 0?void 0:(n=e.Value)===null||n===void 0?void 0:n.$target;if(!f(s)){return""}const u=((o=s.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.Unit)||((r=s.annotations)===null||r===void 0?void 0:(a=r.Measures)===null||a===void 0?void 0:a.ISOCurrency);return u?E(I(u,l)):""};l.buildUnitBindingExpression=N;const M=(t,e)=>{if(e){return V(a.value(e,{context:t}))}};const V=t=>{if(t){const e=t>1?D.getText("T_ANNOTATION_HELPER_RATING_INDICATOR_SUBTITLE_LABEL_PLURAL"):D.getText("T_ANNOTATION_HELPER_RATING_INDICATOR_SUBTITLE_LABEL");return D.getText("T_ANNOTATION_HELPER_RATING_INDICATOR_SUBTITLE",[String(t),e])}};const y=(t,e)=>{let n;if(e&&e.SampleSize){n=M(t,e.SampleSize)}else if(e&&e.Description){const o=a.value(e.Description,{context:t});n="${path:"+o+"}"}return n};y.requiresIContext=true;l.getHeaderRatingIndicatorText=y;const j=t=>{var e,n,o;const i=g(t);if(t!==null&&t!==void 0&&(e=t.targetObject)!==null&&e!==void 0&&(n=e.annotations)!==null&&n!==void 0&&(o=n.Common)!==null&&o!==void 0&&o.Text){var r,a;const e=I(t===null||t===void 0?void 0:(r=t.targetObject.annotations)===null||r===void 0?void 0:(a=r.Common)===null||a===void 0?void 0:a.Text,i);if(T(e)){e.parameters={$$noPatch:true}}return e}return undefined};const C=(t,e,n)=>{if(n){if(!t.formatOptions){t.formatOptions={}}t.formatOptions=Object.assign(t.formatOptions,{preserveDecimals:false,maxFractionDigits:n})}return t};const R=(t,e,n,o)=>{var i;let r;const a=(e===null||e===void 0?void 0:(i=e.path)===null||i===void 0?void 0:i.indexOf("/"))===-1?g(t):[];r=I(e,a);const l=t.targetObject;if(n&&T(r)){var s;b(l,r);r.type=(s=P[n])===null||s===void 0?void 0:s.type;if(x.includes(n)){r=C(r,e,o)}}return r};l.getValueFormatted=R;const S=(e,n,o)=>{var i,r,a,l,u,v,g;const f=e.targetObject;const m=(f===null||f===void 0?void 0:f.Value)||"";const O=m===null||m===void 0?void 0:(i=m.$target)===null||i===void 0?void 0:i.type;let T;if(x.includes(O)&&f.ValueFormat){if(f.ValueFormat.NumberOfFractionalDigits){T=f.ValueFormat.NumberOfFractionalDigits}}const I=p(e,m.path);const b=I?j(I):undefined;const P=R(I,m,O,T);const A=b?n.displayMode||s(I):"Value";let D;switch(A){case"Description":D=b;break;case"ValueDescription":D=_([P,b],t.formatWithBrackets);break;case"DescriptionValue":D=_([b,P],t.formatWithBrackets);break;default:if((r=I.targetObject)!==null&&r!==void 0&&(a=r.annotations)!==null&&a!==void 0&&(l=a.Common)!==null&&l!==void 0&&l.Timezone){D=d(I,P)}else if((u=I.targetObject)!==null&&u!==void 0&&(v=u.annotations)!==null&&v!==void 0&&(g=v.Common)!==null&&g!==void 0&&g.IsTimezone){D=c(I,P)}else{D=B(I,P,o||(n===null||n===void 0?void 0:n.measureDisplayMode)==="Hidden")}}return E(D)};l.buildFieldBindingExpression=S;const B=(t,e,n)=>{var o,i,r,a,l,s;if((o=t.targetObject)!==null&&o!==void 0&&(i=o.annotations)!==null&&i!==void 0&&(r=i.Measures)!==null&&r!==void 0&&r.Unit||(a=t.targetObject)!==null&&a!==void 0&&(l=a.annotations)!==null&&l!==void 0&&(s=l.Measures)!==null&&s!==void 0&&s.ISOCurrency){if(n&&v(t.targetObject)){return e}return u(t,e,undefined,n?{showMeasure:false}:undefined)}return e};l._computeBindingWithUnitOrCurrency=B;const L=e=>{var n,o,i,r;const a=(e===null||e===void 0?void 0:e.targetObject.Value)||"";const l=g(e);const s=I(a,l);const u=A(e.targetObject);const d=a.$target;const c=((n=d.annotations)===null||n===void 0?void 0:(o=n.Measures)===null||o===void 0?void 0:o.Unit)||((i=d.annotations)===null||i===void 0?void 0:(r=i.Measures)===null||r===void 0?void 0:r.ISOCurrency);if(c){const e=m(c)&&c.$target?b(c.$target,I(c,l)):I(c,l);return E(_([s,u,e],t.computePercentage))}return E(_([s,u,""],t.computePercentage))};l.buildExpressionForProgressIndicatorPercentValue=L;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/helpers/DefaultActionHandler", ["sap/fe/macros/CommonHelper","sap/fe/macros/table/TableHelper","sap/m/library"],function(e,t,n){"use strict";var a=n.MenuButtonMode;const i={getDefaultActionHandler:function(n,a,i,r,o){if(a.defaultAction){try{switch(a.defaultAction.type){case"ForAction":{if(o==="Table"&&n){var l;const e=typeof r==="string"?(l=n.metaPath.getModel().createBindingContext(r))===null||l===void 0?void 0:l.getObject():r;return t.pressEventDataFieldForActionButton(n,i,n.collection.getObject("@sapui.name"),n.tableDefinition.operationAvailableMap,e,a.isNavigable,a.enableAutoScroll,a.defaultValuesExtensionFunction)}return undefined}case"ForNavigation":{if(o==="Table"&&n){return e.getPressHandlerForDataFieldForIBN(i,"${internal>selectedContexts}",!n.tableDefinition.enableAnalytics)}return undefined}default:{if(a.defaultAction.command){return"cmd:"+a.defaultAction.command}if(a.defaultAction.noWrap){return a.defaultAction.press}else{switch(o){case"Table":{return e.buildActionWrapper(a.defaultAction,n)}case"Form":{return e.buildActionWrapper(a.defaultAction,{id:"forTheForm"})}}}}}}catch(e){return"binding for the default action is not working as expected"}}return undefined},getUseDefaultActionOnly:function(e){if(e.defaultAction){return true}else{return false}},getButtonMode:function(e){if(e.defaultAction){return a.Split}else{return a.Regular}}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/helpers/TableTemplating", ["sap/fe/core/helpers/BindingToolkit"],function(e){"use strict";var i={};var n=e.resolveBindingString;var r=e.not;var o=e.equal;var s=e.constant;var a=e.compileExpression;var t=e.and;const l=e=>{const i=n(e===null||e===void 0?void 0:e.header);const l=n(e===null||e===void 0?void 0:e.tabTitle);const d=s(e.headerVisible);return a(t(d,r(o(i,l))))};i.buildExpressionForHeaderVisible=l;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/AdditionalValueFormatter", ["sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/ModelHelper","sap/fe/macros/internal/valuehelp/AdditionalValueHelper","sap/ui/core/Core","sap/ui/core/library"],function(e,t,n,a,i){"use strict";var r=i.ValueState;var o=n.additionalValueHelper;function l(e,t){const n=o.getRelevantRecommendations(e||{},this.getBindingContext(),t)||[];if(n.length>0){return true}return false}l.__functionName="sap.fe.macros.internal.valuehelp.AdditionalValueFormatter#getGrowing";function s(e,n){const a=t.getMetaPathForContext(e);return n.replace(`${a}/`,"")}function u(e,t,n,a){const i=r=>{const o=r.getSource();const l=o.getAllCurrentContexts();if(l.includes(e)){if(e.getObject()){const{valueState:i,valueStateText:r}=c(t,e,n,a);this.setValueStateText(r);this.setValueState(i)}o.detachChange(i)}};e.getBinding().attachChange(i)}function c(e,t,n,a){var i,l;const u=s(t,n);const c=o.getRelevantRecommendations(e,t,n,u);let f;if(e.version===2){f=o.getAdditionalValueFromPropertyPath(u,t,e)}let d=r.None,h="";if(e.version===2&&((i=f)!==null&&i!==void 0&&i.value||(l=f)!==null&&l!==void 0&&l.text)||!e.version&&c!==null&&c!==void 0&&c.length){h=a;d=r.Information}return{valueState:d,valueStateText:h}}function f(e,t,n,i,o){const l=this.getBindingContext();if(!l||!t){return r.None}o=o==="undefined"?undefined:o;const s=this.getValueState();const f=l.isTransient();if(!n||f){return s}const d=!!e&&Object.keys(e).length>0;const h=a.getLibraryResourceBundle("sap.fe.core").getText("RECOMMENDATIONS_DATA_INFO");const g=this.getValueStateText();const v=s===r.Information&&g===h;if(v&&(!d||i||o)){return r.None}const m=d&&(s==r.None||v);if(!i&&!o&&m){var p,V;if(!l.getObject()&&(p=l.getBinding())!==null&&p!==void 0&&(V=p.isA)!==null&&V!==void 0&&V.call(p,"sap.ui.model.odata.v4.ODataListBinding")){u.call(this,l,e,n,h)}else{const{valueState:t,valueStateText:a}=c(e,l,n,h);this.setValueStateText(a);return t}}return s}f.__functionName="sap.fe.macros.internal.valuehelp.AdditionalValueFormatter#formatValueState";function d(t,n){let a;const i=t===null||t===void 0?void 0:t.value;const r=t===null||t===void 0?void 0:t.text;switch(n){case"Value":a=e.formatWithBrackets(i);break;case"Description":a=e.formatWithBrackets(r);break;case"DescriptionValue":a=e.formatWithBrackets(r,i);break;case"ValueDescription":a=e.formatWithBrackets(i,r);break;default:a=e.formatWithBrackets(r,i)}return a}function h(e,t,n,a,i){let r=this.getPlaceholder();a=a==="undefined"?undefined:a;if(n){return a}if(e&&Object.keys(e).length&&e.version===2){var l;const n=this.getBindingContext()||t;const a=(l=this.getBinding("value"))===null||l===void 0?void 0:l.getPath();if(n&&a){const t=o.getAdditionalValueFromPropertyPath(a,n,e);r=d(t,i)}}if(a&&!r){r=a}return r}h.__functionName="sap.fe.macros.internal.valuehelp.AdditionalValueFormatter#formatPlaceholder";const g=function(e){if(g.hasOwnProperty(e)){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++){n[a-1]=arguments[a]}return g[e].apply(this,n)}else{return""}};g.getGrowing=l;g.formatValueState=f;g.formatPlaceholder=h;return g},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/AdditionalValueHelper", ["sap/base/Log","sap/fe/core/helpers/StandardRecommendationHelper","sap/ui/core/Core","sap/ui/model/Filter","sap/ui/model/FilterType","sap/ui/model/Sorter"],function(e,t,r,n,o,a){"use strict";var i={};var s=t.standardRecommendationHelper;var c;(function(e){e["recommendation"]="recommendation";e["recentValue"]="recentValue"})(c||(c={}));i.AdditionalValueGroupKey=c;const l={requestForAdditionalValueContextData:async function(e,t,r){const n=[...e].reverse();if(r.parameters){t.changeParameters(r.parameters)}const o=r.parameters.$search;const a=this.getAdditionalValueFilters(n,[...this.getValueHelpBindingFilters(r)]);r.parameters.$search=o;const i=[this.getSorter()];const s=t.getModel().bindList(r.path,undefined,i,a,r.parameters);const c=await s.requestContexts();return c.map(e=>e.getObject())},getValueHelpBindingFilters:function(e){if(e.filters){if(Array.isArray(e.filters)){return e.filters}else{return[e.filters]}}return[]},resumeValueListBindingAndResetChanges:async function(e){if(e.isSuspended()){e.resume()}try{await e.resetChanges()}catch(e){}},sortAndFilterOthers:function(e,t,r){const n=this.createFiltersForOthersGroup(r,[...this.getValueHelpBindingFilters(t)]);e.filter([n],o.Application);e.sort(this.getSorter())},getAdditionalValueFilters:function(e,t){e.forEach(e=>{if(e.values.length>0){const r=e.values;const o=e.propertyPath;r.forEach(e=>{t.push(new n({path:o,value1:e,operator:"EQ"}))})}});return t},getSorter:function(){return new a("",false,this.getSorterFunction)},getSorterFunction:function(e){const t=r.getLibraryResourceBundle("sap.fe.macros");const n=e.getProperty("@$fe.additionalValueGroupKey");if(n===c.recommendation){return t.getText("M_ADDITIONALVALUEHELPER_RECOMMENDATIONS")}else if(n===c.recentValue){return t.getText("M_ADDITIONALVALUEHELPER_RECENTVALUE")}else{return t.getText("M_ADDITIONALVALUEHELPER_OTHERS")}},createAdditionalValueTransientContexts:function(e,t,r){if(e.length>0){t.forEach(t=>{const n=t.values;const o=t.propertyPath;const a=t.groupKey;this.sortAdditionalValueContextDataAndCreateContexts(e,n,o,r,a)})}},sortAdditionalValueContextDataAndCreateContexts:function(t,r,n,o,a){[...r].reverse().forEach(r=>{t.forEach(async t=>{if(r===t[n]){t["@$fe.additionalValueGroupKey"]=a;const r=o.create(t);try{await r.created()}catch(t){if(!t.canceled){e.error(t.name)}}}})})},removeDuplicateAdditionalValues:function(e,t){const r=[];t.forEach(e=>{const t=[...e.values];const n=e.propertyPath;const o=e.groupKey;r.push({values:t,propertyPath:n,groupKey:o})});e.forEach(e=>{let t=false;r.forEach(r=>{const n=r.values;const o=r.propertyPath;if(n.includes(e[o])){if(t){n.splice(n.indexOf(e[o]),1)}else{t=true}}})});return r},createFiltersForOthersGroup:function(e,t){const r=[];e.forEach(e=>{const t=e.values;const o=e.propertyPath;t.forEach(e=>{r.push(new n({path:o,value1:e,operator:"NE"}))})});const o=new n({filters:r,and:true});if(t.length>0){t.push(o);return new n({filters:t,and:true})}else{return o}},getRelevantRecommendations:function(e,t,r,n){const o=[];let a;if(Object.keys(e).length>0){r=this.getRecommendationPropertyPath(r);if(e.version===2&&n){r=n}a=this.getAdditionalValueFromPropertyPath(r,t,e);if(a&&Object.keys(a).length>0){a.additionalValues.forEach(e=>{o.push(e.value)});return o}else{return null}}},_checkForKeysInRecommendations:function(e,t){for(const r in e){if(e[r]!==t[r]){return false}}return true},getAdditionalValueFromKeys:function(e,t){const r=t===null||t===void 0?void 0:t.getObject();let n={};if(t&&r){if(Array.isArray(e)){e.forEach(e=>{const t=e.keyProperties;const o=this._checkForKeysInRecommendations(t,r);if(o){n=e}})}}return n},_getRecommendation:function(e,t,r){let n=Object.assign(r,{});if(Object.keys(r).includes(e)){return r[e]}else{while(Object.keys(n).length>0&&!Object.keys(n).includes(e)){const o=e.split("/");if(o.length>1){const a=o[0];o.splice(0,1);e=o.join("/");r=this.getAdditionalValueFromPropertyPath(a,t,r);r=this.getAdditionalValueFromKeys(r,t);if(Object.keys(r).length>0){n=Object.assign(r,{});r=this.getAdditionalValueFromPropertyPath(e,t,r)}else{return{}}}else{return{}}}return r}},getAdditionalValueFromPropertyPath:function(e,t,r){if(r.version===2){return s.getStandardRecommendations(t,e,r)}if(r){return this._getRecommendation(e,t,r)}},getRecommendationPropertyPath:function(e){const t=e.split("/");t.splice(0,2);return t.join("/")}};i.additionalValueHelper=l;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/TableDelegate", ["sap/base/Log","sap/base/util/deepEqual","sap/fe/core/CommonUtils","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/helpers/ModelHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/PropertyHelper","sap/fe/core/type/EDM","sap/fe/macros/DelegateUtil","sap/fe/macros/internal/valuehelp/TableDelegateHelper","sap/ui/core/Core","sap/ui/mdc/odata/v4/TableDelegate","sap/ui/mdc/odata/v4/TypeMap","sap/ui/mdc/odata/v4/util/DelegateUtil","sap/ui/mdc/util/FilterUtil","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter"],function(e,t,n,o,a,r,i,s,l,p,c,f,d,g,u,y,h,v,m,b,P){"use strict";var C=d.isSortableProperty;var M=d.isFilterableProperty;var I=d.getPath;var T=c.isTypeFilterable;var D=p.getLabel;var O=p.getAssociatedUnitPropertyPath;var $=p.getAssociatedTimezonePropertyPath;var x=p.getAssociatedTextPropertyPath;var F=p.getAssociatedCurrencyPropertyPath;var B=l.getDisplayMode;var j=s.getTargetObjectPath;var E=s.enhanceDataModelPath;var w=r.isMultiValueFilterExpression;var S=r.getSortRestrictionsInfo;var A=r.getFilterRestrictionsInfo;var R=a.getInvolvedDataModelObjects;var U=o.fetchTypeConfig;const _=Object.assign({},u);_.fetchProperties=async function(e){const t=await this._getModel(e);const n=await this._createPropertyInfos(e,t);_.createInternalBindingContext(e);f.setCachedProperties(e,n);e.getBindingContext("internal").setProperty("tablePropertiesAvailable",true);return n};_.createInternalBindingContext=function(e){let t=e;while(t&&!t.isA("sap.ui.mdc.valuehelp.Dialog")){t=t.getParent()}const n=e.getModel("internal");if(t&&n){const o=t.getBindingContext("internal");let a;if(o){a=o.getPath()+`::VHDialog::${t.getId()}::table`}else{a=`/buildingblocks/${e.getId()}`;n.setProperty("/buildingblocks",{...n.getProperty("/buildingblocks")})}const r=n.bindContext(a).getBoundContext();e.setBindingContext(r,"internal")}};function k(e){const t=V(e);const n={};if(t!==null&&t!==void 0&&t.targetObject){var o,a,r,i,s;const l=t.targetObject;const p=j(t,true);const c=e.targetObject;const f=j(e,true);const d=(o=c.annotations)===null||o===void 0?void 0:(a=o.Common)===null||a===void 0?void 0:a.Text,g=d===null||d===void 0?void 0:(r=d.annotations)===null||r===void 0?void 0:(i=r.UI)===null||i===void 0?void 0:(s=i.TextArrangement)===null||s===void 0?void 0:s.toString(),u=d&&g&&B(c);if(u==="Description"){n[p]=l}else if(u&&u!=="Value"||!d){n[f]=c;n[p]=l}}return n}_._createPropertyInfos=function(e,t){const n=e.getDelegate().payload;const o=[];const a=`/${n.collectionName}`;const r=t.getMetaModel();return r.requestObject(`${a}@`).then(function(t){const n=S(t);const r=t["@Org.OData.Capabilities.V1.FilterRestrictions"];const i=A(r);const s=f.getCustomData(e,"columns");const l={};const p=R(e.getModel().getMetaModel().getContext(a));s.customData.forEach(function(t){const a={name:t.path,label:t.label,sortable:C(n,t),filterable:M(i,t),maxConditions:N(i,t),typeConfig:T(t.$Type)?e.getTypeMap().getTypeConfig(t.$Type):undefined};const r=E(p,t.path);const s=r.targetObject;if(s){const n=j(r,true);let o;if(T(s.type)){const n=U(s);o=y.getTypeConfig(n.type??"",n.formatOptions,n.constraints)??e.getTypeMap().getTypeConfig(t.$Type)}const i=k(r);const p=Object.keys(i);if(p.length){a.propertyInfos=p;a.sortable=false;a.filterable=false;p.forEach(e=>{l[e]=i[e]});if(!p.find(e=>i[e]===s)){l[n]=s}}else{a.path=t.path}a.typeConfig=a.typeConfig?o:undefined}else{a.path=t.path}o.push(a)});const c=H(l,o,n,i);return o.concat(c)})};_.updateBindingInfo=function(e,t){u.updateBindingInfo.apply(this,[e,t]);if(!e){return}const o=e.getDelegate().payload;if(o&&t){t.path=t.path||o.collectionPath||`/${o.collectionName}`;t.model=t.model||o.model}if(!t){t={}}const a=g.byId(e.getFilter()),r=e.isFilteringEnabled();let s;let l,p;const c=[];const d=f.getCachedProperties(e);if(r){s=e.getConditions();l=v.getFilterInfo(e,s,d,[]);if(l.filters){c.push(l.filters)}}if(a){s=a.getConditions();if(s){const n=h.getParameterNames(a);_._updatePropertyInfo(d,e,s,o);p=v.getFilterInfo(a,s,d,n);if(p.filters){c.push(p.filters)}const r=h.getParametersInfo(a,s);if(r){t.path=r}}t.parameters.$search=n.normalizeSearchTerm(a.getSearch())||undefined}t.parameters.$$sharedRequest=false;this._applyDefaultSorting(t,e.getDelegate().payload);t.parameters.$select=d===null||d===void 0?void 0:d.reduce(function(e,t){if(t.path&&t.path.indexOf("/")===-1){e=e?`${e},${t.path}`:t.path}return e},"");t.parameters.$count=true;if(i.isDraftSupported(e.getModel().getMetaModel(),t.path)){c.push(new m("IsActiveEntity",b.EQ,true))}t.filters=new m(c,true)};_.getTypeMap=function(){return y};_._getModel=async function(e){const t=e.getDelegate().payload;let n=e.getModel(t.model);if(!n){await new Promise(t=>{e.attachEventOnce("modelContextChange",t)});n=e.getModel(t.model)}return n};_._applyDefaultSorting=function(e,t){if(e.parameters&&e.parameters.$search==undefined&&e.sorter&&e.sorter.length==0){const n=t?t.defaultSortPropertyName:undefined;if(n){e.sorter.push(new P(n,false))}}};_._updatePropertyInfo=function(e,t,n,o){const a=Object.keys(n),r=t.getModel().getMetaModel();a.forEach(function(n){if(e.findIndex(function(e){return e.path===n})===-1){const a={path:n,typeConfig:t.getTypeMap().getTypeConfig(r.getObject(`/${o.collectionName}/${n}`).$Type)};e.push(a)}})};_.updateBinding=function(n,o,a){let r=false;const i=n.getBindingContext("internal");const s="pendingManualBindingUpdate";const l=i===null||i===void 0?void 0:i.getProperty(s);let p=n.getRowBinding();u.updateBinding.apply(_,[n,o,a]);if(!p){p=n.getRowBinding()}if(p){const e=p.getFilters("Application");r=t(o.filters,e[0])&&p.getQueryOptionsFromParameters().$search===o.parameters.$search&&!l}if(r&&n.getFilter()){i===null||i===void 0?void 0:i.setProperty(s,true);p.requestRefresh(p.getGroupId()).finally(function(){i===null||i===void 0?void 0:i.setProperty(s,false)}).catch(function(t){e.error("Error while refreshing a filterBar VH table",t)})}n.fireEvent("bindingUpdated")};function H(e,t,n,o){const a={},r=[];Object.keys(e).forEach(i=>{const s=e[i],l=t.find(e=>e.path===i);if(!l){const e=`Property::${i}`;a[i]=e;const t={name:e,label:D(s),path:i,sortable:C(n,s),filterable:M(o,s)};t.maxConditions=N(o,t);if(T(s.type)){const e=U(s);t.typeConfig=y.getTypeConfig(e.type??"",e.formatOptions,e.constraints)}r.push(t)}});t.forEach(e=>{if(e.propertyInfos){var t;e.propertyInfos=(t=e.propertyInfos)===null||t===void 0?void 0:t.map(e=>a[e]??e)}});return r}function N(e,t){var n;const o=I(t);return(n=e.propertyInfo)!==null&&n!==void 0&&n.hasOwnProperty(o)&&o&&w(e.propertyInfo[o])?-1:1}function V(e){const t=e.targetObject;const n=x(t)||F(t)||O(t)||$(t);if(!n){return undefined}const o=E(e,n);const a=o.targetObject;if(!a){return undefined}return o}return _},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/TableDelegateHelper", ["sap/fe/core/helpers/TypeGuards"],function(r){"use strict";var e={};var t=r.isProperty;function o(r,e){const t=p(e);return t&&r!==null&&r!==void 0&&r.propertyInfo.hasOwnProperty(t)?r.propertyInfo[t].filterable:e.filterable??true}e.isFilterableProperty=o;function n(r,e){const t=p(e);return t&&r.propertyInfo[t]?r.propertyInfo[t].sortable:e.sortable??true}e.isSortableProperty=n;function p(r){return t(r)?r.name:r.path}e.getPath=p;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/ValueHelpTemplating", ["sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldHelper","sap/fe/macros/internal/valuehelp/AdditionalValueFormatter"],function(e,t,n,o,i,a,l,r){"use strict";var u={};var s=a.getDisplayMode;var d=i.isUnit;var v=i.isSemanticKey;var c=i.isGuid;var p=i.isCurrency;var g=i.hasValueListForValidation;var f=i.hasValueHelpWithFixedValues;var m=i.hasValueHelp;var h=i.hasDateType;var y=o.checkFilterExpressionRestrictions;var T=n.isProperty;var V=t.generate;var x=e.pathInModel;var D=e.formatResult;var H=e.constant;var C=e.compileExpression;const F=function(e,t){var n,o,i,a,l;const r=s(e);const u=(n=e.targetObject.annotations)===null||n===void 0?void 0:(o=n.Common)===null||o===void 0?void 0:o.Text;const d=typeof u!=="string"&&(u===null||u===void 0?void 0:(i=u.annotations)===null||i===void 0?void 0:(a=i.UI)===null||a===void 0?void 0:(l=a.TextArrangement)===null||l===void 0?void 0:l.toString());if(t){return u&&typeof u!=="string"&&u.path?r:"Value"}else{return d?r:"Value"}};u.getValueHelpTableDisplayMode=F;const S=function(e,t,n,o){let i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const a=e!==n;const l={name:"sap/fe/macros/valuehelp/ValueHelpDelegate",payload:{propertyPath:e,isUnitValueHelp:a,conditionModel:t,requestGroupId:o,useMultiValueField:i,qualifiers:{},valueHelpQualifier:""}};return C(l)};u.getDelegateConfiguration=S;const I=function(e){const t={name:"sap/fe/macros/valuehelp/ValueHelpDelegate",payload:{propertyPath:e,isDefineConditionValueHelp:true,qualifiers:{},valueHelpQualifier:""}};return C(t)};u.getDelegateConfigurationForDefineConditions=I;const b=function(e,t,n,o){if(e){return e}let i=o;if(n!==o){i=`${n}::${o}`}return V([t,i])};u.generateID=b;const A=function(e){return f(e)||g(e)||m(e)&&(d(e)||p(e)||c(e))};u.requiresValidation=A;const M=function(e,t){var n,o,i;const a=(e===null||e===void 0?void 0:(n=e.targetEntitySet)===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Capabilities)===null||i===void 0?void 0:i.FilterFunctions)||t;return a?!a.includes("tolower"):true};u.useCaseSensitiveFilterRequests=M;const O=function(e){const t=e.targetObject;const n=y(e,["SingleRange"]);return h(t)&&C(n)};u.isSemanticDateRange=O;const P=function(e,t){e.contextLocation=t;return C(y(e,["SingleValue","MultiValue"]))==="false"};u.shouldShowConditionPanel=P;const U=function(e,t){var n,o,i,a,l,r;const u=t===null||t===void 0?void 0:(n=t.targetObject)===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Text;return(u===null||u===void 0?void 0:(a=u.annotations)===null||a===void 0?void 0:(l=a.UI)===null||l===void 0?void 0:(r=l.TextArrangement)===null||r===void 0?void 0:r.valueOf())==="UI.TextArrangementType/TextOnly"?u.path:e};u.getColumnDataProperty=U;const j=function(e,t){var n,o,i,a,l,r;const u=t===null||t===void 0?void 0:(n=t.targetObject)===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:(a=i.Text)===null||a===void 0?void 0:(l=a.annotations)===null||l===void 0?void 0:(r=l.UI)===null||r===void 0?void 0:r.TextArrangement;return u&&u.valueOf()!=="UI.TextArrangementType/TextSeparate"?"Edm.String":e};const q=function(e){const t=e.targetObject;const n=T(t)?j(t.type,e):"";return!n||v(t,e)?"Begin":l.getPropertyAlignment(n,{textAlignMode:"Table"})};u.getColumnHAlign=q;const G=function(e){return C(D([x("/recommendationsData","internal"),H(e)],r.getGrowing))};u.getGrowingFormatter=G;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/internal/valuehelp/ValueListHelper", ["sap/base/Log","sap/base/util/ObjectPath","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/MetaModelFunction","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/m/table/Util","sap/ui/core/Fragment","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/dom/units/Rem","sap/ui/mdc/valuehelp/content/Conditions","sap/ui/mdc/valuehelp/content/MDCTable","sap/ui/mdc/valuehelp/content/MTable","sap/ui/model/json/JSONModel"],function(e,t,n,o,a,i,r,l,s,u,c,d,p,f,m,g){"use strict";var v={};var h=r.getTypeConfig;var P=r.getDisplayMode;var y=i.getAssociatedUnitProperty;var C=i.getAssociatedTimezoneProperty;var b=i.getAssociatedTextProperty;var I=i.getAssociatedCurrencyProperty;var $=a.isPropertyFilterable;var V=a.getSortRestrictionsInfo;var T=o.convertTypes;const L=(e,t)=>!e.some(e=>e.path===t);const M="@com.sap.vocabularies.Common.v1.Label",_="@com.sap.vocabularies.Common.v1.Text",O="@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement",F="com.sap.vocabularies.Common.v1.ValueListParameterIn",x="com.sap.vocabularies.Common.v1.ValueListParameterConstant",S="com.sap.vocabularies.Common.v1.ValueListParameterOut",H="com.sap.vocabularies.Common.v1.ValueListParameterInOut",D="@com.sap.vocabularies.Common.v1.ValueListWithFixedValues";v.AnnotationLabel=M;v.AnnotationValueListWithFixedValues=D;v.AnnotationValueListParameterInOut=H;v.AnnotationValueListParameterOut=S;v.AnnotationValueListParameterConstant=x;v.AnnotationValueListParameterIn=F;v.AnnotationTextUITextArrangement=O;v.AnnotationText=_;function A(e){let t;const n=e.$model.getMetaModel();const o=n.getObject(`/${e.CollectionPath}@`)||{};const a=V(o);const i=e.Parameters.find(function(t){return(t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterOut"||t.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterDisplayOnly")&&!(n.getObject(`/${e.CollectionPath}/${t.ValueListProperty}@com.sap.vocabularies.UI.v1.Hidden`)===true)});if(i){if(n.getObject(`/${e.CollectionPath}/${i.ValueListProperty}@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement/$EnumMember`)==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){t=n.getObject(`/${e.CollectionPath}/${i.ValueListProperty}@com.sap.vocabularies.Common.v1.Text/$Path`)}else{t=i.ValueListProperty}}if(t&&(!a.propertyInfo[t]||a.propertyInfo[t].sortable)){return t}else{return undefined}}function U(e,t){const n=t.find(function(t){return e.ValueListProperty===t.textColumnName});if(e.ValueListProperty===(n===null||n===void 0?void 0:n.textColumnName)&&!n.keyColumnHidden&&n.keyColumnDisplayFormat!=="Value"){return true}return undefined}function w(e){return e.Parameters.some(function(e){return e["@com.sap.vocabularies.UI.v1.Importance"]&&e["@com.sap.vocabularies.UI.v1.Importance"].$EnumMember==="com.sap.vocabularies.UI.v1.ImportanceType/High"})}function j(e){const t=e.getModel("viewData");if(t){const e=t.getData();if(e){const t=e.columns;if(t){return t.reduce(function(e,t){if(t.path&&t.path.indexOf("/")===-1){e=e?`${e},${t.path}`:t.path}return e},undefined)}}}return undefined}function N(e,t){const o=n.computeDisplayMode(e,undefined);const a=e&&e["@com.sap.vocabularies.Common.v1.Text"];const i=a&&e["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"];if(t){return a&&typeof a!=="string"&&a.$Path?o:"Value"}else{return i?o:"Value"}}const E={getValueListCollectionEntitySet:function(e){const t=e.getObject();return t.$model.getMetaModel().createBindingContext(`/${t.CollectionPath}`)},getTableDelegate:function(e){let t=A(e);if(t){t=`'${t}'`}return"{name: 'sap/fe/macros/internal/valuehelp/TableDelegate', payload: {collectionName: '"+e.CollectionPath+"'"+(t?", defaultSortPropertyName: "+t:"")+"}}"},getSortConditionsFromPresentationVariant:function(e,t){if(e.PresentationVariantQualifier!==undefined){const n=e.PresentationVariantQualifier?`#${e.PresentationVariantQualifier}`:"",o=`/${e.CollectionPath}/@com.sap.vocabularies.UI.v1.PresentationVariant${n}`;const a=e.$model.getMetaModel().getObject(o);if(a!==null&&a!==void 0&&a.SortOrder){const e={sorters:[]};a.SortOrder.forEach(function(n){var o;const a={},i=n===null||n===void 0?void 0:(o=n.Property)===null||o===void 0?void 0:o.$PropertyPath;if(t){a.path=i}else{a.name=i}if(n.Descending){a.descending=true}else{a.ascending=true}e.sorters.push(a)});return t?`sorter: ${JSON.stringify(e.sorters)}`:JSON.stringify(e)}}return},getPropertyPath:function(e){return!e.UnboundAction?`${e.EntityTypePath}/${e.Action}/${e.Property}`:`/${e.Action.substring(e.Action.lastIndexOf(".")+1)}/${e.Property}`},getValueListProperty:function(e){const t=e.getModel();const n=t.getObject("/");return n.$model.getMetaModel().createBindingContext(`/${n.CollectionPath}/${e.getObject()}`)},getColumnVisibility:function(e,t,n){const o=n&&!!n.valueHelpWithFixedValues,a=n.columnInfo,i=!U(t,a.columnInfos),r=a.isDialogTable;if(o||!o&&r||!o&&!w(e)){const e=a.columnInfos.find(function(e){return t.ValueListProperty===e.columnName&&e.hasHiddenAnnotation===true});return!e?i:false}else if(!o&&w(e)){return t&&t["@com.sap.vocabularies.UI.v1.Importance"]&&t["@com.sap.vocabularies.UI.v1.Importance"].$EnumMember==="com.sap.vocabularies.UI.v1.ImportanceType/High"?true:false}return true},getColumnVisibilityInfo:function(e,t,n,o){const a=e.$model.getMetaModel();const i=[];const r={isDialogTable:o,columnInfos:i};e.Parameters.forEach(function(t){const o=a.getObject(`/${e.CollectionPath}/${t.ValueListProperty}@`);const i=o&&o["@com.sap.vocabularies.Common.v1.Text"];let l={};if(i){l={keyColumnHidden:o["@com.sap.vocabularies.UI.v1.Hidden"]?true:false,keyColumnDisplayFormat:i&&N(o,n),textColumnName:i&&i.$Path,columnName:t.ValueListProperty,hasHiddenAnnotation:o&&o["@com.sap.vocabularies.UI.v1.Hidden"]?true:false}}else if(o&&o["@com.sap.vocabularies.UI.v1.Hidden"]){l={columnName:t.ValueListProperty,hasHiddenAnnotation:o&&o["@com.sap.vocabularies.UI.v1.Hidden"]?true:false}}r.columnInfos.push(l)});return r},getTableItemsParameters:function(e,t,n,o){const a=[`path: '/${e.CollectionPath}'`];const i=j(this);if(t){const e=i?`, '${i}'`:"";a.push(`parameters: {$$sharedRequest: false, $$updateGroupId: "donotsubmit", $$groupId: '${t}'${e}}`)}else if(i){a.push(`parameters: {$$sharedRequest: false, $$updateGroupId: "donotsubmit", $select: '${i}'}`)}const r=e.Parameters.some(function(e){return n||e.$Type==="com.sap.vocabularies.Common.v1.ValueListParameterIn"});a.push(`suspended: ${r}`);if(!o){a.push("length: 10")}const l=E.getSortConditionsFromPresentationVariant(e,n);if(l){a.push(l)}else if(o){const t=A(e);if(t){a.push(`sorter: [{path: '${t}', ascending: true}]`)}}return"{"+a.join(", ")+"}"},hasImportance:function(e){return w(e.getObject())?"Importance/High":"None"},getMinScreenWidth:function(e){return w(e)?"{= ${_VHUI>/minScreenWidth}}":"416px"},getColumnWidth:function(o){var a,i,r,s,u,c,d,p;if(n.isSmallDevice())return;const f=o.targetObject;let m=[f];const g=b(f)||I(f)||y(f)||C(f),v=(a=f.annotations)===null||a===void 0?void 0:(i=a.Common)===null||i===void 0?void 0:i.Text,$=v===null||v===void 0?void 0:(r=v.annotations)===null||r===void 0?void 0:(s=r.UI)===null||s===void 0?void 0:(u=s.TextArrangement)===null||u===void 0?void 0:u.toString(),V=(c=f.annotations)===null||c===void 0?void 0:(d=c.Common)===null||d===void 0?void 0:(p=d.Label)===null||p===void 0?void 0:p.toString(),T=$&&P(o);if(g){if(T==="Description"){m=[g]}else if(!v||T&&T!=="Value"){m.push(g)}}let L=0;const M=[];m.forEach(e=>{const n=h(e,undefined);const o=t.get(n.type);if(o){M.push(new o(n.formatOptions,n.constraints))}});const _=l.calcColumnWidth(M,V);L=_?parseFloat(_.replace("rem","")):0;if(L===0){e.error(`Cannot compute the column width for property: ${f.name}`)}return L<=20?L.toString()+"rem":"20rem"},getOutParameterPaths:function(e){let t="";e.forEach(function(e){if(e.$Type.endsWith("Out")){t+=`{${e.ValueListProperty}}`}});return t},entityIsSearchable:function(e,t){var n,o;const a=(n=e["@com.sap.vocabularies.Common.v1.ValueList"])===null||n===void 0?void 0:n.SearchSupported,i=(o=t["@Org.OData.Capabilities.V1.SearchRestrictions"])===null||o===void 0?void 0:o.Searchable;if(i===undefined&&a===false||i===true&&a===false||i===false){return false}return true},_getConditionPath:function(e,t,n){const o=n.split("/");let a="",i;while(o.length){let n=o.shift();i=i?`${i}/${n}`:n;const r=e.getObject(`${t}/${i}`);if(r&&r.$kind==="NavigationProperty"&&r.$isCollection){n+="*"}a=a?`${a}/${n}`:n}return a},_getColumnDefinitionFromSelectionFields:function(e,t){const n=[],o=e.getObject(`${t}/@`),a=o["@com.sap.vocabularies.UI.v1.SelectionFields"];if(a){a.forEach(function(o){var a;const i=`${t}/${o.$PropertyPath}`,r=E._getConditionPath(e,t,o.$PropertyPath),l=e.getObject(`${i}@`),s={path:r,label:l[M]||i,sortable:true,filterable:$(e,t,o.$PropertyPath,false),$Type:(a=e.getObject(i))===null||a===void 0?void 0:a.$Type};n.push(s)})}return n},_mergeColumnDefinitionsFromProperties:function(e,t,n,o,a){var i;let r=n,l=o.$Type;const s=a[M]||r,u=a[_];if(u&&((i=a[O])===null||i===void 0?void 0:i.$EnumMember)==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){r=u.$Path;const e=`/${t.CollectionPath}/${r}`;l=t.$model.getMetaModel().getObject(e).$Type}if(L(e,r)){const t={path:r,label:s,sortable:true,filterable:!a["@com.sap.vocabularies.UI.v1.HiddenFilter"],$Type:l};e.push(t)}},filterInOutParameters:function(e,t){return e.filter(function(e){return t.includes(e.parmeterType)})},getInParameters:function(e){return E.filterInOutParameters(e,[F,x,H])},getOutParameters:function(e){return E.filterInOutParameters(e,[S,H])},createVHUIModel:function(e,t,n){const o=new g({}),a=n.getObject(`${t}@`);e.setModel(o,"_VHUI");o.setProperty("/hasValueListRelevantQualifiers",!!a["@com.sap.vocabularies.Common.v1.ValueListRelevantQualifiers"]);o.setProperty("/propertyLabel",a[M]);return o},_getDialogTitle:function(e,t){var n;const o=e.getModel("_VHUI").getProperty("/propertyLabel");const a=(n=e.getControl())===null||n===void 0?void 0:n.getProperty("label");return e.getModel("_VHUI").getProperty("/hasValueListRelevantQualifiers")?t||o||a:a||o||t},destroyVHContent:function(e){if(e.getDialog()){e.getDialog().destroyContent()}if(e.getTypeahead()){e.getTypeahead().destroyContent()}},putDefaultQualifierFirst:function(e){const t=e.indexOf("");if(t>0){e.unshift(e[t]);e.splice(t+1,1)}return e},_getContextPrefix:function(e,t){if(e&&e.getPath()){const n=e.getPath().split("/");if(t.length-n.length>1){const e=[];for(let o=n.length;o<t.length-1;o++){e.push(t[o])}return`${e.join("/")}/`}}return""},_getVhParameter:function(e,t,n,o,a,i){let r="";const l=t.getBindingContext();if(e&&e.length>0){var s;if((s=t.getParent())!==null&&s!==void 0&&s.isA("sap.ui.mdc.Table")&&l&&E._parameterIsA(o,["com.sap.vocabularies.Common.v1.ValueListParameterIn","com.sap.vocabularies.Common.v1.ValueListParameterInOut"])){const e=i.split("/");if(e.length>1){const n=e[0];const o=a.getMetaContext(l.getPath());const s=t.getParent().getRowBinding().getPath();if(o.getObject(`${s}/$Partner`)===n){r=i}}}if(!r){r=e+">/conditions/"+i}}else{r=n+i}return{parmeterType:o.$Type,source:r,helpPath:o.ValueListProperty,constantValue:o.Constant,initialValueFilterEmpty:Boolean(o.InitialValueIsSignificant)}},_parameterIsA(e,t){return t.includes(e.$Type)},_enrichPath:function(e,t,n,o,a,i){if(!e.key&&E._parameterIsA(o,["com.sap.vocabularies.Common.v1.ValueListParameterOut","com.sap.vocabularies.Common.v1.ValueListParameterInOut"])&&n===a){var r;e.fieldPropertyPath=t;e.key=o.ValueListProperty;e.descriptionPath=((r=i[_])===null||r===void 0?void 0:r.$Path)||""}},_enrichKeys:function(e,t){if(E._parameterIsA(t,["com.sap.vocabularies.Common.v1.ValueListParameterOut","com.sap.vocabularies.Common.v1.ValueListParameterIn","com.sap.vocabularies.Common.v1.ValueListParameterInOut"])&&!e.includes(t.ValueListProperty)){e.push(t.ValueListProperty)}},_processParameters:function(t,n,o,a,i,r,l){const s=t.$model.getMetaModel(),u=`/${t.CollectionPath}`,c=s.getObject(`${u}/`);if(c===undefined){e.error(`Inconsistent value help metadata: Entity ${u} is not defined`);return}const d=E._getColumnDefinitionFromSelectionFields(s,u),p=[],f=c.$Key?[...c.$Key]:[];const m={fieldPropertyPath:"",descriptionPath:"",key:""};for(const e of t.Parameters){var g;const l=`/${t.CollectionPath}/${e.ValueListProperty}`,u=s.getObject(l),c=s.getObject(`${l}@`)||{},v=((g=e.LocalDataProperty)===null||g===void 0?void 0:g.$PropertyPath)||"";if(u){E._enrichPath(m,l,v,e,n,c);const o=e.ValueListProperty;E._mergeColumnDefinitionsFromProperties(d,t,o,u,c)}if(E._parameterIsA(e,["com.sap.vocabularies.Common.v1.ValueListParameterIn","com.sap.vocabularies.Common.v1.ValueListParameterOut","com.sap.vocabularies.Common.v1.ValueListParameterInOut"])&&v!==n){const t=E._getVhParameter(o,a,i,e,r,v);p.push(t)}if(e.$Type===x){p.push({parmeterType:e.$Type,source:e.ValueListProperty,helpPath:e.ValueListProperty,constantValue:e.Constant,initialValueFilterEmpty:Boolean(e.InitialValueIsSignificant)})}E._enrichKeys(f,e)}for(const e of f){if(L(d,e)){var v;const n={path:e,$Type:(v=s.getObject(`/${t.CollectionPath}/${m.key}`))===null||v===void 0?void 0:v.$Type,label:"",sortable:false,filterable:undefined};d.push(n)}}const h={keyPath:m.key,descriptionPath:m.descriptionPath,fieldPropertyPath:m.fieldPropertyPath,vhKeys:f,vhParameters:p,valueListInfo:t,columnDefs:d,valueHelpQualifier:l};return h},_logError:function(t,n){const o=n?n.status:undefined;const a=n instanceof Error?n.message:String(n);const i=o===404?`Metadata not found (${o}) for value help of property ${t}`:a;e.error(i)},getValueListInfo:async function(e,t,n,o){const a=e.getBindingContext(),i=n.conditionModel,r=[],l=t.split("/");try{const s=await o.requestValueListInfo(t,true,a);const u=E.putDefaultQualifierFirst(Object.keys(s)),c=l.pop();const d=n.useMultiValueField?E._getContextPrefix(a,l):"";for(const t of u){const n=s[t];const a=E._processParameters(n,c,i,e,d,o,n.$qualifier??t);if(a){r.push(a)}}}catch(n){this._logError(t,n);E.destroyVHContent(e)}return r},ALLFRAGMENTS:undefined,logFragment:undefined,_logTemplatedFragments:function(t,n,o){const a={path:t,fragmentName:n,fragment:o};if(e.getLevel()===e.Level.DEBUG){E.ALLFRAGMENTS=E.ALLFRAGMENTS||[];E.ALLFRAGMENTS.push(a)}if(E.logFragment){setTimeout(function(){E.logFragment(a)},0)}},_templateFragment:async function(e,t,o,a,i){const r=n.getTargetView(i);const l=n.getAppComponent(n.getTargetView(i));const d=t.valueListInfo,p=new g(d),f=d.$model.getMetaModel(),m=new g({converterType:"ListReport",columns:t.columnDefs||null});const v=await u.process(c.loadTemplate(e,"fragment"),{name:e},{bindingContexts:{valueList:p.createBindingContext("/"),contextPath:f.createBindingContext(`/${d.CollectionPath}/`),source:o.createBindingContext("/")},models:{valueList:p,contextPath:f,source:o,metaModel:f,viewData:m},appComponent:l});E._logTemplatedFragments(a,e,v);return await s.load({definition:v,controller:r.getController()})},_getContentId:function(e,t,n){const o=n?"Popover":"Dialog";return`${e}::${o}::qualifier::${t}`},_addInOutParametersToPayload:function(e,t){const n=t.valueHelpQualifier;if(!e.qualifiers){e.qualifiers={}}if(!e.qualifiers[n]){e.qualifiers[n]={vhKeys:t.vhKeys,vhParameters:t.vhParameters}}},_getValueHelpColumnDisplayFormat:function(e,t){const o=n.computeDisplayMode(e,undefined),a=e&&e[_],i=a&&e[O];if(t){return a&&typeof a!=="string"&&a.$Path?o:"Value"}else{return i?o:"Value"}},_getWidthInRem:function(e,t){let n=e.$().width();if(t&&n){n=.3*n}const o=n?parseFloat(String(d.fromPx(n))):0;return isNaN(o)?0:o},_getTableWidth:function(e,t,n){let o;const a=e.getColumns(),i=a&&a.filter(function(e){return e&&e.getVisible&&e.getVisible()})||[],r=i.length+(n?2.5:0),l=i.reduce(function(e,t){o=t.getWidth();if(o&&o.endsWith("px")){o=String(d.fromPx(o))}const n=parseFloat(o);return e+(isNaN(n)?9:n)},r);return`${Math.max(l,t)}em`},_getJSONModelForDialog:function(e,t,n,o){const a=false,i=true,r=E.getColumnVisibilityInfo(e.valueListInfo,t,a,i);return new g({id:n.getId(),groupId:o.requestGroupId,bSuggestion:false,columnInfo:r,valueHelpWithFixedValues:a})},_getJSONModelForCondition:function(e,t,n,o,a){const i=false,r=false,l=E.getColumnVisibilityInfo(e.valueListInfo,t,i,r);return new g({id:n.getId(),groupId:o.requestGroupId||undefined,bSuggestion:true,columnInfo:l,valueHelpWithFixedValues:i,descriptionPath:e.descriptionPath,keyPath:e.keyPath,propertyPath:t,caseSensitive:a})},_getJSONModelForTypeahead:function(e,t,n,o,a){const i=false,r=n.getId(),l=E.getColumnVisibilityInfo(e.valueListInfo,t,a,i);return new g({id:r,groupId:o.requestGroupId||undefined,bSuggestion:true,propertyPath:t,columnInfo:l,valueHelpWithFixedValues:a})},_createValueHelpTypeahead:async function(t,n,o,a,i,r){const l=r.getObject(`${t}@`),s=l[D]??false,u=this._getJSONModelForTypeahead(a,t,o,i,s);o.setKeyPath(a.keyPath);o.setDescriptionPath(a.descriptionPath);i.isValueListWithFixedValues=s;const c=a.valueListInfo.$model.getMetaModel().getObject(`/${a.valueListInfo.CollectionPath}@`)||{};o.setFilterFields(E.entityIsSearchable(l,c)?"$search":"");const d=await E._templateFragment("sap.fe.macros.internal.valuehelp.ValueListTable",a,u,t,n);d.setModel(a.valueListInfo.$model);e.info(`Value List- suggest Table XML content created [${t}]`,d.getMetadata().getName(),"MDC Templating");o.setTable(d);const p=n.getControl();if(p!==undefined&&(p.isA("sap.ui.mdc.FilterField")||p.isA("sap.ui.mdc.Field")||p.isA("sap.ui.mdc.MultiValueField"))){const e=s&&p.getMaxConditions()!==1?"MultiSelect":"SingleSelectMaster";d.setMode(e);const t=Boolean(i.isUnitValueHelp);const n=E._getTableWidth(d,E._getWidthInRem(p,t),e==="MultiSelect");d.setWidth(n)}},_createValueHelpDialog:async function(e,t,n,o,a,i,r){const l=n.getModel().getMetaModel().getObject(`${t}@`),s=this._getJSONModelForDialog(a,t,o,i);o.setKeyPath(a.keyPath);o.setDescriptionPath(a.descriptionPath);const u=a.valueListInfo.$model.getMetaModel().getObject(`/${a.valueListInfo.CollectionPath}@`)||{};o.setFilterFields(E.entityIsSearchable(l,u)?"$search":"");if(r){const l=n.getTypeahead().getContent()[0],s=l.getCaseSensitive();const u=this._getJSONModelForCondition(a,t,o,i,s);const c=await E._templateFragment("sap.fe.macros.internal.valuehelp.ValueListForCondition",a,u,t,n);c.setModel(e);r.addDependent(c);r.setValueHelp(c.getId());const d=c.getTypeahead().getContent()[0].getTable();const p=E._getTableWidth(d,0,false);d.setWidth(p)}const c=E._templateFragment("sap.fe.macros.internal.valuehelp.ValueListDialogTable",a,s,t,n);const d=E._templateFragment("sap.fe.macros.internal.valuehelp.ValueListFilterBar",a,s,t,n);const[p,f]=await Promise.all([c,d]);p.setModel(a.valueListInfo.$model);f.setModel(a.valueListInfo.$model);o.setFilterBar(f);o.setTable(p);p.setFilter(f.getId());p.initialized();p.setWidth("100%");const m=p;m._setShowP13nButton(false)},_getContentById:function(e,t){return e.find(function(e){return e.getId()===t})},_createPopoverContent:function(e,t,n){return new m({id:e,group:"group1",caseSensitive:t,useAsValueHelp:n})},_createDialogContent:function(e,t,n){return new f({id:e,group:"group1",caseSensitive:t,forceBind:n})},_showConditionsContent:function(e,t){let n=e.length&&e[e.length-1].getMetadata().getName()==="sap.ui.mdc.valuehelp.content.Conditions"?e[e.length-1]:undefined;if(n){n.setVisible(true)}else{n=new p;t.addContent(n)}return n},_alignOrCreateContent:function(e,t,n,o,a){const i=a.getContent();let r=E._getContentById(i,t);if(!r){const l=e.valueListInfo.FetchValues===2?false:true;r=E._createDialogContent(t,n,l);if(!o){a.addContent(r)}else{a.insertContent(r,i.length-1)}}return r},_prepareValueHelpTypeAhead:function(e,t,n,o,a,i){const r=t.getContent();let l=e.data("valuelistForValidation")||"";if(l===" "){l=""}const s=l?n.filter(function(e){return e.valueHelpQualifier===l})[0]:n[0];E._addInOutParametersToPayload(o,s);const u=E._getContentId(e.getId(),s.valueHelpQualifier,true);let c=E._getContentById(r,u);if(!c){const e=i.getUseAsValueHelp();c=E._createPopoverContent(u,a,e);t.insertContent(c,0)}else if(u!==r[0].getId()){t.removeContent(c);t.insertContent(c,0)}return{valueListInfo:s,content:c}},_prepareValueHelpDialog:function(e,t,o,a,i,r){const l=e.data("showConditionPanel")&&e.data("showConditionPanel")!=="false";const s=t.getContent();for(const e of s){e.setVisible(false)}const u=l?this._showConditionsContent(s,t):undefined;const c=e.getControl();const d=c&&c.isA("sap.ui.mdc.FilterField")?c.getOperators().length===0||c.getOperators().includes("EQ"):true;let p,f;for(const s of o){const o=s.valueHelpQualifier;E._addInOutParametersToPayload(a,s);const u=E._getContentId(e.getId(),o,false);const m=this._alignOrCreateContent(s,u,r,l,t);m.setVisible(d);if(s.valueListInfo.Label&&c){const e=n.getTranslatedTextFromExpBindingString(s.valueListInfo.Label,c);m.setTitle(e)}if(!f||i&&i===u){f=m;p=s}}if(!p||!f){throw new Error("selectedInfo or selectedContent undefined")}return{selectedInfo:p,selectedContent:f,conditionContent:u}},_addDescriptionInfosToPayload:function(e,t,n){if(e.valueHelpDescriptionPath!==t.descriptionPath){var o,a,i,r;const u=T(n);const c=(o=u.resolvePath(e.propertyPath).target)===null||o===void 0?void 0:(a=o.annotations)===null||a===void 0?void 0:(i=a.Common)===null||i===void 0?void 0:(r=i.Text)===null||r===void 0?void 0:r.path;e.valueHelpDescriptionPath=t.descriptionPath;e.valueHelpKeyPath=t.keyPath;if(c){var l,s;e.maxLength=e.valueHelpDescriptionPath?(l=u.resolvePath(`/${t.valueListInfo.CollectionPath}/${e.valueHelpDescriptionPath}`))===null||l===void 0?void 0:(s=l.target)===null||s===void 0?void 0:s.maxLength:undefined;e.propertyDescriptionPath=c}}},showValueList:async function(e,t,o){var a;const i=t.getParent(),r=t.isTypeahead(),l=e.propertyPath,s=((a=i.getControl())===null||a===void 0?void 0:a.getModel()).getMetaModel(),u=i.getModel("_VHUI")!==undefined?i.getModel("_VHUI"):E.createVHUIModel(i,l,s);u.setProperty("/isSuggestion",r);u.setProperty("/minScreenWidth",!r?"418px":undefined);try{const a=await E.getValueListInfo(i,l,e,s);const u=i.getTypeahead().getContent()[0],d=u.getCaseSensitive();if(r){const{valueListInfo:n,content:o}=E._prepareValueHelpTypeAhead(i,t,a,e,d,u);e.valueHelpQualifier=n.valueHelpQualifier;E._addDescriptionInfosToPayload(e,n,s);if(o.getTable()===undefined||o.getTable()===null){await E._createValueHelpTypeahead(l,i,o,n,e,s)}}else{const{selectedInfo:r,selectedContent:u,conditionContent:p}=E._prepareValueHelpDialog(i,t,a,e,o,d);e.valueHelpQualifier=r.valueHelpQualifier;E._addDescriptionInfosToPayload(e,r,s);const f=i.getControl();if(f){var c;const e=n.getTranslatedTextFromExpBindingString(E._getDialogTitle(i,(c=r.valueListInfo)===null||c===void 0?void 0:c.Label),f);t.setTitle(e)}if(u.getTable()===undefined||u.getTable()===null){await E._createValueHelpDialog(s,l,i,u,r,e,p)}}}catch(e){this._logError(l,e);E.destroyVHContent(i)}}};return E},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/kpiTag/AnalyticalKPITag.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/formatters/KPIFormatter","sap/fe/core/helpers/BindingToolkit"],function(e,t,i,r,n){"use strict";var o,a,l,s,u,p,c,f,d,b,g;var m={};var h=n.resolveBindingString;var y=n.pathInModel;var v=n.formatResult;var P=i.xml;var B=t.defineBuildingBlock;var k=t.blockAttribute;function x(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function w(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function z(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}function E(e,t){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return E(e,t)}function K(e,t,i,r,n){var o={};Object.keys(r).forEach(function(e){o[e]=r[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function $(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let O=(o=B({name:"AnalyticalKPITag",namespace:"sap.fe.macros"}),a=k({type:"string",required:true}),l=k({type:"sap.ui.model.Context",required:true}),s=k({type:"string",required:true}),u=k({type:"boolean",required:false}),o(p=(c=function(e){z(t,e);function t(){var t;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++){r[n]=arguments[n]}t=e.call(this,...r)||this;x(t,"id",f,w(t));x(t,"metaPath",d,w(t));x(t,"kpiModelName",b,w(t));x(t,"hasUnit",g,w(t));return t}m=t;var i=t.prototype;i.getKpiPropertyExpression=function e(t){return y(`/${this.id}/manifest/sap.card/data/json/${t}`,this.kpiModelName)};i.getBindingExpressions=function e(){const t=this.metaPath.getProperty("Title");if(!t){return{text:undefined,tooltip:undefined}}const i=h(t);return{text:v([i],r.labelFormat),tooltip:v([i,this.getKpiPropertyExpression("mainValueUnscaled"),this.getKpiPropertyExpression("mainUnit"),this.getKpiPropertyExpression("mainCriticality"),String(this.hasUnit)],r.tooltipFormat)}};i.getTemplate=function e(){const{text:t,tooltip:i}=this.getBindingExpressions();return P`<macros:KPITag
			id="kpiTag-${this.id}"
			text="${t}"
			status="${this.getKpiPropertyExpression("mainCriticality")}"
			tooltip="${i}"
			press=".kpiManagement.onKPIPressed(\${$source>},'${this.id}')"
			number="${this.getKpiPropertyExpression("mainValue")}"
			unit="${this.getKpiPropertyExpression("mainUnit")}"
		/>`};return t}(e),f=K(c.prototype,"id",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),d=K(c.prototype,"metaPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),b=K(c.prototype,"kpiModelName",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),g=K(c.prototype,"hasUnit",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||p);m=O;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/kpiTag/KPITag.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor"],function(e,t,r){"use strict";var i,n,u,a,l,o,s,c,p,b,f,d,g,m,y,h,v,w,z;var B={};var k=r.xml;var O=t.defineBuildingBlock;var $=t.blockEvent;var j=t.blockAttribute;function P(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function I(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function T(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;x(e,t)}function x(e,t){x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return x(e,t)}function E(e,t,r,i,n){var u={};Object.keys(i).forEach(function(e){u[e]=i[e]});u.enumerable=!!u.enumerable;u.configurable=!!u.configurable;if("value"in u||u.initializer){u.writable=true}u=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},u);if(n&&u.initializer!==void 0){u.value=u.initializer?u.initializer.call(n):void 0;u.initializer=undefined}if(u.initializer===void 0){Object.defineProperty(e,t,u);u=null}return u}function _(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let q=(i=O({name:"KPITag",namespace:"sap.fe.macros"}),n=j({type:"string",required:true}),u=j({type:"string"}),a=j({type:"string",allowedValues:["Success","Error","Warning","None","Information"]}),l=j({type:"string"}),o=$(),s=j({type:"number",required:true}),c=j({type:"string"}),p=j({type:"boolean",required:false}),i(b=(f=function(e){T(t,e);function t(){var t;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}t=e.call(this,...i)||this;P(t,"id",d,I(t));P(t,"text",g,I(t));P(t,"status",m,I(t));P(t,"tooltip",y,I(t));P(t,"press",h,I(t));P(t,"number",v,I(t));P(t,"unit",w,I(t));P(t,"showIcon",z,I(t));return t}B=t;var r=t.prototype;r.getTemplate=function e(){return k`<m:GenericTag
			id="${this.id}"
			text="${this.text}"
			design="${this.showIcon?"Full":"StatusIconHidden"}"
			status="${this.status}"
			class="sapUiTinyMarginBegin"
			tooltip="${this.tooltip}"
			press="${this.press}"
		>
			<m:ObjectNumber
				state="${this.status}"
				emphasized="false"
				number="${this.number}"
				unit="${this.unit}"

			/>
		</m:GenericTag>`};return t}(e),d=E(f.prototype,"id",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),g=E(f.prototype,"text",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),m=E(f.prototype,"status",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return"None"}}),y=E(f.prototype,"tooltip",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),h=E(f.prototype,"press",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),v=E(f.prototype,"number",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),w=E(f.prototype,"unit",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),z=E(f.prototype,"showIcon",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),f))||b);B=q;return B},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/library", ["sap/fe/core/library","sap/fe/macros/filter/type/MultiValue","sap/fe/macros/filter/type/Range","sap/fe/macros/macroLibrary","sap/ui/core/Core","sap/ui/core/CustomData","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/XMLTemplateProcessor","sap/ui/mdc/field/ConditionsType","sap/ui/mdc/library","sap/ui/unified/library"],function(e,a,i,r,n,s,o,t,c,p,l,u){"use strict";var f={};const m="sap.fe.macros";f.macrosNamespace=m;const d=n.initLibrary({name:"sap.fe.macros",dependencies:["sap.ui.core","sap.ui.mdc","sap.ui.unified","sap.fe.core","sap.fe.navigation","sap.m"],types:["sap.fe.macros.NavigationType"],interfaces:[],controls:[],elements:[],version:"1.120.0",noLibraryCSS:true});d.NavigationType={External:"External",InPage:"InPage",None:"None"};o.registerType("CUSTOM",{load:o.getType("XML").load,init:async function(e){const a=e.containingView.getController();let i=a;if(a&&!a.isA("sap.fe.core.ExtensionAPI")){i=a.getExtensionAPI()}e.containingView={oController:i};const r=e.childCustomData??undefined;delete e.childCustomData;for(var n=arguments.length,t=new Array(n>1?n-1:0),c=1;c<n;c++){t[c-1]=arguments[c]}const p=await o.getType("XML").init.apply(this,[e,t]);if(r&&p!==null&&p!==void 0&&p.isA("sap.ui.core.Control")){for(const e in r){p.addCustomData(new s({key:e,value:r[e]}))}}return p}});return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/macroLibrary", ["sap/fe/core/controls/DataLossOrDraftDiscard/DraftDataLossDialog.block","sap/fe/core/controls/Recommendations/ConfirmRecommendationDialog.block","sap/fe/macros/field/PublicField.block","sap/fe/macros/form/FormElement.block","sap/fe/macros/notes/Notes.block","sap/fe/macros/richtexteditor/RichTextEditor.block","sap/fe/macros/richtexteditor/RichTextEditorWithMetadata.block","sap/fe/macros/situations/SituationsIndicator.block","sap/fe/macros/table/QuickFilterSelector.block","sap/fe/macros/table/TableFullScreenDialog.block","./actions/CustomAction.block","./actions/DataFieldForAction.block","./chart/Chart.block","./contact/Contact.block","./contact/Email.block","./contact/TeamContactOptions.block","./draftIndicator/DraftIndicator.block","./fcl/FlexibleColumnLayoutActions.block","./filterBar/FilterBar.block","./form/Form.block","./form/FormContainer.block","./fpm/CustomFragment.block","./ina/MultiDimensionalGrid.block","./internal/ActionCommand.block","./internal/DataPoint.block","./internal/FilterField.block","./internal/InternalField.block","./kpiTag/AnalyticalKPITag.block","./kpiTag/KPITag.block","./microchart/MicroChart.block","./multiValueField/MultiValueField.block","./paginator/Paginator.block","./quickView/QuickView.block","./share/Share.block","./table/Table.block","./valuehelp/ValueHelp.block","./valuehelp/ValueHelpFilterBar.block","./visualfilters/VisualFilter.block"],function(o,a,t,l,c,e,i,r,n,s,b,k,f,m,u,d,p,F,g,h,D,C,T,V,I,x,A,P,E,M,R,S,v,B,L,w,y,H){"use strict";const K=[V,f,m,b,C,k,I,o,a,p,u,g,x,F,h,D,l,A,E,P,M,T,R,S,t,v,B,r,L,s,d,w,y,H,n,e,i,c];function O(){for(const o of K){o.register()}}function Q(){for(const o of K){o.unregister()}}O();return{register:O,unregister:Q}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/messages/MessageButton", ["sap/base/Log","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/messages/MessagePopover","sap/m/Button","sap/m/ColumnListItem","sap/m/Dialog","sap/m/FormattedText","sap/m/library","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/mvc/View","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter","sap/ui/thirdparty/jquery"],function(e,t,n,i,o,s,r,a,g,l,c,u,f,d,p,h,jQuery){"use strict";var T,b,_,m,I,C,P;var v=u.MessageType;var y=l.ButtonType;var E=i.getResourceModel;var S=n.event;var M=n.defineUI5Class;var w=n.aggregation;function x(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function R(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function A(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;O(e,t)}function O(e,t){O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return O(e,t)}function B(e,t,n,i,o){var s={};Object.keys(i).forEach(function(e){s[e]=i[e]});s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}function L(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let G=(T=M("sap.fe.macros.messages.MessageButton"),b=w({type:"sap.fe.macros.messages.MessageFilter",multiple:true,singularName:"customFilter"}),_=S(),T(m=(I=function(n){A(i,n);function i(e,t){var i;i=n.call(this,e,t)||this;x(i,"customFilters",C,R(i));x(i,"messageChange",P,R(i));i.sGeneralGroupText="";i.sViewId="";i.sLastActionText="";return i}var l=i.prototype;l.init=function e(){s.prototype.init.apply(this);this.attachPress(this.handleMessagePopoverPress,this);this.oMessagePopover=new o;this.oItemBinding=this.oMessagePopover.getBinding("items");this.oItemBinding.attachChange(this._setMessageData,this);const t=this.getId();if(t){this.oMessagePopover.addCustomData(new sap.ui.core.CustomData({key:"messageButtonId",value:t}))}this.attachModelContextChange(this._applyFiltersAndSort.bind(this));this.oMessagePopover.attachActiveTitlePress(this._activeTitlePress.bind(this))};l.handleMessagePopoverPress=function e(t){this.oMessagePopover.toggle(t.getSource())};l._applyGroupingAsync=async function n(i){const o=[];const s=i.getBindingContext();const r=e=>{const n=[];const i=this.oItemBinding.getContexts().map(function(e){return e.getObject()});const o=e.getBindingContext();if(o){const s=e.getContent()[0];t.getVisibleSectionsFromObjectPageLayout(s).forEach(function(e){e.getSubSections().forEach(function(e){e.findElements(true).forEach(function(t){if(t.isA("sap.ui.mdc.Table")){for(let s=0;s<i.length;s++){const r=t.getRowBinding();if(r){const r=`${o.getPath()}/${t.getRowBinding().getPath()}`;if(i[s].target.indexOf(r)===0){n.push({table:t,subsection:e});break}}}}})})})}return n};const a=r.bind(this)(i);a.forEach(function(e){var t;const n=e.table,i=e.subsection;if(!n.getBindingContext()||((t=n.getBindingContext())===null||t===void 0?void 0:t.getPath())!==(s===null||s===void 0?void 0:s.getPath())){i.setBindingContext(s);if(!n.getRowBinding().isLengthFinal()){o.push(new Promise(function(e){n.getRowBinding().attachEventOnce("dataReceived",function(){e()})}))}}});const g=new Promise(e=>{setTimeout(async()=>{this._applyGrouping();e()},0)});try{await Promise.all(o);i.getModel().checkMessages();await g}catch(t){e.error("Error while grouping the messages in the messagePopOver")}};l._applyGrouping=function e(){this.oObjectPageLayout=this._getObjectPageLayout(this,this.oObjectPageLayout);if(!this.oObjectPageLayout){return}const n=this.oMessagePopover.getItems();const i=t.getVisibleSectionsFromObjectPageLayout(this.oObjectPageLayout);const o=this._checkControlIdInSections(n,false);if(o){this._fnEnableBindings(i)}};l._getTableRefErrorContext=function e(t){const n=t.getModel("internal");if(!t.getBindingContext("internal").getProperty("refError")){n.setProperty("refError",{},t.getBindingContext("internal"))}const i=t.getBindingContext("internal").getPath()+"/refError/"+t.getBindingContext().getPath().replace("/","$")+"$"+t.getRowBinding().getPath().replace("/","$");const o=n.getContext(i);if(!o.getProperty("")){n.setProperty("",{},o)}return o};l._updateInternalModel=function e(t,n,i,o,s,r){let a;if(r){a={rowIndex:"CreationRow",targetColProperty:i?i:""}}else{a={rowIndex:t?n:"",targetColProperty:i?i:""}}const g=o.getModel("internal"),l=this._getTableRefErrorContext(o);const c=sap.ui.getCore().getMessageManager().getMessageModel().getData().map(function(e){return e.id});let u;if(l.getProperty()){u=Object.keys(l.getProperty()).filter(function(e){return c.indexOf(e)===-1});u.forEach(function(e){delete l.getProperty()[e]})}g.setProperty(s.getId(),Object.assign({},l.getProperty(s.getId())?l.getProperty(s.getId()):{},a),l)};l._setGroupLabelForTransientMsg=function e(t,n){this.sLastActionText=this.sLastActionText?this.sLastActionText:c.getLibraryResourceBundle("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_LAST_ACTION");t.setGroupName(`${this.sLastActionText}: ${n}`)};l._computeMessageGroupAndSubTitle=function e(n,i,o,s,r,a){var g;const l=E(i);this.oItemBinding.detachChange(this._setMessageData,this);const u=(g=n.getBindingContext("message"))===null||g===void 0?void 0:g.getObject();const f=true;let d,p,h,T,b,_,m;const I=new RegExp("^/").test(u===null||u===void 0?void 0:u.getTargets()[0]);if(I){for(T=0;T<s.length;T++){d=s[T];_=d;if(d.isA("sap.m.Table")||d.isA("sap.ui.table.Table")){p=d.getParent();const e=p.getRowBinding();const i=(e,t)=>{this._setGroupLabelForTransientMsg(n,t)};if(e&&e.isLengthFinal()&&p.getBindingContext()){var C;const o=t.getTableColumnDataAndSetSubtile(u,p,d,e,a,f,i);h=o.oTargetTableInfo;if(o.subTitle){n.setSubtitle(o.subTitle)}n.setActiveTitle(!!h.oTableRowContext&&!((C=h.oTableRowContext)!==null&&C!==void 0&&C.isInactive()));if(h.oTableRowContext&&!h.oTableRowContext.isInactive()){this._formatMessageDescription(n,h.oTableRowContext,h.sTableTargetColName,p)}b=h.oTableRowContext&&h.oTableRowContext.getIndex();this._updateInternalModel(h.oTableRowContext,b,h.sTableTargetColProperty,p,u)}}else{n.setActiveTitle(true);const e=t.bIsOrphanElement(_,s);if(e){n.setSubtitle("");break}}}}else{_=s[0];p=this._getMdcTable(_);if(p){h={};h.tableHeader=p.getHeader();const e=this._getTableColumnIndex(_);h.sTableTargetColProperty=e>-1?p.getColumns()[e].getDataProperty():undefined;h.sTableTargetColName=h.sTableTargetColProperty&&e>-1?p.getColumns()[e].getHeader():undefined;m=this._getTableRow(_).isA("sap.ui.table.CreationRow");if(!m){b=this._getTableRowIndex(_);h.oTableRowBindingContexts=p.getRowBinding().getCurrentContexts();h.oTableRowContext=h.oTableRowBindingContexts[b]}const i=t.getMessageSubtitle(u,h.oTableRowBindingContexts,h.oTableRowContext,h.sTableTargetColName,p,m,e===0&&_.getValueState()==="Error"?_:undefined);if(i){n.setSubtitle(i)}n.setActiveTitle(true);this._updateInternalModel(h.oTableRowContext,b,h.sTableTargetColProperty,p,u,m)}}if(f){const e=t.createSectionGroupName(i,o,r,h,l);n.setGroupName(e);const s=this._getViewId(this.getId());const a=c.byId(s);const g=u.getTargets()[0]&&u.getTargets()[0].split("/").pop();const f=a===null||a===void 0?void 0:a.getModel("internal");if(f&&f.getProperty("/messageTargetProperty")&&g&&g===f.getProperty("/messageTargetProperty")){this.oMessagePopover.fireActiveTitlePress({item:n});f.setProperty("/messageTargetProperty",false)}}this.oItemBinding.attachChange(this._setMessageData,this);return _};l._checkControlIdInSections=function e(n,i){let o,s,r,a,g,l;this.sGeneralGroupText=this.sGeneralGroupText?this.sGeneralGroupText:c.getLibraryResourceBundle("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL");const u=t.getVisibleSectionsFromObjectPageLayout(this.oObjectPageLayout);if(u){var f;const e=this._getViewId(this.getId());const T=c.byId(e);const b=T===null||T===void 0?void 0:(f=T.getBindingContext("internal"))===null||f===void 0?void 0:f.getProperty("sActionName");if(b){(T===null||T===void 0?void 0:T.getBindingContext("internal")).setProperty("sActionName",null)}for(a=n.length-1;a>=0;--a){r=n[a];let e=true;for(g=u.length-1;g>=0;--g){let n=false;o=u[g];s=o.getSubSections();for(l=s.length-1;l>=0;--l){var d,p;const i=s[l];const a=(d=r)===null||d===void 0?void 0:(p=d.getBindingContext("message"))===null||p===void 0?void 0:p.getObject();const g=t.getControlFromMessageRelatingToSubSection(i,a);if(g.length>0){const t=this._computeMessageGroupAndSubTitle(r,o,i,g,s.length>1,b);e=false;if(t&&!t.isA("sap.m.Table")&&!t.isA("sap.ui.table.Table")){n=true;break}}}if(n){break}}if(e){var h;const e=(h=r.getBindingContext("message"))===null||h===void 0?void 0:h.getObject();r.setActiveTitle(false);if(e.persistent&&b){this._setGroupLabelForTransientMsg(r,b)}else{r.setGroupName(this.sGeneralGroupText)}}if(!i&&r.getGroupName()===this.sGeneralGroupText&&this._findTargetForMessage(r)){return true}}}};l._findTargetForMessage=function e(t){const n=t.getBindingContext("message")&&t.getBindingContext("message").getObject();if(n&&n.target){const e=this.oObjectPageLayout&&this.oObjectPageLayout.getModel()&&this.oObjectPageLayout.getModel().getMetaModel(),t=e&&e.getMetaPath(n.target),i=e&&e.getObject(t);if(i&&i.$kind==="Property"){return true}}};l._fnEnableBindings=function e(t){for(let e=0;e<t.length;e++){const i=t[e];let o=false;const s=i.getSubSections();for(let e=0;e<s.length;e++){const t=s[e];let i=t.getBlocks();if(i){if(i.length===0){t.connectToModels();t.setBindingContext(undefined);i=t.getBlocks()}for(let e=0;e<t.getBlocks().length;e++){var n;if(i[e].getContent&&!((n=i[e].getContent())!==null&&n!==void 0&&n.isA("sap.fe.macros.table.TableAPI"))){o=true;break}}if(o){t.setBindingContext(undefined)}}if(t.getBindingContext()){this._findMessageGroupAfterRebinding();t.getBindingContext().getBinding().attachDataReceived(this._findMessageGroupAfterRebinding.bind(this))}}}};l._findMessageGroupAfterRebinding=function e(){const t=this.oMessagePopover.getItems();this._checkControlIdInSections(t,true)};l._getViewId=function e(t){let n,i=c.byId(t);while(i){if(i instanceof f){n=i.getId();break}i=i.getParent()}return n};l._setLongtextUrlDescription=function t(n,i){this.oMessagePopover.setAsyncDescriptionHandler(function(t){const o=n;const s=t.item.getLongtextUrl();if(s){jQuery.ajax({type:"GET",url:s,success:function(e){const n=i.getHtmlText()+e;t.item.setDescription(`${o}${n}`);t.promise.resolve()},error:function(){t.item.setDescription(n);const i=`A request has failed for long text data. URL: ${s}`;e.error(i);t.promise.reject(i)}})}})};l._formatMessageDescription=function e(n,i,o,s){var r;const a=E(s);const l=s.getParent().getIdentifierColumn();let c="";const u=(r=n.getBindingContext("message"))===null||r===void 0?void 0:r.getObject();const f=t.fetchColumnInfo(u,s);if(o){c=`${a.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")}: ${o}`}else if(f){if(f.availability==="Hidden"){if(n.getType()==="Error"){c=l?`${a.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC_ERROR")} ${i.getValue(l)}`+".":`${a.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC_ERROR")}`+"."}else{c=l?`${a.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC")} ${i.getValue(l)}`+".":`${a.getText("T_COLUMN_AVAILABLE_DIAGNOSIS_MSGDESC")}`+"."}}else{if(!this._navigationConfigured(s)){n.setActiveTitle(false)}c=`${a.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")}: ${f.label} (${a.getText("T_COLUMN_INDICATOR_IN_TABLE_DEFINITION")})`}}const d=new g({htmlText:`<html><body><strong>${a.getText("T_FIELDS_AFFECTED_TITLE")}</strong></body></html><br>`});let p;if(l){p=`${d.getHtmlText()}<br>${a.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${s.getHeader()}<br>${a.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW")}: ${this.escape(i.getValue(l))}<br>${c}<br>`}else if(c==""||!c){p=""}else{p=`${d.getHtmlText()}<br>${a.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${s.getHeader()}<br>${c}<br>`}const h=new g({htmlText:`<html><body><strong>${a.getText("T_DIAGNOSIS_TITLE")}</strong></body></html><br>`});const T=n.getBindingContext("message").getObject().description;n.setDescription(null);let b="";let _="";if(n.getLongtextUrl()){_=`${p}<br>`;this._setLongtextUrlDescription(_,h)}else if(T){b=`${h.getHtmlText()}<br>${T}`;_=`${p}<br>${b}`;n.setDescription(_)}else{n.setDescription(p)}};l._setMessageData=function t(){clearTimeout(this._setMessageDataTimeout);this._setMessageDataTimeout=setTimeout(async()=>{const t="",n=this.oMessagePopover.getItems(),i={Error:0,Warning:0,Success:0,Information:0},o=c.getLibraryResourceBundle("sap.fe.core"),s=n.length;let r=y.Default,a="",g="",l="";if(s>0){for(let e=0;e<s;e++){if(!n[e].getType()||n[e].getType()===""){++i["Information"]}else{++i[n[e].getType()]}}if(i[v.Error]>0){r=y.Negative}else if(i[v.Warning]>0){r=y.Critical}else if(i[v.Success]>0){r=y.Success}else if(i[v.Information]>0){r=y.Neutral}const u=i[v.Error]+i[v.Warning]+i[v.Success]+i[v.Information];this.setText(u.toString());if(i.Error===1){a="C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR"}else if(i.Error>1){a="C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_MULTIPLE_ERROR_TOOLTIP"}else if(!i.Error&&i.Warning){a="C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_WARNING_TOOLTIP"}else if(!i.Error&&!i.Warning&&i.Information){a="C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO"}else if(!i.Error&&!i.Warning&&!i.Information&&i.Success){a="C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_SUCCESS"}if(a){l=o.getText(a);g=i.Error?`${i.Error} ${l}`:l;this.setTooltip(g)}this.setIcon(t);this.setType(r);this.setVisible(true);const f=c.byId(this.sViewId);if(f){const t=f.getController().pageReady;try{await t.waitPageReady();await this._applyGroupingAsync(f)}catch(t){e.error("fail grouping messages")}this.fireMessageChange({iMessageLength:s})}if(s>1){this.oMessagePopover.navigateBack()}}else{this.setVisible(false);this.fireMessageChange({iMessageLength:s})}},100)};l._activeTitlePress=async function t(n){var i;const o=this.getBindingContext("pageInternal");o.setProperty("errorNavigationSectionFlag",true);const s=n.getParameter("item"),r=s===null||s===void 0?void 0:(i=s.getBindingContext("message"))===null||i===void 0?void 0:i.getObject(),a=new RegExp("^/").test(r.getTargets()[0]),g=c.byId(this.sViewId);if(!s){return}let l,u;const f=function(e,t){const n={preventScroll:true,targetInfo:e};t.focus(n)};if(s.getGroupName().includes("Table:")){let t;if(a){t=r.controlIds.map(function(e){const t=c.byId(e);const n=t&&t.getParent();return n&&n.isA("sap.ui.mdc.Table")&&n.getHeader()===s.getGroupName().split(", Table: ")[1]?n:null}).reduce(function(e,t){return t?t:e});if(t){u=s.getGroupName().split(", ")[0];try{var d;await this._navigateFromMessageToSectionTableInIconTabBarMode(t,this.oObjectPageLayout,u);const n=this._getTableRefErrorContext(t);const i=n.getProperty((d=s.getBindingContext("message"))===null||d===void 0?void 0:d.getObject().getId());const o=async(e,t)=>{const n=this._getMdcTableRows(e),i=this._getGridTable(e).getFirstVisibleRow();if(n.length>0&&n[0]){const o=n[t-i],s=this.getTargetCell(o,r);if(s){this.setFocusToControl(s);return undefined}else{const t=r.getTargets()[0].split("/").pop();if(t){g.getModel("internal").setProperty("/messageTargetProperty",t)}if(this._navigationConfigured(e)){return g.getController()._routing.navigateForwardToContext(o.getBindingContext())}else{return false}}}return undefined};if(t.data("tableType")==="GridTable"&&i.rowIndex!==""){const n=this._getGridTable(t).getFirstVisibleRow();try{await t.scrollToIndex(i.rowIndex);const e=this._getMdcTableRows(t);let s,a;if(e.length>0&&e[0]){s=e[0].getParent().getFirstVisibleRow();a=n-s!==0}let g;if(a){g=new Promise(function(e){c.attachEvent("UIUpdated",e)})}else{g=Promise.resolve()}await g;setTimeout(async function(){const e=await o(t,i.rowIndex);if(e===false){f(r,t)}},0)}catch(t){e.error("Error while focusing on error")}}else if(t.data("tableType")==="ResponsiveTable"&&i){const e=await this.focusOnMessageTargetControl(g,r,t,i.rowIndex);if(e===false){f(r,t)}}else{this.focusOnMessageTargetControl(g,r)}}catch(t){e.error("Fail to navigate to Error control")}}}else{l=c.byId(r.controlIds[0]);const e=c.byId(this.oObjectPageLayout.getSelectedSection());if((e===null||e===void 0?void 0:e.findElements(true).indexOf(l))===-1){u=s.getGroupName().split(", ")[0];this._navigateFromMessageToSectionInIconTabBarMode(this.oObjectPageLayout,u)}this.setFocusToControl(l)}}else{u=s.getGroupName().split(", ")[0];this._navigateFromMessageToSectionInIconTabBarMode(this.oObjectPageLayout,u);this.focusOnMessageTargetControl(g,r)}};l.getTargetCell=function e(t,n){return n.getControlIds().length>0?n.getControlIds().map(function(e){const n=t.findElements(true,function(t){return t.getId()===e});return n.length>0?c.byId(e):null}).reduce(function(e,t){return t?t:e}):null};l.focusOnMessageTargetControl=async function e(t,n,i,o){const s=t.findElements(true);const a=n.getControlIds().filter(function(e){return s.some(function(t){return t.getId()===e&&t.getDomRef()})}).map(function(e){return c.byId(e)});const g=a.filter(function(e){return!e.isA("sap.m.Table")&&!e.isA("sap.ui.table.Table")});if(g.length>0){this.setFocusToControl(g[0]);return undefined}else if(a.length>0){const e=i?i.findElements(true,e=>{var t;return e.isA(r.getMetadata().getName())&&((t=e.getParent())===null||t===void 0?void 0:t.getParent())===i}):[];if(e.length>0&&e[0]){const s=e[o];const r=this.getTargetCell(s,n);if(r){const e=r.isA("sap.fe.macros.field.FieldAPI")?r.getContent().getContentEdit()[0]:r.getItems()[0].getContent().getContentEdit()[0];this.setFocusToControl(e);return undefined}else{const e=n.getTargets()[0].split("/").pop();if(e){t.getModel("internal").setProperty("/messageTargetProperty",e)}if(this._navigationConfigured(i)){return t.getController()._routing.navigateForwardToContext(s.getBindingContext())}else{return false}}}return undefined}return undefined};l._getMessageRank=function e(t,n){if(n){let e,i,o,s,r,a,g,l;for(s=n.length-1;s>=0;--s){e=n[s];i=e.getSubSections();for(r=i.length-1;r>=0;--r){o=i[r];g=o.findElements(true);a=g.filter(this._fnFilterUponId.bind(this,t.getControlId()));l=s+1;if(a.length>0){if(e.getVisible()&&o.getVisible()){if(!t.hasOwnProperty("sectionName")){t.sectionName=e.getTitle()}if(!t.hasOwnProperty("subSectionName")){t.subSectionName=o.getTitle()}return l*10+(r+1)}else{return 1}}}}if(!t.sectionName&&!t.subSectionName&&t.persistent){return 1}return 999}return 999};l._applyFiltersAndSort=function e(){let t,n,i,o,s,r,g=null;const l=[];const u=()=>{const e=e=>{let t=Infinity,n=c.byId(e[0]);const i=c.byId(e[0]);while(n){const e=n instanceof a?(i===null||i===void 0?void 0:i.getParent()).findElements(true).indexOf(i):Infinity;if(n instanceof a){if(t>e){t=e;this.setFocusToControl(i)}return false}n=n.getParent()}return true};return new d({path:"controlIds",test:e,caseSensitive:true})};function f(){const e=function(e){if(!e.length){return false}let t=c.byId(e[0]);while(t){if(t.getId()===T){return true}if(t instanceof a){return false}t=t.getParent()}return false};return new d({path:"controlIds",test:e,caseSensitive:true})}if(!this.sViewId){this.sViewId=this._getViewId(this.getId())}const T=this.sViewId;const b=this.getAggregation("customFilters");if(b){b.forEach(function(e){l.push(new d({path:e.getProperty("path"),operator:e.getProperty("operator"),value1:e.getProperty("value1"),value2:e.getProperty("value2")}))})}const _=this.getBindingContext();if(!_){this.setVisible(false);return}else{o=_.getPath();t=new d({filters:[new d({path:"validation",operator:p.EQ,value1:true}),f()],and:true});n=new d({filters:[t,new d({path:"target",operator:p.StartsWith,value1:o})],and:false});r=new d({filters:[u()]})}const m=new d({filters:[n,r],and:true});if(l.length>0){i=new d({filters:[l,m],and:false})}else{i=m}this.oItemBinding.filter(i);this.oObjectPageLayout=this._getObjectPageLayout(this,this.oObjectPageLayout);if(this.oObjectPageLayout){s=new h("",null,null,(e,t)=>{if(!g){g=this.oObjectPageLayout&&this.oObjectPageLayout.getSections()}const n=this._getMessageRank(e,g);const i=this._getMessageRank(t,g);if(n<i){return-1}if(n>i){return 1}return 0});this.oItemBinding.sort(s)}};l._fnFilterUponId=function e(t,n){return t===n.getId()};l._getSectionBySectionTitle=function e(t,n){let i;if(n){const e=t.getSections();for(let t=0;t<e.length;t++){if(e[t].getVisible()&&e[t].getTitle()===n){i=e[t];break}}}return i};l._navigateFromMessageToSectionInIconTabBarMode=function e(t,n){const i=t.getUseIconTabBar();if(i){const e=this._getSectionBySectionTitle(t,n);const i=t.getSelectedSection();if(e&&i!==e.getId()){t.setSelectedSection(e.getId())}}};l._navigateFromMessageToSectionTableInIconTabBarMode=async function e(t,n,i){const o=t.getRowBinding();const s=t.getBindingContext();const r=n.getBindingContext();const a=!(s===r);this._navigateFromMessageToSectionInIconTabBarMode(n,i);return new Promise(function(e){if(a){o.attachEventOnce("change",function(){e()})}else{e()}})};l._getMdcTable=function e(t){let n=t.getParent();while(n&&!n.isA("sap.ui.mdc.Table")){n=n.getParent()}return n&&n.isA("sap.ui.mdc.Table")?n:undefined};l._getGridTable=function e(t){return t.findElements(true,function(e){return e.isA("sap.ui.table.Table")&&e.getParent()===t})[0]};l._getTableRow=function e(t){let n=t.getParent();while(n&&!n.isA("sap.ui.table.Row")&&!n.isA("sap.ui.table.CreationRow")&&!n.isA(r.getMetadata().getName())){n=n.getParent()}return n&&(n.isA("sap.ui.table.Row")||n.isA("sap.ui.table.CreationRow")||n.isA(r.getMetadata().getName()))?n:undefined};l._getTableRowIndex=function e(t){const n=this._getTableRow(t);let i;if(n.isA("sap.ui.table.Row")){i=n.getIndex()}else{i=n.getTable().getItems().findIndex(function(e){return e.getId()===n.getId()})}return i};l._getTableColumnIndex=function e(t){const n=function(e,t){return t.getCells().findIndex(function(t){return t.getId()===e.getId()})};const i=function(e,t){let i=e.getParent(),o=n(i,t);while(i&&o<0){i=i.getParent();o=n(i,t)}return o};const o=this._getTableRow(t);let s;s=i(t,o);if(o.isA("sap.ui.table.CreationRow")){const e=o.getCells()[s].getId(),t=o.getTable().getColumns();s=t.findIndex(function(t){if(t.getCreationTemplate()){return e.search(t.getCreationTemplate().getId())>-1?true:false}else{return false}})}return s};l._getMdcTableRows=function e(t){return t.findElements(true,function(e){return e.isA("sap.ui.table.Row")&&e.getTable().getParent()===t})};l._getObjectPageLayout=function e(t,n){if(n){return n}n=t;while(n&&!n.isA("sap.uxap.ObjectPageLayout")){n=n.getParent()}return n};l._navigationConfigured=function e(t){const n=sap.ui.require("sap/ui/core/Component"),i=t&&n.getOwnerComponentFor(t)&&n.getOwnerComponentFor(t).getNavigation();let o=false,s=false;if(i&&Object.keys(i).includes(t.getRowBinding().sPath)){o=i[t===null||t===void 0?void 0:t.getRowBinding().sPath]&&i[t===null||t===void 0?void 0:t.getRowBinding().sPath].detail&&i[t===null||t===void 0?void 0:t.getRowBinding().sPath].detail.route?true:false}s=o&&(t===null||t===void 0?void 0:t.getRowSettings().getRowActions())&&(t===null||t===void 0?void 0:t.getRowSettings().getRowActions()[0].mProperties.type.indexOf("Navigation"))!==-1;return s};l.setFocusToControl=function t(n){const i=this.oMessagePopover;if(i&&n&&n.focus){const e=()=>{n.focus()};if(!i.isOpen()){setTimeout(e,0)}else{const t=()=>{setTimeout(e,0);i.detachEvent("afterClose",t)};i.attachEvent("afterClose",t);i.close()}}else{e.warning("FE V4 : MessageButton : element doesn't have focus method for focusing.")}};l.escape=function e(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};return i}(s),C=B(I.prototype,"customFilters",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),P=B(I.prototype,"messageChange",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),I))||m);return G},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/messages/MessageFilter", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/Element","sap/ui/model/FilterOperator"],function(e,r,t){"use strict";var i,n,a,l,o,u,s,p,c,f,b;var d=e.property;var v=e.defineUI5Class;function y(e,r,t,i){if(!t)return;Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function g(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;m(e,r)}function m(e,r){m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(r,t){r.__proto__=t;return r};return m(e,r)}function w(e,r,t,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,r,a);a=null}return a}function z(e,r){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let O=(i=v("sap.fe.macros.messages.MessageFilter"),n=d({type:"string"}),a=d({type:"sap.ui.model.FilterOperator"}),l=d({type:"string"}),o=d({type:"string"}),i(u=(s=function(e){h(r,e);function r(){var r;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}r=e.call(this,...i)||this;y(r,"path",p,g(r));y(r,"operator",c,g(r));y(r,"value1",f,g(r));y(r,"value2",b,g(r));return r}return r}(r),p=w(s.prototype,"path",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),c=w(s.prototype,"operator",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return t.Contains}}),f=w(s.prototype,"value1",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),b=w(s.prototype,"value2",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||u);return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/messages/MessagePopover", ["sap/fe/core/helpers/ClassSupport","sap/m/MessageItem","sap/m/MessagePopover"],function(e,t,s){"use strict";var r,o;var a=e.defineUI5Class;function i(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;n(e,t)}function n(e,t){n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,s){t.__proto__=s;return t};return n(e,t)}let p=(r=a("sap.fe.macros.messages.MessagePopover"),r(o=function(e){i(r,e);function r(){return e.apply(this,arguments)||this}var o=r.prototype;o.init=function e(){s.prototype.init.apply(this);this.setModel(sap.ui.getCore().getMessageManager().getMessageModel(),"message");this.bindAggregation("items",{path:"message>/",length:9999,template:new t({type:"{message>type}",title:"{message>message}",description:"{message>description}",markupDescription:true,longtextUrl:"{message>descriptionUrl}",subtitle:"{message>additionalText}",activeTitle:"{= ${message>controlIds}.length > 0 ? true : false}"})});this.setGroupItems(true)};return r}(s))||o);return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/microchart/MicroChart.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/UIFormatters","sap/fe/macros/CommonHelper","sap/ui/model/odata/v4/AnnotationHelper"],function(e,t,r,a,i,n,o,l){"use strict";var u,c,s,p,m,f,b,h,g,d,y,C,v,M,P,T,w,z,B,x,O,N,I,k,F,L,U,A,D;var X={};var j=n.hasValidAnalyticalCurrencyOrUnit;var $=i.pathInModel;var E=i.or;var S=i.not;var _=i.equal;var q=a.getInvolvedDataModelObjects;var H=a.convertMetaModelContext;var W=r.xml;var G=t.defineBuildingBlock;var R=t.blockAttribute;function V(e,t,r,a){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}function J(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function K(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Q(e,t)}function Q(e,t){Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return Q(e,t)}function Y(e,t,r,a,i){var n={};Object.keys(a).forEach(function(e){n[e]=a[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=r.slice().reverse().reduce(function(r,a){return a(e,t,r)||r},n);if(i&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(i):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}function Z(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let ee=(u=G({name:"MicroChart",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.macros.controls.ConditionalWrapper","sap.fe.macros.microchart.MicroChartContainer"]}),c=R({type:"string",isPublic:true,required:true}),s=R({type:"sap.ui.model.Context",expectedTypes:["EntitySet","NavigationProperty"],isPublic:true}),p=R({type:"sap.ui.model.Context",isPublic:true,required:true}),m=R({type:"string",isPublic:true}),f=R({type:"string"}),b=R({type:"string"}),h=R({type:"string"}),g=R({type:"string"}),d=R({type:"sap.fe.macros.NavigationType"}),y=R({type:"function"}),C=R({type:"string",isPublic:true}),v=R({type:"boolean"}),M=R({type:"sap.ui.model.Context"}),u(P=(T=function(e){K(t,e);function t(t){var r;r=e.call(this,t)||this;V(r,"id",w,J(r));V(r,"contextPath",z,J(r));V(r,"metaPath",B,J(r));V(r,"showOnlyChart",x,J(r));V(r,"batchGroupId",O,J(r));V(r,"title",N,J(r));V(r,"hideOnNoData",I,J(r));V(r,"description",k,J(r));V(r,"navigationType",F,J(r));V(r,"onTitlePressed",L,J(r));V(r,"size",U,J(r));V(r,"isAnalytics",A,J(r));V(r,"DataPoint",D,J(r));r.metaPath=r.metaPath.getModel().createBindingContext(l.resolve$Path(r.metaPath));const a=o.getMeasureAttributeForMeasure(r.metaPath.getModel().createBindingContext("Measures/0",r.metaPath));if(a){r.DataPoint=r.metaPath.getModel().createBindingContext(a)}return r}X=t;var r=t.prototype;r.getMicroChartContent=function e(){const t=H(this.metaPath);switch(t.ChartType){case"UI.ChartType/Bullet":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.BulletMicroChart" type="XML" />`;case"UI.ChartType/Donut":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.RadialMicroChart" type="XML" />`;case"UI.ChartType/Pie":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.HarveyBallMicroChart" type="XML" />`;case"UI.ChartType/BarStacked":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.StackedBarMicroChart" type="XML" />`;case"UI.ChartType/Area":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.AreaMicroChart" type="XML" />`;case"UI.ChartType/Column":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.ColumnMicroChart" type="XML" />`;case"UI.ChartType/Line":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.LineMicroChart" type="XML" />`;case"UI.ChartType/Bar":return`<core:Fragment fragmentName="sap.fe.macros.microchart.fragments.ComparisonMicroChart" type="XML" />`;default:return`<m:Text text="This chart type is not supported. Other Types yet to be implemented.." />`}};r.getTemplate=function e(){const t=q(this.metaPath.getModel().createBindingContext("Value/$Path",this.DataPoint),this.contextPath);const r=j(t);const a=E(S($("@$ui5.node.isExpanded")),_($("@$ui5.node.level"),0));if(this.isAnalytics){return W`<controls:ConditionalWrapper
				xmlns:controls="sap.fe.macros.controls"
				condition="${r}"
				visible="${a}" >
				<controls:contentTrue>
					${this.getMicroChartContent()}
				</controls:contentTrue>
				<controls:contentFalse>
					<m:Text text="*" />
				</controls:contentFalse>
			</controls:ConditionalWrapper>`}else{return this.getMicroChartContent()}};return t}(e),w=Y(T.prototype,"id",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),z=Y(T.prototype,"contextPath",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),B=Y(T.prototype,"metaPath",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),x=Y(T.prototype,"showOnlyChart",[m],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),O=Y(T.prototype,"batchGroupId",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),N=Y(T.prototype,"title",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),I=Y(T.prototype,"hideOnNoData",[h],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),k=Y(T.prototype,"description",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),F=Y(T.prototype,"navigationType",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return"None"}}),L=Y(T.prototype,"onTitlePressed",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),U=Y(T.prototype,"size",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),A=Y(T.prototype,"isAnalytics",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),D=Y(T.prototype,"DataPoint",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),T))||P);X=ee;return X},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/microchart/MicroChartContainer", ["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/fe/macros/library","sap/m/FlexBox","sap/m/Label","sap/m/library","sap/suite/ui/microchart/AreaMicroChart","sap/suite/ui/microchart/ColumnMicroChart","sap/suite/ui/microchart/ComparisonMicroChart","sap/suite/ui/microchart/LineMicroChart","sap/ui/core/Control","sap/ui/core/format/NumberFormat","sap/ui/model/odata/v4/ODataListBinding","sap/ui/model/odata/v4/ODataMetaModel","sap/ui/model/type/Date"],function(e,t,i,r,a,n,o,l,s,u,c,f,g,h,p){"use strict";var d,b,m,y,C,v,P,L,_,w,A,O,T,V,x,z,N,B,D,M,R,E,I,S,F,j,$,U,k,Y,G,q,X,H,Q;var J=t.property;var K=t.event;var W=t.defineUI5Class;var Z=t.aggregation;function ee(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function te(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function ie(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;re(e,t)}function re(e,t){re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return re(e,t)}function ae(e,t,i,r,a){var n={};Object.keys(r).forEach(function(e){n[e]=r[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n);if(a&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(a):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}function ne(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const oe=i.NavigationType;const le=n.ValueColor;let se=(d=W("sap.fe.macros.microchart.MicroChartContainer"),b=J({type:"boolean",defaultValue:false}),m=J({type:"string",defaultValue:undefined}),y=J({type:"string[]",defaultValue:[]}),C=J({type:"string",defaultValue:undefined}),v=J({type:"string[]",defaultValue:[]}),P=J({type:"int",defaultValue:undefined}),L=J({type:"int",defaultValue:1}),_=J({type:"int",defaultValue:undefined}),w=J({type:"string",defaultValue:""}),A=J({type:"string",defaultValue:""}),O=J({type:"sap.fe.macros.NavigationType",defaultValue:"None"}),T=J({type:"string",defaultValue:""}),V=K(),x=Z({type:"sap.ui.core.Control",multiple:false,isDefault:true}),z=Z({type:"sap.m.Label",multiple:false}),N=Z({type:"sap.ui.core.Control",multiple:true}),d(B=(D=function(t){ie(i,t);function i(){var e;for(var i=arguments.length,r=new Array(i),a=0;a<i;a++){r[a]=arguments[a]}e=t.call(this,...r)||this;ee(e,"showOnlyChart",M,te(e));ee(e,"uomPath",R,te(e));ee(e,"measures",E,te(e));ee(e,"dimension",I,te(e));ee(e,"dataPointQualifiers",S,te(e));ee(e,"measurePrecision",F,te(e));ee(e,"measureScale",j,te(e));ee(e,"dimensionPrecision",$,te(e));ee(e,"chartTitle",U,te(e));ee(e,"chartDescription",k,te(e));ee(e,"navigationType",Y,te(e));ee(e,"calendarPattern",G,te(e));ee(e,"onTitlePressed",q,te(e));ee(e,"microChart",X,te(e));ee(e,"_uomLabel",H,te(e));ee(e,"microChartTitle",Q,te(e));return e}i.render=function e(t,i){t.openStart("div",i);t.openEnd();if(!i.showOnlyChart){const e=i.microChartTitle;if(e){e.forEach(function(e){t.openStart("div");t.openEnd();t.renderControl(e);t.close("div")})}t.openStart("div");t.openEnd();const r=new a({text:i.chartDescription});t.renderControl(r);t.close("div")}const n=i.microChart;if(n){n.addStyleClass("sapUiTinyMarginTopBottom");t.renderControl(n);if(!i.showOnlyChart&&i.uomPath){const e=i._checkIfChartRequiresRuntimeLabels()?undefined:{text:{path:i.uomPath}},n=new a(e),o=new r({alignItems:"Start",justifyContent:"End",items:[n]});t.renderControl(o);i.setAggregation("_uomLabel",n)}}t.close("div")};var n=i.prototype;n.onBeforeRendering=function e(){const t=this._getListBindingForRuntimeLabels();if(t){t.detachEvent("change",this._setRuntimeChartLabelsAndUnitOfMeasure,this);this._olistBinding=undefined}};n.onAfterRendering=function e(){const t=this._getListBindingForRuntimeLabels();if(!this._checkIfChartRequiresRuntimeLabels()){return}if(t){t.attachEvent("change",this._setRuntimeChartLabelsAndUnitOfMeasure,this);this._olistBinding=t}};n.setShowOnlyChart=function e(t){if(!t&&this._olistBinding){this._setChartLabels()}this.setProperty("showOnlyChart",t,false)};n._checkIfChartRequiresRuntimeLabels=function e(){const t=this.microChart;return Boolean(t instanceof o||t instanceof l||t instanceof u||t instanceof s)};n._checkForChartLabelAggregations=function e(){const t=this.microChart;return Boolean(t instanceof o&&t.getAggregation("firstYLabel")&&t.getAggregation("lastYLabel")&&t.getAggregation("firstXLabel")&&t.getAggregation("lastXLabel")||t instanceof l&&t.getAggregation("leftTopLabel")&&t.getAggregation("rightTopLabel")&&t.getAggregation("leftBottomLabel")&&t.getAggregation("rightBottomLabel")||t instanceof u)};n._getListBindingForRuntimeLabels=function e(){const t=this.microChart;let i;if(t instanceof o){const e=t.getChart();i=e&&e.getBinding("points")}else if(t instanceof l){i=t.getBinding("columns")}else if(t instanceof u){const e=t.getLines();i=e&&e.length&&e[0].getBinding("points")}else if(t instanceof s){i=t.getBinding("data")}return i instanceof g?i:false};n._setRuntimeChartLabelsAndUnitOfMeasure=async function e(){const t=this._olistBinding,i=t===null||t===void 0?void 0:t.getContexts(),r=this.measures,a=this.dimension,n=this.uomPath,o=this.microChart,l=this._uomLabel;if(l&&n&&i&&i.length&&!this.showOnlyChart){l.setText(i[0].getObject(n))}else if(l){l.setText("")}if(!this._checkForChartLabelAggregations()){return}if(!i||!i.length){this._setChartLabels();return}const s=i[0],c=i[i.length-1],f=[],g=o instanceof u,h=s.getObject(a),p=c.getObject(a);let d,b,m={value:Infinity},y={value:-Infinity},C={value:Infinity},v={value:-Infinity};m=h==undefined?m:{context:s,value:h};y=p==undefined?y:{context:c,value:p};if(r!==null&&r!==void 0&&r.length){r.forEach((e,t)=>{d=s.getObject(e);b=c.getObject(e);v=b>v.value?{context:c,value:b,index:g?t:0}:v;C=d<C.value?{context:s,value:d,index:g?t:0}:C;if(g){f.push(this._getCriticalityFromPoint({context:c,value:b,index:t}))}})}this._setChartLabels(C.value,v.value,m.value,y.value);if(g){const e=await Promise.all(f);if(e!==null&&e!==void 0&&e.length){const t=o.getLines();t.forEach(function(t,i){t.setColor(e[i])})}}else{await this._setChartLabelsColors(v,C)}};n._setChartLabelsColors=async function e(t,i){const r=this.microChart;const a=await Promise.all([this._getCriticalityFromPoint(i),this._getCriticalityFromPoint(t)]);if(r instanceof o){r.getAggregation("firstYLabel").setProperty("color",a[0],true);r.getAggregation("lastYLabel").setProperty("color",a[1],true)}else if(r instanceof l){r.getAggregation("leftTopLabel").setProperty("color",a[0],true);r.getAggregation("rightTopLabel").setProperty("color",a[1],true)}};n._setChartLabels=function e(t,i,r,a){const n=this.microChart;t=this._formatDateAndNumberValue(t,this.measurePrecision,this.measureScale);i=this._formatDateAndNumberValue(i,this.measurePrecision,this.measureScale);r=this._formatDateAndNumberValue(r,this.dimensionPrecision,undefined,this.calendarPattern);a=this._formatDateAndNumberValue(a,this.dimensionPrecision,undefined,this.calendarPattern);if(n instanceof o){n.getAggregation("firstYLabel").setProperty("label",t,false);n.getAggregation("lastYLabel").setProperty("label",i,false);n.getAggregation("firstXLabel").setProperty("label",r,false);n.getAggregation("lastXLabel").setProperty("label",a,false)}else if(n instanceof l){n.getAggregation("leftTopLabel").setProperty("label",t,false);n.getAggregation("rightTopLabel").setProperty("label",i,false);n.getAggregation("leftBottomLabel").setProperty("label",r,false);n.getAggregation("rightBottomLabel").setProperty("label",a,false)}else if(n instanceof u){n.setProperty("leftTopLabel",t,false);n.setProperty("rightTopLabel",i,false);n.setProperty("leftBottomLabel",r,false);n.setProperty("rightBottomLabel",a,false)}};n._getCriticalityFromPoint=async function e(t){if(t!==null&&t!==void 0&&t.context){const e=this.getModel()&&this.getModel().getMetaModel(),i=this.dataPointQualifiers,r=e instanceof h&&t.context.getPath()&&e.getMetaPath(t.context.getPath());if(e&&typeof r==="string"){const a=await e.requestObject(`${r}/@${"com.sap.vocabularies.UI.v1.DataPoint"}${t.index!==undefined&&i[t.index]?`#${i[t.index]}`:""}`);if(a){let e=le.Neutral;const i=t.context;if(a.Criticality){e=this._criticality(a.Criticality,i)}else if(a.CriticalityCalculation){const r=a.CriticalityCalculation;const n=function(e){let t;if(e!==null&&e!==void 0&&e.$Path){t=i.getObject(e.$Path)}else if(e!==null&&e!==void 0&&e.hasOwnProperty("$Decimal")){t=e.$Decimal}return t};e=this._criticalityCalculation(r.ImprovementDirection.$EnumMember,t.value,n(r.DeviationRangeLowValue),n(r.ToleranceRangeLowValue),n(r.AcceptanceRangeLowValue),n(r.AcceptanceRangeHighValue),n(r.ToleranceRangeHighValue),n(r.DeviationRangeHighValue))}return e}}}return Promise.resolve(le.Neutral)};n._criticality=function t(i,r){let a,n;if(i.$Path){a=r.getObject(i.$Path);if(a==="Negative"||a.toString()==="1"){n=le.Error}else if(a==="Critical"||a.toString()==="2"){n=le.Critical}else if(a==="Positive"||a.toString()==="3"){n=le.Good}}else if(i.$EnumMember){a=i.$EnumMember;if(a.indexOf("com.sap.vocabularies.UI.v1.CriticalityType/Negative")>-1){n=le.Error}else if(a.indexOf("com.sap.vocabularies.UI.v1.CriticalityType/Positive")>-1){n=le.Good}else if(a.indexOf("com.sap.vocabularies.UI.v1.CriticalityType/Critical")>-1){n=le.Critical}}if(n===undefined){e.warning("Case not supported, returning the default Value Neutral");return le.Neutral}return n};n._criticalityCalculation=function t(i,r,a,n,o,l,s,u){let c;a=a==undefined?-Infinity:a;n=n==undefined?a:n;o=o==undefined?n:o;u=u==undefined?Infinity:u;s=s==undefined?u:s;l=l==undefined?s:l;if(i.includes("Minimize")){if(r<=l){c=le.Good}else if(r<=s){c=le.Neutral}else if(r<=u){c=le.Critical}else{c=le.Error}}else if(i.includes("Maximize")){if(r>=o){c=le.Good}else if(r>=n){c=le.Neutral}else if(r>=a){c=le.Critical}else{c=le.Error}}else if(i.includes("Target")){if(r<=l&&r>=o){c=le.Good}else if(r>=n&&r<o||r>l&&r<=s){c=le.Neutral}else if(r>=a&&r<n||r>s&&r<=u){c=le.Critical}else{c=le.Error}}if(c===undefined){e.warning("Case not supported, returning the default Value Neutral");return le.Neutral}return c};n._formatDateAndNumberValue=function e(t,i,r,a){if(a){return this._getSemanticsValueFormatter(a).formatValue(t,"string")}else if(!isNaN(t)){return this._getLabelNumberFormatter(i,r).format(t)}return t};n._getSemanticsValueFormatter=function e(t){if(!this._oDateType){this._oDateType=new p({style:"short",source:{pattern:t}})}return this._oDateType};n._getLabelNumberFormatter=function e(t,i){return f.getFloatInstance({style:"short",showScale:true,precision:typeof t==="number"&&t||0,decimals:typeof i==="number"&&i||0})};return i}(c),M=ae(D.prototype,"showOnlyChart",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),R=ae(D.prototype,"uomPath",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),E=ae(D.prototype,"measures",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),I=ae(D.prototype,"dimension",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),S=ae(D.prototype,"dataPointQualifiers",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),F=ae(D.prototype,"measurePrecision",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),j=ae(D.prototype,"measureScale",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),$=ae(D.prototype,"dimensionPrecision",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),U=ae(D.prototype,"chartTitle",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),k=ae(D.prototype,"chartDescription",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=ae(D.prototype,"navigationType",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),G=ae(D.prototype,"calendarPattern",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),q=ae(D.prototype,"onTitlePressed",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),X=ae(D.prototype,"microChart",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),H=ae(D.prototype,"_uomLabel",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=ae(D.prototype,"microChartTitle",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),D))||B);return se},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/microchart/MicroChartHelper", ["sap/base/Log","sap/fe/macros/CommonHelper","sap/m/library","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat"],function(t,e,a,r,n){"use strict";const i=a.ValueColor;const o={yyyy:/[1-9][0-9]{3,}|0[0-9]{3}/,Q:/[1-4]/,MM:/0[1-9]|1[0-2]/,ww:/0[1-9]|[1-4][0-9]|5[0-3]/,yyyyMMdd:/([1-9][0-9]{3,}|0[0-9]{3})(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|3[01])/,yyyyMM:/([1-9][0-9]{3,}|0[0-9]{3})(0[1-9]|1[0-2])/,"yyyy-MM-dd":/([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])/};const u={getThresholdColor:function(t,e){const a=e.context.getPath();if(a.indexOf("DeviationRange")>-1){return i.Error}else if(a.indexOf("ToleranceRange")>-1){return i.Critical}return i.Neutral},getMeasurePropertyPaths:function(a,r,n){const i=[];if(!r){t.warning("FE:Macro:MicroChart : Couldn't find annotations for the DataPoint.");return undefined}for(const u in a.Measures){var o;const s=e.getMeasureAttributeIndex(u,a),l=s>-1&&a.MeasureAttributes&&a.MeasureAttributes[s],c=l&&r&&r[l.DataPoint.$AnnotationPath];if(c!==null&&c!==void 0&&(o=c.Value)!==null&&o!==void 0&&o.$Path){i.push(c.Value.$Path)}else{t.warning(`FE:Macro:MicroChart : Couldn't find DataPoint(Value) measure for the measureAttribute ${n} MicroChart.`)}}return i.join(",")},getHiddenPathExpression:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++){e[a]=arguments[a]}if(!e[0]&&!e[1]){return true}if(e[0]===true||e[1]===true){return false}const r=[];[].forEach.call(e,function(t){if(t&&t.$Path){r.push("%{"+t.$Path+"}")}});return r.length?"{= "+r.join(" || ")+" === true ? false : true }":false},isNotAlwaysHidden:function(t,e,a,r,n){if(r===true){this.logError(t,e)}if(n===true){this.logError(t,a)}if(r===undefined&&n===undefined){return true}else{return(!r||r.$Path)&&r!==undefined||(!n||n.$Path)&&n!==undefined?true:false}},logError:function(e,a){t.error(`Measure Property ${a.$Path} is hidden for the ${e} Micro Chart`)},formatDecimal:function(t,e,a,r){if(t){const r=[],n=["style: 'short'"];const i=typeof a==="number"?a:e&&(e===null||e===void 0?void 0:e.$Scale)||1;if(e.$Nullable!=undefined){r.push("nullable: "+e.$Nullable)}if(e.$Precision!=undefined){n.push("precision: "+(e.$Precision?e.$Precision:"1"))}r.push("scale: "+(i==="variable"?"'"+i+"'":i));return"{ path: '"+t+"'"+", type: 'sap.ui.model.odata.type.Decimal', constraints: { "+r.join(",")+" }, formatOptions: { "+n.join(",")+" } }"}else if(r){const t=typeof a==="number"?a:1;return n.getFloatInstance({style:"short",preserveDecimals:true,decimals:t}).format(r)}},getSelectParameters:function(t,e,a){const r=[],n=[];if(t){n.push(`$$groupId : '${t}'`)}if(a){r.push(a)}else if(e){for(const t in e){if(!e[t].$EnumMember&&e[t].$Path){r.push(e[t].$Path)}}}for(var i=arguments.length,o=new Array(i>3?i-3:0),u=3;u<i;u++){o[u-3]=arguments[u]}for(const t of o){if(t){r.push(t)}}if(r.length){n.push(`$select : '${r.join(",")}'`)}return n.join(",")},getDataPointQualifiersForMeasures:function(e,a,r){const n=[],i=e.MeasureAttributes,o=function(e){const o=e.$PropertyPath;let u;if(a){i.forEach(function(t){var e,r;if(((e=t.Measure)===null||e===void 0?void 0:e.$PropertyPath)===o&&(r=t.DataPoint)!==null&&r!==void 0&&r.$AnnotationPath){const e=t.DataPoint.$AnnotationPath;if(a[e]){u=e.split("#")[1];if(u){n.push(u)}}}})}if(u===undefined){t.warning(`FE:Macro:MicroChart : Couldn't find DataPoint(Value) measure for the measureAttribute for ${r} MicroChart.`)}};if(!a){t.warning(`FE:Macro:MicroChart : Couldn't find annotations for the DataPoint ${r} MicroChart.`)}e.Measures.forEach(o);return n.join(",")},logWarning:function(e,a){for(const r in a){if(!a[r]){t.warning(`${r} parameter is missing for the ${e} Micro Chart`)}}},getDisplayValueForMicroChart:function(t,e,a,r){const n=t.ValueFormat&&t.ValueFormat.NumberOfFractionalDigits;if(e){return u.formatDecimal(e["$Path"],a,n)}return u.formatDecimal(t.Value["$Path"],r,n)},shouldMicroChartRender:function(t,e,a,r,n){const i=["Area","Column","Comparison"],o=e&&e.Value,s=a&&a["com.sap.vocabularies.UI.v1.Hidden"],l=r&&r.Dimensions&&r.Dimensions[0],c=i.includes(t)?o&&l:o;if(t==="Harvey"){const t=e&&e.MaximumValue,a=n&&n["com.sap.vocabularies.UI.v1.Hidden"];return o&&t&&u.isNotAlwaysHidden("Bullet",o,t,s,a)}return c&&u.isNotAlwaysHidden(t,o,undefined,s)},getDataPointQualifiersForMicroChart:function(t){if(!t.includes("com.sap.vocabularies.UI.v1.DataPoint")){return undefined}return t.split("#")[1]??""},getColorPaletteForMicroChart:function(t){return t.Criticality?undefined:"sapUiChartPaletteQualitativeHue1, sapUiChartPaletteQualitativeHue2, sapUiChartPaletteQualitativeHue3,          sapUiChartPaletteQualitativeHue4, sapUiChartPaletteQualitativeHue5, sapUiChartPaletteQualitativeHue6, sapUiChartPaletteQualitativeHue7,          sapUiChartPaletteQualitativeHue8, sapUiChartPaletteQualitativeHue9, sapUiChartPaletteQualitativeHue10, sapUiChartPaletteQualitativeHue11"},getMeasureScaleForMicroChart:function(t){if(t.ValueFormat&&t.ValueFormat.NumberOfFractionalDigits){return t.ValueFormat.NumberOfFractionalDigits}if(t.Value&&t.Value["$Path"]&&t.Value["$Path"]["$Scale"]){return t.Value["$Path"]["$Scale"]}return 1},getBindingExpressionForMicrochart:function(t,e,a,r,n,i){const o=r["$isCollection"]||r["$kind"]==="EntitySet";const s=o?"":n;let l=u.getUOMPathForMicrochart(e);let c="";switch(t){case"Radial":l="";break;case"Harvey":c=i.Criticality?i.Criticality["$Path"]:"";break}const f=u.getSelectParameters(a.batchGroupId,"",c,l);return`{ path: '${s}'`+`, parameters : {${f}} }`},getUOMPathForMicrochart:function(t,e){if(e&&!t){return e[`@${"Org.OData.Measures.V1.ISOCurrency"}`]&&e[`@${"Org.OData.Measures.V1.ISOCurrency"}`].$Path||e[`@${"Org.OData.Measures.V1.Unit"}`]&&e[`@${"Org.OData.Measures.V1.Unit"}`].$Path}return undefined},getAggregationForMicrochart:function(t,e,a,r,n,i,o){let s=e["$kind"]==="EntitySet"?"/":"";s=s+r;const l="";let c="";let f=a.Criticality?a.Criticality["$Path"]:"";const h=u.getUOMPathForMicrochart(false,i);let d="";let m="";if(n&&n.$PropertyPath&&n.$PropertyPath[`@${"com.sap.vocabularies.Common.v1.Text"}`]){m=n.$PropertyPath[`@${"com.sap.vocabularies.Common.v1.Text"}`].$Path}else{m=n.$PropertyPath}switch(t){case"Points":c=a&&a.CriticalityCalculation;d=a&&a.TargetValue&&a.TargetValue["$Path"];f="";break;case"Columns":c=a&&a.CriticalityCalculation;break;case"LinePoints":f="";break;case"Bars":m="";break}const $=u.getSelectParameters(l,c,f,h,d,m,o);return`{path:'${s}'`+`, parameters : {${$}} }`},getCurrencyOrUnit:function(t){if(t[`@${"Org.OData.Measures.V1.ISOCurrency"}`]){return t[`@${"Org.OData.Measures.V1.ISOCurrency"}`].$Path||t[`@${"Org.OData.Measures.V1.ISOCurrency"}`]}if(t[`@${"Org.OData.Measures.V1.Unit"}`]){return t[`@${"Org.OData.Measures.V1.Unit"}`].$Path||t[`@${"Org.OData.Measures.V1.Unit"}`]}return""},getCalendarPattern:function(t,e){return e[`@${"com.sap.vocabularies.Common.v1.IsCalendarYear"}`]&&"yyyy"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarQuarter"}`]&&"Q"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarMonth"}`]&&"MM"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarWeek"}`]&&"ww"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarDate"}`]&&"yyyyMMdd"||e[`@${"com.sap.vocabularies.Common.v1.IsCalendarYearMonth"}`]&&"yyyyMM"||t==="Edm.Date"&&"yyyy-MM-dd"||undefined},formatDimension:function(e,a,n){const i=r.getDateInstance({pattern:a}).parse(e,false,true);if(i instanceof Date){return i.getTime()}else{t.warning("Date value could not be determined for "+n)}return 0},formatStringDimension:function(e,a,r){if(a in o){const t=e===null||e===void 0?void 0:e.toString().match(o[a]);if(t&&t!==null&&t!==void 0&&t.length){return u.formatDimension(t[0],a,r)}}t.warning("Pattern not supported for "+r);return 0},getX:function(t,e,a){const r=a&&u.getCalendarPattern(e,a);if(r&&["Edm.Date","Edm.String"].some(t=>t===e)){return`{parts: [{path: '${t}', targetType: 'any'}, {value: '${r}'}, {value: '${t}'}], formatter: 'MICROCHARTR.formatStringDimension'}`}}};return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/multiValueField/MultiValueField.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyFormatters","sap/fe/core/templating/UIFormatters","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/valuehelp/ValueHelpTemplating"],function(e,t,i,a,r,n,o,l,s,d,u,c,p,f){"use strict";var h,m,y,v,g,b,P,M,x,O,F,D,V,$,w,B,I,E,j;var z={};var T=p.getVisibleExpression;var H=p.getValueBinding;var S=u.getDisplayMode;var k=s.isPathInsertable;var C=s.isPathDeletable;var L=s.getRelativePaths;var G=s.getContextRelativeTargetObjectPath;var R=s.enhanceDataModelPath;var _=l.isPropertyPathExpression;var A=l.isProperty;var N=l.isMultipleNavigationProperty;var U=n.or;var q=n.not;var Q=n.isConstant;var J=n.ifElse;var K=n.getExpressionFromAnnotation;var W=n.constant;var X=n.compileExpression;var Y=n.and;var Z=r.UI;var ee=i.xml;var te=t.defineBuildingBlock;var ie=t.blockAttribute;function ae(e,t,i,a){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function re(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function ne(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;oe(e,t)}function oe(e,t){oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return oe(e,t)}function le(e,t,i,a,r){var n={};Object.keys(a).forEach(function(e){n[e]=a[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},n);if(r&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(r):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}function se(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let de=(h=te({name:"MultiValueField",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros"}),m=ie({isPublic:true,type:"string"}),y=ie({type:"string"}),v=ie({type:"string"}),g=ie({isPublic:true,type:"sap.ui.model.Context",required:true,expectedTypes:["Property"],expectedAnnotationTypes:["com.sap.vocabularies.UI.v1.DataField"]}),b=ie({type:"boolean",isPublic:true,required:false}),P=ie({isPublic:true,required:true,type:"sap.ui.model.Context",expectedTypes:["EntitySet","NavigationProperty","EntityType","Singleton"]}),M=ie({type:"string"}),x=ie({type:"object",validate:function(e){if(e.displayMode&&!["Value","Description","ValueDescription","DescriptionValue"].includes(e.displayMode)){throw new Error(`Allowed value ${e.displayMode} for displayMode does not match`)}if(typeof e.displayOnly==="string"&&!["true","false"].includes(e.displayOnly)){throw new Error(`Allowed value ${e.displayOnly} for displayOnly does not match`)}if(e.measureDisplayMode&&!["Hidden","ReadOnly"].includes(e.measureDisplayMode)){throw new Error(`Allowed value ${e.measureDisplayMode} for measureDisplayMode does not match`)}return e}}),h(O=(F=function(e){ne(i,e);i._getMultiInputSettings=function e(t,a){var r;const{collectionPath:n,itemDataModelObjectPath:o}=i._getPathStructure(t);const l=`{path:'${n}', templateShareable: false}`;const s=`{path:'${n}', templateShareable: false}`;const d=t.targetObject;const u=_(d)?d.$target:d;const c=u===null||u===void 0?void 0:(r=u.annotations.Common)===null||r===void 0?void 0:r.Text;const p=L(t);const f=c?X(K(c,p)):H(o,a,true);return{description:f,collectionBindingDisplay:l,collectionBindingEdit:s,key:H(o,a,true)}};i._getPathStructure=function e(t){var i,a;let r="";const n=(i=t.contextLocation)!==null&&i!==void 0&&i.targetEntitySet?t.contextLocation.targetEntitySet:t.startingEntitySet;const o=[];const l=((a=t.contextLocation)===null||a===void 0?void 0:a.navigationProperties)||[];for(const e of t.navigationProperties){if(t.contextLocation===undefined||!t.contextLocation.navigationProperties.some(t=>t.fullyQualifiedName===e.fullyQualifiedName)){o.push(e.name);l.push(e)}if(n.navigationPropertyBinding.hasOwnProperty(e.name)){if(N(e)){break}}}r=`${o.join("/")}`;const s=Object.assign({},t);if(s.contextLocation){s.contextLocation.navigationProperties=l}return{collectionPath:r,itemDataModelObjectPath:s}};var t=i.prototype;t.computeFieldGroupIds=function e(t){if(!t){return""}const i=t.getSideEffectsService();const a=i.computeFieldGroupIds(this.dataModelPath.targetEntityType.fullyQualifiedName,this.dataModelPath.targetObject.fullyQualifiedName);const r=a.join(",");return r===""?undefined:r};function i(t,r,n){var o;var l;l=e.call(this,t)||this;ae(l,"id",D,re(l));ae(l,"idPrefix",V,re(l));ae(l,"vhIdPrefix",$,re(l));ae(l,"metaPath",w,re(l));ae(l,"readOnly",B,re(l));ae(l,"contextPath",I,re(l));ae(l,"ariaLabelledBy",E,re(l));ae(l,"formatOptions",j,re(l));const s=a.convertMetaModelContext(l.metaPath);if(A(s)&&((o=s.annotations.UI)===null||o===void 0?void 0:o.DataFieldDefault)!==undefined){l.enhancedMetaPath=n.models.metaModel.createBindingContext(`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`,l.metaPath)}else{l.enhancedMetaPath=l.metaPath}const d=a.getInvolvedDataModelObjects(l.enhancedMetaPath,l.contextPath);l.convertedDataField=d.targetObject;l.dataModelPath=R(d,l.convertedDataField.Value.path);l.property=l.dataModelPath.targetObject;const u=k(l.dataModelPath);const c=C(l.dataModelPath,{ignoreTargetCollection:true,authorizeUnresolvable:true});const p=C(l.dataModelPath);const f=J(c._type==="Unresolvable",U(q(Q(p)),p),p);l.visible=T(l.dataModelPath,l.formatOptions);l.editMode=l.formatOptions.displayOnly==="true"||l.readOnly===true?"Display":X(J(Y(u,f,Z.IsEditable),W("Editable"),W("Display")));l.displayMode=S(l.dataModelPath);const h=R(a.getInvolvedDataModelObjects(l.enhancedMetaPath,l.contextPath),l.convertedDataField.Value.path);l.item=i._getMultiInputSettings(h,l.formatOptions);l.collection=l.editMode==="Display"?l.item.collectionBindingDisplay:l.item.collectionBindingEdit;l.fieldGroupIds=l.computeFieldGroupIds(n.appComponent);return l}z=i;t.getPossibleValueHelpTemplate=function e(){const t=c.valueHelpProperty(this.metaPath);const i=this.metaPath.getModel().createBindingContext(t,this.metaPath);const a=c.hasValueHelpAnnotation(i.getObject("@"));if(a){return ee`
			<mdc:dependents>
				<macros:ValueHelp
					idPrefix="${o.generate([this.id,"FieldValueHelp"])}"
					property="${i}"
					contextPath="${this.contextPath}"
					useMultiValueField="true"
				/>
			</mdc:dependents>`}return""};t.getTemplate=function e(){if(this.id){this.vhIdPrefix=o.generate([this.id,this.vhIdPrefix])}else{this.id=this.idPrefix?o.generate([this.idPrefix,"MultiValueField"]):undefined}const t=c.valueHelpProperty(this.metaPath);const i=this.metaPath.getModel().createBindingContext(t,this.metaPath);const a=f.generateID(undefined,this.vhIdPrefix,d.getRelativePropertyPath(i,{context:this.contextPath}),G(this.dataModelPath)??"");const r=c.computeLabelText(this.convertedDataField.Value,{context:this.metaPath});const n=`MVFieldRuntime.handleChange($controller, $event)`;const l=`MVFieldRuntime.onValidateFieldGroup($controller, $event)`;return ee`
		<mdc:MultiValueField
				core:require="{MVFieldRuntime:'sap/fe/macros/multiValueField/MultiValueFieldRuntime'}"
				delegate="{name: 'sap/fe/macros/multiValueField/MultiValueFieldDelegate'}"
				id="${this.id}"
				items="${this.collection}"
				display="${this.displayMode}"
				width="100%"
				editMode="${this.editMode}"
				valueHelp="${a}"
				ariaLabelledBy = "${this.ariaLabelledBy}"
				showEmptyIndicator = "${this.formatOptions.showEmptyIndicator}"
				label = "${r}"
				change="${n}"
				fieldGroupIds="${this.fieldGroupIds}"
				validateFieldGroup="${l}"
		>
			<mdc:items>
				<mdcField:MultiValueFieldItem xmlns:mdcField="sap.ui.mdc.field" key="${this.item.key}" description="${this.item.description}" />
			</mdc:items>
			${this.getPossibleValueHelpTemplate()}
		</mdc:MultiValueField>`};return i}(e),D=le(F.prototype,"id",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),V=le(F.prototype,"idPrefix",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),$=le(F.prototype,"vhIdPrefix",[v],{configurable:true,enumerable:true,writable:true,initializer:function(){return"FieldValueHelp"}}),w=le(F.prototype,"metaPath",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),B=le(F.prototype,"readOnly",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),I=le(F.prototype,"contextPath",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),E=le(F.prototype,"ariaLabelledBy",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),j=le(F.prototype,"formatOptions",[x],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),F))||O);z=de;return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/multiValueField/MultiValueFieldDelegate", ["sap/fe/core/CommonUtils","sap/ui/mdc/field/MultiValueFieldDelegate"],function(t,e){"use strict";const n=Object.assign({},e);n.updateItems=function(e,n,s){const i=s.getBinding("items");if(i.isA("sap.ui.model.odata.v4.ODataListBinding")){const e=s.getBindingInfo("items");const o=e.template;const a=o.getBindingInfo("key");const c=o.getBindingInfo("description");const l=a&&a.parts[0].path;const r=c&&c.parts&&c.parts[0]&&c.parts[0].path;const u=i.getCurrentContexts();const d=[];const f=t.getTargetView(s).getController();const p=n.map(function(t){return t.values[0]});const g=u.map(function(t){return t.getProperty(l)});const m=[];for(let t=0;t<u.length;t++){const e=u[t];if(!p.includes(e.getProperty(l))){m.push(f.editFlow.deleteMultipleDocuments([e],{controlId:s.getId(),noDialog:true}))}}n.forEach(t=>{if(!g.includes(t.values[0])){const e={};if(l&&l.indexOf("/")===-1){e[l]=t.values[0];if(r&&r.indexOf("/")===-1&&r!==l){e[r]=t.values[1]}d.push(e)}}});if(d.length){m.push(f.editFlow.createMultipleDocuments(i,d,true,false))}return Promise.all(m)}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/multiValueField/MultiValueFieldRuntime", ["../field/FieldRuntime"],function(e){"use strict";const n={handleChange:function(n,t){const i=t.getSource(),o=i.getBindingContext().isTransient(),s=t.getParameter("promise")||Promise.resolve();const r=e._getExtensionController(n);r.editFlow.syncTask(s);if(o){return}r._sideEffects.prepareSideEffectsForField(t,true,s)},onValidateFieldGroup:async function(n,t){const i=e._getExtensionController(n);await i._sideEffects.handleFieldGroupChange(t)}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/notes/Notes.block", ["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/ui/core/Core"],function(e,r,t,i,a){"use strict";var n,o,l,u,s,c,f;var b={};var p=i.xml;var d=t.defineBuildingBlock;var m=t.blockAttribute;function g(e,r,t,i){if(!t)return;Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;v(e,r)}function v(e,r){v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(r,t){r.__proto__=t;return r};return v(e,r)}function w(e,r,t,i,a){var n={};Object.keys(i).forEach(function(e){n[e]=i[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},n);if(a&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(a):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,r,n);n=null}return n}function P(e,r){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let B=(n=d({name:"Notes",namespace:"sap.fe.macros",libraries:["sap/nw/core/gbt/notes/lib/reuse"]}),o=m({type:"string",isPublic:true,required:true}),l=m({type:"sap.ui.model.Context",isPublic:true,required:true}),n(u=(s=function(r){y(t,r);function t(){var e;for(var t=arguments.length,i=new Array(t),a=0;a<t;a++){i[a]=arguments[a]}e=r.call(this,...i)||this;g(e,"id",c,h(e));g(e,"contextPath",f,h(e));return e}b=t;t.load=async function r(){if(this.metadata.libraries){try{await Promise.all(this.metadata.libraries.map(async e=>a.loadLibrary(e,{async:true})))}catch(r){const t=`Couldn't load building block ${this.metadata.name} please make sure the following libraries are available ${this.metadata.libraries.join(",")}`;e.error(t);throw new Error(t)}}return Promise.resolve(this)};var i=t.prototype;i.getTemplate=async function e(){try{await t.load()}catch(e){return p`<m:Label text="${e}"/>`}return p`<fpm:CustomFragment xmlns:fpm="sap.fe.macros.fpm" id="${this.id}" contextPath="{contextPath>}" fragmentName="sap.nw.core.gbt.notes.lib.reuse.fe.fragment.NoteList"/>`};return t}(r),c=w(s.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=w(s.prototype,"contextPath",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||u);b=B;return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/paginator/Paginator.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper"],function(e,r,i,t,n){"use strict";var a,o,l,u,s;var c={};var p=n.generate;var d=t.pathInModel;var f=t.or;var b=i.xml;var g=r.defineBuildingBlock;var v=r.blockAttribute;function m(e,r,i,t){if(!i)return;Object.defineProperty(e,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(t):void 0})}function O(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;B(e,r)}function B(e,r){B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(r,i){r.__proto__=i;return r};return B(e,r)}function T(e,r,i,t,n){var a={};Object.keys(t).forEach(function(e){a[e]=t[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=i.slice().reverse().reduce(function(i,t){return t(e,r,i)||i},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,r,a);a=null}return a}function y(e,r){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let P=(a=g({name:"Paginator",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.m.HBox"]}),o=v({type:"string",isPublic:true}),a(l=(u=function(e){h(r,e);function r(){var r;for(var i=arguments.length,t=new Array(i),n=0;n<i;n++){t[n]=arguments[n]}r=e.call(this,...t)||this;m(r,"id",s,O(r));return r}c=r;var i=r.prototype;i.getTemplate=function e(){const r=d("/navUpEnabled","paginator");const i=d("/navDownEnabled","paginator");const t=f(r,i);const n=d("T_PAGINATOR_CONTROL_PAGINATOR_TOOLTIP_UP","sap.fe.i18n");const a=d("T_PAGINATOR_CONTROL_PAGINATOR_TOOLTIP_DOWN","sap.fe.i18n");return b`
			<m:HBox displayInline="true" id="${this.id}" visible="${t}">
				<uxap:ObjectPageHeaderActionButton
					xmlns:uxap="sap.uxap"
					id="${p([this.id,"previousItem"])}"
					enabled="${r}"
					tooltip="${n}"
					icon="sap-icon://navigation-up-arrow"
					press=".paginator.updateCurrentContext(-1)"
					type="Transparent"
					importance="High"
				/>
				<uxap:ObjectPageHeaderActionButton
					xmlns:uxap="sap.uxap"
					id="${p([this.id,"nextItem"])}"
					enabled="${i}"
					tooltip="${a}"
					icon="sap-icon://navigation-down-arrow"
					press=".paginator.updateCurrentContext(1)"
					type="Transparent"
					importance="High"
				/>
			</m:HBox>`};return r}(e),s=T(u.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),u))||l);c=P;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/quickView/QuickView.block", ["sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/SemanticObjectHelper","sap/fe/macros/field/FieldTemplating","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/templating/DataModelPathHelper"],function(e,t,i,a,n,o,r,c,s){"use strict";var l,u,d,p,f,m,v,b,g;var y={};var O=s.getRelativePaths;var h=c.xml;var P=r.defineBuildingBlock;var j=r.blockAttribute;var k=n.isUsedInNavigationWithQuickViewFacets;var S=n.getPropertyWithSemanticObject;var w=n.getDataModelObjectPathForValue;var F=a.getSemanticObjects;var T=a.getSemanticObjectUnavailableActions;var x=a.getSemanticObjectMappings;var D=a.getDynamicPathFromSemanticObject;var E=i.isProperty;var M=t.pathInModel;var Q=t.getExpressionFromAnnotation;var V=t.compileExpression;function B(e,t,i,a){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})}function L(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function $(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;U(e,t)}function U(e,t){U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return U(e,t)}function z(e,t,i,a,n){var o={};Object.keys(a).forEach(function(e){o[e]=a[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,a){return a(e,t,i)||i},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function C(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let A=(l=P({name:"QuickView",namespace:"sap.fe.macros",designtime:"sap/fe/macros/quickView/QuickView.designtime"}),u=j({type:"sap.ui.model.Context",required:true,expectedTypes:["Property"],expectedAnnotationTypes:["com.sap.vocabularies.UI.v1.DataField","com.sap.vocabularies.UI.v1.DataFieldWithUrl","com.sap.vocabularies.UI.v1.DataFieldForAnnotation","com.sap.vocabularies.UI.v1.DataPointType"]}),d=j({type:"sap.ui.model.Context",required:true,expectedTypes:["EntitySet","NavigationProperty","EntityType","Singleton"]}),p=j({type:"string"}),l(f=(m=function(t){$(i,t);i.getRelativePathToQuickViewEntity=function e(t){let i;const a=this.getNavPropToQuickViewEntity(t);if(a){i=t.navigationProperties.reduce((e,i)=>{var n;if(i.name!==a.name&&!((n=t.contextLocation)!==null&&n!==void 0&&n.navigationProperties.find(e=>e.name===i.name))){return`${e}${i.name}/`}return e},"");i=`${i}${a.name}`}return i};i.getSemanticObjectsForPayloadAndQualifierMap=function e(t){const i={};const a=[];if(t!==undefined){for(const e of F(t)){const t=V(Q(e));if(t&&!a.includes(t)){i[e.qualifier||""]=t;a.push(t)}}}return{semanticObjectsList:a,qualifierMap:i}};i.getSemanticObjectMappingsForPayload=function e(t,i){const a=[];if(t!==undefined){for(const e of x(t)){const t=i[e.qualifier||""];if(t){a.push({semanticObject:t,items:e.map(e=>({key:e.LocalProperty.value,value:e.SemanticObjectProperty.valueOf()}))})}}}return a};i.getSemanticObjectUnavailableActionsForPayload=function e(t,i){const a=[];if(t!==undefined){for(const e of T(t)){const t=i[e.qualifier||""];if(t){a.push({semanticObject:t,actions:e.map(e=>e)})}}}return a};i.addCustomSemanticObjectToSemanticObjectListForPayload=function e(t,i){if(i){if(!i.startsWith("[")){if(!t.includes(i)){t.push(i)}}else{for(const e of JSON.parse(i)){if(!t.includes(e)){t.push(e)}}}}};i.getNavPropToQuickViewEntity=function e(t){var i;const a=t.targetObject;const n=t.targetEntityType.navigationProperties;let o=n.find(e=>e.referentialConstraint.some(t=>{var i;return t.sourceProperty===a.name&&((i=e.targetType.annotations.UI)===null||i===void 0?void 0:i.QuickViewFacets)}));if(!o&&((i=t.contextLocation)===null||i===void 0?void 0:i.targetEntitySet)!==t.targetEntitySet){var r,c;const e=((r=t.targetEntityType.annotations.Common)===null||r===void 0?void 0:r.SemanticKey)||[];const i=e.some(e=>e.$target===a);const n=t.navigationProperties[t.navigationProperties.length-1];if((i||a.isKey)&&(c=t.targetEntityType.annotations.UI)!==null&&c!==void 0&&c.QuickViewFacets){o=n}}return o};function i(a,n,o){var r,c,s,l,u;var d;d=t.call(this,a,n,o)||this;B(d,"dataField",v,L(d));B(d,"contextPath",b,L(d));B(d,"semanticObject",g,L(d));let p=e.getInvolvedDataModelObjects(d.dataField,d.contextPath);const f=w(p);if(f){d.valueDataModelPath=f}p=f||p;const m=E(p.targetObject)?p.targetObject:undefined;const y=m&&k(p,m)?"true":"false";const O=i.getRelativePathToQuickViewEntity(p);const h=((r=p.contextLocation)===null||r===void 0?void 0:(c=r.targetEntitySet)===null||c===void 0?void 0:c.name)??((s=p.contextLocation)===null||s===void 0?void 0:s.targetObject).fullyQualifiedName;const P=O?`/${h}/${O}`:undefined;const j=O?V(M(O)):undefined;const F=S(p);let T;const{semanticObjectsList:x,qualifierMap:D}=i.getSemanticObjectsForPayloadAndQualifierMap(F);const Q=i.getSemanticObjectMappingsForPayload(F,D);const $=i.getSemanticObjectUnavailableActionsForPayload(F,D);if(F){T=D.main||D[""];if(!T){T=Object.keys(D)[0]}}i.addCustomSemanticObjectToSemanticObjectListForPayload(x,d.semanticObject);const U=(m===null||m===void 0?void 0:(l=m.annotations.Common)===null||l===void 0?void 0:(u=l.Label)===null||u===void 0?void 0:u.valueOf())||"";d.payload={semanticObjects:x,entityType:P,semanticObjectUnavailableActions:$,semanticObjectMappings:Q,mainSemanticObject:T,propertyPathLabel:U,dataField:P===undefined?d.dataField.getPath():undefined,contact:undefined,navigationPath:j,hasQuickViewFacets:y};return d}y=i;var a=i.prototype;a.getTemplate=function e(){const t={name:"sap/fe/macros/quickView/QuickViewDelegate",payload:this.payload};return h`<mdc:Link xmlns:mdc="sap.ui.mdc" delegate="${JSON.stringify(t)}">
			${this.writeCustomData(this.payload.semanticObjects,this.valueDataModelPath)}
			</mdc:Link>`};a.writeCustomData=function e(t,i){let a="";const n=i&&O(i);for(const e of t){const t=D(e);if(t){const e=V(M(t,undefined,n));const i=e&&D(e);if(i){a=`${a}\n\t\t\t\t<core:CustomData xmlns:core="sap.ui.core" key="${i}" value="${e}" />`}}}if(a.length){return`<mdc:customData>\n\t\t\t\t${a}\n\t\t\t</mdc:customData>`}return""};return i}(o),v=z(m.prototype,"dataField",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),b=z(m.prototype,"contextPath",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),g=z(m.prototype,"semanticObject",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||f);y=A;return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/quickView/QuickViewDelegate", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/deepEqual","sap/base/util/isPlainObject","sap/fe/core/CommonUtils","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ToES6Promise","sap/fe/core/templating/SemanticObjectHelper","sap/fe/macros/field/FieldHelper","sap/fe/macros/field/FieldRuntime","sap/fe/navigation/SelectionVariant","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/XMLTemplateProcessor","sap/ui/core/util/XMLPreprocessor","sap/ui/mdc/LinkDelegate","sap/ui/mdc/enums/LinkType","sap/ui/mdc/link/Factory","sap/ui/mdc/link/LinkItem","sap/ui/mdc/link/SemanticObjectMapping","sap/ui/mdc/link/SemanticObjectMappingItem","sap/ui/mdc/link/SemanticObjectUnavailableAction","sap/ui/model/json/JSONModel"],function(e,t,n,i,a,s,c,o,r,l,m,u,d,p,f,g,b,h,v,O,y,j,S){"use strict";var k=o.getDynamicPathFromSemanticObject;const _=Object.assign({},g);_.apiVersion=2;const P={iLinksShownInPopup:3,sapmLink:"sap.m.Link",sapuimdcLink:"sap.ui.mdc.Link",sapuimdclinkLinkItem:"sap.ui.mdc.link.LinkItem",sapmObjectIdentifier:"sap.m.ObjectIdentifier",sapmObjectStatus:"sap.m.ObjectStatus"};_.getConstants=function(){return P};_._getEntityType=function(e,t){if(t){return t.createBindingContext(e.entityType)}else{return undefined}};_._getSemanticsModel=function(e,t){if(t){return new S(e)}else{return undefined}};_._getDataField=function(e,t){return t.createBindingContext(e.dataField)};_._getContact=function(e,t){return t.createBindingContext(e.contact)};_.fnTemplateFragment=async function(e){const t=a.getTargetView(e);const n=a.getAppComponent(t);let i,s;const c={bindingContexts:{},models:{},appComponent:n};const o=_.calculatePayloadWithDynamicSemanticObjectsResolved(e);if(o&&!o.LinkId){o.LinkId=this.oControl&&this.oControl.isA(P.sapuimdcLink)?this.oControl.getId():undefined}if(o.LinkId){s=this.oControl.getModel("$sapuimdcLink").getProperty("/titleLinkHref");o.titlelink=s}const r=this._getSemanticsModel(o,this.oMetaModel);this.semanticModel=r;if(o.entityType&&this._getEntityType(o,this.oMetaModel)){i="sap.fe.macros.quickView.fragments.EntityQuickView";c.bindingContexts={entityType:this._getEntityType(o,this.oMetaModel),semantic:r.createBindingContext("/")};c.models={entityType:this.oMetaModel,semantic:r}}else if(o.dataField&&this._getDataField(o,this.oMetaModel)){i="sap.fe.macros.quickView.fragments.DataFieldQuickView";c.bindingContexts={dataField:this._getDataField(o,this.oMetaModel),semantic:r.createBindingContext("/")};c.models={dataField:this.oMetaModel,semantic:r}}c.models.entitySet=this.oMetaModel;c.models.metaModel=this.oMetaModel;if(this.oControl&&this.oControl.getModel("viewData")){c.models.viewData=this.oControl.getModel("viewData");c.bindingContexts.viewData=this.oControl.getModel("viewData").createBindingContext("/")}const l=p.loadTemplate(i,"fragment");return Promise.resolve(f.process(l,{name:i},c)).then(e=>d.load({definition:e,controller:t.getController()})).then(e=>{if(e){if(c.models&&c.models.semantic){e.setModel(c.models.semantic,"semantic");e.setBindingContext(c.bindingContexts.semantic,"semantic")}if(c.bindingContexts&&c.bindingContexts.entityType){e.setModel(c.models.entityType,"entityType");e.setBindingContext(c.bindingContexts.entityType,"entityType")}}return e})};_.fetchAdditionalContent=async function(e){var t,n;const i=e.getPayload();this.oControl=e;const a=i===null||i===void 0?void 0:(t=i.navigationPath)===null||t===void 0?void 0:t.match(/{(.*?)}/);const s=a&&a.length>1&&a[1]?(n=e.getModel())===null||n===void 0?void 0:n.bindContext(a[1],e.getBindingContext()||undefined,{$$ownRequest:true}):null;this.payload=i;if(e&&e.isA(P.sapuimdcLink)){var c;this.oMetaModel=(c=e.getModel())===null||c===void 0?void 0:c.getMetaModel();return this.fnTemplateFragment(e).then(function(e){if(s){const t=s.getBoundContext();if(t){e.setBindingContext(t)}}return[e]})}return Promise.resolve([])};_._fetchLinkCustomData=function(e){var t,n,i;if(e.getParent()&&e.isA(P.sapuimdcLink)&&((t=e.getParent())!==null&&t!==void 0&&t.isA(P.sapmLink)||(n=e.getParent())!==null&&n!==void 0&&n.isA(P.sapmObjectIdentifier)||(i=e.getParent())!==null&&i!==void 0&&i.isA(P.sapmObjectStatus))){return e.getCustomData()}else{return undefined}};_.fetchLinkItems=async function(e,t,n){const i=e.getPayload();if(t&&_._getSemanticObjects(i)){const a=t.getObject();if(n){n.initialize(_._getSemanticObjects(i))}const s=this._link&&this._fetchLinkCustomData(this._link);this.aLinkCustomData=s&&this._fetchLinkCustomData(this._link).map(function(e){return e.mProperties.value});const c=_._calculateSemanticAttributes(a,i,n,e);const o=c.results;const r=c.payload;return _._retrieveNavigationTargets("",o,r,n,this._link).then(function(e){return e.length===0?null:e})}else{return Promise.resolve(null)}};_._findLinkType=function(e,t){let n,i;if((t===null||t===void 0?void 0:t.length)===1){i=new v({text:t[0].getText(),href:t[0].getHref()});n=e.hasQuickViewFacets==="false"?b.DirectLink:b.Popover}else if(e.hasQuickViewFacets==="false"&&(t===null||t===void 0?void 0:t.length)===0){n=b.Text}else{n=b.Popover}return{linkType:n,linkItem:i}};_.fetchLinkType=async function(t){const n=t;const i=Object.assign({},t.getPayload());const a={initialType:{type:b.Popover,directLink:undefined},runtimeType:undefined};if(!this.appStateKeyMap){this.appStateKeyMap={}}try{var s;if(i!==null&&i!==void 0&&i.semanticObjects){this._link=t;let e=await n._retrieveUnmodifiedLinkItems();if(e.length===1){e=await n.retrieveLinkItems()}const a=_._findLinkType(i,e);return{initialType:{type:a.linkType,directLink:a.linkItem?a.linkItem:undefined},runtimeType:undefined}}else if((i===null||i===void 0?void 0:(s=i.contact)===null||s===void 0?void 0:s.length)>0){return a}else if(i!==null&&i!==void 0&&i.entityType&&i!==null&&i!==void 0&&i.navigationPath){return a}throw new Error("no payload or semanticObjects found")}catch(t){e.error("Error in SimpleLinkDelegate.fetchLinkType: ",t)}};_._RemoveTitleLinkFromTargets=function(e,t,n){let i,a;let s=false;if(t&&n){let t,c;if(e&&e[0]){c=`#${e[0].getProperty("key")}`;const o=n.split("?")[0];t=o===c;if(t){i=e[0].getProperty("href");this.payload.titlelinkhref=i;if(e[0].isA(P.sapuimdclinkLinkItem)){a=e[0].getParent();a.getModel("$sapuimdcLink").setProperty("/titleLinkHref",i);const t=a.getModel("$sapuimdcLink").getProperty("/linkItems").filter(function(e){if(`#${e.key}`!==c){return e}});if(t&&t.length>0){a.getModel("$sapuimdcLink").setProperty("/linkItems/",t)}s=true}}}}return s};_._IsSemanticObjectDynamic=function(e,t){if(e&&t.aLinkCustomData){return t.aLinkCustomData.filter(function(t){return e.filter(function(e){return e!==t}).length>0}).length>0}else{return false}};_._getLineContext=function(e,t){if(!t){if(e.getAggregation("content")[0]&&e.getAggregation("content")[0].getBindingContext()){return e.getAggregation("content")[0].getBindingContext()}}return t};_._setFilterContextUrlForSelectionVariant=function(e,t,n){if(e.getViewData().entitySet&&t){const i=n.constructContextUrl(e.getViewData().entitySet,e.getModel());t.setFilterContextUrl(i)}return t};_._setObjectMappings=function(e,t,n,i){let a=false;const s=new m(i.toJSONObject());n.forEach(function(n){let i=n.semanticObject;const c=k(n.semanticObject);if(c&&t[c]){i=t[c]}if(e===i){const e=n.items;for(const n in e){const i=e[n].key;const c=e[n].value;if(i!==c){if(t[i]){s.removeParameter(c);s.removeSelectOption(c);s.renameParameter(i,c);s.renameSelectOption(i,c);t[c]=t[i];delete t[i];a=true}else if(i.split("/").length>1){const e=i.split("/").slice(-1)[0];if(!t[e]){delete t[e];s.removeParameter(e);s.removeSelectOption(e)}else if(e!==c){s.renameParameter(e,c);s.renameSelectOption(e,c);t[c]=t[e];delete t[e]}}else{delete t[i];s.removeParameter(c);s.removeSelectOption(c)}}}}});return{params:t,hasChanged:a,selectionVariant:s}};_._getAppStateKeyAndUrlParameters=async function(e,t,i,a){var s;let o=[];if(n(i,(s=e.appStateKeyMap[""])===null||s===void 0?void 0:s.selectionVariant)){const t=e.appStateKeyMap[""];return[t.semanticAttributes,t.appstatekey]}if(e.appStateKeyMap[`${a}`]===undefined||!n(e.appStateKeyMap[`${a}`].selectionVariant,i)){o=await c(t.getAppStateKeyAndUrlParameters(i.toJSONString()));e.appStateKeyMap[`${a}`]={semanticAttributes:o[0],appstatekey:o[1],selectionVariant:i}}else{const t=e.appStateKeyMap[`${a}`];o=[t.semanticAttributes,t.appstatekey]}return o};_._getLinkItemWithNewParameter=async function(e,t,n,i,a,s,c,o,r,l){return a.expandCompactHash(i.getHref()).then(async function(n){var m;const u=a.parseShellHash(n);const d=Object.assign({},c);const{params:p,hasChanged:f,selectionVariant:g}=_._setObjectMappings(u.semanticObject,d,s.semanticObjectMappings,r);if(f){const t=await _._getAppStateKeyAndUrlParameters(e,l,g,u.semanticObject);o=t[1]}const b={target:{semanticObject:u.semanticObject,action:u.action},params:p,appStateKey:o};delete b.params["sap-xapp-state"];delete b.params["@odata.etag"];i.setHref(`#${a.constructShellHash(b)}`);const h=((m=s.semanticPrimaryActions[s.semanticObjects.indexOf(s.mainSemanticObject)])===null||m===void 0?void 0:m.intent)??"";return _._RemoveTitleLinkFromTargets.bind(e)([i],t,h)})};_._removeEmptyLinkItem=function(e){return e.filter(e=>e!==undefined)};_.modifyLinkItems=async function(t,n,i){if(i.length!==0){this.payload=t.getPayload();const o=_.calculatePayloadWithDynamicSemanticObjectsResolved(t);const l=a.getTargetView(t);const m=a.getAppComponent(l);let u=await r.checkPrimaryActions(o,true,m);let d=u.titleLink;let p=u.hasTitleLink;const f=m.getShellServices();if(!f.hasUShell()){e.error("QuickViewDelegate: Cannot retrieve the shell services");return Promise.reject()}const g=l.getModel().getMetaModel();let b=t.getBindingContext();const h={semanticObject:this.payload.mainSemanticObject,action:""};try{var s,c;const e=t&&this._fetchLinkCustomData(t).map(function(e){return e.mProperties.value});if(_._IsSemanticObjectDynamic(e,this)){const e=_._calculateSemanticAttributes(n.getObject(),t.getPayload(),undefined,t);const a=e.results;const s=e.payload;i=await _._retrieveNavigationTargets("",a,s,undefined,this._link);u=await r.checkPrimaryActions(s,true,m);d=u.titleLink;p=u.hasTitleLink}const a=m.getNavigationService();const v=l.getController();let O;let y;b=_._getLineContext(l,b);const j=g.getMetaPath(((s=b)===null||s===void 0?void 0:s.getPath())||"");y=v._intentBasedNavigation.removeSensitiveData((c=b)===null||c===void 0?void 0:c.getObject(),j);if(b){y=v._intentBasedNavigation.prepareContextForExternalNavigation(y,b)}O=a.mixAttributesAndSelectionVariant(y.semanticAttributes,{});h.propertiesWithoutConflict=y.propertiesWithoutConflict;v.intentBasedNavigation.adaptNavigationContext(O,h);_._removeTechnicalParameters(O);O=_._setFilterContextUrlForSelectionVariant(l,O,a);const S=await _._getAppStateKeyAndUrlParameters(this,a,O,"");const k=S[0];const P=S[1];let M;i=_._removeEmptyLinkItem(i);for(const e in i){M=await _._getLinkItemWithNewParameter(this,p,d,i[e],f,o,k,P,O,a);if(M===true&&i.length>1){i[e]=undefined}}return _._removeEmptyLinkItem(i)}catch(t){e.error("Error while getting the navigation service",t);return undefined}}else{return i}};_.beforeNavigationCallback=function(e,t){const n=t.getSource(),i=t.getParameter("href"),a=h.getService("URLParsing"),c=i&&a.parseShellHash(i);s.storeControlRefreshStrategyForHash(n,c);return Promise.resolve(true)};_._removeTechnicalParameters=function(e){e.removeSelectOption("@odata.context");e.removeSelectOption("@odata.metadataEtag");e.removeSelectOption("SAP__Messages")};_._getSemanticObjectCustomDataValue=function(e,t){let n,i;for(const a of e){n=a.getKey();i=a.getValue();t[n]={value:i}}};_._isDynamicPath=function(e){if(e&&e.indexOf("{")===0&&e.indexOf("}")===e.length-1){return true}else{return false}};_._updatePayloadWithResolvedSemanticObjectValue=function(e,t,n){var i;if(_._isDynamicPath(e.mainSemanticObject)){if(n){t.mainSemanticObject=n}else{t.mainSemanticObject=undefined}}switch(typeof n){case"string":(i=t.semanticObjectsResolved)===null||i===void 0?void 0:i.push(n);t.semanticObjects.push(n);break;case"object":for(const e in n){var a;(a=t.semanticObjectsResolved)===null||a===void 0?void 0:a.push(n[e]);t.semanticObjects.push(n[e])}break;default:}};_._createNewPayloadWithDynamicSemanticObjectsResolved=function(e,t,n){var i;let a,s;const c=(i=e.navigationPath)===null||i===void 0?void 0:i.match(/{(.*?)}/);for(const i in e.semanticObjects){a=e.semanticObjects[i];if(_._isDynamicPath(a)){s=a.substring(1,a.indexOf("}"));if(!t[s]&&e.navigationPath){if(c!==null&&c!==void 0&&c.length&&c.length>1){s=`${c[1]}/${s}`}}a=t[s].value;_._updatePayloadWithResolvedSemanticObjectValue(e,n,a)}else{n.semanticObjects.push(a)}}};_._updateSemanticObjectsForMappings=function(e,t,n){t.semanticObjectMappings.forEach(function(t){if(t.semanticObject&&_._isDynamicPath(t.semanticObject)){t.semanticObject=n.semanticObjects[e.semanticObjects.indexOf(t.semanticObject)]}})};_._updateSemanticObjectsUnavailableActions=function(e,t,n){let i;t.forEach(function(t){if(t!==null&&t!==void 0&&t.semanticObject&&_._isDynamicPath(t.semanticObject)){i=e.semanticObjects.findIndex(function(e){return e===t.semanticObject});if(i!==undefined){t.semanticObject=n.semanticObjects[i]}}})};_._updateSemanticObjectsWithResolvedValue=function(e,t){for(let n=0;n<e.semanticObjects.length;n++){if(t.mainSemanticObject===(e.semanticObjectsResolved&&e.semanticObjectsResolved[n])){t.mainSemanticObject=e.semanticObjects[n]}if(t.semanticObjects[n]){t.semanticObjects[n]=e.semanticObjects[n]}else{t.semanticObjects.splice(n,1)}}};_._removeEmptySemanticObjectsMappings=function(e){for(let t=0;t<e.semanticObjectMappings.length;t++){if(e.semanticObjectMappings[t]&&e.semanticObjectMappings[t].semanticObject===undefined){e.semanticObjectMappings.splice(t,1)}}};_._setPayloadWithDynamicSemanticObjectsResolved=function(e,n){let i;if(n.semanticObjectsResolved&&n.semanticObjectsResolved.length>0){i={entityType:e.entityType,dataField:e.dataField,contact:e.contact,mainSemanticObject:e.mainSemanticObject,navigationPath:e.navigationPath,propertyPathLabel:e.propertyPathLabel,semanticObjectMappings:t(e.semanticObjectMappings),semanticObjects:n.semanticObjects};_._updateSemanticObjectsForMappings(e,i,n);const a=t(e.semanticObjectUnavailableActions);_._updateSemanticObjectsUnavailableActions(e,a,i);i.semanticObjectUnavailableActions=a;if(n.mainSemanticObject){i.mainSemanticObject=n.mainSemanticObject}else{i.mainSemanticObject=undefined}_._updateSemanticObjectsWithResolvedValue(n,i);_._removeEmptySemanticObjectsMappings(i);return i}else{return{}}};_._getPayloadWithDynamicSemanticObjectsResolved=function(e,t){let n;const i={};const a={semanticObjects:[],semanticObjectsResolved:[],semanticObjectMappings:[]};if(e.semanticObjects){if(t&&t.length>0){_._getSemanticObjectCustomDataValue(t,i);_._createNewPayloadWithDynamicSemanticObjectsResolved(e,i,a);n=_._setPayloadWithDynamicSemanticObjectsResolved(e,a);return n}}else{return undefined}};_._updatePayloadWithSemanticAttributes=function(t,n,a,s,c){t.forEach(function(t){if(n){n.addContextObject(t,a)}s[t]={};for(const o in a){let r=null,l=null;if(n){r=n.getSemanticObjectAttribute(t,o);if(!r){r=n.createAttributeStructure();n.addSemanticObjectAttribute(t,o,r)}}if(a[o]===undefined||a[o]===null){if(r){r.transformations.push({value:undefined,description:" Undefined and null values have been removed in SimpleLinkDelegate."})}continue}if(i(a[o])){if(c&&c[t]){const e=Object.keys(c[t]);let n,i,r,l;for(const m of e){l=m;if(l.indexOf(o)===0){n=c[t][l];i=l.split("/")[l.split("/").length-1];r=a[o][i];if(n&&i&&r){s[t][n]=r}}}}if(r){r.transformations.push({value:undefined,description:" Plain objects has been removed in SimpleLinkDelegate."})}continue}const m=c&&c[t]&&c[t][o]?c[t][o]:o;if(r&&o!==m){l={value:undefined,description:` The attribute ${o} has been renamed to ${m} in SimpleLinkDelegate.`,reason:` A com.sap.vocabularies.Common.v1.SemanticObjectMapping annotation is defined for semantic object ${t} with source attribute ${o} and target attribute ${m}. You can modify the annotation if the mapping result is not what you expected.`}}if(s[t][m]){e.error(`SimpleLinkDelegate: The attribute ${o} can not be renamed to the attribute ${m} due to a clash situation. This can lead to wrong navigation later on.`)}s[t][m]=a[o];if(r){if(l){r.transformations.push(l);const e=n.createAttributeStructure();e.transformations.push({value:a[o],description:` The attribute ${m} with the value ${a[o]} has been added due to a mapping rule regarding the attribute ${o} in SimpleLinkDelegate.`});n.addSemanticObjectAttribute(t,m,e)}}}})};_.calculatePayloadWithDynamicSemanticObjectsResolved=function(e){const t=e===null||e===void 0?void 0:e.getPayload();const n=e&&this._fetchLinkCustomData(e);const i=_._getPayloadWithDynamicSemanticObjectsResolved(t,n);return i?i:t};_._calculateSemanticAttributes=function(e,t,n,i){const a=_.calculatePayloadWithDynamicSemanticObjectsResolved(i);const s=_._getSemanticObjects(a);const c=_._convertSemanticObjectMapping(_._getSemanticObjectMappings(a));if(!s.length){return{payload:a,results:{}}}const o={};_._updatePayloadWithSemanticAttributes(s,n,e,o,c);return{payload:a,results:o}};_._retrieveNavigationTargets=function(t,n,i,a,s){if(!i.semanticObjects){return Promise.resolve([])}const c=i.semanticObjects;const o={ownNavigation:undefined,availableActions:[]};let r=0;return u.loadLibrary("sap.ui.fl",{async:true}).then(()=>new Promise(m=>{sap.ui.require(["sap/ui/fl/Utils"],async u=>{const d=u.getAppComponentForControl(s===undefined?this.oControl:s);const p=d?d.getShellServices():null;if(!p){m(o.availableActions,o.ownNavigation)}if(!p.hasUShell()){e.error("SimpleLinkDelegate: Service 'CrossApplicationNavigation' or 'URLParsing' could not be obtained");m(o.availableActions,o.ownNavigation)}const f=c.map(function(e){return[{semanticObject:e,params:n?n[e]:undefined,appStateKey:t,sortResultsBy:"text"}]});try{const e=await p.getLinks(f);let t=false;for(const n of e){for(const e of n){if(e.length>0){t=true;break}if(t){break}}}if(!e||!e.length||!t){m(o.availableActions,o.ownNavigation)}const n=_._getSemanticObjectUnavailableActions(i);const s=_._convertSemanticObjectUnavailableAction(n);let u=l._fnFixHashQueryString(d.getShellServices().getHash());if(u){u+="?"}const g=function(e,t){return!!s&&!!s[e]&&s[e].indexOf(t)>-1};const b=function(e){const t=p.parseShellHash(e.intent);if(g(t.semanticObject,t.action)){return}const n=`#${p.constructShellHash({target:{shellHash:e.intent}})}`;if(e.intent&&e.intent.indexOf(u)===0){o.ownNavigation=new v({href:n,text:e.text});return}const i=new v({key:t.semanticObject&&t.action?`${t.semanticObject}-${t.action}`:undefined,text:e.text,description:undefined,href:n,icon:undefined,initiallyVisible:e.tags&&e.tags.indexOf("superiorAction")>-1});if(i.getProperty("initiallyVisible")){r++}o.availableActions.push(i);if(a){a.addSemanticObjectIntent(t.semanticObject,{intent:i.getHref(),text:i.getText()})}};for(let t=0;t<c.length;t++){e[t][0].forEach(b)}if(r===0){for(let e=0;e<o.availableActions.length;e++){if(e<this.getConstants().iLinksShownInPopup){o.availableActions[e].setProperty("initiallyVisible",true)}else{break}}}m(o.availableActions,o.ownNavigation)}catch(t){e.error("SimpleLinkDelegate: '_retrieveNavigationTargets' failed executing getLinks method");m(o.availableActions,o.ownNavigation)}})}))};_._getSemanticObjects=function(e){return e.semanticObjects?e.semanticObjects:[]};_._getSemanticObjectUnavailableActions=function(e){const t=[];if(e.semanticObjectUnavailableActions){e.semanticObjectUnavailableActions.forEach(function(e){t.push(new j({semanticObject:e.semanticObject,actions:e.actions}))})}return t};_._getSemanticObjectMappings=function(e){const t=[];let n=[];if(e.semanticObjectMappings){e.semanticObjectMappings.forEach(function(e){n=[];if(e.items){e.items.forEach(function(e){n.push(new y({key:e.key,value:e.value}))})}t.push(new O({semanticObject:e.semanticObject,items:n}))})}return t};_._convertSemanticObjectMapping=function(e){if(!e.length){return undefined}const t={};e.forEach(e=>{if(!e.getSemanticObject()){throw Error(`SimpleLinkDelegate: 'semanticObject' property with value '${e.getSemanticObject()}' is not valid`)}t[e.getSemanticObject()]=Object.fromEntries(e.getItems().map(e=>[e.getKey(),e.getValue()]))});return t};_._convertSemanticObjectUnavailableAction=function(e){let t;let n;let i=[];if(!e.length){return undefined}const a={};e.forEach(function(e){t=e.getSemanticObject();if(!t){throw Error(`SimpleLinkDelegate: 'semanticObject' property with value '${t}' is not valid`)}i=e.getActions();if(a[t]===undefined){a[t]=i}else{n=a[t];i.forEach(function(e){n.push(e)});a[t]=n}});return a};return _},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/richtexteditor/RichTextEditor.block", ["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ClassSupport","sap/m/FormattedText","sap/m/VBox","sap/fe/core/jsx-runtime/jsx"],function(e,t,r,i,n,o,u,a){"use strict";var l,s,d,c,b,p,f,v,h,g,m,y,T,x,w,E,C,z,B;function G(e){return new Promise((t,r)=>{sap.ui.require([e],r=>{if(!(r&&r.__esModule)){r=r===null||!(typeof r==="object"&&e.endsWith("/library"))?{default:r}:r;Object.defineProperty(r,"__esModule",{value:true})}t(r)},e=>{r(e)})})}var R={};var O=n.defineReference;var j=i.or;var k=i.not;var P=i.constant;var _=r.UI;var q=e.defineBuildingBlock;var I=e.blockAttribute;function S(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function A(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function F(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}function M(e,t){M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return M(e,t)}function V(e,t,r,i,n){var o={};Object.keys(i).forEach(function(e){o[e]=i[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function U(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let D=(l=q({name:"RichTextEditor",namespace:"sap.fe.macros",libraries:["sap/ui/richtexteditor"]}),s=I({type:"string",required:true}),d=I({type:"string",bindable:true}),c=I({type:"boolean",bindable:true}),b=I({type:"array"}),p=I({type:"boolean",bindable:true}),f=O(),v=O(),h=O(),l(g=(m=function(e){F(t,e);function t(r){var i;i=e.call(this,r)||this;S(i,"id",y,A(i));S(i,"value",T,A(i));S(i,"readOnly",x,A(i));S(i,"buttonGroups",w,A(i));S(i,"required",E,A(i));S(i,"richTextEditor",C,A(i));S(i,"formattedText",z,A(i));S(i,"bbContainer",B,A(i));i.getRTE=()=>a(t.RTEControl,{id:i.id,ref:i.richTextEditor,value:i.value,visible:true,customToolbar:true,editable:true,editorType:"TinyMCE6",showGroupFontStyle:true,showGroupTextAlign:true,showGroupStructure:true,showGroupFont:false,showGroupClipboard:true,showGroupInsert:false,showGroupLink:false,showGroupUndo:false,sanitizeValue:true,wrapping:true,width:"100%",required:i.required,...i.getButtonGroups()});i.getButtonGroups=()=>i.buttonGroups?{buttonGroups:i.buttonGroups.map(e=>{var t;return{name:e.name??"",visible:e.visible==="true",priority:parseInt(e.priority||"",10),customToolbarPriority:parseInt(e.customToolbarPriority||"",10),buttons:((t=e.buttons)===null||t===void 0?void 0:t.split(","))||[]}})}:{};i.onFormattedTextModelContextChange=()=>{if(i.formattedText.current&&i.formattedText.current.getBinding("visible")){var e,t;(e=i.formattedText.current.getBinding("visible"))===null||e===void 0?void 0:e.detachChange(i.toggleRTEAvailability);(t=i.formattedText.current.getBinding("visible"))===null||t===void 0?void 0:t.attachChange(i.toggleRTEAvailability)}};i.toggleRTEAvailability=e=>{var t;const r=!((t=e.getSource())!==null&&t!==void 0&&t.getExternalValue());if(r&&!i.richTextEditor.current){var n;(n=i.bbContainer.current)===null||n===void 0?void 0:n.addItem(i.getRTE())}else if(!r){setTimeout(()=>{var e;(e=i.richTextEditor.current)===null||e===void 0?void 0:e.destroy();i.richTextEditor.current=undefined})}};return i}R=t;t.load=async function r(){await e.load.call(this);if(t.RTEControl===undefined){const{default:e}=await G("sap/ui/richtexteditor/RichTextEditor");t.RTEControl=e}return this};var r=t.prototype;r.getContent=function e(){const t=a(u,{ref:this.bbContainer,width:"100%",height:"100%",children:a(o,{ref:this.formattedText,htmlText:this.value,visible:j(this.readOnly,k(_.IsEditable)),modelContextChange:this.onFormattedTextModelContextChange})});setTimeout(()=>{var e;const t=(e=this.formattedText.current)===null||e===void 0?void 0:e.getVisible();if(t===true){var r,i;(r=this.formattedText.current)===null||r===void 0?void 0:(i=r.getBinding("visible"))===null||i===void 0?void 0:i.fireEvent("change",{oSource:this.formattedText.current})}});return t};return t}(t),y=V(m.prototype,"id",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),T=V(m.prototype,"value",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),x=V(m.prototype,"readOnly",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return P(false)}}),w=V(m.prototype,"buttonGroups",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),E=V(m.prototype,"required",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return P(false)}}),C=V(m.prototype,"richTextEditor",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),z=V(m.prototype,"formattedText",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),B=V(m.prototype,"bbContainer",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||g);R=D;return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/richtexteditor/RichTextEditorWithMetadata.block", ["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/macros/field/FieldTemplating","./RichTextEditor.block","sap/fe/core/jsx-runtime/jsx"],function(e,t,r,i,n,a,o){"use strict";var u,l,c,s,d,p,f,b,y,h,v,g,m,w,z;var O={};var P=n.getValueBinding;var B=i.constant;var j=r.getInvolvedDataModelObjects;var k=e.defineBuildingBlock;var x=e.blockAttribute;function q(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function E(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function C(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;G(e,t)}function G(e,t){G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return G(e,t)}function M(e,t,r,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function R(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let T=(u=k({name:"RichTextEditorWithMetadata",namespace:"sap.fe.macros"}),l=x({type:"string",required:true}),c=x({type:"sap.ui.model.Context",required:true}),s=x({type:"sap.ui.model.Context",required:true}),d=x({type:"boolean",bindable:true}),p=x({type:"array"}),f=x({type:"boolean",bindable:true}),u(b=(y=function(e){C(t,e);function t(){var t;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}t=e.call(this,...i)||this;q(t,"id",h,E(t));q(t,"metaPath",v,E(t));q(t,"contextPath",g,E(t));q(t,"readOnly",m,E(t));q(t,"buttonGroups",w,E(t));q(t,"required",z,E(t));return t}O=t;t.load=async function e(){await a.load();return this};var r=t.prototype;r.getContent=function e(){const t=j(this.metaPath,this.contextPath);const r=P(t,{});return o(a,{id:this.id,readOnly:this.readOnly,buttonGroups:this.buttonGroups,required:this.required,value:r!==undefined?B(r):r})};return t}(t),h=M(y.prototype,"id",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),v=M(y.prototype,"metaPath",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),g=M(y.prototype,"contextPath",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),m=M(y.prototype,"readOnly",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return B(false)}}),w=M(y.prototype,"buttonGroups",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),z=M(y.prototype,"required",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return B(false)}}),y))||b);O=T;return O},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/share/Share.block", ["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/CommonUtils","sap/fe/core/controls/CommandExecution","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ClassSupport","sap/m/Menu","sap/m/MenuButton","sap/m/MenuItem","sap/suite/ui/commons/collaboration/CollaborationHelper","sap/suite/ui/commons/collaboration/ServiceContainer","sap/ui/core/CustomData","sap/ui/performance/trace/FESRHelper","./ShareAPI","sap/fe/core/jsx-runtime/jsx"],function(e,t,i,n,r,o,a,s,l,u,c,d,p,f,m,b,v){"use strict";var h,g,S,y,_,M,I,w,O,A,B,T,C,E,P;function z(e){return new Promise((t,i)=>{sap.ui.require([e],i=>{if(!(i&&i.__esModule)){i=i===null||!(typeof i==="object"&&e.endsWith("/library"))?{default:i}:i;Object.defineProperty(i,"__esModule",{value:true})}t(i)},e=>{i(e)})})}var k={};var x=s.defineReference;var j=a.not;var D=a.constant;var N=a.compileExpression;var R=o.UI;var F=t.defineBuildingBlock;var H=t.blockAttribute;function L(e,t,i,n){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function U(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function J(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;V(e,t)}function V(e,t){V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return V(e,t)}function $(e,t,i,n,r){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function q(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const W="COLLABORATION_MSTEAMS_CARD";let G=(h=F({name:"Share",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.macros.share.ShareAPI"]}),g=H({type:"string",required:true,isPublic:true}),S=H({type:"boolean",isPublic:true,bindable:true}),y=H({type:"object",isPublic:false}),_=x(),M=x(),I=x(),h(w=(O=function(t){J(i,t);function i(){var e;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++){n[r]=arguments[r]}e=t.call(this,...n)||this;L(e,"id",A,U(e));L(e,"visible",B,U(e));L(e,"msTeamsOptions",T,U(e));L(e,"menuButton",C,U(e));L(e,"menu",E,U(e));L(e,"saveAsTileMenuItem",P,U(e));return e}k=i;var o=i.prototype;o._initializeMenuItems=async function e(t,i){const n=await d.isTeamsModeActive();if(n){var r,o;(r=this.menuButton.current)===null||r===void 0?void 0:r.unbindProperty("visible",true);(o=this.menuButton.current)===null||o===void 0?void 0:o.setVisible(false);return}const a=t.getController();const s=i.getShellServices();const l=await s.waitForPluginsLoad();if(!l){var u;const e=(u=this.menuButton.current)===null||u===void 0?void 0:u.getAggregation("_control");e===null||e===void 0?void 0:e.attachEventOnce("press",{},()=>this._initializeMenuItems,this)}if(this.menu.current){this.menu.current.addItem(v(c,{text:this.getTranslatedText("T_SEMANTIC_CONTROL_SEND_EMAIL"),icon:"sap-icon://email",press:()=>a.share._triggerEmail()}));await this._addShellBasedMenuItems(a,s)}};o._addShellBasedMenuItems=async function e(t,i){var n,r,o;const a=i.hasUShell();const s=!!((n=(r=i.getUser()).isJamActive)!==null&&n!==void 0&&n.call(r));const l=await p.getServiceAsync();const u=l.getOptions({isShareAsCardEnabled:((o=this.msTeamsOptions)===null||o===void 0?void 0:o.enableCard)==="true"});if(a){if(s){var d,b;this===null||this===void 0?void 0:(d=this.menu)===null||d===void 0?void 0:(b=d.current)===null||b===void 0?void 0:b.addItem(v(c,{text:this.getTranslatedText("T_COMMON_SAPFE_SHARE_JAM"),icon:"sap-icon://share-2",press:()=>t.share._triggerShareToJam()}))}for(const e of u){var h,g,S,y;const t={text:e.text,icon:e.icon,visible:((h=e.subOptions)===null||h===void 0?void 0:h.length)===1&&e.subOptions[0].key===W?N(j(R.IsEditable)):undefined,items:[]};if(e!==null&&e!==void 0&&e.subOptions&&(e===null||e===void 0?void 0:(g=e.subOptions)===null||g===void 0?void 0:g.length)>0){t.items=[];e.subOptions.forEach(e=>{const i=new c({text:e.text,icon:e.icon,press:this.collaborationMenuItemPress,visible:e.key===W?N(j(R.IsEditable)):undefined,customData:new f({key:"collaborationData",value:e})});if(e.fesrStepName){m.setSemanticStepname(i,"press",e.fesrStepName)}t.items.push(i)})}else{t.press=this.collaborationMenuItemPress;t["customData"]=new f({key:"collaborationData",value:e})}const i=new c(t);if(t.press&&e.fesrStepName){m.setSemanticStepname(i,"press",e.fesrStepName)}this===null||this===void 0?void 0:(S=this.menu)===null||S===void 0?void 0:(y=S.current)===null||y===void 0?void 0:y.addItem(i)}const{default:e}=await z("sap/ushell/ui/footerbar/AddBookmarkButton");const i=new e;if(i.getEnabled()){var _,M;this===null||this===void 0?void 0:(_=this.menu)===null||_===void 0?void 0:(M=_.current)===null||M===void 0?void 0:M.addItem(v(c,{ref:this.saveAsTileMenuItem,text:i.getText(),icon:i.getIcon(),press:()=>t.share._saveAsTile(this.saveAsTileMenuItem.current),children:{dependents:[i]}}))}else{i.destroy()}}};o.collaborationMenuItemPress=async function t(i){const r=i.getSource();const o=await p.getServiceAsync();const a=n.getTargetView(r);const s=a.getController();await s.share._adaptShareMetadata();const l=a.getModel("shareInfo");if(l){const t=l.getData();const{collaborationInfo:i}=t;const n=r.data("collaborationData");if(n["key"]===W){const t=o.isFeatureFlagEnabled();const n=t?s.share.getCardDefinition():undefined;let r;if(n){const e=s.getAppComponent().getShellServices();const{semanticObject:t,action:i}=e.parseShellHash(document.location.hash);r=`${t}_${i}`}else{const i=!t?"Feature flag disabled in collaboration teams helper":"Card definition was not created";e.info(`FE V4 : Share block : share as Card : ${i}`)}i["cardManifest"]=n;i["cardId"]=r}o.share(n,i)}};o.getContent=function t(i,n){const o=v(b,{id:this.id,children:v(u,{ref:this.menuButton,icon:"sap-icon://action",visible:this.visible,tooltip:"{sap.fe.i18n>M_COMMON_SAPFE_ACTION_SHARE} (Ctrl+Shift+S)",children:v(l,{ref:this.menu})})});i.addDependent(v(r,{visible:this.visible,enabled:this.visible,command:"Share",execute:()=>{var e;return(e=this.menuButton.current)===null||e===void 0?void 0:e.getMenu().openBy(this.menuButton.current,true)}}));this.isInitialized=this._initializeMenuItems(i,n).catch(t=>{e.error(t)});return o};return i}(i),A=$(O.prototype,"id",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),B=$(O.prototype,"visible",[S],{configurable:true,enumerable:true,writable:true,initializer:function(){return D(true)}}),T=$(O.prototype,"msTeamsOptions",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),C=$(O.prototype,"menuButton",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),E=$(O.prototype,"menu",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),P=$(O.prototype,"saveAsTileMenuItem",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),O))||w);k=G;return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/share/ShareAPI", ["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/suite/ui/commons/collaboration/CollaborationHelper","../MacroAPI"],function(e,i,t,r){"use strict";var n,o,a,l,s,u,c;var f=i.property;var p=i.defineUI5Class;function b(e,i,t,r){if(!t)return;Object.defineProperty(e,i,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,i){e.prototype=Object.create(i.prototype);e.prototype.constructor=e;h(e,i)}function h(e,i){h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(i,t){i.__proto__=t;return i};return h(e,i)}function y(e,i,t,r,n){var o={};Object.keys(r).forEach(function(e){o[e]=r[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=t.slice().reverse().reduce(function(t,r){return r(e,i,t)||t},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,i,o);o=null}return o}function g(e,i){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let m=(n=p("sap.fe.macros.share.ShareAPI",{interfaces:["sap.m.IOverflowToolbarContent"]}),o=f({type:"string"}),a=f({type:"boolean",defaultValue:true}),n(l=(s=function(i){v(r,i);function r(){var e;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}e=i.call(this,...r)||this;b(e,"id",u,d(e));b(e,"visible",c,d(e));return e}var n=r.prototype;n.getOverflowToolbarConfig=function e(){return{canOverflow:false}};n.setVisibility=async function i(r){const n=await t.isTeamsModeActive();if(!n){this.content.setVisible(r);this.visible=r}else{e.info("Share Building Block: visibility not changed since application is running in teams mode!")}return Promise.resolve(this)};n.addStyleClass=function e(i){const t=this.getAggregation("content");t.addStyleClass(i);return this};return r}(r),u=y(s.prototype,"id",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),c=y(s.prototype,"visible",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),s))||l);return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/situations/SituationsIndicator.block", ["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/macros/situations/SituationsPopover"],function(e,t,r,i,n,a,o){"use strict";var s,l,u,c,p,f,d;var v={};var y=o.showPopover;var g=a.ref;var b=a.pathInModel;var m=a.ifElse;var h=a.greaterThan;var P=a.fn;var T=a.equal;var S=a.and;var B=n.convertMetaModelContext;var k=i.xml;var w=r.defineBuildingBlock;var O=r.blockAttribute;function $(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function z(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}function M(e,t){M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return M(e,t)}function N(e,t,r,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function A(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let E=(s=w({name:"SituationsIndicator",namespace:"sap.fe.macros.internal.situations"}),l=O({type:"sap.ui.model.Context",required:true}),u=O({type:"string",required:false}),s(c=(p=function(t){j(r,t);function r(){var e;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}e=t.call(this,...i)||this;$(e,"entitySet",f,z(e));$(e,"propertyPath",d,z(e));return e}v=r;r.getSituationsNavigationProperty=function t(r){let i;switch(r._type){case"NavigationProperty":i=r.targetType.navigationProperties;break;case"EntityType":i=r.navigationProperties;break;default:i=r.entityType.navigationProperties}const n=i.filter(e=>{var t,r;return!e.isCollection&&((t=e.targetType.annotations.Common)===null||t===void 0?void 0:(r=t.SAPObjectNodeType)===null||r===void 0?void 0:r.Name)==="BusinessSituation"});const a=n.length>=1?n[0]:undefined;if(n.length>1){const t=n.map(e=>`'${e.name}'`).join(", ");let i;switch(r._type){case"NavigationProperty":i=r.targetType.name;break;case"EntityType":i=r.name;break;default:i=r.entityType.name}e.error(`Entity type '${i}' has multiple paths to SAP Situations (${t}). Using '${a===null||a===void 0?void 0:a.name}'.\nHint: Make sure there is at most one navigation property whose target entity type is annotated with\n<Annotation Term="com.sap.vocabularies.Common.v1.SAPObjectNodeType">\n  <Record>\n    <PropertyValue Property="Name" String="BusinessSituation" />\n  </Record>\n</Annotation>.`)}return a};var i=r.prototype;i.getTemplate=function e(){const t=B(this.entitySet);if(!t){return}const i=r.getSituationsNavigationProperty(t);if(!i){return undefined}const n=b(`${i.name}/SitnNumberOfInstances`);let a;if(!this.propertyPath){a=h(n,0)}else{a=S(h(n,0),T(b("semanticKeyHasDraftIndicator","internal"),this.propertyPath))}const o=m(h(n,1),n,"");const s=m(T(n,1),this.getTranslatedText("situationsTooltipSingular"),P("formatMessage",[this.getTranslatedText("situationsTooltipPlural"),n]));const l=P(y,[g("$controller"),g("$event"),i.name]);return k`
			<m:Button core:require="{rt: 'sap/fe/macros/situations/SituationsPopover', formatMessage: 'sap/base/strings/formatMessage'}"
				type="Attention"
				icon="sap-icon://alert"
				text="${o}"
				tooltip="${s}"
				visible="${a}"
				press="${l}"
			/>`};return r}(t),f=N(p.prototype,"entitySet",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),d=N(p.prototype,"propertyPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),p))||c);v=E;return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/situations/SituationsPopover", ["sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/helpers/ResourceModelHelper","sap/fe/macros/situations/SituationsText","sap/m/Button","sap/m/CustomListItem","sap/m/HBox","sap/m/Label","sap/m/List","sap/m/ObjectIdentifier","sap/m/ObjectStatus","sap/m/ResponsivePopover","sap/m/Text","sap/m/Toolbar","sap/m/VBox"],function(t,e,n,a,s,i,o,c,p,l,d,r,u,g){"use strict";var m={};var S=n.bindText;var f=e.getResourceModel;function x(t){return{path:t,type:"sap.ui.model.odata.type.DateTimeOffset",constraints:{precision:7},formatOptions:{relative:true}}}let y;function h(e,n){let a=null;const o=new d({showHeader:false,contentHeight:`${n*4.5}em`,contentWidth:"25em",busyIndicatorDelay:200,placement:"Horizontal",content:[new c({items:{path:"_Instance",events:{dataReceived:()=>{o.setContentHeight()}},parameters:{$orderby:"SitnInstceLastChgdAtDateTime desc",$expand:"_InstanceAttribute($expand=_InstanceAttributeValue)"},template:new s({type:"Navigation",press:u,content:[new i({items:[new l({icon:"sap-icon://alert",state:"Warning",tooltip:f(e).getText("situation")}).addStyleClass("sapUiTinyMarginEnd"),new p({title:S("SituationTitle"),text:x("SitnInstceLastChgdAtDateTime")})]}).addStyleClass("sapUiSmallMarginBeginEnd").addStyleClass("sapUiSmallMarginTopBottom")]}),templateShareable:false},showNoData:false})]});function r(){if(a){a.unbindObject();a.close()}if(y){o.openBy(y)}}async function u(n){const s=n.getSource();const i=s.getBindingContext();if(i&&y){if(a===null){a=await b(e,r);e.getView().addDependent(a)}a.bindElement({path:i.getPath(),parameters:{$expand:"_InstanceAttribute($expand=_InstanceAttributeValue)"},events:{dataReceived:()=>{t.unlock(a)}}});o.close();t.lock(a);a.openBy(y)}}return o}async function b(t,e){const n=[];const s=f(t);if(e){n.push(new a({type:"Back",tooltip:s.getText("back"),press:e}).addStyleClass("sapUiNoMarginEnd"))}n.push(new l({state:"Warning",icon:"sap-icon://alert",tooltip:s.getText("situationIconTooltip")}).addStyleClass("sapUiSmallMarginBegin"));n.push(new p({titleActive:false,title:S("SituationTitle")}).addStyleClass("sapUiSmallMarginEnd"));const i={contentWidth:"25em",contentHeight:"7em",placement:"Horizontal",customHeader:new u({content:n}),busyIndicatorDelay:100,content:[new g({items:[new o({text:x("SitnInstceLastChgdAtDateTime")}),new r({text:S("SituationText")}).addStyleClass("sapUiTinyMarginTop")]})]};const c=t.getAppComponent().getShellServices();const m={target:{action:"displayExtended",semanticObject:"SituationInstance"}};const y=await c.isNavigationSupported([m]);if(y[0].supported){i.endButton=new a({text:s.getText("showDetails"),press:t=>{var e;const n=(e=t.getSource().getBindingContext())===null||e===void 0?void 0:e.getObject(`SitnInstceKey`);if(n!==undefined&&n!==null&&c.crossAppNavService){m.params={SitnInstceKey:n};c.crossAppNavService.toExternal(m)}}})}return new d(i).addStyleClass("sapUiPopupWithPadding").addStyleClass("sapUiResponsivePadding--header")}async function w(t,e,n){y=e.getSource();const a=y.getBindingContext(),s=a.getObject(`${n}/SitnNumberOfInstances`);let i;const o=a.getModel().bindContext(n,a,{$expand:"_Instance($expand=_InstanceAttribute($expand=_InstanceAttributeValue))"}).getBoundContext();if(s<=1){i=await b(t);i.setBindingContext(o);i.bindElement({path:"_Instance/0"})}else{i=h(t,s);i.setBindingContext(o)}t.getView().addDependent(i);i.openBy(y)}m.showPopover=w;w.__functionName="rt.showPopover";return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/situations/SituationsText", ["sap/base/Log","sap/ui/model/odata/type/Boolean","sap/ui/model/odata/type/Date","sap/ui/model/odata/type/DateTimeOffset","sap/ui/model/odata/type/Decimal","sap/ui/model/odata/type/Guid","sap/ui/model/odata/type/Int32","sap/ui/model/odata/type/String"],function(t,e,n,r,a,u,i,s){"use strict";var c={};const o={};function E(t){switch(t){case"EDM.BOOLEAN":return new e;case"EDM.DATE":case"EDM.DATETIME":return new n;case"EDM.DATETIMEOFFSET":return new r;case"EDM.DECIMAL":return new a;case"EDM.GUID":return new u;case"EDM.INT32":return new i;case"EDM.STRING":return new s;default:return E("EDM.STRING")}}function d(t,e,n){switch(t){case"EDM.STRING":return e;case"EDM.DATE":case"EDM.DATETIME":case"EDM.DATETIMEOFFSET":return n.parseValue(e,"string");case"EDM.INT32":return parseInt(e,10);case"EDM.DECIMAL":return parseFloat(e);case"EDM.GUID":return e;case"EDM.BOOLEAN":return e==="X";default:return e}}function l(t){let e=o[t];if(!e){e=E(t);o[t]=e}return e}function D(e,n){const r=this.getBindingContext();if(e===undefined||e===null||n===undefined||n===null||!r){return""}const a=r.getObject("_InstanceAttribute");if(a===undefined||a===null||a.length===0){return n}const u=(e,n,r)=>{const u=parseInt(n,10).toString();const i=a.find(t=>t.SitnInstceAttribSource===u&&t.SitnInstceAttribName===r);if(i===undefined){t.error(`Failed to resolve attribute ${n}.${r}`);return""}if(!i._InstanceAttributeValue){t.error(`Failed to resolve a value for attribute ${n}.${r}`);return""}const s=l(i.SitnInstceAttribEntityType);return i._InstanceAttributeValue.map(t=>{const e=d(i.SitnInstceAttribEntityType,t.SitnInstceAttribValue,s);return s.formatValue(e,"string")}).join(", ")};return n.replace(/\{(\d+)\.([^}]+)}/g,u)}c.formatter=D;function p(t){return{parts:[{path:"SitnInstceKey"},{path:`_InstanceText/${t}`}],formatter:D}}c.bindText=p;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/ActionsTemplating", ["sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/controls/Common/table/StandardActions","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/UIFormatters","../CommonHelper","../internal/helpers/DefaultActionHandler","./TableHelper"],function(t,e,n,a,o,i,l,c,r,s,d,u){"use strict";var m={};var b=r.getDataModelObjectPath;var p=c.generate;var v=l.pathInModel;var f=l.notEqual;var A=i.StandardActionKeys;var $=o.ButtonType;var x=a.isDataModelObjectPathForActionWithDialog;var T=a.isDataFieldForIntentBasedNavigation;var g=a.isDataFieldForAction;var D=e.ActionType;var M=t.xml;function h(t,e,a,o){var i,l,c,r,d;if(!a.annotationPath){return""}const m=s.getActionContext(o.metaPath.getModel().createBindingContext(a.annotationPath+"/Action"));const b=o.metaPath.getModel().createBindingContext(m);const p=b?n.getInvolvedDataModelObjects(b,o.collection):undefined;const v=(i=t.ActionTarget)===null||i===void 0?void 0:i.isBound;const f=((l=t.ActionTarget)===null||l===void 0?void 0:(c=l.annotations)===null||c===void 0?void 0:(r=c.Core)===null||r===void 0?void 0:(d=r.OperationAvailable)===null||d===void 0?void 0:d.valueOf())!==false;const A=a.command?"cmd:"+a.command:u.pressEventDataFieldForActionButton({contextObjectPath:o.contextObjectPath,id:o.id},t,o.collectionEntity.name,o.tableDefinition.operationAvailableMap,b.getObject(),e.isNavigable,a.enableAutoScroll,a.defaultValuesExtensionFunction);const $=a.enabled!==undefined?a.enabled:u.isDataFieldForActionEnabled(o.tableDefinition,t.Action,!!v,b.getObject(),a.enableOnSelect,p===null||p===void 0?void 0:p.targetEntityType);if(v!==true||f){return M`<MenuItem
				text="${t.Label}"
				press="${A}"
				enabled="${$}"
				visible="${a.visible}"
				/>`}else{return""}}function B(t,e,n){const a=e.annotationPath?n.metaPath.getModel().createBindingContext(e.annotationPath):null;return M`<MenuItem xmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
			text="${t.Label}"
			press="${e.command?"cmd:"+e.command:s.getPressHandlerForDataFieldForIBN(a===null||a===void 0?void 0:a.getObject(),"${internal>selectedContexts}",!n.tableDefinition.enableAnalytics)}"
			enabled="${e.enabled!==undefined?e.enabled:u.isDataFieldForIBNEnabled({collection:n.collection,tableDefinition:n.tableDefinition},t,t.RequiresContext,t.NavigationAvailable)}"
			visible="${e.visible}"
			macrodata:IBNData="${!t.RequiresContext?`{semanticObject: '${t.SemanticObject}' , action : '${t.Action}'}`:undefined}"
		/>`}function P(t,e,n){const a=e.annotationPath?n.convertedMetaData.resolvePath(e.annotationPath).target:undefined;switch(a&&e.type){case"ForAction":if(g(a)){return h(a,t,e,n)}break;case"ForNavigation":if(T(a)){return B(a,e,n)}break;default:}const o=e.noWrap?e.press:s.buildActionWrapper(e,{id:n.id});return M`<MenuItem
				core:require="{FPM: 'sap/fe/core/helpers/FPMHelper'}"
				text="${e===null||e===void 0?void 0:e.text}"
				press="${e.command?"cmd:"+e.command:o}"
				visible="${e.visible}"
				enabled="${e.enabled}"
			/>`}function y(t,e,a){var o;const i=a.metaPath.getModel().createBindingContext(e.annotationPath+"/Action");const l=s.getActionContext(i);const c=a.metaPath.getModel().createBindingContext(l);const r=c?n.getInvolvedDataModelObjects(c,a.collection):undefined;const d=(o=t.ActionTarget)===null||o===void 0?void 0:o.isBound;const m=e.command?"cmd:"+e.command:u.pressEventDataFieldForActionButton({contextObjectPath:a.contextObjectPath,id:a.id},t,a.collectionEntity.name,a.tableDefinition.operationAvailableMap,c.getObject(),e.isNavigable,e.enableAutoScroll,e.defaultValuesExtensionFunction);const v=e.enabled!==undefined?e.enabled:u.isDataFieldForActionEnabled(a.tableDefinition,t.Action,!!d,c.getObject(),e.enableOnSelect,r===null||r===void 0?void 0:r.targetEntityType);return M`<Button xmlns="sap.m"
					id="${p([a.id,t])}"
					text="${t.Label}"
					ariaHasPopup="${x(b({},{context:i}))}"
					press="${m}"
					type="${$.Transparent}"
					enabled="${v}"
					visible="${e.visible}"
				/>`}function C(t,e,n){const a=e.annotationPath?n.metaPath.getModel().createBindingContext(e.annotationPath):null;return M`<Button xmlns="sap.m"
					id="${p([n.id,t])}"
					text="${t.Label}"
					press="${e.command?"cmd:"+e.command:s.getPressHandlerForDataFieldForIBN(a===null||a===void 0?void 0:a.getObject(),"${internal>selectedContexts}",!n.tableDefinition.enableAnalytics)}"
					type="${$.Transparent}"
					enabled="${e.enabled!==undefined?e.enabled:u.isDataFieldForIBNEnabled({collection:n.collection,tableDefinition:n.tableDefinition},t,t.RequiresContext,t.NavigationAvailable)}"
					visible="${e.visible}"
					macrodata:IBNData="${!t.RequiresContext?"{semanticObject: '"+t.SemanticObject+"' , action : '"+t.Action+"'}":undefined}"
				/>`}function E(t,e){const n=t.annotationPath?e.convertedMetaData.resolvePath(t.annotationPath).target:undefined;let a="";if(!n){return a}switch(t.type){case"ForAction":if(g(n)){var o,i,l,c,r;const s=(o=n.ActionTarget)===null||o===void 0?void 0:o.isBound;const d=((i=n.ActionTarget)===null||i===void 0?void 0:(l=i.annotations)===null||l===void 0?void 0:(c=l.Core)===null||c===void 0?void 0:(r=c.OperationAvailable)===null||r===void 0?void 0:r.valueOf())!==false;if(s!==true||d){a+=y(n,t,e)}}break;case"ForNavigation":if(T(n)){a+=C(n,t,e)}break;default:}return a!==""?`<mdcat:ActionToolbarAction\n\t\t\txmlns="sap.m"\n\t\t\txmlns:mdcat="sap.ui.mdc.actiontoolbar"\n\t\t\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">\n\t\t\t${a}\n\t\t\t</mdcat:ActionToolbarAction>`:""}function F(t,e){var n;let a=`<mdcat:ActionToolbarAction\n\t\t\t\t\t\txmlns="sap.m"\n\t\t\t\t\t\txmlns:mdcat="sap.ui.mdc.actiontoolbar">`;const o=t.defaultAction;const i=o!==null&&o!==void 0&&o.annotationPath?e.convertedMetaData.resolvePath(o.annotationPath).target:null;const l=o!==null&&o!==void 0&&o.annotationPath?s.getActionContext(e.metaPath.getModel().createBindingContext(o.annotationPath+"/Action")):null;a+=M`<MenuButton
						text="${t.text}"
						type="${$.Transparent}"
						menuPosition="BeginBottom"
						id="${p([e.id,t.id])}"
						visible="${t.visible}"
						enabled="${t.enabled}"
						useDefaultActionOnly="${d.getUseDefaultActionOnly(t)}"
						buttonMode="${d.getButtonMode(t)}"
						defaultAction="${d.getDefaultActionHandler(e,t,i,l,"Table")}"
						>
					<menu>
						<Menu>`;(n=t.menu)===null||n===void 0?void 0:n.forEach(n=>{if(typeof n!=="string"){a+=P(t,n,e)}});a+=`</Menu>\n\t\t\t\t</menu>\n\t\t\t</MenuButton>\n\t\t</mdcat:ActionToolbarAction>`;return a}function O(t,e){const n=t.noWrap?t.press:s.buildActionWrapper(t,{id:e.id});return M`<mdcat:ActionToolbarAction
		xmlns="sap.m"
		xmlns:mdcat="sap.ui.mdc.actiontoolbar">
		<Button
			core:require="{FPM: 'sap/fe/core/helpers/FPMHelper'}"
			id="${p([e.id,t.id])}"
			text="${t.text}"
			press="${t.command?"cmd:"+t.command:n}"
			type="${$.Transparent}"
			visible="${t.visible}"
			enabled="${t.enabled}"
		/>
	</mdcat:ActionToolbarAction>`}function I(t,e){switch(t.type){case"Default":if("noWrap"in t){return O(t,e)}break;case"Menu":return F(t,e);default:}return E(t,e)}function S(t,e){const n=t.annotationPath?e.convertedMetaData.resolvePath(t.annotationPath).target:undefined;return M`<mdcat:ActionToolbarAction
				xmlns="sap.m"
				xmlns:mdcat="sap.ui.mdc.actiontoolbar">
				  <Button
					  id="${p([e.id,n])}"
					  text="${t.text}"
					  press="${n?u.pressEventDataFieldForActionButton({contextObjectPath:e.contextObjectPath,id:e.id},n,e.collectionEntity.name,e.tableDefinition.operationAvailableMap,"${internal>selectedContexts}",t.isNavigable,t.enableAutoScroll,t.defaultValuesExtensionFunction):undefined}"
					  type="${$.Transparent}"
					  enabled="${t.enabled}"
					  visible="${t.visible}"
					/>
			</mdcat:ActionToolbarAction>`}function N(t,e){const n=e.collectionEntity.name;const a=e.getTranslatedText("M_COMMON_TABLE_CREATE",undefined,n);return M`<mdcat:ActionToolbarAction
				xmlns="sap.m"
				xmlns:mdcat="sap.ui.mdc.actiontoolbar"
				xmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
					<Button
						id="${p([e.id,t.key])}"
						text="${a}"
						press="cmd:Create"
						type="${$.Transparent}"
						visible="${t.visible}"
						enabled="${t.enabled}"
						macrodata:IBNData="${u.getIBNData(e.createOutboundDetail)}"
					/>
				</mdcat:ActionToolbarAction>`}function j(t,e){const n=e.collectionEntity.name;const a=e.getTranslatedText("M_COMMON_TABLE_CREATE",undefined,n);const o=e.tableDefinition.control.nodeType.values;const i=e.tableDefinition.control.createEnablement!==undefined;let l=`<mdcat:ActionToolbarAction\n\t\t\t\t\t\txmlns="sap.m"\n\t\t\t\t\t\txmlns:mdcat="sap.ui.mdc.actiontoolbar">`;l+=M`<MenuButton
							text="${a}"
							type="${$.Transparent}"
							menuPosition="BeginBottom"
							id="${p([e.id,t.key])}"
							visible="${t.visible}"
							enabled="${t.enabled}"
							>
							<menu>
								<Menu>`;o.forEach((t,e)=>{const n=i?f(v(`createEnablement/Create_${e}`,"internal"),false):undefined;l+=M`<MenuItem
								text="${t.text}"
								enabled="${n}"
								press="TableRuntime.onCreateMenuItemPress($event, ${e}, \${internal>selectedContexts})"
							/>`});l+=`</Menu>\n\t\t\t\t</menu>\n\t\t\t</MenuButton>\n\t\t</mdcat:ActionToolbarAction>`;return l}function _(t,e){const n=e.collectionEntity.name;const a=e.getTranslatedText("M_COMMON_TABLE_DELETE",undefined,n);return M`<mdcat:ActionToolbarAction
				xmlns="sap.m"
				xmlns:mdcat="sap.ui.mdc.actiontoolbar">
				<Button
					id="${p([e.id,t.key])}"
					text="${a}"
					press="cmd:DeleteEntry"
					type="${$.Transparent}"
					visible="${t.visible}"
					enabled="${t.enabled}"
				/>
			</mdcat:ActionToolbarAction>`}function k(t,e){if(t.isTemplated==="false"){return""}switch(t.key){case A.Create:if(!e.tableDefinition.annotation.isInsertUpdateActionsTemplated){return""}else if(e.tableDefinition.control.nodeType){return j(t,e)}else{return N(t,e)}case A.Delete:return _(t,e);case A.Cut:return R(t,e);case A.MassEdit:if(e.tableDefinition.annotation.isInsertUpdateActionsTemplated){return M`<mdcat:ActionToolbarAction xmlns="sap.m" xmlns:mdcat="sap.ui.mdc.actiontoolbar">
								<Button
									id="${p([e.id,t.key])}"
									text="{sap.fe.i18n>M_COMMON_TABLE_MASSEDIT}"
									press="API.onMassEditButtonPressed($event, $controller)"
									visible="${t.visible}"
									enabled="${t.enabled}"
								/>
							</mdcat:ActionToolbarAction>`}return"";case A.Insights:return M`<mdcat:ActionToolbarAction xmlns="sap.m" xmlns:mdcat="sap.ui.mdc.actiontoolbar" visible="${t.visible}">
							<Button
								id="${p([e.id,t.key])}"
								text="{sap.fe.i18n>M_COMMON_INSIGHTS_CARD}"
								press="API.onAddCardToInsightsPressed($event, $controller)"
								visible="${t.visible}"
								enabled="${t.enabled}"
							>
								<layoutData>
									<OverflowToolbarLayoutData priority="AlwaysOverflow" />
								</layoutData>
							</Button>
						</mdcat:ActionToolbarAction>`;default:return""}}function H(t){let e=t.tableDefinition.actions.reduce((e,n)=>{switch(n.type){case D.Standard:return e+k(n,t);case D.Copy:return e+S(n,t);default:return e+I(n,t)}},"");e+=q(t);return e}function L(t){if(t.useBasicSearch){return M`<mdcat:ActionToolbarAction xmlns:mdcat="sap.ui.mdc.actiontoolbar" xmlns:macroTable="sap.fe.macros.table">
						<macroTable:BasicSearch id="${t.filterBarId}" useDraftEditState="${t._collectionIsDraftEnabled}"/>
					</mdcat:ActionToolbarAction>`}return""}function w(t){if(t.enableFullScreen){return M`<mdcat:ActionToolbarAction xmlns:mdcat="sap.ui.mdc.actiontoolbar" xmlns:macroTable="sap.fe.macros.table">
						<macroTable:TableFullScreenDialog id="${p([t.id,"StandardAction","FullScreen"])}" />
					</mdcat:ActionToolbarAction>`}return""}function R(t,e){return M`<mdcat:ActionToolbarAction
				xmlns="sap.m"
				xmlns:mdcat="sap.ui.mdc.actiontoolbar">
				  <Button
					  id="${p([e.id,"Cut"])}"
					  text="{sap.fe.i18n>M_TABLE_CUT}"
					  press="cmd:Cut"
					  visible="${t.visible}"
					  enabled="${t.enabled}"
					/>
			</mdcat:ActionToolbarAction>`}function q(t){if(t.tableType==="TreeTable"){return M`<mdcat:ActionToolbarAction
				xmlns="sap.m"
				xmlns:mdcat="sap.ui.mdc.actiontoolbar">
				  <Button
					  id="${p([t.id,"Paste"])}"
					  text="{sap.fe.i18n>M_PASTE}"
					  press="cmd:Paste"
					  visible="${t.pasteVisible}"
					  enabled="${t.enablePaste}"
					/>
			</mdcat:ActionToolbarAction>`}return""}function W(t){return L(t)+H(t)+w(t)}m.getTableActionTemplate=W;return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/BasicSearch", ["sap/fe/core/helpers/ClassSupport","sap/fe/core/templating/FilterHelper","sap/m/SearchField","sap/ui/core/Control","sap/ui/mdc/odata/v4/TypeMap"],function(e,t,r,i,n){"use strict";var a,o,l,u,p,s,c,f,d,b,g,m,h;var v=t.getEditStatusFilter;var y=e.property;var _=e.implementInterface;var S=e.event;var w=e.defineUI5Class;var z=e.aggregation;function E(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function C(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function F(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}function I(e,t){I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return I(e,t)}function O(e,t,r,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function P(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let j=(a=w("sap.fe.macros.table.BasicSearch"),o=_("sap.ui.mdc.IFilter"),l=S(),u=S(),p=z({type:"sap.ui.core.Control",multiple:false}),s=y({type:"boolean"}),a(c=(f=function(e){F(t,e);function t(){var t;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}t=e.call(this,...i)||this;E(t,"__implements__sap_ui_mdc_IFilter",d,C(t));t.__implements__sap_ui_mdc_IFilterSource=true;E(t,"filterChanged",b,C(t));E(t,"search",g,C(t));E(t,"filter",m,C(t));E(t,"useDraftEditState",h,C(t));return t}var i=t.prototype;i.init=function e(){this.setAggregation("filter",new r({placeholder:"{sap.fe.i18n>M_FILTERBAR_SEARCH}",search:()=>{this.fireEvent("search")}}))};i.getConditions=function e(){if(this.useDraftEditState){return v()}return{}};i.getTypeMap=function e(){return n};i.getPropertyInfoSet=function e(){if(this.useDraftEditState){return[{name:"$editState",path:"$editState",groupLabel:"",group:"",typeConfig:n.getTypeConfig("sap.ui.model.odata.type.String",{},{}),dataType:"sap.ui.model.odata.type.String",hiddenFilter:false}]}return[]};i.getSearch=function e(){return this.filter.getValue()};i.validate=function e(){return Promise.resolve()};t.render=function e(t,r){t.openStart("div",r);t.openEnd();t.renderControl(r.filter);t.close("div")};return t}(i),d=O(f.prototype,"__implements__sap_ui_mdc_IFilter",[o],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),b=O(f.prototype,"filterChanged",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),g=O(f.prototype,"search",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),m=O(f.prototype,"filter",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),h=O(f.prototype,"useDraftEditState",[s],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),f))||c);return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/QuickFilterSelector.block", ["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/FilterHelper","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/Select","sap/ui/core/InvisibleText","sap/ui/core/Item","sap/fe/core/jsx-runtime/jsx"],function(e,t,i,r,n,o,a,l,u,c,s,f,d){"use strict";var p,h,g,b,v,m,S,y,P,C,I,B,w;var x={};var j=a.isSelectionVariant;var O=o.getTargetObjectPath;var k=o.getTargetNavigationPath;var z=o.enhanceDataModelPath;var A=n.generate;var E=r.pathInModel;var T=r.notEqual;var F=i.getInvolvedDataModelObjects;var L=e.defineBuildingBlock;var M=e.blockAttribute;function _(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function q(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function D(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Q(e,t)}function Q(e,t){Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return Q(e,t)}function N(e,t,i,r,n){var o={};Object.keys(r).forEach(function(e){o[e]=r[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function R(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let $=(p=L({name:"QuickFilterSelector",namespace:"sap.fe.macros.table"}),h=M({type:"string",required:true}),g=M({type:"sap.ui.model.Context",required:true}),b=M({type:"sap.ui.model.Context",required:true}),v=M({type:"object",required:true}),m=M({type:"function"}),p(S=(y=function(e){D(t,e);function t(t){var i;i=e.call(this,t)||this;_(i,"id",P,q(i));_(i,"metaPath",C,q(i));_(i,"contextPath",I,q(i));_(i,"filterConfiguration",B,q(i));_(i,"onSelectionChange",w,q(i));return i}x=t;var i=t.prototype;i.getSegmentedButtonSelector=function e(){const t=this.filterConfiguration.paths.map((e,t)=>d(u,{...this.getSelectorItemProperties(t)}));return d(l,{id:this.id,enabled:T(E("hasPendingFilters","pageInternal"),true),ariaLabelledBy:[this.getSelectorAriaLabelledById()],items:t,selectionChange:e=>{var t;(t=this.onSelectionChange)===null||t===void 0?void 0:t.call(this,e)}})};i.getSelectSelector=function e(){const t=this.filterConfiguration.paths.map((e,t)=>d(f,{...this.getSelectorItemProperties(t)}));return d(c,{id:this.id,enabled:T(E("hasPendingFilters","pageInternal"),true),ariaLabelledBy:[this.getSelectorAriaLabelledById()],autoAdjustWidth:true,items:t,change:e=>{var t;(t=this.onSelectionChange)===null||t===void 0?void 0:t.call(this,e)}})};i.getSelectorItemProperties=function e(t){return{key:this.filterConfiguration.paths[t].annotationPath,text:this.getSelectorItemText(t)}};i.getSelectorAriaLabelledById=function e(){return A([this.id,"AriaText"])};i.getSelectorItemText=function e(t){var i;const r=` ({internal>quickFilters/counts/${t}})`;const n=F(this.metaPath);const o=z(n,this.filterConfiguration.paths[t].annotationPath).targetObject;const a=(o===null||o===void 0?void 0:(i=o.Text)===null||i===void 0?void 0:i.toString())??"";return`${a}${this.filterConfiguration.showCounts?r:""}`};i.registerSideEffectForQuickFilter=function e(t){var i;const r=F(this.metaPath,this.contextPath);const n=(i=r.contextLocation)===null||i===void 0?void 0:i.targetEntityType.fullyQualifiedName;const o=k(r,true);const a=this.filterConfiguration.paths.map(e=>e.annotationPath);if(o&&n){const e=new Set;for(const t of a){const i=z(r,t).targetObject;if(i.SelectOptions&&j(i)){i.SelectOptions.forEach(t=>{var i;const n=(i=t.PropertyName)===null||i===void 0?void 0:i.value;if(n){const t=z(r,n);e.add(O(t,true))}})}}t.getSideEffectsService().addControlSideEffects(n,{sourceProperties:Array.from(e),targetEntities:[{$NavigationPropertyPath:o}],sourceControlId:this.id})}};i.getAccessibilityControl=function e(){const t=`{sap.fe.i18n>M_TABLE_QUICKFILTER_ARIA}`;const i=d(s,{text:t,id:this.getSelectorAriaLabelledById()});i.toStatic();return i};i.getContent=function e(t,i){if(this.filterConfiguration.showCounts){this.registerSideEffectForQuickFilter(i)}const r=this.filterConfiguration.paths.length>3?this.getSelectSelector():this.getSegmentedButtonSelector();r.addDependent(this.getAccessibilityControl());return r};return t}(t),P=N(y.prototype,"id",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),C=N(y.prototype,"metaPath",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),I=N(y.prototype,"contextPath",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),B=N(y.prototype,"filterConfiguration",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),w=N(y.prototype,"onSelectionChange",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),y))||S);x=$;return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/Table.block", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/controls/Common/table/StandardActions","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/macros/internal/helpers/TableTemplating","sap/ui/core/library","../CommonHelper","../MacroAPI","../internal/helpers/ActionHelper","./ActionsTemplating","./TableHelper"],function(e,t,i,n,a,o,r,l,u,s,c,d,b,p,m,f,g,h,v,y,C,w,P){"use strict";var D,T,$,A,x,M,I,z,E,S,O,B,F,R,k,V,j,_,N,H,L,U,q,W,G,Q,X,K,Y,J,Z,ee,te,ie,ne,ae,oe,re,le,ue,se,ce,de,be,pe,me,fe,ge,he,ve,ye,Ce,we,Pe,De,Te,$e,Ae,xe,Me,Ie,ze,Ee,Se,Oe,Be,Fe,Re,ke,Ve,je,_e,Ne,He,Le,Ue,qe,We,Ge,Qe,Xe,Ke,Ye,Je,Ze,et,tt,it,nt,at,ot,rt,lt,ut,st,ct,dt,bt,pt,mt,ft,gt,ht,vt,yt,Ct,wt,Pt,Dt,Tt,$t,At,xt,Mt,It,zt,Et,St,Ot,Bt,Ft,Rt,kt,Vt,jt,_t,Nt,Ht,Lt,Ut,qt,Wt,Gt,Qt,Xt;var Kt={};var Yt=w.getTableActionTemplate;var Jt=h.TitleLevel;var Zt=g.buildExpressionForHeaderVisible;var ei=f.isPathUpdatable;var ti=f.getPathRelativeLocation;var ii=f.getContextRelativeTargetObjectPath;var ni=f.enhanceDataModelPath;var ai=m.isSingleton;var oi=m.isMultipleNavigationProperty;var ri=p.generate;var li=d.ref;var ui=d.pathInModel;var si=d.or;var ci=d.not;var di=d.isConstant;var bi=d.ifElse;var pi=d.fn;var mi=d.constant;var fi=d.compileExpression;var gi=d.and;var hi=c.singletonPathVisitor;var vi=s.StandardActionKeys;var yi=u.getVisualizationsFromPresentationVariant;var Ci=u.getDataVisualizationConfiguration;var wi=l.isDataFieldTypes;var Pi=l.isDataFieldForAnnotation;var Di=r.getInvolvedDataModelObjects;var Ti=o.CreationMode;var $i=a.xml;var Ai=n.defineBuildingBlock;var xi=n.blockEvent;var Mi=n.blockAttribute;var Ii=n.blockAggregation;function zi(e,t,i,n){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function Ei(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function Si(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Oi(e,t)}function Oi(e,t){Oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return Oi(e,t)}function Bi(e,t,i,n,a){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o);if(a&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(a):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function Fi(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const Ri=function(e){var t;let i=null;const n=e;let a=[];const o=(t=n.getAttribute("key"))===null||t===void 0?void 0:t.replace("InlineXML_","");if(n.children.length&&n.localName==="ActionGroup"&&n.namespaceURI&&["sap.fe.macros","sap.fe.macros.table"].includes(n.namespaceURI)){const e=Array.prototype.slice.apply(n.children);let t=0;i=e.reduce((e,i)=>{var n;const a=((n=i.getAttribute("key"))===null||n===void 0?void 0:n.replace("InlineXML_",""))||o+"_Menu_"+t;const r={key:a,text:i.getAttribute("text"),__noWrap:true,press:i.getAttribute("press"),requiresSelection:i.getAttribute("requiresSelection")==="true",enabled:i.getAttribute("enabled")===null?true:i.getAttribute("enabled")};e[r.key]=r;t++;return e},{});a=Object.values(i).slice(-n.children.length).map(function(e){return e.key})}return{key:o,text:n.getAttribute("text"),position:{placement:n.getAttribute("placement"),anchor:n.getAttribute("anchor")},__noWrap:true,press:n.getAttribute("press"),requiresSelection:n.getAttribute("requiresSelection")==="true",enabled:n.getAttribute("enabled")===null?true:n.getAttribute("enabled"),menu:a.length?a:null,menuContentActions:i}};const ki=function(e,t){var i,n;t.key=t.key.replace("InlineXML_","");e.setAttribute("key",t.key);return{key:t.key,type:"Slot",width:e.getAttribute("width"),widthIncludingColumnHeader:e.getAttribute("widthIncludingColumnHeader")?e.getAttribute("widthIncludingColumnHeader")==="true":undefined,importance:e.getAttribute("importance"),horizontalAlign:e.getAttribute("horizontalAlign"),availability:e.getAttribute("availability")||"Default",header:e.getAttribute("header"),template:((i=e.children[0])===null||i===void 0?void 0:i.outerHTML)||"",properties:e.getAttribute("properties")?(n=e.getAttribute("properties"))===null||n===void 0?void 0:n.split(","):undefined,position:{placement:e.getAttribute("placement")||e.getAttribute("positionPlacement"),anchor:e.getAttribute("anchor")||e.getAttribute("positionAnchor")},required:e.getAttribute("required")}};let Vi=(D=Ai({name:"Table",namespace:"sap.fe.macros.internal",publicNamespace:"sap.fe.macros",returnTypes:["sap.fe.macros.table.TableAPI"]}),T=Mi({type:"sap.ui.model.Context",isPublic:true,required:true}),$=Mi({type:"boolean",isPublic:true}),A=Mi({type:"sap.ui.model.Context",isPublic:true}),x=Mi({type:"boolean",isPublic:true}),M=Mi({type:"boolean",isPublic:true}),I=Mi({type:"number",isPublic:true}),z=Mi({type:"boolean",isPublic:true}),E=Mi({type:"string"}),S=Mi({type:"number"}),O=Mi({type:"boolean",isPublic:true}),B=Mi({type:"boolean",isPublic:false}),F=Mi({type:"string",isPublic:true}),R=Mi({type:"string",isPublic:true}),k=Mi({type:"sap.ui.core.TitleLevel",isPublic:true}),V=Mi({type:"boolean",isPublic:true}),j=Mi({type:"string",isPublic:true}),_=Mi({type:"boolean",isPublic:true}),N=Mi({type:"string|boolean",isPublic:true}),H=Mi({type:"boolean",isPublic:true}),L=Mi({type:"string",isPublic:true}),U=Mi({type:"boolean",isPublic:true}),q=Mi({type:"string",isPublic:true}),W=Mi({type:"string",isPublic:true}),G=Mi({type:"sap.ui.model.Context",isPublic:false,required:true,expectedTypes:["EntitySet","NavigationProperty","Singleton"]}),Q=Mi({type:"string"}),X=Mi({type:"boolean"}),K=Mi({type:"string"}),Y=Mi({type:"string"}),J=Mi({type:"string"}),Z=Mi({type:"string"}),ee=Mi({type:"string"}),te=Mi({type:"boolean"}),ie=Mi({type:"boolean"}),ne=Mi({type:"boolean"}),ae=Mi({type:"string"}),oe=Mi({type:"string"}),re=Mi({type:"number"}),le=Mi({type:"boolean"}),ue=Mi({type:"boolean"}),se=Mi({type:"boolean"}),ce=Mi({type:"string"}),de=Mi({type:"string"}),be=Mi({type:"string"}),pe=Mi({type:"string"}),me=Mi({type:"string"}),fe=Mi({type:"string"}),ge=Mi({type:"boolean"}),he=Mi({type:"boolean"}),ve=Mi({type:"number"}),ye=Mi({type:"string"}),Ce=Mi({type:"object",isPublic:true}),we=Mi({type:"sap.ui.model.Context"}),Pe=Mi({type:"string"}),De=Mi({type:"string"}),Te=Mi({type:"boolean"}),$e=Mi({type:"object",isPublic:true,validate:function(e){if(e.name&&!["NewPage","Inline","InlineCreationRows","External"].includes(e.name)){throw new Error(`Allowed value ${e.name} for creationMode does not match`)}return e}}),Ae=Ii({type:"sap.fe.macros.internal.table.Action | sap.fe.macros.internal.table.ActionGroup",isPublic:true,processAggregations:Ri}),xe=Ii({type:"sap.fe.macros.internal.table.Column",isPublic:true,hasVirtualNode:true,processAggregations:ki}),Me=xi(),Ie=xi(),ze=xi(),Ee=xi(),Se=xi(),Oe=xi(),Be=xi(),Fe=xi(),D(Re=(ke=function(i){Si(n,i);function n(e,a,o){var r,l,u,s;var c;c=i.call(this,e,a,o)||this;zi(c,"metaPath",Ve,Ei(c));zi(c,"busy",je,Ei(c));zi(c,"contextPath",_e,Ei(c));zi(c,"enableFullScreen",Ne,Ei(c));zi(c,"enableExport",He,Ei(c));zi(c,"frozenColumnCount",Le,Ei(c));zi(c,"widthIncludingColumnHeader",Ue,Ei(c));zi(c,"rowCountMode",qe,Ei(c));zi(c,"rowCount",We,Ei(c));zi(c,"enablePaste",Ge,Ei(c));zi(c,"pasteVisible",Qe,Ei(c));zi(c,"filterBar",Xe,Ei(c));zi(c,"header",Ke,Ei(c));zi(c,"headerLevel",Ye,Ei(c));zi(c,"headerVisible",Je,Ei(c));zi(c,"id",Ze,Ei(c));zi(c,"isSearchable",et,Ei(c));zi(c,"personalization",tt,Ei(c));zi(c,"readOnly",it,Ei(c));zi(c,"type",nt,Ei(c));zi(c,"useCondensedLayout",at,Ei(c));zi(c,"selectionMode",ot,Ei(c));zi(c,"variantManagement",rt,Ei(c));zi(c,"collection",lt,Ei(c));zi(c,"_apiId",ut,Ei(c));zi(c,"autoBindOnInit",st,Ei(c));zi(c,"columnEditMode",ct,Ei(c));zi(c,"createNewAction",dt,Ei(c));zi(c,"createOutbound",bt,Ei(c));zi(c,"customValidationFunction",pt,Ei(c));zi(c,"dataStateIndicatorFilter",mt,Ei(c));zi(c,"disableAddRowButtonForEmptyData",ft,Ei(c));zi(c,"enableAutoColumnWidth",gt,Ei(c));zi(c,"enableAutoScroll",ht,Ei(c));zi(c,"fieldMode",vt,Ei(c));zi(c,"filterBarId",yt,Ei(c));zi(c,"inlineCreationRowCount",Ct,Ei(c));zi(c,"isAlp",wt,Ei(c));zi(c,"isCompactType",Pt,Ei(c));zi(c,"isOptimizedForSmallDevice",Dt,Ei(c));zi(c,"multiSelectMode",Tt,Ei(c));zi(c,"navigationPath",$t,Ei(c));zi(c,"noDataText",At,Ei(c));zi(c,"rowAction",xt,Ei(c));zi(c,"tableType",Mt,Ei(c));zi(c,"updatablePropertyPath",It,Ei(c));zi(c,"useBasicSearch",zt,Ei(c));zi(c,"searchable",Et,Ei(c));zi(c,"selectionLimit",St,Ei(c));zi(c,"showCreate",Ot,Ei(c));zi(c,"tableDefinition",Bt,Ei(c));zi(c,"tableDefinitionContext",Ft,Ei(c));zi(c,"tableDelegate",Rt,Ei(c));zi(c,"tabTitle",kt,Ei(c));zi(c,"visible",Vt,Ei(c));zi(c,"creationMode",jt,Ei(c));zi(c,"actions",_t,Ei(c));zi(c,"columns",Nt,Ei(c));zi(c,"rowPress",Ht,Ei(c));zi(c,"onContextChange",Lt,Ei(c));zi(c,"onChange",Ut,Ei(c));zi(c,"onSegmentedButtonPressed",qt,Ei(c));zi(c,"variantSaved",Wt,Ei(c));zi(c,"stateChange",Gt,Ei(c));zi(c,"selectionChange",Qt,Ei(c));zi(c,"variantSelected",Xt,Ei(c));c.getTableType=()=>{const e=c.collection.getObject();switch(c.tableType){case"GridTable":return $i`<mdcTable:GridTableType
                rowCountMode="${c.tableDefinition.control.rowCountMode}"
                rowCount="${c.tableDefinition.control.rowCount}"
                selectionLimit="${c.selectionLimit}"
				fixedColumnCount="${c.tableDefinition.control.frozenColumnCount}"
            />`;case"TreeTable":return $i`<mdcTable:TreeTableType
                rowCountMode="${c.tableDefinition.control.rowCountMode}"
                rowCount="${c.tableDefinition.control.rowCount}"
				fixedColumnCount="${c.tableDefinition.control.frozenColumnCount}"
            />`;default:const t=e.$kind==="EntitySet"?"Scroll":undefined;return $i`<mdcTable:ResponsiveTableType
                showDetailsButton="true"
                detailsButtonSetting="{=['Low', 'Medium', 'None']}"
                growingMode="${t}"
            />`}};c.getDependents=()=>{var e;let t=``;const i=c.tableDefinition.actions.find(e=>e.key===vi.Cut);if((i===null||i===void 0?void 0:i.isTemplated)==="true"){t+=$i`<control:CommandExecution
			execute="API.onCut"
			command="Cut"
			enabled="${i.enabled}"
			/>`}const n=c.tableDefinition.actions.find(e=>e.key===vi.Paste);if((n===null||n===void 0?void 0:n.visible)!=="false"&&c.tableType==="TreeTable")t+=$i`<control:CommandExecution
			execute="API.onPaste"
			command="Paste"
			enabled="${n===null||n===void 0?void 0:n.enabled}"
			/>`;if(!c.readOnly&&(e=c.tableDefinition)!==null&&e!==void 0&&e.columns){for(const e of c.tableDefinition.columns){if(e.availability==="Default"&&"annotationPath"in e){t+=c.getValueHelp(e)}}}const a=c.tableDefinition.actions.find(e=>e.key===vi.Create);const o=c.tableDefinition.actions.find(e=>e.key===vi.Delete);if(c.tableDefinition.annotation.isInsertUpdateActionsTemplated&&(a===null||a===void 0?void 0:a.isTemplated)==="true"&&c.tableDefinition.control.nodeType===undefined){t+=$i`<control:CommandExecution
                                execute="${P.pressEventForCreateButton(Ei(c),true)}"
                                visible="${a.visible}"
                                enabled="${a.enabled}"
                                command="Create"
                            />`}if((o===null||o===void 0?void 0:o.isTemplated)==="true"){var r,l,u,s,d;const e=(r=((s=c.collectionEntity)===null||s===void 0?void 0:s.entityType)||((d=c.collectionEntity)===null||d===void 0?void 0:d.targetType))===null||r===void 0?void 0:(l=r.annotations)===null||l===void 0?void 0:(u=l.UI)===null||u===void 0?void 0:u.HeaderInfo;t+=$i`<control:CommandExecution
                        execute="${P.pressEventForDeleteButton(Ei(c),c.collectionEntity.name,e,c.contextObjectPath)}"
                        visible="${o.visible}"
                        enabled="${o.enabled}"
                        command="DeleteEntry"
                        />`}for(const e in c.tableDefinition.commandActions){const i=c.tableDefinition.commandActions[e];t+=`${c.getActionCommand(e,i)}`}t+=`<control:CommandExecution execute="TableRuntime.displayTableSettings" command="TableSettings" />`;if(c.variantManagement==="None"){t+=`\x3c!-- Persistence provider offers persisting personalization changes without variant management --\x3e\n\t\t\t<p13n:PersistenceProvider id="${ri([c.id,"PersistenceProvider"])}" for="${c.id}" />`}if(c.tableType&&["GridTable","TreeTable"].includes(c.tableType)){t+=$i`<plugins:CellSelector enabled="${fi(si(c.tableType!=="TreeTable",ci(c.getDragAndDropEnabled())))}" rangeLimit= "200"/>`}return $i`${t}`};c.getActions=()=>{let e="";if(c.onSegmentedButtonPressed){e=`<mdcat:ActionToolbarAction\n            layoutInformation="{\n                    aggregationName: 'end',\n                    alignment: 'End'\n                }"\n            visible="{= \${pageInternal>alpContentView} === 'Table' }"\n        >\n            <SegmentedButton\n                id="${ri([c.id,"SegmentedButton","TemplateContentView"])}"\n                select="${c.onSegmentedButtonPressed}"\n                selectedKey="{pageInternal>alpContentView}"\n            >\n                <items>`;if(v.isDesktop()){e+=`<SegmentedButtonItem\n                            tooltip="{sap.fe.i18n>M_COMMON_HYBRID_SEGMENTED_BUTTON_ITEM_TOOLTIP}"\n\t\t\t\t\t\t\tkey = "Hybrid"\n\t\t\t\t\t\t\ticon = "sap-icon://chart-table-view"\n\t\t\t\t\t\t\t/>`}e+=`<SegmentedButtonItem\n                        tooltip="{sap.fe.i18n>M_COMMON_CHART_SEGMENTED_BUTTON_ITEM_TOOLTIP}"\n                        key="Chart"\n                        icon="sap-icon://bar-chart"\n                    />\n                    <SegmentedButtonItem\n                        tooltip="{sap.fe.i18n>M_COMMON_TABLE_SEGMENTED_BUTTON_ITEM_TOOLTIP}"\n                        key="Table"\n                        icon="sap-icon://table-view"\n                    />\n                </items>\n            </SegmentedButton>\n        </mdcat:ActionToolbarAction>`}e+=`${Yt(Ei(c))}`;return $i`${e}`};const d=Di(c.metaPath,c.contextPath);c.contextObjectPath=d;const p=o.bindingContexts.converterContext;c.pageTemplateType=p===null||p===void 0?void 0:p.getObject("/templateType");const m=n.setUpTableDefinition(Ei(c),o);c.collection=o.models.metaModel.createBindingContext(m.annotation.collection);c.convertedMetaData=c.contextObjectPath.convertedTypes;c.collectionEntity=c.convertedMetaData.resolvePath(c.tableDefinition.annotation.collection).target;c.setUpId();const f=c.getConverterContext(c.contextObjectPath,(r=c.contextPath)===null||r===void 0?void 0:r.getPath(),o);c._collectionIsDraftEnabled=f.getManifestWrapper().isFilterBarHidden()&&b.isDraftNode(c.collectionEntity)||b.isDraftRoot(c.collectionEntity);c.selectionMode=c.tableDefinition.annotation.selectionMode;c.enableFullScreen=c.tableDefinition.control.enableFullScreen;c.enableExport=c.tableDefinition.control.enableExport;const g=c.tableDefinition.actions.find(e=>e.key===vi.Paste);c.enablePaste=g===null||g===void 0?void 0:g.enabled;c.pasteVisible=g===null||g===void 0?void 0:g.visible;c.frozenColumnCount=c.tableDefinition.control.frozenColumnCount;c.widthIncludingColumnHeader=c.tableDefinition.control.widthIncludingColumnHeader;c.rowCountMode=c.tableDefinition.control.rowCountMode;c.rowCount=c.tableDefinition.control.rowCount;c.updatablePropertyPath=c.tableDefinition.annotation.updatablePropertyPath;c.type=c.tableDefinition.control.type;c.disableAddRowButtonForEmptyData??=c.tableDefinition.control.disableAddRowButtonForEmptyData;c.customValidationFunction??=c.tableDefinition.control.customValidationFunction;c.headerVisible??=c.tableDefinition.control.headerVisible;c.searchable??=c.tableDefinition.annotation.searchable;c.inlineCreationRowCount??=c.tableDefinition.control.inlineCreationRowCount;c.header??=c.tableDefinition.annotation.title;c.selectionLimit??=c.tableDefinition.control.selectionLimit;c.isCompactType??=c.tableDefinition.control.isCompactType;c.creationMode.name??=c.tableDefinition.annotation.create.mode;c.creationMode.createAtEnd??=c.tableDefinition.annotation.create.append;c.createOutbound??=c.tableDefinition.annotation.create.outbound;c.createNewAction??=c.tableDefinition.annotation.create.newAction;c.createOutboundDetail??=c.tableDefinition.annotation.create.outboundDetail;c.personalization??=c.tableDefinition.annotation.p13nMode;c.variantManagement??=c.tableDefinition.annotation.variantManagement;c.enableAutoColumnWidth??=true;c.dataStateIndicatorFilter??=c.tableDefinition.control.dataStateIndicatorFilter;c.isOptimizedForSmallDevice??=t.isSmallDevice();c.navigationPath=m.annotation.navigationPath;if(m.annotation.collection.startsWith("/")&&ai(d.startingEntitySet)){m.annotation.collection=c.navigationPath}c.setReadOnly();if(c.rowPress){c.rowAction="Navigation"}c.rowPress??=(l=c.tableDefinition.annotation.row)===null||l===void 0?void 0:l.press;c.rowAction??=(u=c.tableDefinition.annotation.row)===null||u===void 0?void 0:u.action;c.selectionChange??=c.buildEventHandlerWrapper(c.tableDefinition.control.selectionChange);if(c.personalization==="false"){c.personalization=undefined}else if(c.personalization==="true"){c.personalization="Sort,Column,Filter"}switch(c.personalization){case"false":c.personalization=undefined;break;case"true":c.personalization="Sort,Column,Filter";break;default:}if(c.isSearchable===false){c.searchable=false}else{c.searchable=c.tableDefinition.annotation.searchable}c.autoBindOnInit=!c.filterBar&&!c.filterBarId;let h=false;if(!c.filterBar&&!c.filterBarId&&c.searchable){c.filterBarId=ri([c.id,"StandardAction","BasicSearch"]);h=true}c.useBasicSearch=h;c.tableType=c.type;c.showCreate=((s=c.tableDefinition.actions.find(e=>e.key===vi.Create))===null||s===void 0?void 0:s.visible)||true;switch(c.readOnly){case true:c.columnEditMode="Display";break;case false:c.columnEditMode="Editable";break;default:c.columnEditMode=undefined}return c}Kt=n;n.getVisualizationPath=function t(i,n){const a=ii(i);if(!a){e.error(`Missing meta path parameter for LineItem`);return`@${"com.sap.vocabularies.UI.v1.LineItem"}`}if(i.targetObject.term==="com.sap.vocabularies.UI.v1.LineItem"){return a}const o=n.getEntityTypeAnnotation(a);let r=[];switch(i.targetObject.term){case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":if(i.targetObject.PresentationVariant){r=yi(i.targetObject.PresentationVariant,a,o.converterContext,true)}break;case"com.sap.vocabularies.UI.v1.PresentationVariant":r=yi(i.targetObject,a,o.converterContext,true);break;default:e.error(`Bad metapath parameter for table : ${i.targetObject.term}`)}const l=r.find(e=>e.visualization.term==="com.sap.vocabularies.UI.v1.LineItem");if(l){return l.annotationPath}else{e.error(`Bad meta path parameter for LineItem: ${i.targetObject.term}`);return`@${"com.sap.vocabularies.UI.v1.LineItem"}`}};n.getPresentationPath=function e(t){var i;let n;switch((i=t.targetObject)===null||i===void 0?void 0:i.term){case"com.sap.vocabularies.UI.v1.PresentationVariant":n=ii(t);break;case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":n=ii(t)+"/PresentationVariant";break}return n};n.setUpTableDefinition=function e(t,i){let a=t.tableDefinition;if(!a){var o,r;const e=t.getConverterContext(t.contextObjectPath,(o=t.contextPath)===null||o===void 0?void 0:o.getPath(),i);const u=n.getVisualizationPath(t.contextObjectPath,e);const s=n.getPresentationPath(t.contextObjectPath);const c={};const d={enableExport:t.enableExport,frozenColumnCount:t.frozenColumnCount,widthIncludingColumnHeader:t.widthIncludingColumnHeader,rowCountMode:t.rowCountMode,rowCount:t.rowCount,enableFullScreen:t.enableFullScreen,enablePaste:t.enablePaste,selectionMode:t.selectionMode,type:t.type,creationMode:{name:t.creationMode.name,createAtEnd:t.creationMode.createAtEnd,inlineCreationRowsHiddenInEditMode:t.creationMode.inlineCreationRowsHiddenInEditMode}};if(t.actions){var l;(l=Object.values(t.actions))===null||l===void 0?void 0:l.forEach(e=>{t.actions={...t.actions,...e.menuContentActions};delete e.menuContentActions})}c[u]={actions:t.actions||{},columns:t.columns||{},tableSettings:d};const b=t.getConverterContext(t.contextObjectPath,(r=t.contextPath)===null||r===void 0?void 0:r.getPath(),i,c);const p=Ci(u,t.useCondensedLayout,b,undefined,undefined,s,true);a=p.visualizations[0];t.tableDefinition=a}t.tableDefinitionContext=y.createBindingContext(t.tableDefinition,i);return a};var a=n.prototype;a.setUpId=function e(){if(this.id){this._apiId=this.id;this.id=this.getContentId(this.id)}else{const e=this.tableDefinition;this.id??=e.annotation.id;this._apiId=ri([e.annotation.id,"Table"])}};a.setReadOnly=function e(){if(this.readOnly===undefined&&this.tableDefinition.annotation.displayMode===true){this.readOnly=true}};a._getEntityType=function e(){var t,i;return((t=this.collectionEntity)===null||t===void 0?void 0:t.entityType)||((i=this.collectionEntity)===null||i===void 0?void 0:i.targetType)};a.getValueHelpTemplateFromPath=function e(t,i){return t?`<macros:ValueHelp\n\t\t\t\t\tidPrefix="${ri([this.id,"TableValueHelp"])}"\n\t\t\t\t\tproperty="${t}/Value"\n\t\t\t\t\t${i===true?'useMultiValueField="true"':""}\n\t\t\t\t/>`:""};a.getValueHelp=function e(t){var i,n;const a=this.convertedMetaData.resolvePath(t.annotationPath).target;if(Pi(a)&&((i=a.Target.$target)===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.UI.v1.Chart"){return``}else if(Pi(a)&&((n=a.Target.$target)===null||n===void 0?void 0:n.term)==="com.sap.vocabularies.UI.v1.FieldGroup"){let e=``;for(const i in a.Target.$target.Data){e+=this.getValueHelpTemplateFromPath(t.annotationPath+"/Target/$AnnotationPath/Data/"+i)}return $i`${e}`}else{if(wi(a)){const e=ni(this.contextObjectPath,a.Value.path);const i=ti(this.contextObjectPath,e.navigationProperties);if(oi(i[i.length-1])){return $i`${this.getValueHelpTemplateFromPath(t.annotationPath,true)}`}}return $i`${this.getValueHelpTemplateFromPath(t.annotationPath)}`}};a.getActionCommand=function e(t,i){var n,a,o,l,u;const s=i.annotationPath?this.convertedMetaData.resolvePath(i.annotationPath).target:undefined;const c=i.annotationPath?v.getActionContext(this.metaPath.getModel().createBindingContext(i.annotationPath+"/Action")):undefined;const d=this.metaPath.getModel().createBindingContext(c);const b=d?r.getInvolvedDataModelObjects(d,this.collection):undefined;const p=s===null||s===void 0?void 0:(n=s.ActionTarget)===null||n===void 0?void 0:n.isBound;const m=(s===null||s===void 0?void 0:(a=s.ActionTarget)===null||a===void 0?void 0:(o=a.annotations)===null||o===void 0?void 0:(l=o.Core)===null||l===void 0?void 0:(u=l.OperationAvailable)===null||u===void 0?void 0:u.valueOf())!==false;const f=i.type==="ForAction"?p!==true||m:true;if(f){return $i`<internalMacro:ActionCommand
							action="{tableDefinition>commandActions/${t}}"
							onExecuteAction="${P.pressEventDataFieldForActionButton({contextObjectPath:this.contextObjectPath,id:this.id},s,this.collectionEntity.name,this.tableDefinition.operationAvailableMap,d===null||d===void 0?void 0:d.getObject(),i.isNavigable,i.enableAutoScroll,i.defaultValuesExtensionFunction)}"
							onExecuteIBN="${v.getPressHandlerForDataFieldForIBN(s,"${internal>selectedContexts}",!this.tableDefinition.enableAnalytics)}"
							onExecuteManifest="${i.noWrap?i.press:v.buildActionWrapper(i,this)}"
							isIBNEnabled="${i.enabled??P.isDataFieldForIBNEnabled(this,s,!!s.RequiresContext,s.NavigationAvailable)}"
							isActionEnabled="${i.enabled??P.isDataFieldForActionEnabled(this.tableDefinition,s.Action,!!p,c,i.enableOnSelect,b===null||b===void 0?void 0:b.targetEntityType)}"
							/>`}return``};a.getDragAndDropEnabled=function e(){const t=ei(this.contextObjectPath,{ignoreTargetCollection:true,authorizeUnresolvable:true,pathVisitor:(e,t)=>hi(e,this.contextObjectPath.convertedTypes,t)});const i=ei(this.contextObjectPath,{authorizeUnresolvable:true,pathVisitor:(e,t)=>hi(e,this.contextObjectPath.convertedTypes,t)});return gi(t._type==="Unresolvable"?bi(di(i),i,mi(true)):t,ui("/isEditable","ui"))};a.getDragAndDropConfig=function e(){if(this.tableType==="TreeTable"){return $i`<mdc:dragDropConfig>
				<mdcTable:DragDropConfig
					enabled="${fi(this.getDragAndDropEnabled())}"
					dropPosition="OnOrBetween"
					draggable="true"
					droppable="true"
					dragStart="API.onDragStartDocument"
					dragEnter="API.onDragEnterDocument"
					drop="API.onDropDocument"
				/>
			</mdc:dragDropConfig>`}return""};a.getCreationRow=function e(){if(this.creationMode.name===Ti.CreationRow){const e=this.tableDefinition.actions.find(e=>e.key===vi.CreationRow);if(e!==null&&e!==void 0&&e.isTemplated){return $i`<mdc:creationRow>
							<mdcTable:CreationRow
								id="${ri([this.id,Ti.CreationRow])}"
								visible="${e.visible}"
								apply="${P.pressEventForCreateButton(this,false)}"
								applyEnabled="${e.enabled}"
								macrodata:disableAddRowButtonForEmptyData="${this.disableAddRowButtonForEmptyData}"
								macrodata:customValidationFunction="${this.customValidationFunction}"
							/>
					   	   </mdc:creationRow>`}}return""};a.getRowSetting=function e(){var t,i;let n=`<mdcTable:RowSettings\n        navigated="${(t=this.tableDefinition.annotation.row)===null||t===void 0?void 0:t.rowNavigated}"\n        highlight="${(i=this.tableDefinition.annotation.row)===null||i===void 0?void 0:i.rowHighlighting}"\n        >`;if(this.rowAction==="Navigation"){var a;n+=`<mdcTable:rowActions>\n                <mdcTable:RowActionItem\n                    type = "${this.rowAction}"\n                    press = "${this.tableType==="ResponsiveTable"?"":this.rowPress}"\n                    visible = "${(a=this.tableDefinition.annotation.row)===null||a===void 0?void 0:a.visible}"\n                    />\n                </mdcTable:rowActions>`}n+=`</mdcTable:RowSettings>`;return $i`${n}`};a.getVariantManagement=function e(){if(this.variantManagement==="Control"){return $i`<mdc:variant>
                        <variant:VariantManagement
                            id="${ri([this.id,"VM"])}"
                            for="{this>id}"
                            showSetAsDefault="true"
                            select="{this>variantSelected}"
                            headerLevel="${this.headerLevel}"
                            save="${this.variantSaved}"
                        />
                    </mdc:variant>`}return""};a.getQuickFilter=function e(){var t;if((t=this.tableDefinition.control.filters)!==null&&t!==void 0&&t.quickFilters){const e=this.tableDefinition.control.filters.quickFilters;return $i`<mdc:quickFilter>
						<macroTable:QuickFilterSelector
							id="${ri([this.id,"QuickFilterContainer"])}"
							metaPath="${this.metaPath}"
							filterConfiguration="${e}"
							onSelectionChange="API.onQuickFilterSelectionChange"
						/>
					</mdc:quickFilter>`}return""};a.getCopyProvider=function e(){return $i`<mdc:copyProvider>
						<plugins:CopyProvider 
						visible="${this.tableType==="TreeTable"?ci(ui("/isEditable","ui")):true}"
						/>
					</mdc:copyProvider>`};a.getEmptyRowsEnabled=function e(){var t;return this.creationMode.name===Ti.InlineCreationRows?(t=this.tableDefinition.actions.find(e=>e.key===vi.Create))===null||t===void 0?void 0:t.enabled:undefined};a.buildEventHandlerWrapper=function e(t){if(!t){return undefined}return fi(pi(fi(pi("FPM.getCustomFunction",[t.moduleName,t.methodName,li("$event")])),[li("$event")]))};a.getCoreRequire=function e(){const t=this.tableDefinition.control.additionalRequiredModules??[];return`TableRuntime: 'sap/fe/macros/table/TableRuntime', API: 'sap/fe/macros/table/TableAPI'${t.map((e,t)=>`, customModule${t+1}: '${e}'`).join("")}`};a.getTemplate=function e(){var t,i,n,a,o,r,l,u,s,c;const d=Zt(this);if(this.rowPress){this.rowAction="Navigation"}this.rowPress??=(t=this.tableDefinition.annotation.row)===null||t===void 0?void 0:t.press;const b=(i=this.collectionEntity.annotations.Capabilities)===null||i===void 0?void 0:(n=i.DeleteRestrictions)===null||n===void 0?void 0:(a=n.Deletable)===null||a===void 0?void 0:a.path;const p=P.getUiLineItemObject(this.metaPath,this.convertedMetaData);const m=(o=P.getDelegate)===null||o===void 0?void 0:o.call(P,this.tableDefinition,(r=this.isAlp)===null||r===void 0?void 0:r.toString(),this.tableDefinition.annotation.entityName);const f=`TableRuntime.setContexts(\${$source>/}, '${b}', '${(l=this.collectionEntity.annotations.Common)===null||l===void 0?void 0:l.DraftRoot}', '${this.tableDefinition.operationAvailableMap}', '${P.getNavigationAvailableMap(p)}', '${C.getMultiSelectDisabledActions(p)}', '${this.updatablePropertyPath}')`;const g=this._getEntityType();const h=this.tableType==="TreeTable"?`TableRuntime.onTreeTableContextChanged(\${$source>/}, ${this.tableDefinition.annotation.initialExpansionLevel})`:undefined;const y=this.tableDefinition.actions.find(e=>e.key===vi.Paste);const w=this.tableDefinition.control.createEnablement&&!this.tableDefinition.control.createEnablement.moduleName.startsWith("/extension/")?`{_createEnablement: '${this.tableDefinition.control.createEnablement.moduleName}'}`:undefined;return $i`
            <macroTable:TableAPI
                xmlns="sap.m"
                xmlns:mdc="sap.ui.mdc"
                xmlns:plugins="sap.m.plugins"
                xmlns:mdcTable="sap.ui.mdc.table"
                xmlns:macroTable="sap.fe.macros.table"
                xmlns:mdcat="sap.ui.mdc.actiontoolbar"
                xmlns:core="sap.ui.core"
                xmlns:control="sap.fe.core.controls"
                xmlns:dt="sap.ui.dt"
                xmlns:fl="sap.ui.fl"
                xmlns:variant="sap.ui.fl.variants"
                xmlns:p13n="sap.ui.mdc.p13n"
                xmlns:internalMacro="sap.fe.macros.internal"
                xmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"
                xmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
				core:require="{FPM: 'sap/fe/core/helpers/FPMHelper'}"
                binding="{internal>controls/${this.id}}"
                id="${this._apiId}"
                tableDefinition="{_pageModel>${this.tableDefinitionContext.getPath()}}"
                entityTypeFullyQualifiedName="${g===null||g===void 0?void 0:g.fullyQualifiedName}"
                metaPath="${(u=this.metaPath)===null||u===void 0?void 0:u.getPath()}"
                contextPath="${(s=this.contextPath)===null||s===void 0?void 0:s.getPath()}"
                stateChange="${this.stateChange}"
                selectionChange="${this.selectionChange}"
				contextChange="${this.onContextChange}"
                readOnly="${this.readOnly}"
                filterBar="${this.filterBar}"
                macrodata:tableAPILocalId="${this._apiId}"
                emptyRowsEnabled="${this.getEmptyRowsEnabled()}"
                enableAutoColumnWidth="${this.enableAutoColumnWidth}"
                isOptimizedForSmallDevice="${this.isOptimizedForSmallDevice}"
				widthIncludingColumnHeader="${this.widthIncludingColumnHeader}"
            >
				<template:with path="collection>${v.getTargetCollectionPath(this.collection)}" var="targetCollection">
                <macroTable:layoutData>
                    <FlexItemData maxWidth="100%" />
                </macroTable:layoutData>
                <!-- macrodata has to be an expression binding if it needs to be set as attribute via change handler during templating -->
                    <mdc:Table
                        unittest:id="TableMacroFragment"
						core:require="{${this.getCoreRequire()}}"
                        fl:flexibility="{this>fl:flexibility}"
                        sortConditions="${this.tableDefinition.annotation.sortConditions}"
                        groupConditions="${v.stringifyObject(this.tableDefinition.annotation.groupConditions)}"
                        aggregateConditions="${v.stringifyObject(this.tableDefinition.annotation.aggregateConditions)}"
                        dt:designtime="${this.variantManagement==="None"?"not-adaptable":undefined}"
                        macrodata:kind="${this.collectionEntity._type}"
                        macrodata:navigationPath="${this.navigationPath}"
                        id="${this.id}"
                        busy="${this.busy}"
                        busyIndicatorDelay="0"
                        enableExport="${this.enableExport}"
                        delegate="${m}"
                        rowPress="${this.tableType==="ResponsiveTable"?this.rowPress:undefined}"
                        height="100%"
                        autoBindOnInit="${this.autoBindOnInit}"
                        selectionMode="${this.selectionMode||"None"}"
                        selectionChange="${f}"
                        showRowCount="${this.tableDefinition.control.showRowCount}"
                        ${this.attr("header",this.header)}
                        headerVisible="${d}"
                        headerLevel="${this.headerLevel}"
                        threshold="${this.tableDefinition.annotation.threshold}"
                        noData="${this.noDataText}"
                        p13nMode="${this.personalization}"
                        filter="${this.filterBarId}"
                        paste="API.onPaste($event, $controller)"
                        beforeExport="API.onBeforeExport($event)"
                        class="${this.tableDefinition.control.useCondensedTableLayout===true?"sapUiSizeCondensed":undefined}"
                        multiSelectMode="${this.tableDefinition.control.multiSelectMode}"
                        showPasteButton="${this.tableType==="TreeTable"?"false":y===null||y===void 0?void 0:y.visible}"
                        enablePaste="${this.tableType==="TreeTable"?"false":y===null||y===void 0?void 0:y.enabled}"
                        macrodata:rowsBindingInfo="${P.getRowsBindingInfo(this)}"
                        macrodata:enableAnalytics="${this.tableDefinition.enableAnalytics}"
                        macrodata:creationMode="${this.creationMode.name}"
                        macrodata:inlineCreationRowCount="${this.inlineCreationRowCount}"
                        macrodata:showCreate="${this.showCreate}"
                        macrodata:createAtEnd="${this.creationMode.createAtEnd}"
                        macrodata:enableAutoScroll="${this.enableAutoScroll}"
                        macrodata:displayModePropertyBinding="${this.readOnly}"
                        macrodata:tableType="${this.tableType}"
                        macrodata:targetCollectionPath="${v.getContextPath(null,{context:this.collection})}"
                        macrodata:entityType="${v.getContextPath(null,{context:this.collection})+"/"}"
                        macrodata:metaPath="${v.getContextPath(null,{context:this.collection})}"
                        macrodata:onChange="${this.onChange}"
                        macrodata:hiddenFilters="${P.formatHiddenFilters((c=this.tableDefinition.control.filters)===null||c===void 0?void 0:c.hiddenFilters)}"
                        macrodata:requestGroupId="$auto.Workers"
                        macrodata:segmentedButtonId="${ri([this.id,"SegmentedButton","TemplateContentView"])}"
                        macrodata:enablePaste="${this.tableType==="TreeTable"?"false":this.enablePaste}"
                        macrodata:operationAvailableMap="${v.stringifyCustomData(this.tableDefinition.operationAvailableMap)}"
                        visible="${this.visible}"
						modelContextChange="${h}"
                    >
                        <mdc:dataStateIndicator>
                            <plugins:DataStateIndicator
                                filter="${this.dataStateIndicatorFilter}"
                                enableFiltering="true"
                                dataStateChange="API.onDataStateChange"
                            />
                        </mdc:dataStateIndicator>
                        <mdc:type>
                            ${this.getTableType()}
                        </mdc:type>
                        <mdc:dependents>
                            ${this.getDependents()}
                        </mdc:dependents>
                        <mdc:actions>
                            ${this.getActions()}
                        </mdc:actions>
                        <mdc:rowSettings>
                        ${this.getRowSetting()}
                        </mdc:rowSettings>
                        <mdc:columns>
                            <core:Fragment fragmentName="sap.fe.macros.table.Columns" type="XML" />
                        </mdc:columns>
						${this.getDragAndDropConfig()}
                        ${this.getCreationRow()}
                        ${this.getVariantManagement()}
                        ${this.getQuickFilter()}
                        ${this.getCopyProvider()}
                    </mdc:Table>
				</template:with>
            </macroTable:TableAPI>
        `};return n}(i),Ve=Bi(ke.prototype,"metaPath",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),je=Bi(ke.prototype,"busy",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),_e=Bi(ke.prototype,"contextPath",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),Ne=Bi(ke.prototype,"enableFullScreen",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),He=Bi(ke.prototype,"enableExport",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),Le=Bi(ke.prototype,"frozenColumnCount",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),Ue=Bi(ke.prototype,"widthIncludingColumnHeader",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),qe=Bi(ke.prototype,"rowCountMode",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),We=Bi(ke.prototype,"rowCount",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),Ge=Bi(ke.prototype,"enablePaste",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),Qe=Bi(ke.prototype,"pasteVisible",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),Xe=Bi(ke.prototype,"filterBar",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),Ke=Bi(ke.prototype,"header",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),Ye=Bi(ke.prototype,"headerLevel",[k],{configurable:true,enumerable:true,writable:true,initializer:function(){return Jt.Auto}}),Je=Bi(ke.prototype,"headerVisible",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),Ze=Bi(ke.prototype,"id",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),et=Bi(ke.prototype,"isSearchable",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),tt=Bi(ke.prototype,"personalization",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),it=Bi(ke.prototype,"readOnly",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),nt=Bi(ke.prototype,"type",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),at=Bi(ke.prototype,"useCondensedLayout",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),ot=Bi(ke.prototype,"selectionMode",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),rt=Bi(ke.prototype,"variantManagement",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),lt=Bi(ke.prototype,"collection",[G],{configurable:true,enumerable:true,writable:true,initializer:null}),ut=Bi(ke.prototype,"_apiId",[Q],{configurable:true,enumerable:true,writable:true,initializer:null}),st=Bi(ke.prototype,"autoBindOnInit",[X],{configurable:true,enumerable:true,writable:true,initializer:null}),ct=Bi(ke.prototype,"columnEditMode",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),dt=Bi(ke.prototype,"createNewAction",[Y],{configurable:true,enumerable:true,writable:true,initializer:null}),bt=Bi(ke.prototype,"createOutbound",[J],{configurable:true,enumerable:true,writable:true,initializer:null}),pt=Bi(ke.prototype,"customValidationFunction",[Z],{configurable:true,enumerable:true,writable:true,initializer:null}),mt=Bi(ke.prototype,"dataStateIndicatorFilter",[ee],{configurable:true,enumerable:true,writable:true,initializer:null}),ft=Bi(ke.prototype,"disableAddRowButtonForEmptyData",[te],{configurable:true,enumerable:true,writable:true,initializer:null}),gt=Bi(ke.prototype,"enableAutoColumnWidth",[ie],{configurable:true,enumerable:true,writable:true,initializer:null}),ht=Bi(ke.prototype,"enableAutoScroll",[ne],{configurable:true,enumerable:true,writable:true,initializer:null}),vt=Bi(ke.prototype,"fieldMode",[ae],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),yt=Bi(ke.prototype,"filterBarId",[oe],{configurable:true,enumerable:true,writable:true,initializer:null}),Ct=Bi(ke.prototype,"inlineCreationRowCount",[re],{configurable:true,enumerable:true,writable:true,initializer:null}),wt=Bi(ke.prototype,"isAlp",[le],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),Pt=Bi(ke.prototype,"isCompactType",[ue],{configurable:true,enumerable:true,writable:true,initializer:null}),Dt=Bi(ke.prototype,"isOptimizedForSmallDevice",[se],{configurable:true,enumerable:true,writable:true,initializer:null}),Tt=Bi(ke.prototype,"multiSelectMode",[ce],{configurable:true,enumerable:true,writable:true,initializer:null}),$t=Bi(ke.prototype,"navigationPath",[de],{configurable:true,enumerable:true,writable:true,initializer:null}),At=Bi(ke.prototype,"noDataText",[be],{configurable:true,enumerable:true,writable:true,initializer:null}),xt=Bi(ke.prototype,"rowAction",[pe],{configurable:true,enumerable:true,writable:true,initializer:function(){return undefined}}),Mt=Bi(ke.prototype,"tableType",[me],{configurable:true,enumerable:true,writable:true,initializer:null}),It=Bi(ke.prototype,"updatablePropertyPath",[fe],{configurable:true,enumerable:true,writable:true,initializer:null}),zt=Bi(ke.prototype,"useBasicSearch",[ge],{configurable:true,enumerable:true,writable:true,initializer:null}),Et=Bi(ke.prototype,"searchable",[he],{configurable:true,enumerable:true,writable:true,initializer:null}),St=Bi(ke.prototype,"selectionLimit",[ve],{configurable:true,enumerable:true,writable:true,initializer:null}),Ot=Bi(ke.prototype,"showCreate",[ye],{configurable:true,enumerable:true,writable:true,initializer:null}),Bt=Bi(ke.prototype,"tableDefinition",[Ce],{configurable:true,enumerable:true,writable:true,initializer:null}),Ft=Bi(ke.prototype,"tableDefinitionContext",[we],{configurable:true,enumerable:true,writable:true,initializer:null}),Rt=Bi(ke.prototype,"tableDelegate",[Pe],{configurable:true,enumerable:true,writable:true,initializer:null}),kt=Bi(ke.prototype,"tabTitle",[De],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),Vt=Bi(ke.prototype,"visible",[Te],{configurable:true,enumerable:true,writable:true,initializer:null}),jt=Bi(ke.prototype,"creationMode",[$e],{configurable:true,enumerable:true,writable:true,initializer:function(){return{}}}),_t=Bi(ke.prototype,"actions",[Ae],{configurable:true,enumerable:true,writable:true,initializer:null}),Nt=Bi(ke.prototype,"columns",[xe],{configurable:true,enumerable:true,writable:true,initializer:null}),Ht=Bi(ke.prototype,"rowPress",[Me],{configurable:true,enumerable:true,writable:true,initializer:null}),Lt=Bi(ke.prototype,"onContextChange",[Ie],{configurable:true,enumerable:true,writable:true,initializer:null}),Ut=Bi(ke.prototype,"onChange",[ze],{configurable:true,enumerable:true,writable:true,initializer:null}),qt=Bi(ke.prototype,"onSegmentedButtonPressed",[Ee],{configurable:true,enumerable:true,writable:true,initializer:null}),Wt=Bi(ke.prototype,"variantSaved",[Se],{configurable:true,enumerable:true,writable:true,initializer:null}),Gt=Bi(ke.prototype,"stateChange",[Oe],{configurable:true,enumerable:true,writable:true,initializer:null}),Qt=Bi(ke.prototype,"selectionChange",[Be],{configurable:true,enumerable:true,writable:true,initializer:null}),Xt=Bi(ke.prototype,"variantSelected",[Fe],{configurable:true,enumerable:true,writable:true,initializer:null}),ke))||Re);Kt=Vi;return Kt},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableAPI", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/HookSupport","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controllerextensions/editFlow/NotApplicableContextDialog","sap/fe/core/controllerextensions/routing/NavigationReason","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/PasteHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/SemanticDateOperators","sap/fe/macros/filter/FilterUtils","sap/fe/macros/insights/InsightsService","sap/fe/macros/insights/TableInsightsHelper","sap/fe/macros/table/Utils","sap/m/MessageBox","sap/m/MessageToast","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/model/Filter","../MacroAPI","../insights/CommonInsightsHelper","./TableHelper"],function(e,t,n,o,r,i,a,l,s,c,u,p,g,d,f,b,y,h,m,v,C,w,P,T,M,D,E,x,I){"use strict";var R,A,S,O,F,B,z,_,V,N,k,j,L,H,$,U,Q,q,W,G,Y,K,X,J,Z,ee,te,ne,oe,re,ie,ae,le,se,ce,ue,pe,ge,de,fe,be,ye,he,me,ve,Ce,we,Pe,Te,Me,De,Ee,xe,Ie,Re,Ae,Se,Oe,Fe,Be,ze,_e,Ve,Ne,ke,je,Le,He,$e,Ue,Qe,qe,We,Ge,Ye,Ke,Xe,Je,Ze,et,tt,nt,ot,rt,it,at,lt,st,ct,ut,pt,gt,dt,ft,bt,yt,ht;var mt=x.showGenericErrorMessage;var vt=x.hasInsightActionEnabled;var Ct=T.MessageType;var wt=f.getResourceModel;var Pt=f.getLocalizedText;var Tt=u.xmlEventHandler;var Mt=u.property;var Dt=u.event;var Et=u.defineUI5Class;var xt=u.aggregation;var It=c.convertTypes;var Rt=s.CreationMode;var At=i.Activity;var St=o.controllerExtensionHandler;function Ot(e,t,n,o){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function Ft(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function Bt(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;zt(e,t)}function zt(e,t){zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return zt(e,t)}function _t(e,t,n,o,r){var i={};Object.keys(o).forEach(function(e){i[e]=o[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i);if(r&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(r):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}function Vt(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let Nt=(R=Et("sap.fe.macros.table.TableAPI",{returnTypes:["sap.fe.macros.MacroAPI"]}),A=Mt({type:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"],expectedAnnotations:["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant"]}),S=Mt({type:"string",expectedTypes:["EntitySet","EntityType","Singleton","NavigationProperty"]}),O=Mt({type:"object"}),F=Mt({type:"string"}),B=Mt({type:"boolean"}),z=Mt({type:"string"}),_=Mt({type:"boolean",defaultValue:false}),V=Mt({type:"string",defaultValue:"ResponsiveTable",allowedValues:["GridTable","ResponsiveTable"]}),N=Mt({type:"boolean",defaultValue:true}),k=Mt({type:"boolean",defaultValue:false}),j=Mt({type:"boolean",defaultValue:false}),L=Mt({type:"string"}),H=Mt({type:"string",allowedValues:["None","Single","Multi","Auto","ForceMulti","ForceSingle"]}),$=Mt({type:"string"}),U=Mt({type:"boolean",defaultValue:true}),Q=Mt({type:"boolean",defaultValue:false}),q=Mt({type:"boolean",defaultValue:true}),W=Mt({type:"number"}),G=Mt({type:"boolean",defaultValue:false}),Y=Mt({type:"string",defaultValue:"Fixed",allowedValues:["Auto","Fixed"]}),K=Mt({type:"number",defaultValue:5}),X=xt({type:"sap.fe.macros.table.Action",multiple:true}),J=xt({type:"sap.fe.macros.table.Column",multiple:true}),Z=Mt({type:"boolean",defaultValue:false}),ee=Mt({type:"boolean",defaultValue:false}),te=Mt({type:"boolean",defaultValue:false}),ne=Mt({type:"boolean",defaultValue:false}),oe=Mt({type:"boolean",defaultValue:false}),re=Dt(),ie=Dt(),ae=Dt(),le=Dt(),se=Mt({type:"boolean | string",defaultValue:true}),ce=Mt({type:"string",allowedValues:["Control"]}),ue=Mt({type:"boolean",defaultValue:true}),pe=Mt({type:"sap.fe.macros.table.TableCreationOptions",defaultValue:{name:"Inline",createAtEnd:false,inlineCreationRowsHiddenInEditMode:false}}),ge=Dt(),de=Tt(),fe=Tt(),be=Tt(),ye=Tt(),he=Tt(),me=Tt(),ve=St("collaborationManager","collectAvailableCards"),Ce=Tt(),we=Tt(),Pe=Tt(),Te=Tt(),Me=Tt(),De=Tt(),Ee=Tt(),xe=Tt(),Ie=Tt(),Re=Tt(),Ae=Tt(),Se=Tt(),Oe=Tt(),R(Fe=(Be=function(o){Bt(i,o);function i(e){var t;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}t=o.call(this,e,...r)||this;t.fetchedContextPaths=[];Ot(t,"metaPath",ze,Ft(t));Ot(t,"contextPath",_e,Ft(t));Ot(t,"tableDefinition",Ve,Ft(t));Ot(t,"entityTypeFullyQualifiedName",Ne,Ft(t));Ot(t,"readOnly",ke,Ft(t));Ot(t,"id",je,Ft(t));Ot(t,"busy",Le,Ft(t));Ot(t,"type",He,Ft(t));Ot(t,"enableExport",$e,Ft(t));Ot(t,"enablePaste",Ue,Ft(t));Ot(t,"enableFullScreen",Qe,Ft(t));Ot(t,"filterBar",qe,Ft(t));Ot(t,"selectionMode",We,Ft(t));Ot(t,"header",Ge,Ft(t));Ot(t,"enableAutoColumnWidth",Ye,Ft(t));Ot(t,"isOptimizedForSmallDevice",Ke,Ft(t));Ot(t,"headerVisible",Xe,Ft(t));Ot(t,"frozenColumnCount",Je,Ft(t));Ot(t,"widthIncludingColumnHeader",Ze,Ft(t));Ot(t,"rowCountMode",et,Ft(t));Ot(t,"rowCount",tt,Ft(t));Ot(t,"actions",nt,Ft(t));Ot(t,"columns",ot,Ft(t));Ot(t,"dataInitialized",rt,Ft(t));Ot(t,"bindingSuspended",it,Ft(t));Ot(t,"outDatedBinding",at,Ft(t));Ot(t,"pendingRequest",lt,Ft(t));Ot(t,"emptyRowsEnabled",st,Ft(t));Ot(t,"rowPress",ct,Ft(t));Ot(t,"stateChange",ut,Ft(t));Ot(t,"contextChange",pt,Ft(t));Ot(t,"internalDataRequested",gt,Ft(t));Ot(t,"personalization",dt,Ft(t));Ot(t,"variantManagement",ft,Ft(t));Ot(t,"isSearchable",bt,Ft(t));Ot(t,"creationMode",yt,Ft(t));Ot(t,"selectionChange",ht,Ft(t));t.updateFilterBar();if(t.content){t.content.attachEvent("selectionChange",{},t.onTableSelectionChange,Ft(t))}return t}i.getAPI=function e(t){const n=t.getSource();let r;if(n.isA("sap.ui.model.odata.v4.ODataListBinding")){var i,a;r=(i=this.instanceMap)===null||i===void 0?void 0:(a=i.get(this))===null||a===void 0?void 0:a.find(e=>{var t;return((t=e.content)===null||t===void 0?void 0:t.getRowBinding())===n})}return r||o.getAPI.call(this,t,"sap.fe.macros.table.TableAPI")};var s=i.prototype;s.getSortConditionsQuery=function e(){var t;const n=this.content;const o=(t=n.getSortConditions())===null||t===void 0?void 0:t.sorters;return o?o.map(function(e){var t;const o=(t=n.getPropertyHelper().getProperty(e.name))===null||t===void 0?void 0:t.path;if(o){return`${o}${e.descending?" desc":""}`}return""}).join(","):""};s.getSelectedContexts=function e(){return this.content.getSelectedContexts()};s.addMessage=function e(t){const n=this._getMessageManager();const o=this.content;const r=new M({target:o.getRowBinding().getResolvedPath(),type:t.type,message:t.message,processor:o.getModel(),description:t.description,persistent:t.persistent});n.addMessages(r);return r.getId()};s.checkIfRecommendationRelevant=function e(n){const o=this.getProperty("readOnly");const r=this.getModel("ui").getProperty("/isEditable");const i=t.getTargetView(this);const a=i.getViewData();if(!o&&r&&a.converterType!=="ListReport"){return true}return false};s.removeMessage=function e(t){const n=this._getMessageManager();const o=n.getMessageModel().getData();const r=o.find(e=>e.id===t);if(r){n.removeMessages(r)}};s.refresh=function e(){this.content.getRowBinding().refresh()};s.setQuickFilterCountsAsLoading=function e(){const t=this.content,n=t.getBindingContext("internal"),o=t.getQuickFilter(),r={};for(const e in o.getItems()){r[e]="..."}n.setProperty("quickFilters",{counts:r})};s.refreshSelectedQuickFilterCount=function e(){var t,n;const o=this.content;const r=o.getRowBinding().getCount();const i=o.getQuickFilter();if(i&&(t=this.getTableDefinition().control.filters)!==null&&t!==void 0&&(n=t.quickFilters)!==null&&n!==void 0&&n.showCounts&&r!==undefined){const e=i.getItems().findIndex(e=>e.getKey()===i.getSelectedKey());if(e>-1){var a;(a=o.getBindingContext("internal"))===null||a===void 0?void 0:a.setProperty(`quickFilters/counts/${e}`,v.getCountFormatted(r))}}};s.refreshUnSelectedQuickFilterCounts=async function n(){var o,r,i;const a=this.content,l=a.getQuickFilter(),s=l.getItems(),c=a.getBindingContext("internal"),u=(o=t.getTargetView(this))===null||o===void 0?void 0:o.getController(),p=(r=(i=u).getChartControl)===null||r===void 0?void 0:r.call(i),g=p&&p.getParent(),d=async e=>{const n=e.getKey();const o=t.getFiltersInfoForSV(a,n);const r=await v.getListBindingForCount(a,a.getBindingContext(),{batchGroupId:"$auto",additionalFilters:[...b,...o.filters]});const i=s.findIndex(e=>e.getKey()===n);if(i>-1){c.setProperty(`quickFilters/counts/${i}`,v.getCountFormatted(r))}};const f=g&&g.hasSelections()&&g.getFilter();const b=v.getHiddenFilters(a);if(f){b.push(f)}const y=s.filter(e=>e.getKey()!==l.getSelectedKey()).map(async e=>d(e));try{await Promise.all(y)}catch(t){e.error("Error while retrieving the binding promises",t)}};s._getMessageManager=function e(){return sap.ui.getCore().getMessageManager()};s._getRowBinding=function e(){const t=this.getContent();return t.getRowBinding()};s.getCounts=function e(){const t=this.getContent();return v.getListBindingForCount(t,t.getBindingContext(),{batchGroupId:!this.getProperty("bindingSuspended")?t.data("batchGroupId"):"$auto",additionalFilters:v.getHiddenFilters(t)}).then(e=>v.getCountFormatted(e)).catch(()=>"0")};s.onContextChange=function e(t){this.fireEvent("contextChange",t.getParameters());this.setFastCreationRowEnablement();this.refreshSelectedQuickFilterCount()};s.onFieldLiveChange=function e(t){const n=t.getSource(),o=n.getBindingContext(),r=o.getBinding();if(o.isInactive()){const e=this===null||this===void 0?void 0:this.content;this===null||this===void 0?void 0:this.createEmptyRows(r,e,true)}};s.onQuickFilterSelectionChange=function e(){var n,o,r;const i=this.content;const a=i.getFilter();const l=a&&P.byId(a);if(!(l!==null&&l!==void 0&&(n=l.getSuspendSelection)!==null&&n!==void 0&&n.call(l))){i.rebind()}(o=t.getTargetView(this))===null||o===void 0?void 0:(r=o.getController())===null||r===void 0?void 0:r.getExtensionAPI().updateAppState()};s.onTableRowPress=function e(t,n,o,r){if(o&&o.isInactive()&&o.isTransient()){return false}if(this.getTableDefinition().enableAnalytics&&o&&o.isA("sap.ui.model.odata.v4.Context")&&typeof o.getProperty("@$ui5.node.isExpanded")==="boolean"){return false}else{const e=Object.assign({},r,{reason:l.RowPress});n._routing.navigateForwardToContext(o,e)}};s.onInternalPatchCompleted=function e(){const t=this.getBindingContext("internal");const n=this.getSelectedContexts();p.updateDeleteInfoForSelectedContexts(t,n)};s.onInternalDataReceived=function e(t){const n=this.checkIfRecommendationRelevant(t);if(n){const e=t.getSource().getAllCurrentContexts();const n=e.filter(e=>!this.fetchedContextPaths.includes(e.getPath()));this.getController().recommendations.fetchAndApplyRecommendations(n)}if(t.getParameter("error")){this.getController().messageHandler.showMessageDialog()}};s.collectAvailableCards=function e(t){const n=this.content.getActions();if(vt(n)){t.push((async()=>{const e=await this.getCardManifestTable();return{card:e,title:this.getTableDefinition().headerInfoTypeName??"",callback:this.onAddCardToCollaborationManagerCallback.bind(this)}})())}};s.onInternalDataRequested=function e(t){var n,o;const r=this.content;this.setProperty("dataInitialized",true);const i=this.checkIfRecommendationRelevant(t);if(i){const e=t.getSource().getAllCurrentContexts();this.fetchedContextPaths=e.map(e=>e===null||e===void 0?void 0:e.getPath())}this.fireEvent("internalDataRequested",t.getParameters());if(r.getQuickFilter()&&(n=this.getTableDefinition().control.filters)!==null&&n!==void 0&&(o=n.quickFilters)!==null&&o!==void 0&&o.showCounts){this.setQuickFilterCountsAsLoading();this.refreshUnSelectedQuickFilterCounts()}};s.onPaste=async function t(n,o){const r=n.getParameter("data"),i=n.getSource(),a=i.isA("sap.ui.mdc.Table")?i:i.getParent(),l=a.getBindingContext("internal");if(!this.tableDefinition.control.enablePaste||!this.getModel("ui").getProperty("/isEditable")){return}if(l!==null&&l!==void 0&&l.getProperty("pastableContexts")){const t=l.getProperty("pastableContexts")[0];const n=a.getSelectedContexts()[0];const o=a.getRowBinding().getCurrentContexts().find(e=>e.getPath()===t);if(!o){e.error("The Cut operation is unsuccessful because the relevant context is no longer available")}else{try{await o.move({parent:n})}catch(t){e.error("The move context fails ",t)}l.setProperty("pastableContexts",[]);return}}if(a.getEnablePaste()===true){d.pasteData(r,a,o)}else{const e=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");C.error(e.getText("T_OP_CONTROLLER_SAPFE_PASTE_DISABLED_MESSAGE"),{title:e.getText("C_COMMON_SAPFE_ERROR")})}};s.onCut=function t(n){const o=n.getSource().getParent();const r=o.getBindingContext("internal");if(o.getSelectedContexts().length>1){e.error("Multi cutting is not supported");return}r.setProperty("pastableContexts",o.getSelectedContexts().map(e=>e.getPath()));w.show(f.getResourceModel(o).getText("M_CUT_READY"));o.clearSelection();r.setProperty("cutableContexts",[])};s.onBeforeExport=function e(t){var n;const o=!!((n=t.getParameter("userExportSettings"))!==null&&n!==void 0&&n.splitCells);const r=t.getSource(),a=t.getParameter("exportSettings"),l=this.getTableDefinition();i.updateExportSettings(a,l,r,o)};i.dataStateIndicatorFilter=function e(t,n){var o;const r=(o=n.getBindingContext())===null||o===void 0?void 0:o.getPath();const i=(r?`${r}/`:"")+n.getRowBinding().getPath();return i===t.getTargets()[0]?true:false};s.onDataStateChange=function e(t){const n=t.getSource();const o=t.getParameter("filteredMessages");if(o){const e=o.map(e=>{const t=e.getTechnicalDetails()||{};return t.emptyRowMessage===true&&t.missingColumn}).filter(e=>!!e);if(e.length){const o=sap.ui.getCore().getLibraryResourceBundle("sap.fe.macros").getText(e.length===1?"M_MESSAGESTRIP_EMPTYROW_MANDATORY_HIDDEN":"M_MESSAGESTRIP_EMPTYROW_MANDATORY_HIDDEN_PLURAL",[e.join(", ")]);n.showMessage(o,"Error");t.preventDefault()}const r=n.getModel("internal");r.setProperty("filteredMessages",o,n.getBindingContext("internal"))}};i.updateExportSettings=function e(t,n,o,r){const i=n.columns;if(!n.enableAnalytics&&(n.control.type==="ResponsiveTable"||n.control.type==="GridTable")){t.dataSource.sizeLimit=1e3}if(t.fileType==="PDF"){t.workbook.columns=t.workbook.columns.filter(e=>{var t;const o=(t=P.byId(e.columnId))===null||t===void 0?void 0:t.getPropertyKey();if(o){var r;return((r=n.columns.find(e=>e.name===o))===null||r===void 0?void 0:r.isMultiValue)!==true}return true})}const a=t.workbook.columns;for(let e=a.length-1;e>=0;e--){const t=a[e];const n=P.getLibraryResourceBundle("sap.fe.macros");t.label=Pt(t.label,o);if(t.type==="Boolean"){t.falseValue=n.getText("no");t.trueValue=n.getText("yes")}const l=i===null||i===void 0?void 0:i.find(e=>{if(r){return this.columnWithTargetValueToBeAdded(e,t)}else{return false}});if(l){const o={label:n.getText("TargetValue"),property:Array.isArray(t.property)?t.property:[t.property],template:l.exportDataPointTargetValue};a.splice(e+1,0,o)}}return t};i.columnWithTargetValueToBeAdded=function e(t,n){var o;let r=false;if(t.exportDataPointTargetValue&&((o=t.propertyInfos)===null||o===void 0?void 0:o.length)===1){if(t.relativePath===n.property||n.property[0]===t.propertyInfos[0]||n.property.includes(t.relativePath)||n.property.includes(t.name)){delete n.template;r=true}}return r};s.resumeBinding=function e(t){this.setProperty("bindingSuspended",false);if(t&&!this.getDataInitialized()||this.getProperty("outDatedBinding")){var n;this.setProperty("outDatedBinding",false);(n=this.getContent())===null||n===void 0?void 0:n.rebind()}};s.refreshNotApplicableFields=function e(t){const n=this.getContent();return y.getNotApplicableFilters(t,n)};s.suspendBinding=function e(){this.setProperty("bindingSuspended",true)};s.invalidateContent=function e(){this.setProperty("dataInitialized",false);this.setProperty("outDatedBinding",false)};s.setFastCreationRowEnablement=function e(){const t=this.content;const n=t.getCreationRow();if(n&&!n.getBindingContext()){const e=t.getRowBinding();const o=e.getContext();if(o){I.enableFastCreationRow(n,e.getPath(),o,o.getModel(),t.getModel("ui").getProperty("/isEditable"))}}};s.onAddCardToInsightsPressed=async function t(){try{const e=m.getInsightsRelevantColumns(this);const t=await m.createTableCardParams(this,e);if(t){const e=t.parameters.isNavigationEnabled?undefined:{type:"Warning",text:this.createNavigationErrorMessage(this.content)};h.showInsightsCardPreview(t,e);return}}catch(t){mt(this.content);e.error(t)}};s.getCardManifestTable=async function e(){const t=m.getInsightsRelevantColumns(this);const n=await m.createTableCardParams(this,t);return h.getCardManifest(n)};s.onAddCardToCollaborationManagerCallback=async function t(n){try{if(n){await h.showCollaborationManagerCardPreview(n,this.getController().collaborationManager.getService());return}}catch(t){mt(this.content);e.error(t)}};s.createNavigationErrorMessage=function e(t){const n=f.getResourceModel(t);return n.getText("M_ROW_LEVEL_NAVIGATION_DISABLED_MSG_REASON_EXTERNAL_NAVIGATION_CONFIGURED")};s.onMassEditButtonPressed=function t(n,o){const r=this.content;if(o&&o.massEdit){o.massEdit.openMassEditDialog(r)}else{e.warning("The Controller is not enhanced with Mass Edit functionality")}};s.onTableSelectionChange=function e(t){this.fireEvent("selectionChange",t.getParameters())};s.onActionPress=async function t(n,o,r,i){i.model=n.getSource().getModel();let l=true;if(i.notApplicableContexts&&i.notApplicableContexts.length>0){const e=It(i.model.getMetaModel());const t=e.resolvePath(this.entityTypeFullyQualifiedName).target;const n=new a({entityType:t,notApplicableContexts:i.notApplicableContexts,title:i.label,resourceModel:wt(this)});i.contexts=i.applicableContexts;l=await n.open(this)}if(l){try{return await o.editFlow.invokeAction(r,i)}catch(t){e.info(t)}}};s.getTableDefinition=function e(){return this.tableDefinition};s.updateFilterBar=function e(){const t=this.getContent();const n=this.getFilterBar();if(t&&n&&t.getFilter()!==n){this._setFilterBar(n)}};s._setFilterBar=function e(n){var o;const r=this.getContent();const i=this===null||this===void 0?void 0:this.getId();const a=this.data("tableAPILocalId");const l=a&&n&&i&&i.replace(new RegExp(a+"$"),n);const s=((o=t.getTargetView(this))===null||o===void 0?void 0:o.byId(n))||P.byId(n)||P.byId(l);if(s){if(s.isA("sap.fe.macros.filterBar.FilterBarAPI")){r.setFilter(`${s.getId()}-content`)}else if(s.isA("sap.ui.mdc.FilterBar")){r.setFilter(s.getId())}}};s.checkIfColumnExists=function e(t,n){return t.some(function(e){if((e===null||e===void 0?void 0:e.columnName)===n&&e!==null&&e!==void 0&&e.sColumnNameVisible||(e===null||e===void 0?void 0:e.sTextArrangement)!==undefined&&(e===null||e===void 0?void 0:e.sTextArrangement)===n){return n}})};s.getIdentifierColumn=function e(){const t=this.getContent();const n=this.getTableDefinition().headerInfoTitle;const o=t&&t.getModel().getMetaModel(),r=t.data("metaPath");const i=o.getObject(`${r}/$Type/$Key`);const a=[];if(i&&i.length>0){i.forEach(function(e){if(e!=="IsActiveEntity"){a.push(e)}})}const l=this.getTableDefinition().semanticKeys;const s=[];const c=[];const u=t.getColumns();u.forEach(function(e){const t=e===null||e===void 0?void 0:e.getDataProperty();s.push(t)});s.forEach(function(e){var t,n;const i=o.getObject(`${r}/$Type/${e}@`);const a=i&&((t=i["@com.sap.vocabularies.Common.v1.Text"])===null||t===void 0?void 0:t.$Path);const l=i&&((n=i["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"])===null||n===void 0?void 0:n.$EnumMember);c.push({columnName:e,sTextArrangement:a,sColumnNameVisible:!(l==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly")})});let p;if(n!==undefined&&this.checkIfColumnExists(c,n)){p=n}else if(l!==undefined&&l.length===1&&this.checkIfColumnExists(c,l[0])){p=l[0]}else if(a!==undefined&&a.length===1&&this.checkIfColumnExists(c,a[0])){p=a[0]}return p};s.setEmptyRowsEnabled=function e(t){this.setProperty("emptyRowsEnabled",t);this.setUpEmptyRows(this.content)};s.handleCreateActivate=async function n(o){const i=o.getParameter("context");this.createEmptyRows(o.getSource(),this.content,true);if(!this.validateEmptyRow(i)){o.preventDefault();return}try{const n=i.getPath();try{await(i.created()??Promise.resolve())}catch(t){e.warning(`Failed to activate context ${i.getPath()}`);return}const o=i.getPath();const a=t.getTargetView(this);r.send(a,{action:At.Create,content:o});r.updateLocksForContextPath(a,n,i.getPath())}catch(t){e.error("Failed to activate new row -",t)}};s.setUpEmptyRows=async function e(t){var n;let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(((n=this.tableDefinition.control)===null||n===void 0?void 0:n.creationMode)!==Rt.InlineCreationRows){return}const r=t.getModel("ui");if(!r){return}if(r.getProperty("/isEditablePending")){const e=r.bindProperty("/isEditablePending");await new Promise(t=>{const n=()=>{e.detachChange(n);e.destroy();t()};e.attachChange(n)})}const i=t.getRowBinding();const a=i===null||i===void 0?void 0:i.getHeaderContext();if(i&&i.isResolved()&&i.isLengthFinal()&&a){var l,s;const e=a.getPath();if(!this.emptyRowsEnabled){this.removeEmptyRowsMessages();return this._deleteEmptyRows(i,e)}if(!r.getProperty("/isEditable")){return}if((l=this.tableDefinition.control)!==null&&l!==void 0&&l.inlineCreationRowsHiddenInEditMode&&!((s=t.getBindingContext("ui"))!==null&&s!==void 0&&s.getProperty("createMode"))&&!o){return}const n=i.getAllCurrentContexts().find(function(t){return t.isInactive()&&t.getPath().startsWith(e)});if(!n){this.removeEmptyRowsMessages();await this.createEmptyRows(i,t)}}};s._deleteEmptyRows=function e(t,n){for(const e of t.getAllCurrentContexts()){if(e.isInactive()&&e.getPath().startsWith(n)){e.delete()}}};s.getInactiveContextNumber=function e(t){return t.getAllCurrentContexts().filter(e=>e.isInactive()).length};s.validateEmptyRow=function e(t){const n=this.getTableDefinition().annotation.requiredProperties;if(n!==null&&n!==void 0&&n.length){this.removeEmptyRowsMessages(t);const e=n.filter(e=>!t.getObject(e));if(e.length){const n=sap.ui.getCore().getLibraryResourceBundle("sap.fe.macros");const r=[];let i;for(const a of e){let e;const l=this.getTableDefinition().columns.find(e=>e.relativePath===a||e.propertyInfos&&e.propertyInfos.includes(a));if(!l){e=n.getText("M_TABLE_EMPTYROW_MANDATORY",[a])}else{var o;i=this.content.getColumns().find(e=>e.getPropertyKey()===l.name);e=n.getText(i?"M_TABLE_EMPTYROW_MANDATORY":"M_TABLE_EMPTYROW_MANDATORY_HIDDEN",[((o=i)===null||o===void 0?void 0:o.getHeader())||l.label])}r.push(new M({message:e,processor:this.getModel(),type:Ct.Error,technical:false,persistent:true,technicalDetails:{tableId:this.content.getId(),emptyRowMessage:true,missingColumn:i?undefined:a},target:`${t===null||t===void 0?void 0:t.getPath()}/${a}`}))}P.getMessageManager().addMessages(r);return false}}return true};s.removeEmptyRowsMessages=function e(t){const n=P.getMessageManager();n.removeMessages(n.getMessageModel().getData().filter(e=>{const n=e.getTechnicalDetails()||{};return(t?e.getTargets().some(e=>e.startsWith(t.getPath())):true)&&n.emptyRowMessage&&n.tableId===this.content.getId()}))};s.createEmptyRows=async function n(o,r){var i;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const l=((i=this.tableDefinition.control)===null||i===void 0?void 0:i.inlineCreationRowCount)||1;if(this.creatingEmptyRows||this.getInactiveContextNumber(o)>l){return}const s=Array.from({length:l},()=>({})),c=r.data("tableType")!=="ResponsiveTable",u=true,p=t.getTargetView(r),g=p.getController(),d=g.editFlow,f=t.getAppComponent(r);this.creatingEmptyRows=true;try{const e=a?[{}]:s;const t=await d.createMultipleDocuments(o,e,a?true:c,false,g.editFlow.onBeforeCreate,u);t===null||t===void 0?void 0:t.forEach(async function(e){try{await e.created();f.getSideEffectsService().requestSideEffectsForNavigationProperty(o.getPath(),p.getBindingContext())}catch(e){if(!e.canceled){throw e}}})}catch(t){e.error(t)}finally{this.creatingEmptyRows=false}};s.getDownloadUrlWithFilters=async function e(){const t=this.content;const n=P.byId(t===null||t===void 0?void 0:t.getFilter());if(!n){throw new Error("filter bar is not available")}const o=t.getRowBinding();const r=t.getModel();const i=await n.getParent().getSelectionVariant();const a=b.getSemanticOpsFilterProperties(i._getSelectOptions());const l=v.getAllFilterInfo(t,a.map(e=>e.filterName));const s=n.getPropertyInfoSet();const[c,u]=b.getSemanticDateFiltersWithFlpPlaceholders(a,s);let p=[];if(l.filters.length>0){p=p.concat(l.filters)}if(u.length>0){p.push(...u)}const g=new D({filters:p,and:true});const d=r.bindList(o.getPath(),undefined,undefined,g);let f=await d.requestDownloadUrl();for(const[e,t]of Object.entries(c)){f=f.replace(e,t)}return f};s.onDragEnterDocument=function t(n){const o=n.getParameter("bindingContext");const r=n.getParameter("dragSource");const i=this.getTableDefinition().control.isMoveToPositionAllowed;const a=o.getParent();let l=!a,s=false;let c="OnOrBetween";try{if(i){const e=g.getCustomFunction(i.moduleName,i.methodName,n.getSource().getParent());s=e(r,o)===false;l=l||e(r,a)===false}}catch(t){e.warning("Cannot execute function related to isMoveToPositionAllowed",t)}if(r.isAncestorOf(o)||o===this.content.getBindingContext()||o.getBinding()!==r.getBinding()||l&&s){n.preventDefault();return}if(l){c="On"}else if(s){c="Between"}n.getSource().setDropPosition(c)};s.onDragStartDocument=function e(t){const n=t.getParameter("bindingContext");const o=this.getTableDefinition().control.isNodeMovable;const r=this.getTableDefinition().annotation.updatablePropertyPath;let i=false;try{if(o){i=g.getCustomFunction(o.moduleName,o.methodName,t.getSource())(n)===false}}catch(e){i=false}if(r&&!n.getProperty(r)||i){t.preventDefault()}};s.onDropDocument=async function t(o){n.lock(this.content);const r=o.getParameter("bindingContext");const i=o.getParameter("dropPosition")==="On"?r:r.getParent();return o.getParameter("dragSource").move({parent:i}).catch(t=>{e.error(t)}).finally(()=>{n.unlock(this.content)})};return i}(E),ze=_t(Be.prototype,"metaPath",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),_e=_t(Be.prototype,"contextPath",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),Ve=_t(Be.prototype,"tableDefinition",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),Ne=_t(Be.prototype,"entityTypeFullyQualifiedName",[F],{configurable:true,enumerable:true,writable:true,initializer:null}),ke=_t(Be.prototype,"readOnly",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),je=_t(Be.prototype,"id",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),Le=_t(Be.prototype,"busy",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),He=_t(Be.prototype,"type",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),$e=_t(Be.prototype,"enableExport",[N],{configurable:true,enumerable:true,writable:true,initializer:null}),Ue=_t(Be.prototype,"enablePaste",[k],{configurable:true,enumerable:true,writable:true,initializer:null}),Qe=_t(Be.prototype,"enableFullScreen",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),qe=_t(Be.prototype,"filterBar",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),We=_t(Be.prototype,"selectionMode",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),Ge=_t(Be.prototype,"header",[$],{configurable:true,enumerable:true,writable:true,initializer:null}),Ye=_t(Be.prototype,"enableAutoColumnWidth",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),Ke=_t(Be.prototype,"isOptimizedForSmallDevice",[Q],{configurable:true,enumerable:true,writable:true,initializer:null}),Xe=_t(Be.prototype,"headerVisible",[q],{configurable:true,enumerable:true,writable:true,initializer:null}),Je=_t(Be.prototype,"frozenColumnCount",[W],{configurable:true,enumerable:true,writable:true,initializer:null}),Ze=_t(Be.prototype,"widthIncludingColumnHeader",[G],{configurable:true,enumerable:true,writable:true,initializer:null}),et=_t(Be.prototype,"rowCountMode",[Y],{configurable:true,enumerable:true,writable:true,initializer:null}),tt=_t(Be.prototype,"rowCount",[K],{configurable:true,enumerable:true,writable:true,initializer:null}),nt=_t(Be.prototype,"actions",[X],{configurable:true,enumerable:true,writable:true,initializer:null}),ot=_t(Be.prototype,"columns",[J],{configurable:true,enumerable:true,writable:true,initializer:null}),rt=_t(Be.prototype,"dataInitialized",[Z],{configurable:true,enumerable:true,writable:true,initializer:null}),it=_t(Be.prototype,"bindingSuspended",[ee],{configurable:true,enumerable:true,writable:true,initializer:null}),at=_t(Be.prototype,"outDatedBinding",[te],{configurable:true,enumerable:true,writable:true,initializer:null}),lt=_t(Be.prototype,"pendingRequest",[ne],{configurable:true,enumerable:true,writable:true,initializer:null}),st=_t(Be.prototype,"emptyRowsEnabled",[oe],{configurable:true,enumerable:true,writable:true,initializer:null}),ct=_t(Be.prototype,"rowPress",[re],{configurable:true,enumerable:true,writable:true,initializer:null}),ut=_t(Be.prototype,"stateChange",[ie],{configurable:true,enumerable:true,writable:true,initializer:null}),pt=_t(Be.prototype,"contextChange",[ae],{configurable:true,enumerable:true,writable:true,initializer:null}),gt=_t(Be.prototype,"internalDataRequested",[le],{configurable:true,enumerable:true,writable:true,initializer:null}),dt=_t(Be.prototype,"personalization",[se],{configurable:true,enumerable:true,writable:true,initializer:null}),ft=_t(Be.prototype,"variantManagement",[ce],{configurable:true,enumerable:true,writable:true,initializer:null}),bt=_t(Be.prototype,"isSearchable",[ue],{configurable:true,enumerable:true,writable:true,initializer:null}),yt=_t(Be.prototype,"creationMode",[pe],{configurable:true,enumerable:true,writable:true,initializer:null}),ht=_t(Be.prototype,"selectionChange",[ge],{configurable:true,enumerable:true,writable:true,initializer:null}),_t(Be.prototype,"onContextChange",[de],Object.getOwnPropertyDescriptor(Be.prototype,"onContextChange"),Be.prototype),_t(Be.prototype,"onFieldLiveChange",[fe],Object.getOwnPropertyDescriptor(Be.prototype,"onFieldLiveChange"),Be.prototype),_t(Be.prototype,"onQuickFilterSelectionChange",[be],Object.getOwnPropertyDescriptor(Be.prototype,"onQuickFilterSelectionChange"),Be.prototype),_t(Be.prototype,"onTableRowPress",[ye],Object.getOwnPropertyDescriptor(Be.prototype,"onTableRowPress"),Be.prototype),_t(Be.prototype,"onInternalPatchCompleted",[he],Object.getOwnPropertyDescriptor(Be.prototype,"onInternalPatchCompleted"),Be.prototype),_t(Be.prototype,"onInternalDataReceived",[me],Object.getOwnPropertyDescriptor(Be.prototype,"onInternalDataReceived"),Be.prototype),_t(Be.prototype,"collectAvailableCards",[ve],Object.getOwnPropertyDescriptor(Be.prototype,"collectAvailableCards"),Be.prototype),_t(Be.prototype,"onInternalDataRequested",[Ce],Object.getOwnPropertyDescriptor(Be.prototype,"onInternalDataRequested"),Be.prototype),_t(Be.prototype,"onPaste",[we],Object.getOwnPropertyDescriptor(Be.prototype,"onPaste"),Be.prototype),_t(Be.prototype,"onCut",[Pe],Object.getOwnPropertyDescriptor(Be.prototype,"onCut"),Be.prototype),_t(Be.prototype,"onBeforeExport",[Te],Object.getOwnPropertyDescriptor(Be.prototype,"onBeforeExport"),Be.prototype),_t(Be.prototype,"onDataStateChange",[Me],Object.getOwnPropertyDescriptor(Be.prototype,"onDataStateChange"),Be.prototype),_t(Be.prototype,"onAddCardToInsightsPressed",[De],Object.getOwnPropertyDescriptor(Be.prototype,"onAddCardToInsightsPressed"),Be.prototype),_t(Be.prototype,"onMassEditButtonPressed",[Ee],Object.getOwnPropertyDescriptor(Be.prototype,"onMassEditButtonPressed"),Be.prototype),_t(Be.prototype,"onTableSelectionChange",[xe],Object.getOwnPropertyDescriptor(Be.prototype,"onTableSelectionChange"),Be.prototype),_t(Be.prototype,"onActionPress",[Ie],Object.getOwnPropertyDescriptor(Be.prototype,"onActionPress"),Be.prototype),_t(Be.prototype,"handleCreateActivate",[Re],Object.getOwnPropertyDescriptor(Be.prototype,"handleCreateActivate"),Be.prototype),_t(Be.prototype,"onDragEnterDocument",[Ae],Object.getOwnPropertyDescriptor(Be.prototype,"onDragEnterDocument"),Be.prototype),_t(Be.prototype,"onDragStartDocument",[Se],Object.getOwnPropertyDescriptor(Be.prototype,"onDragStartDocument"),Be.prototype),_t(Be.prototype,"onDropDocument",[Oe],Object.getOwnPropertyDescriptor(Be.prototype,"onDropDocument"),Be.prototype),Be))||Fe);return Nt},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableFullScreenDialog.block", ["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/helpers/ClassSupport","sap/m/Button","sap/m/Dialog","sap/m/library","sap/m/Page","sap/m/Panel","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/util/reflection/JsControlTreeModifier","sap/fe/core/jsx-runtime/jsx"],function(e,t,n,r,l,i,o,a,s,u,c,f){"use strict";var g,d,p,h,b,S,P;var v={};var B=n.defineReference;var m=e.defineBuildingBlock;var T=e.blockAttribute;function C(e,t,n,r){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function A(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;D(e,t)}function D(e,t){D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return D(e,t)}function I(e,t,n,r,l){var i={};Object.keys(r).forEach(function(e){i[e]=r[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i);if(l&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(l):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}function O(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const E=i.ButtonType;let F=(g=m({name:"TableFullScreenDialog",namespace:"sap.fe.macros.table"}),d=T({type:"string",isPublic:true,required:true}),p=B(),g(h=(b=function(e){_(t,e);function t(t){var n;n=e.call(this,t)||this;C(n,"id",S,A(n));C(n,"fullScreenButton",P,A(n));n.fullScreenDialogContentPage=new o;n.enteringFullScreen=false;n.messageBundle=u.getLibraryResourceBundle("sap.fe.macros");return n}v=t;var n=t.prototype;n.onFullScreenToggle=async function e(){this.enteringFullScreen=!this.enteringFullScreen;this.tableAPI=this.getTableAPI();if(!this.tablePlaceHolderPanel){this.tablePlaceHolderPanel=this.createTablePlaceHolderPanel()}if(this.enteringFullScreen){var t,n;(t=this.fullScreenButton.current)===null||t===void 0?void 0:t.setIcon("sap-icon://exit-full-screen");(n=this.fullScreenButton.current)===null||n===void 0?void 0:n.setTooltip(this.messageBundle.getText("M_COMMON_TABLE_FULLSCREEN_MINIMIZE"));this.nonFullScreenTableParent=this.tableAPI.getParent();this._originalAggregationName=await c.getParentAggregationName(this.tableAPI);this.nonFullScreenTableParent.setAggregation(this._originalAggregationName,this.tablePlaceHolderPanel);this.createDialog();this.fullScreenDialogContentPage.addContent(this.tableAPI);this.fullScreenDialog.open()}else{var r,l;(r=this.fullScreenButton.current)===null||r===void 0?void 0:r.setIcon("sap-icon://full-screen");(l=this.fullScreenButton.current)===null||l===void 0?void 0:l.setTooltip(this.messageBundle.getText("M_COMMON_TABLE_FULLSCREEN_MAXIMIZE"));this.nonFullScreenTableParent.setAggregation(this._originalAggregationName,this.tableAPI);this.fullScreenDialog.close()}};n.getTableAPI=function e(){let t=this.fullScreenButton.current;do{t=t.getParent()}while(!t.isA("sap.fe.macros.table.TableAPI"));return t};n.createTablePlaceHolderPanel=function e(){const t=new a({});t.data("tableAPIreference",this.tableAPI);t.data("FullScreenTablePlaceHolder",true);return t};n.createDialog=function e(){if(!this.fullScreenDialog){this.fullScreenDialog=new l({showHeader:false,stretch:true,afterOpen:()=>{this.afterDialogOpen()},beforeClose:()=>{this.beforeDialogClose()},afterClose:()=>{this.afterDialogClose()},endButton:this.getEndButton(),content:this.fullScreenDialogContentPage});this.fullScreenDialog.data("FullScreenDialog",true);this.nonFullScreenTableParent.addDependent(this.fullScreenDialog)}};n.getEndButton=function e(){return new r({text:this.messageBundle.getText("M_COMMON_TABLE_FULLSCREEN_CLOSE"),type:E.Transparent,press:()=>{this.fullScreenDialog.close()}})};n.afterDialogOpen=function e(){var t;(t=this.fullScreenButton.current)===null||t===void 0?void 0:t.focus()};n.beforeDialogClose=function e(){if(this.tableAPI&&this.enteringFullScreen){this.onFullScreenToggle()}};n.afterDialogClose=function e(){var t;const n=s.getOwnerComponentFor(this.tableAPI);const r=s.getOwnerComponentFor(n);(t=this.fullScreenButton.current)===null||t===void 0?void 0:t.focus();r.getRootViewController().getView().getController()._scrollTablesToLastNavigatedItems()};n.getContent=function e(){return f(r,{ref:this.fullScreenButton,id:this.id,tooltip:this.messageBundle.getText("M_COMMON_TABLE_FULLSCREEN_MAXIMIZE"),icon:"sap-icon://full-screen",press:()=>this.onFullScreenToggle(),type:"Transparent",visible:true,enabled:true})};return t}(t),S=I(b.prototype,"id",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),P=I(b.prototype,"fullScreenButton",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),b))||h);v=F;return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableHelper", ["sap/base/Log","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/formatters/TableFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/SizeHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/library","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/CommonHelper","sap/fe/macros/field/FieldTemplating","sap/fe/macros/internal/helpers/ActionHelper","sap/fe/macros/table/TableSizeHelper","sap/ui/mdc/enums/FieldEditMode"],function(e,t,n,i,a,o,r,l,s,c,d,u,v,f,g,p,b){"use strict";var h=f.formatValueRecursively;var m=u.getEditMode;var $=d.isImageURL;var I=d.hasText;var A=c.getTargetObjectPath;var y=c.getContextRelativeTargetObjectPath;var F=l.isPathAnnotationExpression;var C=r.generate;var S=a.ref;var O=a.pathInModel;var T=a.isPathInModelExpression;var x=a.isConstant;var P=a.ifElse;var D=a.getExpressionFromAnnotation;var E=a.formatResult;var N=a.fn;var U=a.constant;var w=a.compileExpression;var j=n.getUiControl;var M=t.getInvolvedDataModelObjects;const B=s.CreationMode;const R={_isStaticAction:function(e,t){let n;if(e){if(Array.isArray(e)){const i=this._getActionOverloadEntityType(t.toString());if(i){n=e.find(function(e){return e.$IsBound&&e.$Parameter[0].$Type===i})}else{n=e[0]}}else{n=e}}return!!n&&typeof n!=="string"&&n.$IsBound&&!!n.$Parameter[0].$isCollection},_getActionOverloadEntityType:function(e){if(e&&e.indexOf("(")>-1){const t=e.split("(");return t[t.length-1].replaceAll(")","")}return undefined},_isActionOverloadOnDifferentType:function(e,t){const n=this._getActionOverloadEntityType(e);return!!n&&t!==n},getFieldsRequestedByPresentationVariant:function(e){var t;return((t=e.RequestAtLeast)===null||t===void 0?void 0:t.map(e=>e.value))||[]},getNavigationAvailableFieldsFromLineItem:function(e){const t=[];(e.getObject()||[]).forEach(function(e){var n;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&!e.Inline&&!e.Determining&&(n=e.NavigationAvailable)!==null&&n!==void 0&&n.$Path){t.push(e.NavigationAvailable.$Path)}});return t},getNavigationAvailableMap:function(e){const t={};e===null||e===void 0?void 0:e.forEach(e=>{if("SemanticObject"in e){const n=`${e.SemanticObject}-${e.Action}`;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&!e.Inline&&e.RequiresContext){if(e.NavigationAvailable!==undefined){t[n]=F(e.NavigationAvailable)?e.NavigationAvailable.path:e.NavigationAvailable}}}});return JSON.stringify(t)},getUiLineItem:function(e){return j(e,`@${"com.sap.vocabularies.UI.v1.LineItem"}`)},getUiLineItemObject:function(e,t){var n;const i=t.resolvePath(e.getPath()).target;if(!i)return undefined;const a=t.resolvePath(e.getPath()).target.Visualizations;const o=a?a===null||a===void 0?void 0:(n=a.find(e=>e.value.indexOf("@"+"com.sap.vocabularies.UI.v1.LineItem")===0))===null||n===void 0?void 0:n.$target:i;return(o===null||o===void 0?void 0:o.term)==="com.sap.vocabularies.UI.v1.LineItem"?o:undefined},createBindingToLoadProperties:function(e){const t=e.map(e=>O(e));return w(E(t,"sap.fe.core.formatters.StandardFormatter#loadProperties"))},create$Select:function(e){const t=[];const n=R.getUiLineItem(e.metaPath);function i(e){if(e&&!t.includes(e)&&e.indexOf("/")!==0){t.push(e)}}function a(e){if(e!==null&&e!==void 0&&e.length){e.forEach(i)}}if(n.getPath().includes(`@${"com.sap.vocabularies.UI.v1.LineItem"}`)){var o,r,l,s,c,d,u,v,f,g,p;const t=M(e.metaPath).targetObject;const b=(e.tableDefinition.operationAvailableProperties||"").split(",");const h=R._filterNonApplicableProperties(b,e.collection);const m=e.collectionEntity.entityType||e.collectionEntity.targetType;const $=(((o=m.annotations.Common)===null||o===void 0?void 0:o.SemanticKey)||[]).map(e=>e.value);if((t===null||t===void 0?void 0:t.$Type)==="com.sap.vocabularies.UI.v1.PresentationVariantType"){a(R.getFieldsRequestedByPresentationVariant(t))}a(R.getNavigationAvailableFieldsFromLineItem(n));a(h);a($);i((r=e.contextObjectPath.targetEntitySet)===null||r===void 0?void 0:(l=r.annotations)===null||l===void 0?void 0:(s=l.Capabilities)===null||s===void 0?void 0:(c=s.DeleteRestrictions)===null||c===void 0?void 0:(d=c.Deletable)===null||d===void 0?void 0:d.path);i((u=e.contextObjectPath.targetEntitySet)===null||u===void 0?void 0:(v=u.annotations)===null||v===void 0?void 0:(f=v.Capabilities)===null||f===void 0?void 0:(g=f.UpdateRestrictions)===null||g===void 0?void 0:(p=g.Updatable)===null||p===void 0?void 0:p.path)}return t.join(",")},getColumnWidth:function(e,t,n,a,o,r,l){if(t.width){return t.width}if(e.enableAutoColumnWidth===true){let s;s=this.getColumnWidthForImage(o)||this.getColumnWidthForDataField(e,t,n,a,o,l)||undefined;if(s){return r?`${s}rem`:s}s=w(E([O("/editMode","ui"),O("tablePropertiesAvailable","internal"),t.name,r,this._shouldIncludeHeaderInColumnwidhCalculation(e,t)],i.getColumnWidth));return s}return undefined},getColumnWidthForImage:function(e){var t,n,i,a,o,r,l,s,c,d,u,v;let f=null;const g=(t=e.targetObject)===null||t===void 0?void 0:(n=t.Value)===null||n===void 0?void 0:(i=n.$target)===null||i===void 0?void 0:i.annotations;const p=(a=e.targetObject)===null||a===void 0?void 0:(o=a.Value)===null||o===void 0?void 0:(r=o.$target)===null||r===void 0?void 0:r.type;if((l=e.targetObject)!==null&&l!==void 0&&l.Value&&m((s=e.targetObject.Value)===null||s===void 0?void 0:s.$target,e,false,false,e.targetObject)===b.Display){var h,A;const t=I(e.targetObject.Value.$target);if(p==="Edm.Stream"&&!t&&g!==null&&g!==void 0&&(h=g.Core)!==null&&h!==void 0&&(A=h.MediaType)!==null&&A!==void 0&&A.includes("image/")){f=6.2}}else if(g&&($((c=e.targetObject)===null||c===void 0?void 0:(d=c.Value)===null||d===void 0?void 0:d.$target)||g!==null&&g!==void 0&&(u=g.Core)!==null&&u!==void 0&&(v=u.MediaType)!==null&&v!==void 0&&v.includes("image/"))){f=6.2}return f},_shouldIncludeHeaderInColumnwidhCalculation(e,t){return t.widthIncludingColumnHeader!==undefined?t.widthIncludingColumnHeader:e.widthIncludingColumnHeader},getColumnWidthForDataField:function(e,t,n,i,a,r){var l,s;const c=(l=a.targetObject)===null||l===void 0?void 0:l.annotations;const d=(s=a.targetObject)===null||s===void 0?void 0:s.$Type;let u=null;if(d==="com.sap.vocabularies.UI.v1.DataFieldForAction"||d==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||d==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&n.Target.$AnnotationPath.indexOf(`@${"com.sap.vocabularies.UI.v1.FieldGroup"}`)===-1){var v;let l;l=o.getButtonWidth(i)||o.getButtonWidth(n===null||n===void 0?void 0:(v=n.Label)===null||v===void 0?void 0:v.toString())||o.getButtonWidth(c===null||c===void 0?void 0:c.Label);const s=p.getWidthForDataFieldForAnnotation(a.targetObject,this._shouldIncludeHeaderInColumnwidhCalculation(e,t)).propertyWidth;if(s>l){u=s}else if(i||c&&(c.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||c.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction")){l+=1.8;u=l}u=u??this.getColumnWidthForChart(e,t,n,l,r)}return u},getColumnWidthForChart(e,t,n,i,a){var r,l;let s,c=null;if(((r=n.Target)===null||r===void 0?void 0:(l=r.$AnnotationPath)===null||l===void 0?void 0:l.indexOf(`@${"com.sap.vocabularies.UI.v1.Chart"}`))!==-1){switch(this.getChartSize(e,t)){case"XS":s=4.4;break;case"S":s=4.6;break;case"M":s=5.5;break;case"L":s=6.9;break;default:s=5.3}i+=1.8;if(!this.getShowOnlyChart(e,t)&&(a!==null&&a!==void 0&&a.title.length||a!==null&&a!==void 0&&a.description.length)){const e=a.title.length>a.description.length?a.title:a.description;const t=o.getButtonWidth(e)+7;const n=t>i?t:i;c=n}else if(i>s){c=i}else{c=s}}return c},getMarginClass:function(e,t,n,i){let a,o="";if(JSON.stringify(e[e.length-1])==JSON.stringify(t)){if(n=="com.sap.vocabularies.UI.v1.VisualizationType/Rating"){o="sapUiNoMarginBottom sapUiNoMarginTop"}}else if(n==="com.sap.vocabularies.UI.v1.VisualizationType/Rating"){o="sapUiNoMarginTop"}else{o="sapUiTinyMarginBottom"}if(i&&i!=="true"&&i!=="false"){const e=i.substring(i.indexOf("{=")+2,i.lastIndexOf("}"));a="{= "+e+" ? '"+o+"' : "+"''"+" }";return a}else{return o}},getVBoxVisibility:function(e,t,n){let a=true;const o=[];if(n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]){return t}for(const n of e){const e=n[`@${"com.sap.vocabularies.UI.v1.Hidden"}`];if(e===undefined||e===false){o.push(false);continue}if(e===true){o.push(true);continue}if(e.$Path){o.push(O(e.$Path));a=false;continue}if(typeof e==="object"){return t}}const r=U(o.length>0&&a!==true);const l=U(o.length>0&&!o.includes(false)&&a);return w(P(r,E(o,i.getVBoxVisibility),P(l,U(false),U(true))))},formatHiddenFilters:function(e){if(e){try{return JSON.stringify(e)}catch(e){return undefined}}return undefined},getElementStableId:function(e,t,n){var i;if(!e){return undefined}const a=n.targetObject;let o;switch(a.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":o=a.Target.value;break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":o=a;break;default:o=((i=a.Value)===null||i===void 0?void 0:i.path)??"";break}return C([e,t,o])},getColumnStableId:function(e,t){return R.getElementStableId(e,"C",t)},getFieldGroupLabelStableId:function(e,t){return R.getElementStableId(e,"FGLabel",t)},_filterNonApplicableProperties:function(e,t){return e&&e.filter(function(e){return t.getObject(`./${e}`)})},getRowsBindingInfo:function(e){const t=M(e.collection,e.contextPath);const n=y(t)||A(t);const i={ui5object:true,suspended:false,path:v.addSingleQuotes(n),parameters:{$count:true},events:{}};if(e.tableDefinition.enable$select){const t=R.create$Select(e);if(t){i.parameters.$select=`'${t}'`}}if(e.tableDefinition.enable$$getKeepAliveContext){i.parameters.$$getKeepAliveContext=true}i.parameters.$$groupId=v.addSingleQuotes("$auto.Workers");i.parameters.$$updateGroupId=v.addSingleQuotes("$auto");i.parameters.$$ownRequest=true;i.parameters.$$patchWithoutSideEffects=true;i.events.patchSent=v.addSingleQuotes(".editFlow.handlePatchSent");i.events.patchCompleted=v.addSingleQuotes("API.onInternalPatchCompleted");i.events.dataReceived=v.addSingleQuotes("API.onInternalDataReceived");i.events.dataRequested=v.addSingleQuotes("API.onInternalDataRequested");i.events.change=v.addSingleQuotes("API.onContextChange");i.events.createActivate=v.addSingleQuotes("API.handleCreateActivate");return v.objectToString(i)},validateCreationRowFields:function(e){if(!e){return false}return Object.keys(e).length>0&&Object.keys(e).every(function(t){return e[t]["validity"]})},pressEventDataFieldForActionButton:function(e,t,n,i,a){let o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let r=arguments.length>6?arguments[6]:undefined;let l=arguments.length>7?arguments[7]:undefined;if(!t)return undefined;const s=t.Action,c=e.contextObjectPath.targetEntityType.fullyQualifiedName,d=typeof a!=="string"&&(this._isStaticAction(a,s)||this._isActionOverloadOnDifferentType(s.toString(),c)),u={contexts:!d?O("selectedContexts","internal"):null,bStaticAction:d?d:undefined,entitySetName:n,applicableContexts:!d?O(`dynamicActions/${t.Action}/aApplicable/`,"internal"):null,notApplicableContexts:!d?O(`dynamicActions/${t.Action}/aNotApplicable/`,"internal"):null,isNavigable:o,enableAutoScroll:r,defaultValuesExtensionFunction:l};u.invocationGrouping=(t===null||t===void 0?void 0:t.InvocationGrouping)==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated";u.controlId=e.id;u.operationAvailableMap=i;u.label=t.Label;return w(N("API.onActionPress",[S("$event"),S("$controller"),t.Action,u]))},isDataFieldForActionEnabled:function(e,t,n,i,a,o){if(!o)return false;const r=this._isStaticAction(i,t);if(this._isActionOverloadOnDifferentType(t.toString(),o.fullyQualifiedName)){const n=e&&JSON.parse(e.operationAvailableMap);if(n!==null&&n!==void 0&&n.hasOwnProperty(t)){return`{= \${internal>dynamicActions/${t}/bEnabled} }`}return true}if(!n||r){return true}let l="";const s=g.getNumberOfContextsExpression(a??"multiselect");const c=`\${internal>dynamicActions/${t}/bEnabled}`;l=`${s} && ${c}`;return`{= ${l}}`},isDataFieldForIBNEnabled:function(t,n,i,a){var o;let r=null;if(F(a)){r=a.path}const l=t===null||t===void 0?void 0:(o=t.tableDefinition)===null||o===void 0?void 0:o.enableAnalytics;if(!i){const i=t.collection.getPath();const o=t.collection.getModel();if(a===false&&!l){e.warning("NavigationAvailable as false is incorrect usage");return false}else if(r&&!l&&F(n===null||n===void 0?void 0:n.NavigationAvailable)&&o.getObject(i+"/$Partner")===n.NavigationAvailable.path.split("/")[0]){return`{= \${${r.substring(r.indexOf("/")+1,r.length)}}}`}return true}let s="",c,d;if(a===true||l){s="%{internal>numberOfSelectedContexts} >= 1"}else if(a===false){e.warning("NavigationAvailable as false is incorrect usage");return false}else{c="%{internal>numberOfSelectedContexts} >= 1";d=`\${internal>ibn/${n.SemanticObject}-${n.Action}/bEnabled}`;s=c+" && "+d}return`{= ${s}}`},pressEventForCreateButton:function(e,t){const n=e.creationMode.name;let i;const a=t?"${$source>}.getParent()":"${$source>}.getParent().getParent().getParent()";let o=a+".getRowBinding() || "+a+".data('rowsBindingInfo').path";switch(n){case B.External:i={creationMode:v.addSingleQuotes(B.External),outbound:v.addSingleQuotes(e.createOutbound)};break;case B.CreationRow:i={creationMode:v.addSingleQuotes(B.CreationRow),creationRow:"${$source>}",createAtEnd:e.creationMode.createAtEnd!==undefined?e.creationMode.createAtEnd:false};o="${$source>}.getParent().getRowBinding()";break;case B.NewPage:case B.Inline:i={creationMode:v.addSingleQuotes(n),createAtEnd:e.creationMode.createAtEnd!==undefined?e.creationMode.createAtEnd:false,tableId:v.addSingleQuotes(e.id),selectedContexts:"${internal>selectedContexts}"};if(e.createNewAction){i.newAction=v.addSingleQuotes(e.createNewAction)}break;case B.InlineCreationRows:return v.generateFunction(".editFlow.createEmptyRowsAndFocus",a);default:return undefined}return v.generateFunction(".editFlow.createDocument",o,v.objectToString(i))},getIBNData:function(e){if(e){const t={semanticObject:v.addSingleQuotes(e.semanticObject),action:v.addSingleQuotes(e.action)};return v.objectToString(t)}},_getExpressionForDeleteButton:function(e,t){if(typeof e==="string"){return v.addSingleQuotes(e,true)}else{const n=D(e);if(x(n)||T(n)){const e=h(n,t);return w(e)}}},pressEventForDeleteButton:function(e,t,n,i){const a="${internal>deletableContexts}";let o,r;if(n!==null&&n!==void 0&&n.Title){o=this._getExpressionForDeleteButton(n.Title.Value,i)}if(n!==null&&n!==void 0&&n.Description){r=this._getExpressionForDeleteButton(n.Description.Value,i)}const l={id:v.addSingleQuotes(e.id),entitySetName:v.addSingleQuotes(t),numberOfSelectedContexts:"${internal>selectedContexts}.length",unSavedContexts:"${internal>unSavedContexts}",lockedContexts:"${internal>lockedContexts}",draftsWithDeletableActive:"${internal>draftsWithDeletableActive}",draftsWithNonDeletableActive:"${internal>draftsWithNonDeletableActive}",controlId:"${internal>controlId}",title:o,description:r,selectedContexts:"${internal>selectedContexts}"};return v.generateFunction(".editFlow.deleteMultipleDocuments",a,v.objectToString(l))},setHeaderLabelVisibility:function(e,t){if(!t){if(e.$Type.indexOf("DataFieldForAction")>-1&&e.Inline){return false}if(e.$Type.indexOf("DataFieldForIntentBasedNavigation")>-1&&e.Inline){return false}return true}return t.some(function(e){if((e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation")&&e[`@${"com.sap.vocabularies.UI.v1.Hidden"}`]!==true){return true}})},getTextOnActionField:function(e,t){if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){return e.Label}if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&t.context.getObject("Target/$AnnotationPath").indexOf("@"+"com.sap.vocabularies.UI.v1.FieldGroup")>-1){const e="Target/$AnnotationPath/Data/";const n=[];for(const i in t.context.getObject(e)){if(t.context.getObject(`${e+i}/$Type`)==="com.sap.vocabularies.UI.v1.DataFieldForAction"||t.context.getObject(`${e+i}/$Type`)==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){n.push(t.context.getObject(`${e+i}/Label`))}}if(n.length>1){return n.reduce(function(e,t){return e.length>t.length?e:t})}else{return n.length===0?undefined:n.toString()}}return undefined},_getResponsiveTableColumnSettings:function(e,t){if(e.tableType==="ResponsiveTable"){return t.settings}return null},getChartSize:function(e,t){const n=this._getResponsiveTableColumnSettings(e,t);if(n&&n.microChartSize){return n.microChartSize}return"XS"},getShowOnlyChart:function(e,t){const n=this._getResponsiveTableColumnSettings(e,t);if(n&&n.showMicroChartLabel){return!n.showMicroChartLabel}return true},getDelegate:function(e,t,n){let i;if(t==="true"){if(e.control.type==="TreeTable"){throw new Error("TreeTable not supported in Analytical ListPage")}i={name:"sap/fe/macros/table/delegates/ALPTableDelegate",payload:{collectionName:n}}}else if(e.control.type==="TreeTable"){i={name:"sap/fe/macros/table/delegates/TreeTableDelegate",payload:{hierarchyQualifier:e.control.hierarchyQualifier,initialExpansionLevel:e.annotation.initialExpansionLevel}}}else{i={name:"sap/fe/macros/table/delegates/TableDelegate"}}return JSON.stringify(i)},setIBNEnablement:function(e,t,n){for(const i in t){e.setProperty(`ibn/${i}`,{bEnabled:false,aApplicable:[],aNotApplicable:[]});const a=[],o=[];const r=t[i];for(let t=0;t<n.length;t++){const l=n[t];if(l.getObject(r)){e.getModel().setProperty(`${e.getPath()}/ibn/${i}/bEnabled`,true);a.push(l)}else{o.push(l)}}e.getModel().setProperty(`${e.getPath()}/ibn/${i}/aApplicable`,a);e.getModel().setProperty(`${e.getPath()}/ibn/${i}/aNotApplicable`,o)}},enableFastCreationRow:async function(t,n,i,a,o){let r,l;if(t){try{await o;if(t.getModel("ui").getProperty("/isEditable")&&!i.isDeleted()){r=a.bindList(n,i,[],[],{$$updateGroupId:"doNotSubmit",$$groupId:"doNotSubmit"});r.refreshInternal=function(){};l=r.create();t.setBindingContext(l);try{await l.created()}catch(t){e.trace("transient fast creation context deleted")}}}catch(t){e.error("Error while computing the final UI state",t)}}}};R.getNavigationAvailableMap.requiresIContext=true;R.getTextOnActionField.requiresIContext=true;return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableRuntime", ["sap/base/Log","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/FPMHelper","sap/fe/core/library","sap/fe/macros/field/FieldRuntime","sap/fe/macros/table/TableHelper","sap/fe/macros/table/Utils"],function(e,t,n,o,i,a,s,r,l,c){"use strict";const d=s.CreationMode;const u={displayTableSettings:function(e){const t=e.getSource().getParent(),o=sap.ui.getCore().byId(`${t.getId()}-settings`);n.fireButtonPress(o)},executeConditionalActionShortcut:function(e,t){const o=t.getParent();if(e!==d.CreationRow){const t=o.getActions().reduce(function(e,t){return e.concat(t.getAction())},[]).find(function(t){return t.getId().endsWith(e)});n.fireButtonPress(t)}else{const e=o.getAggregation("creationRow");if(e&&e.getApplyEnabled()&&e.getVisible()){e.fireApply()}}},setContexts:function(t,n,i,a,s,r,l){o.lock(t);return u.setContextsAsync(t,n,i,a,s,r,l).then(()=>{e.info("Selections updated");return}).catch(t=>{e.error(t)}).finally(()=>{o.unlock(t)})},setContextsAsync:async function(e,n,o,a,s,r,c){const d=r?r.split(","):[];const u=JSON.parse(a);const f=s&&s!=="undefined"&&JSON.parse(s);let g=e.getSelectedContexts();const p=[];const b=e.data("displayModePropertyBinding")==="true"&&o!=="undefined";const m=[];const C={};const y={};const h=e.getBindingContext("internal");if(!h){return}g=g.filter(function(e){return!e.isInactive()});const P=Object.assign(h.getObject()||{},{selectedContexts:g,numberOfSelectedContexts:g.length,dynamicActions:C,ibn:y,deleteEnabled:true,deletableContexts:p,unSavedContexts:[],lockedContexts:[],draftsWithNonDeletableActive:[],draftsWithDeletableActive:[],controlId:"",updatableContexts:m,pasteAuthorized:true,cutableContext:[],semanticKeyHasDraftIndicator:h.getProperty("semanticKeyHasDraftIndicator")?h.getProperty("semanticKeyHasDraftIndicator"):undefined});for(const e of g){const t=e.getObject();for(const e in t){if(e.indexOf("#")===0){let t=e;t=t.substring(1,t.length);P.dynamicActions[t]={enabled:true};h.setProperty("",P)}}const n=c.length===0||!!e.getProperty(c);const o=!b||t.IsActiveEntity;if(n&&o){m.push(e)}}i.updateDeleteInfoForSelectedContexts(h,g);if(!e.data("enableAnalytics")){l.setIBNEnablement(h,f,g)}if(g.length>1){this.disableAction(d,C)}if(P){P["updatableContexts"]=m;P["controlId"]=e.getId();h.setProperty("",P)}const x=e.getParent();if(g.length<=1&&x.tableDefinition.control.createEnablement){const t=g.length?g[0]:undefined;this._updateCreateEnablement(h,x.tableDefinition.control.createEnablement,e,t,x.tableDefinition.control.nodeType)}this.updateCutPasteEnablement(P,e);return t.setActionEnablement(h,u,g,"table")},updateCutPasteEnablement:function(e,t){var n,o;const i=t.getParent().getTableDefinition().control.isNodeMovable;e["cutableContexts"]=(n=i?(o=e["updatableContexts"])===null||o===void 0?void 0:o.filter(e=>a.getCustomFunction(i.moduleName,i.methodName,t)(e)):e["updatableContexts"])===null||n===void 0?void 0:n.map(e=>e.getPath());const s=t.getParent().getTableDefinition().control.isMoveToPositionAllowed;if(s&&e.numberOfSelectedContexts===1){if(!a.getCustomFunction(s.moduleName,s.methodName,t)(null,e.selectedContexts[0])){e.pasteAuthorized=false}}},_updateCreateEnablement:function(e,t,n,o,i){let s;if(i!==undefined){s=i.values.map(e=>e.value)}else{s=[undefined]}const r=a.getCustomFunction(t.moduleName,t.methodName,n);if(!r){return}const l=s.map(e=>{let t=false;try{t=!!(r(e,o)??true)}catch(e){t=true}return t});const c={};c["Create"]=l.some(e=>e);l.forEach((e,t)=>{c[`Create_${t}`]=e});e.setProperty("createEnablement",c)},clearSelection:function(e){e.clearSelection();const t=e.getBindingContext("internal");if(t){t.setProperty("deleteEnabled",false);t.setProperty("numberOfSelectedContexts",0);t.setProperty("selectedContexts",[]);t.setProperty("deletableContexts",[])}const n=e.getParent();if(n.tableDefinition.control.createEnablement){this._updateCreateEnablement(t,n.tableDefinition.control.createEnablement,e,undefined,n.tableDefinition.control.nodeType)}},disableAction:function(e,t){e.forEach(function(e){t[e]={bEnabled:false}})},onFieldChangeInCreationRow:function(e,t){const n=r.getFieldStateOnChange(e),o=n.field,i=o.getId();const a=o.getBindingContext("internal"),s=a.getProperty("creationRowFieldValidity"),l=Object.assign({},s);l[i]=n.state;a.setProperty("creationRowFieldValidity",l);if(t){var c;const e=a.getProperty("creationRowCustomValidity"),t=Object.assign({},e);t[o.getBinding("value").getPath()]={fieldId:o.getId()};a.setProperty("creationRowCustomValidity",t);const n=sap.ui.getCore().getMessageManager();const i=`${(c=o.getBindingContext())===null||c===void 0?void 0:c.getPath()}/${o.getBindingPath("value")}`;n.getMessageModel().getData().forEach(function(e){if(e.target===i){n.removeMessages(e)}})}},onTreeTableContextChanged:function(e,t){const n=e.getRowBinding();if(!n.getContext()){return}const o=n.getAggregation()??{};const i=c.getAllFilterInfo(e);o.expandTo=i.search?100:t;n.setAggregation(o)},onCreateMenuItemPress:function(t,o,i){const s=a.getMdcTable(t.getSource());const r=s===null||s===void 0?void 0:s.getParent();if(!r){return}const l=r.tableDefinition.control.nodeType;if(!l){return}const c=n.getTargetView(r);const d={};d[l.propertyName]=l.values[o].value;c.getController().editFlow.createDocument(s.getRowBinding(),{selectedContexts:i,creationMode:r.tableDefinition.control.creationMode,data:d,tableId:s===null||s===void 0?void 0:s.getId()}).catch(t=>{e.error(`Failed to create new document: ${t}`)})}};return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/TableSizeHelper", ["sap/base/Log","sap/fe/core/helpers/SizeHelper","sap/fe/core/templating/DisplayModeFormatter","sap/m/table/Util"],function(e,t,i,l){"use strict";var o=i.getDisplayMode;const a={getMDCColumnWidthFromDataField:function(e,t,i){let l=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const o=t.find(t=>{var l,o;return t.metadataPath&&((l=i.resolvePath(t.metadataPath))===null||l===void 0?void 0:(o=l.target)===null||o===void 0?void 0:o.fullyQualifiedName)===e.fullyQualifiedName});return o?this.getMDCColumnWidthFromProperty(o,t,l):0},getMDCColumnWidthFromProperty:function(t,i){var o,a,n;let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const d=Object.assign({gap:0,truncateLabel:!r,excludeProperties:[]},(o=t.visualSettings)===null||o===void 0?void 0:o.widthCalculation);let u;if((a=t.propertyInfos)!==null&&a!==void 0&&a.length){u=t.propertyInfos.map(e=>{var t;const l=i.find(t=>t.name===e);return l===null||l===void 0?void 0:(t=l.typeConfig)===null||t===void 0?void 0:t.typeInstance}).filter(e=>e)}else if(t!==null&&t!==void 0&&(n=t.typeConfig)!==null&&n!==void 0&&n.typeInstance){u=[t===null||t===void 0?void 0:t.typeConfig.typeInstance]}const s=u?l.calcColumnWidth(u,t.label,d):null;if(!s){e.error(`Cannot compute the column width for property: ${t.name}`)}return s?parseFloat(s.replace("Rem","")):0},getWidthForDataFieldForAnnotation:function(e,i,l,o){var a;let n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const r=e===null||e===void 0?void 0:(a=e.Target)===null||a===void 0?void 0:a.$target;let d=0,u=0;if(r!==null&&r!==void 0&&r.Visualization){switch(r.Visualization){case"UI.VisualizationType/Rating":const e=r.TargetValue;d=parseInt(e,10)*1.375;break;case"UI.VisualizationType/Progress":default:d=5}const i=r?r.label:e.Label||"";u=n&&i?t.getButtonWidth(i):0}else if(o&&l&&(r===null||r===void 0?void 0:r.$Type)==="com.sap.vocabularies.Communication.v1.ContactType"){d=this.getMDCColumnWidthFromDataField(r.fn.$target,l,o,i)}return{labelWidth:u,propertyWidth:d}},getWidthForDataField:function(i,l,a,n,r){var d,u,s,c;const p=(d=i.Value)===null||d===void 0?void 0:d.$target,v=p===null||p===void 0?void 0:(u=p.annotations)===null||u===void 0?void 0:(s=u.Common)===null||s===void 0?void 0:s.Text,f=o((c=i.Value)===null||c===void 0?void 0:c.$target);let g=0,h=0;if(p){switch(f){case"Description":g=this.getMDCColumnWidthFromDataField(v.$target,a,n,r)-1;break;case"DescriptionValue":case"ValueDescription":case"Value":default:g=this.getMDCColumnWidthFromDataField(p,a,n,r)-1}const e=i.Label?i.Label:p.label;h=l&&e?t.getButtonWidth(e):0}else{e.error(`Cannot compute width for type object: ${i.$Type}`)}return{labelWidth:h,propertyWidth:g}}};return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/Utils", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/helpers/BindingToolkit","sap/fe/macros/DelegateUtil","sap/fe/macros/field/FieldRuntime","sap/fe/macros/filter/FilterUtils","sap/ui/core/Component","sap/ui/core/format/NumberFormat","sap/ui/model/Filter"],function(t,e,n,i,o,a,r,s,c){"use strict";var l=n.pathInModel;var u=n.compileExpression;function f(t){let n=[];const i=t.data("hiddenFilters");if(i&&Array.isArray(i.paths)){i.paths.forEach(function(i){const o=e.getFiltersInfoForSV(t,i.annotationPath);n=n.concat(o.filters)})}return n}function g(t){let n=f(t);const i=t.getQuickFilter();if(i){const o=i.getSelectedKey()||i.getItems()[0].getKey();n=n.concat(e.getFiltersInfoForSV(t,o).filters)}return n}function m(t,e,n){let i;const o=t.data("rowsBindingInfo"),a=t.getModel();const r=n.batchGroupId||"",s=b(t);let l=Array.isArray(n.additionalFilters)?n.additionalFilters:[];const u=s.bindingPath?s.bindingPath:o.path;l=l.concat(s.filters).concat(p(t));const f=new c({filters:l,and:true});const g=a.bindList((e?`${e.getPath()}/`:"")+u,t.getBindingContext(),[],f);return g.fetchFilter(g.getContext()).then(function(t){i=a.bindProperty(`${g.getPath()}/$count`,g.getContext(),{$$groupId:r||"$auto",$filter:t[0],$search:s.search});return i.requestValue()}).then(function(t){i.destroy();g.destroy();return t})}function d(t){const e=s.getIntegerInstance({groupingEnabled:true});return e.format(t)}function b(t,e){const n=t.getParent().getTableDefinition();let i=e||[];function o(t){const e=t.getParent().getTableDefinition().aggregates;return Object.keys(e).map(function(t){return e[t].relativePath})}if(n.enableAnalytics){i=i.concat(o(t));if(!n.enableBasicSearch){i=i.concat(["search"])}}return a.getFilterInfo(t.getFilter(),{ignoredProperties:i,targetControl:t})}function p(t){const e=t.getP13nMode();if(e&&e.includes("Filter")){const e=(i.getCustomData(t,"sap_fe_ControlDelegate_propertyInfoMap")||[]).filter(function(t){return t&&!(t.filterable===false)}),n=a.getFilterInfo(t,{propertiesMetadata:e});if(n&&n.filters){return n.filters}}return[]}function h(t,e){const n=v.getFilterInfo(t,e);return{filters:n.filters.concat(g(t),v.getP13nFilters(t)),search:n.search,bindingPath:n.bindingPath}}function O(t){return P(t).promise}function F(t){const e=P(t);if(e.resolve){e.resolve(t);t.data("boundPromiseResolve",null)}}function P(t){if(!t.data("boundPromise")){let e;t.data("boundPromise",new Promise(function(t){e=t}));if(t.isBound()){e(t)}else{t.data("boundPromiseResolve",e)}}return{promise:t.data("boundPromise"),resolve:t.data("boundPromiseResolve")}}function j(n,a){const s=n.getView();const c=s.getBindingContext("internal");if(c){const f=i.getCustomData(a,"targetCollectionPath");if(f){const i=n.getOwnerComponent();const g=r.getOwnerComponentFor(i);const m=g.getMetaModel();const d=g.getShellServices();const b=o._fnFixHashQueryString(d.getHash());const p=a.getParent().getTableDefinition().columns;const h=[];const O=[];const F=[];let P="",j,v;let C;const $=[];let y,I;for(let t=0;t<p.length;t++){j=p[t].annotationPath;if(j){v=m.getObject(j);if(v&&v.$kind==="Property"){P=p[t].annotationPath}else if(v&&v.$Type==="com.sap.vocabularies.UI.v1.DataField"){P=`${f}/${m.getObject(`${j}/Value/$Path`)}`}}if(P!==""){const t=Object.keys(m.getObject(P+"@"));for(let n=0;n<t.length;n++){if(!F.includes(P)&&t[n].indexOf(`@${"com.sap.vocabularies.Common.v1.SemanticObject"}`)===0&&!t[n].includes(`@${"com.sap.vocabularies.Common.v1.SemanticObjectMapping"}`)&&!t[n].includes(`@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`)){I=/#(.*)/.exec(t[n]);y=I?I[1]:"";$.push(e.getSemanticObjectPromise(g,s,m,P,y));F.push(P)}}}P=""}if($.length===0){return Promise.resolve()}else{Promise.all($).then(function(t){const n=[];let i;const o=t.filter(function(t){if(t.semanticObject&&typeof t.semanticObject.semanticObject==="object"){i=u(l(t.semanticObject.semanticObject.$Path));t.semanticObject.semanticObject=i;t.semanticObjectForGetLinks[0].semanticObject=i;return true}else if(t){return t.semanticObject!==undefined}else{return false}});for(let t=0;t<o.length;t++){C=o[t];if(C&&C.semanticObject&&!(C.semanticObject.semanticObject.indexOf("{")===0)){h.push(C.semanticObjectForGetLinks);O.push({semanticObject:C.semanticObject&&C.semanticObject.semanticObject,unavailableActions:C.unavailableActions,path:o[t].semanticObjectPath});n.push(d.getLinksWithCache([C.semanticObjectForGetLinks]))}}return e.updateSemanticTargets(n,O,c,b)}).catch(function(e){t.error("fnGetSemanticTargetsFromTable: Cannot get Semantic Objects",e)})}}}}const v={getCountFormatted:d,getHiddenFilters:f,getListBindingForCount:m,getFilterInfo:b,getP13nFilters:p,getAllFilterInfo:h,whenBound:O,onTableBound:F,getSemanticTargetsFromTable:j};return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/delegates/ALPTableDelegate", ["sap/base/util/deepClone","sap/fe/core/CommonUtils","sap/fe/macros/chart/ChartUtils","sap/fe/macros/DelegateUtil","sap/fe/macros/table/delegates/TableDelegate","sap/fe/macros/table/Utils","sap/ui/model/Filter"],function(e,t,n,i,o,a,l){"use strict";const s=Object.assign({},o,{apiVersion:2,_internalUpdateBindingInfo:function(o,r){var c,g;let d;let f={},u={};let p;Object.assign(r,e(i.getCustomData(o,"rowsBindingInfo")));if(o.getRowBinding()){r.suspended=false}const h=t.getTargetView(o);const C=(c=(g=h.getController()).getChartControl)===null||c===void 0?void 0:c.call(g);const b=C===null||C===void 0?void 0:C.getParent();const v=b===null||b===void 0?void 0:b.hasSelections();u=a.getAllFilterInfo(o);const m=u&&u.filters;d=u;if(v){f=n.getAllFilterInfo(C);p=f&&f.filters?t.getChartPropertiesWithoutPrefixes(f.filters):null;d=f}const P=(m&&p?m.concat(p):p||m)||[];const I=P.length>0&&new l({filters:P,and:true});if(d.bindingPath){r.path=d.bindingPath}s.updateBindingInfoWithSearchQuery(r,d,I)},rebind:function(e,t){const n=e.getBindingContext("pageInternal");const i=n===null||n===void 0?void 0:n.getProperty(`${n.getPath()}/alpContentView`);if(i!=="Chart"){o.rebind(e,t)}}});return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/delegates/TableDelegate", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/deepEqual","sap/base/util/deepExtend","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/ExcelFormatHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/SizeHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/type/EDM","sap/fe/macros/CommonHelper","sap/fe/macros/DelegateUtil","sap/fe/macros/filterBar/FilterBarDelegate","sap/fe/macros/table/TableSizeHelper","sap/fe/macros/table/Utils","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/mdc/odata/v4/TableDelegate","sap/ui/mdc/odata/v4/TypeMap","sap/ui/model/Filter","sap/ui/model/json/JSONModel","../TableHelper","../TableRuntime"],function(e,t,n,o,i,a,r,l,s,d,c,u,p,g,f,m,h,v,y,b,C,P,D,F,T,_,I,x){"use strict";var M=f.isTypeFilterable;var S=g.isMultipleNavigationProperty;var A=u.getResourceModel;var E=u.getLocalizedText;var B=r.getInvolvedDataModelObjects;const w="/semanticKeyHasDraftIndicator";const O="searchFired";const V="columnAdded";return Object.assign({},D,{apiVersion:2,_computeVisualSettingsForFieldGroup:function(e,t,n){if(t.name.indexOf("DataFieldForAnnotation::FieldGroup::")===0){const i=e.getColumns().find(function(e){return e.getDataProperty()===t.name});const a=i?i.data("showDataFieldsLabel")==="true":false;const r=e.getModel().getMetaModel();const l=B(r.getContext(t.metadataPath));const s=l.convertedTypes;const d=l.targetObject;const c=d.Target.$target;const u=[];c.Data.forEach(function(e){let t;switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":t=y.getWidthForDataFieldForAnnotation(e,false,n,s,a);break;case"com.sap.vocabularies.UI.v1.DataField":t=y.getWidthForDataField(e,a,n,s,false);break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":t={labelWidth:0,propertyWidth:p.getButtonWidth(e.Label)};break;default:}if(t){u.push(t.labelWidth+t.propertyWidth)}});const g=u.reduce(function(e,t){return Math.max(e,t)},0);t.visualSettings=o(t.visualSettings,{widthCalculation:{verticalArrangement:true,minWidth:Math.ceil(g)}})}},_computeVisualSettingsForPropertyWithValueHelp:function(e,t){const n=e.getParent();if(!t.propertyInfos){const i=e.getModel().getMetaModel();if(t.metadataPath&&i){const e=i.getObject(`${t.metadataPath}@`);if(e&&e["@com.sap.vocabularies.Common.v1.ValueList"]){t.visualSettings=o(t.visualSettings||{},{widthCalculation:{gap:n.getProperty("readOnly")?0:4}})}}}},_computeVisualSettingsForPropertyWithUnit:function(e,t,n,i,a){const r=e?e.getParent():null;const l=i||a;if(l){t.visualSettings=o(t.visualSettings,{widthCalculation:{gap:Math.ceil(p.getButtonWidth(l))}})}if(n){t.visualSettings=o(t.visualSettings,{widthCalculation:{gap:r&&r.getReadOnly()?0:6}})}},_computeLabel:function(e,t){if(e.label){var n;const o=t[e.label];if((o===null||o===void 0?void 0:o.length)>1&&(n=e.path)!==null&&n!==void 0&&n.includes("/")&&e.additionalLabels){e.label=e.label+" ("+e.additionalLabels.join(" / ")+")"}delete e.additionalLabels}},_updatePropertyInfo:function(e,t){const n={};const i=e.getP13nMode();t.forEach(e=>{if(!e.propertyInfos&&e.label){if(i!==null&&i!==void 0&&i.includes("Sort")&&e.sortable||i!==null&&i!==void 0&&i.includes("Filter")&&e.filterable||i!==null&&i!==void 0&&i.includes("Group")&&e.groupable){n[e.label]=n[e.label]!==undefined?n[e.label].concat([e]):[e]}}});t.forEach(i=>{this._computeVisualSettingsForFieldGroup(e,i,t);this._computeVisualSettingsForPropertyWithValueHelp(e,i);i.typeConfig=o(i.typeConfig,{});this._computeLabel(i,n)});t.push({name:"$editState",path:"$editState",groupLabel:"",group:"",typeConfig:F.getTypeConfig("sap.ui.model.odata.type.String",{},{}),visible:false,groupable:false,sortable:false,filterable:false});return t},getColumnsFor:function(e){return e.getParent().getTableDefinition().columns},_getAggregatedPropertyMap:function(e){return e.getParent().getTableDefinition().aggregates},fetchExportCapabilities:function(t){const n={XLSX:{}};let o;return h.fetchModel(t).then(function(e){o=e;return o.getMetaModel().getObject("/$EntityContainer@Org.OData.Capabilities.V1.SupportedFormats")}).then(function(e){const t=(e||[]).map(e=>e.toLowerCase());if(t.includes("application/pdf")){return o.getMetaModel().getObject("/$EntityContainer@com.sap.vocabularies.PDF.v1.Features")}return undefined}).then(function(e){if(e){n["PDF"]=Object.assign({},e)}return}).catch(function(t){e.error(`An error occurs while computing export capabilities: ${t}`)}).then(function(){return n})},_isFilterableNavigationProperty:function(e,t,n){const o=B(t.getContext(h.getCustomData(n,"metaPath"))),i=B(t.getContext(e.annotationPath)).navigationProperties,a=i.findIndex(e=>{var t;return((t=e.targetType)===null||t===void 0?void 0:t.name)===o.targetEntityType.name}),r=i.slice(a>0?a:0);return!e.relativePath.includes("/")||e.isPartOfLineItem===true&&!r.some(S)},_fetchPropertyInfo:function(e,t,n,o){var i,a,r;const l=t.annotationPath,s=e.getObject(l),d=e.createBindingContext(l),c=(i=t.typeConfig)!==null&&i!==void 0&&i.className&&M(t.typeConfig.className)?F.getTypeConfig(t.typeConfig.className,t.typeConfig.formatOptions,t.typeConfig.constraints):{},u=m.isPropertyFilterable(d,s),p=t.typeConfig&&t.typeConfig.className&&((a=t.typeConfig.className)===null||a===void 0?void 0:a.indexOf("Edm."))!==0,g=h.getCustomData(n,"enableAnalytics")==="true",f=g?this._getAggregatedPropertyMap(n):{},v=E(t.label??"",o??n);const y=E(t.tooltip??"",o??n);const b={name:t.name,metadataPath:l,groupLabel:t.groupLabel,group:t.group,label:v,tooltip:y,typeConfig:c,visible:t.availability!=="Hidden"&&!p,exportSettings:this._setPropertyInfoExportSettings(t.exportSettings,t),unit:t.unit};if(t.visualSettings&&Object.keys(t.visualSettings).length>0){b.visualSettings=t.visualSettings}if(t.exportDataPointTargetValue){b.exportDataPointTargetValue=t.exportDataPointTargetValue}if((r=t.propertyInfos)!==null&&r!==void 0&&r.length){b.propertyInfos=t.propertyInfos}else{var C,P;b.path=t.relativePath;b.sortable=t.sortable;if(g){this._updateAnalyticalPropertyInfoAttributes(b,t)}b.filterable=!!u&&((C=t.textArrangement)===null||C===void 0?void 0:C.mode)!=="Description"&&this._isFilterableNavigationProperty(t,e,n)&&(!g||!f[b.name]&&!((P=t.extension)!==null&&P!==void 0&&P.technicallyGroupable));b.key=t.isKey;b.groupable=t.isGroupable;if(t.textArrangement){const e=this.getColumnsFor(n).find(function(e){var n;return e.name===((n=t.textArrangement)===null||n===void 0?void 0:n.textProperty)});if(e){b.mode=t.textArrangement.mode;b.valueProperty=t.relativePath;b.descriptionProperty=e.relativePath}}b.text=t.textArrangement&&t.textArrangement.textProperty;b.caseSensitive=t.caseSensitive;if(t.additionalLabels){b.additionalLabels=t.additionalLabels.map(e=>E(e,o||n))}}this._computeVisualSettingsForPropertyWithUnit(n,b,t.unit,t.unitText,t.timezoneText);return b},_setPropertyInfoExportSettings:function(e,t){var n;const o=this._getExportFormat((n=t.typeConfig)===null||n===void 0?void 0:n.className);if(o&&e){e.format=o}return e},_updateAnalyticalPropertyInfoAttributes(e,t){if(t.aggregatable){e.aggregatable=t.aggregatable}if(t.extension){e.extension=t.extension}},_fetchComputedPropertyInfo:function(e,t,n){let o="";o=E(e.label,n||t);const i={name:e.name,label:o.toString(),type:"Edm.String",visible:e.availability!=="Hidden",filterable:false,sortable:false,groupable:false,exportSettings:null};return i},_fetchCustomPropertyInfo:function(e,t,n){let o="";if(e.header){if(e.header.startsWith("{metaModel>")){const n=e.header.substring(11,e.header.length-1);o=t.getModel().getMetaModel().getObject(n)}else{o=E(e.header,n||t)}}const i={name:e.name,groupLabel:undefined,group:undefined,label:o.toString(),type:"Edm.String",visible:e.availability!=="Hidden",exportSettings:e.exportSettings,visualSettings:e.visualSettings};if(e.propertyInfos&&e.propertyInfos.length){i.propertyInfos=e.propertyInfos}else{i.path=e.name;i.sortable=false;i.filterable=false}return i},_bColumnHasPropertyWithDraftIndicator:function(e){return!!(e.formatOptions&&e.formatOptions.hasDraftIndicator||e.formatOptions&&e.formatOptions.fieldGroupDraftIndicatorPropertyPath)},_updateDraftIndicatorModel:function(e,t){const n=e.getColumns();const o=e.getBindingContext("internal");const i=o&&o.getPath();if(n&&o){for(const e in n){if(this._bColumnHasPropertyWithDraftIndicator(t)&&t.name===n[e].getDataProperty()){if(o.getProperty(i+w)===undefined){o.setProperty(i+w,t.name);break}}}}},_fetchPropertiesForEntity:function(t,n,o,i){const r=c.getEntitySetPath(n);let l=[];const s=a.getFilterRestrictionsByPath(r,o);const d=s.NonFilterableProperties;return Promise.resolve(this.getColumnsFor(t)).then(e=>{if(e){let n;e.forEach(e=>{this._updateDraftIndicatorModel(t,e);switch(e.type){case"Annotation":n=this._fetchPropertyInfo(o,e,t,i);if(n&&!d.includes(n.name)){n.maxConditions=h.isMultiValue(n)?-1:1}break;case"Computed":n=this._fetchComputedPropertyInfo(e,t,i);break;case"Slot":case"Default":n=this._fetchCustomPropertyInfo(e,t,i);break;default:throw new Error(`unhandled switch case ${e.type}`)}l.push(n)})}return}).then(()=>{l=this._updatePropertyInfo(t,l);return}).catch(function(t){e.error(`An error occurs while updating fetched properties: ${t}`)}).then(function(){return l})},_getCachedOrFetchPropertiesForEntity:function(e,t,n,o){const i=h.getCachedProperties(e);if(i){return Promise.resolve(i)}return this._fetchPropertiesForEntity(e,t,n,o).then(function(t){h.setCachedProperties(e,t);return t})},_setTableNoDataText:function(e,t){let n="";const o=b.getAllFilterInfo(e),i=t.path.startsWith("/")?t.path.substr(1):t.path;const a=function(){if(e.data("hiddenFilters")||e.getQuickFilter()){return"M_TABLE_AND_CHART_NO_DATA_TEXT_MULTI_VIEW"}else{return"T_TABLE_AND_CHART_NO_DATA_TEXT_WITH_FILTER"}};const r=e.getFilter();if(r&&!/BasicSearch$/.test(r)){if(o.search||o.filters&&o.filters.length){n=a()}else{n="T_TABLE_AND_CHART_NO_DATA_TEXT"}}else if(o.search||o.filters&&o.filters.length){n=a()}else{n="M_TABLE_AND_CHART_NO_FILTERS_NO_DATA_TEXT"}e.setNoData(A(e).getText(n,undefined,i))},handleTableDataReceived:function(e,t){const n=e&&e.getRowBinding(),o=t&&t.getProperty("dataReceivedAttached");if(t&&!o){n.attachDataReceived(function(){t.setProperty("selectedContexts",[]);const n=e.getSelectedContexts();t.setProperty("selectedContexts",n);t.setProperty("numberOfSelectedContexts",n.length);const o=JSON.parse(m.parseCustomData(h.getCustomData(e,"operationAvailableMap")));i.setActionEnablement(t,o,n,"table");s.updateDeleteInfoForSelectedContexts(t,n);const a=e?e.getParent():null;if(a){a.setUpEmptyRows(e)}});t.setProperty("dataReceivedAttached",true)}},rebind:function(t,n){const o=t.getParent();const i=o===null||o===void 0?void 0:o.getProperty("bindingSuspended");o===null||o===void 0?void 0:o.setProperty("outDatedBinding",i);if(!i){x.clearSelection(t);D.rebind.apply(this,[t,n]);b.onTableBound(t);this._setTableNoDataText(t,n);return b.whenBound(t).then(this.handleTableDataReceived(t,t.getBindingContext("internal"))).catch(function(t){e.error("Error while waiting for the table to be bound",t)})}return Promise.resolve()},fetchProperties:function(e){return h.fetchModel(e).then(t=>this._getCachedOrFetchPropertiesForEntity(e,h.getCustomData(e,"entityType"),t.getMetaModel())).then(t=>{var n;(n=e.getBindingContext("internal"))===null||n===void 0?void 0:n.setProperty("tablePropertiesAvailable",true);return t})},preInit:function(e){return D.preInit.apply(this,[e]).then(()=>{var t;const n=e.getCreationRow();if(n){n.setBindingContext(null)}const o=C.byId(e.getFilter());o===null||o===void 0?void 0:(t=o.getParent())===null||t===void 0?void 0:t.attachEvent("search",()=>{const t=e.getBindingContext("internal");t===null||t===void 0?void 0:t.setProperty(O,true)});return null})},updateBindingInfo:function(e,t){var n;const o=e.getBindingContext("internal");o.setProperty("isInsightsEnabled",true);D.updateBindingInfo.apply(this,[e,t]);this._internalUpdateBindingInfo(e,t);this._setTableNoDataText(e,t);const i=e.getBindingContext();if(((n=e.getCreationRow())===null||n===void 0?void 0:n.getBindingContext())===null&&t.path&&i){var a;I.enableFastCreationRow(e.getCreationRow(),t.path,i,e.getModel(),(a=e.getModel("ui"))===null||a===void 0?void 0:a.getProperty("/isEditable"))}},_manageSemanticTargets:function(e){const t=e.getRowBinding();if(t){t.attachEventOnce("dataRequested",function(){setTimeout(function(){const t=a.getTargetView(e);if(t){b.getSemanticTargetsFromTable(t.getController(),e)}},0)})}},updateBinding:function(t,o,i){const r=t.getParent();const l=r===null||r===void 0?void 0:r.getProperty("bindingSuspended");if(!l){let l=false;const d=a.getTargetView(t);const c=t.getBindingContext("internal");const u="pendingManualBindingUpdate";const p=c===null||c===void 0?void 0:c.getProperty(u);if(i){var s;const e=d===null||d===void 0?void 0:d.getViewData();const t=i.getFilters("Application");const a=n(o.filters,t[0])&&o.path===i.getPath()&&i.getQueryOptionsFromParameters().$search===(o===null||o===void 0?void 0:(s=o.parameters)===null||s===void 0?void 0:s.$search);const r=!!e.views;l=a&&((c===null||c===void 0?void 0:c.getProperty(O))||(c===null||c===void 0?void 0:c.getProperty(V))||r)&&!p&&e.converterType==="ListReport"}D.updateBinding.apply(this,[t,o,i]);t.fireEvent("bindingUpdated");if(l&&t.getFilter()&&i){i.requestRefresh(i.getGroupId()).finally(()=>{c===null||c===void 0?void 0:c.setProperty(u,false)}).catch(function(t){e.error("Error while refreshing the table",t)});c===null||c===void 0?void 0:c.setProperty(u,true)}c===null||c===void 0?void 0:c.setProperty(O,false);c===null||c===void 0?void 0:c.setProperty(V,false);this._manageSemanticTargets(t);if(r.getTableDefinition().control.type==="TreeTable"){c===null||c===void 0?void 0:c.setProperty("pastableContexts",[])}}r===null||r===void 0?void 0:r.setProperty("outDatedBinding",l)},_computeRowBindingInfoFromTemplate:function(e){const n=t(h.getCustomData(e,"rowsBindingInfo"));if(n.parameters.$$getKeepAliveContext){const t=h.getCustomData(e,"targetCollectionPath");const o=e.getModel("internal");const i=o.getObject("/keptAliveLists")||{};if(!i[t]){i[t]=e.getId();o.setProperty("/keptAliveLists",i)}else if(i[t]!==e.getId()){delete n.parameters.$$getKeepAliveContext}}return n},_internalUpdateBindingInfo:function(e,t){const n=e.getBindingContext("internal");Object.assign(t,this._computeRowBindingInfoFromTemplate(e));if(e.getRowBinding()){t.suspended=false}if(n){n.setProperty("dataReceivedAttached",false)}let o;const i=b.getAllFilterInfo(e);if(i.filters.length>0){o=new T({filters:i.filters,and:true})}if(i.bindingPath){t.path=i.bindingPath}const a=e.getDataStateIndicator();if(a&&a.isFiltering()){if(t.filters.length>0){o=new T({filters:t.filters.concat(i.filters),and:true});this.updateBindingInfoWithSearchQuery(t,i,o)}}else{this.updateBindingInfoWithSearchQuery(t,i,o)}},updateBindingInfoWithSearchQuery:function(e,t,n){e.filters=n;if(t.search){e.parameters.$search=a.normalizeSearchTerm(t.search)}else{e.parameters.$search=undefined}},_templateCustomColumnFragment:async function(e,t,n,o,i){const a=i.getModel&&i.getModel();const r=new _(e),l=new _({id:o}),s={bindingContexts:{this:l.createBindingContext("/"),column:r.createBindingContext("/"),collection:i},models:{metaModel:a,this:l,column:r,collection:a}};return h.templateControlFragment("sap.fe.macros.table.CustomColumn",s,{view:t},n).then(function(e){r.destroy();return e})},_templateSlotColumnFragment:async function(t,n,o,i){const a=new _(t),r=new _({id:i}),l={bindingContexts:{this:r.createBindingContext("/"),column:a.createBindingContext("/")},models:{this:r,column:a}};const s=await h.templateControlFragment("sap.fe.macros.table.SlotColumn",l,{isXML:true});if(!s){return Promise.resolve(null)}const d=s.getElementsByTagName("slot")[0],c=s.getElementsByTagName("mdcTable:template")[0];c.removeChild(d);if(t.template){const e=(new DOMParser).parseFromString(t.template,"text/xml");c.appendChild(e.firstElementChild)}else{e.error(`Please provide content inside this Building Block Column: ${t.header}`);return Promise.resolve(null)}if((o===null||o===void 0?void 0:o.targets)!=="jsControlTree"){return s}return P.load({type:"XML",definition:s,controller:n.getController()})},_templateComputedColumnFragment:async function(e,t,n,o,i){const a=i.getModel&&i.getModel();const r=new _(e),l=new _({id:o}),s={bindingContexts:{this:l.createBindingContext("/"),column:r.createBindingContext("/"),collection:i},models:{metaModel:a,this:l,column:r,collection:a}};return h.templateControlFragment("sap.fe.macros.table.ComputedColumn",s,{view:t},n).then(function(e){r.destroy();return e})},_getExportFormat:function(e){switch(e){case"Edm.Date":return d.getExcelDatefromJSDate();case"Edm.DateTimeOffset":return d.getExcelDateTimefromJSDateTime();case"Edm.TimeOfDay":return d.getExcelTimefromJSTime();default:return undefined}},_getVHRelevantFields:function(e,t,n){let o=[],i=e.getObject(t);if(i.$kind&&i.$kind==="Property"){i=e.getObject(`${t}@com.sap.vocabularies.UI.v1.DataFieldDefault`);t=`${t}@com.sap.vocabularies.UI.v1.DataFieldDefault`}switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(e.getObject(`${t}/Target/$AnnotationPath`).includes("com.sap.vocabularies.UI.v1.FieldGroup")){e.getObject(`${t}/Target/$AnnotationPath/Data`).forEach((n,i)=>{o=o.concat(this._getVHRelevantFields(e,`${t}/Target/$AnnotationPath/Data/${i}`))})}break;case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":o.push(e.getObject(`${t}/Value/$Path`));break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":break;default:if(t.indexOf(n)===0){o.push(t.substring(n.length+1));break}o.push(m.getNavigationPath(t,true));break}return o},_setDraftIndicatorOnVisibleColumn:function(e,t,n){const o=e.getBindingContext("internal");if(!o){return}const i=o.getPath();const a=t.filter(e=>this._bColumnHasPropertyWithDraftIndicator(e));const r=e.getColumns();let l,s,d,c;for(const e in r){s=r[e].getDataProperty();for(const e in a){c=a[e].name;if(s===c){d=true;break}if(n&&n.name===c){l=n.name}}if(d){o.setProperty(i+w,s);break}}if(!d&&l){o.setProperty(i+w,l)}},removeItem:function(e,t,n){let o=true;if(!t){return Promise.resolve(o)}const i=n.modifier;const a=i.getProperty(t,"dataProperty");if(a&&a.indexOf&&a.indexOf("InlineXML")!==-1){i.insertAggregation(e,"dependents",t);o=false}if(e.isA&&i.targets==="jsControlTree"){this._setDraftIndicatorStatus(i,e,this.getColumnsFor(e))}return Promise.resolve(o)},_getMetaModel:function(e){return e.appComponent&&e.appComponent.getModel().getMetaModel()},_setDraftIndicatorStatus:function(e,t,n,o){if(e.targets==="jsControlTree"){this._setDraftIndicatorOnVisibleColumn(t,n,o)}},_getGroupId:function(e){return e||undefined},_getDependent:function(e,t,n){if(t===n){return e}return undefined},_fnTemplateValueHelp:function(e,t,n){if(t&&!n){return e("sap.fe.macros.table.ValueHelp")}return Promise.resolve()},_getDisplayMode:function(e){let t;if(e!==undefined){e=typeof e==="boolean"?e:e==="true";t=e?"Display":"Editable";return{displaymode:e,columnEditMode:t}}return{displaymode:undefined,columnEditMode:undefined}},_insertAggregation:function(e,t,n){if(e){return t.insertAggregation(n,"dependents",e,0)}return undefined},addItem:async function(t,n,o){const i=this._getMetaModel(o),r=o.modifier,l=r.getId(t),s=t.isA?this.getColumnsFor(t):null;if(!s){return Promise.resolve(null)}const d=s.find(function(e){return e.name===n});if(!d){e.error(`${n} not found while adding column`);return Promise.resolve(null)}const c=t.getBindingContext("internal");c===null||c===void 0?void 0:c.setProperty(V,true);this._setDraftIndicatorStatus(r,t,s,d);const u=await h.getCustomData(t,"metaPath",r);const p=i.createBindingContext(u);const g=o.view||a.getTargetView(t)||(o.appComponent?a.getCurrentPageView(o.appComponent):undefined);if(d.type==="Default"){return this._templateCustomColumnFragment(d,g,r,l,p)}if(d.type==="Slot"){return this._templateSlotColumnFragment(d,g,r,l)}if(d.type==="Computed"){return this._templateComputedColumnFragment(d,g,r,l,p)}if(!i){return Promise.resolve(null)}const f=await h.getCustomData(t,"entityType",r);const m=await h.getCustomData(t,"requestGroupId",r);const v=this._getGroupId(m);const y=await this._getCachedOrFetchPropertiesForEntity(t,f,i,o.appComponent);const b=y.find(function(e){return e.name===n});const C=i.createBindingContext(b.metadataPath);const P=this._getVHRelevantFields(i,b.metadataPath,u);const D={sBindingPath:u,sValueHelpType:"TableValueHelp",oControl:t,oMetaModel:i,oModifier:r,oPropertyInfo:b};const F=async n=>{const o=new _({id:l,requestGroupId:v}),a={bindingContexts:{this:o.createBindingContext("/"),dataField:C,contextPath:p},models:{this:o,dataField:i,metaModel:i,contextPath:i}};try{const e=await h.templateControlFragment(n,a,{},r);return await this._insertAggregation(e,r,t)}catch(t){e.error(`ValueHelp not loaded : ${t.message}`);return null}finally{o.destroy()}};const T=(e,a)=>{const s="sap.fe.macros.table.Column";let c;let g;let f;let m;return Promise.all([h.getCustomData(t,"displayModePropertyBinding",r),h.getCustomData(t,"tableType",r),h.getCustomData(t,"onChange",r),h.getCustomData(t,"creationMode",r)]).then(e=>{c=e[0];g=e[1];f=e[2];m=e[3];const v=this._getDisplayMode(c);c=v.displaymode;const y=v.columnEditMode;const b=new _({enableAutoColumnWidth:t.getParent().enableAutoColumnWidth,isOptimizedForSmallDevice:t.getParent().isOptimizedForSmallDevice,readOnly:c,columnEditMode:y,tableType:g,onChange:f,id:l,navigationPropertyPath:n,columnInfo:d,collection:{sPath:u,oModel:i},creationMode:{name:m},widthIncludingColumnHeader:t.getParent().widthIncludingColumnHeader}),P={bindingContexts:{entitySet:p,collection:p,dataField:C,this:b.createBindingContext("/"),column:b.createBindingContext("/columnInfo")},models:{this:b,entitySet:i,collection:i,dataField:i,metaModel:i,column:b},appComponent:o.appComponent};return h.templateControlFragment(s,P,{view:a},r).finally(function(){b.destroy()})})};await Promise.all(P.map(async e=>{const t=Object.assign({},D,{sPropertyName:e});const n=await Promise.all([h.isValueHelpRequired(t),h.doesValueHelpExist(t)]);const o=n[0],i=n[1];return this._fnTemplateValueHelp(F,o,i)}));return T(b,g)},getFilterDelegate:function(){return Object.assign({apiVersion:2},v,{addItem:function(e,t){if(t.indexOf("Property::")===0){t=t.replace("Property::","")}return v.addItem(e,t)}})},getTypeMap:function(){return F},formatGroupHeader(e,t,n){var o,i;const a=h.getCachedProperties(e),r=a&&a.filter(e=>e.name===n)[0],s=(r===null||r===void 0?void 0:(o=r.typeConfig)===null||o===void 0?void 0:o.baseType)==="DateTime"||(r===null||r===void 0?void 0:(i=r.typeConfig)===null||i===void 0?void 0:i.baseType)==="Date";let d;if(r&&r.mode){switch(r.mode){case"Description":d=t.getProperty(r.descriptionProperty,s);break;case"DescriptionValue":d=l.formatWithBrackets(t.getProperty(r.descriptionProperty,s),t.getProperty(r.valueProperty,s));break;case"ValueDescription":d=l.formatWithBrackets(t.getProperty(r.valueProperty,s),t.getProperty(r.descriptionProperty,s));break;default:break}}else{d=t.getProperty(r===null||r===void 0?void 0:r.path,s)}return A(e).getText("M_TABLE_GROUP_HEADER_TITLE",[r===null||r===void 0?void 0:r.label,d])}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/table/delegates/TreeTableDelegate", ["sap/fe/core/CommonUtils","sap/fe/macros/table/delegates/TableDelegate"],function(e,a){"use strict";const r=Object.assign({},a,{apiVersion:2,_internalUpdateBindingInfo:function(e,r){var i;a._internalUpdateBindingInfo.apply(this,[e,r]);const n=e.getPayload();r.parameters.$$aggregation={...r.parameters.$$aggregation,...{hierarchyQualifier:n===null||n===void 0?void 0:n.hierarchyQualifier},...{expandTo:(i=r.parameters.$$aggregation)!==null&&i!==void 0&&i.search?100:n===null||n===void 0?void 0:n.initialExpansionLevel}}},updateBindingInfoWithSearchQuery:function(a,r,i){a.filters=i;if(r.search){a.parameters.$$aggregation={...a.parameters.$$aggregation,...{search:e.normalizeSearchTerm(r.search)}}}else{var n,t;(n=a.parameters)===null||n===void 0?true:(t=n.$$aggregation)===null||t===void 0?true:delete t.search}}});return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/valuehelp/ValueHelp.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards"],function(e,t,r,i,n){"use strict";var a,l,o,u,c,p,f,s,b,d,y,g,m,v,z,w,h,P,x,B,M,O,V;var k={};var j=n.isEntitySet;var E=r.getInvolvedDataModelObjects;var H=t.defineBuildingBlock;var S=t.blockAttribute;function _(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function q(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function D(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}function C(e,t){C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return C(e,t)}function F(e,t,r,i,n){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function I(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let R=(a=H({name:"ValueHelp",namespace:"sap.fe.macros",fragment:"sap.fe.macros.internal.valuehelp.ValueHelp"}),l=S({type:"string"}),o=S({type:"sap.ui.model.Context",required:true,expectedTypes:["Property"]}),u=S({type:"sap.ui.model.Context",required:true}),c=S({type:"string"}),p=S({type:"boolean"}),f=S({type:"boolean"}),s=S({type:"boolean"}),b=S({type:"string"}),d=S({type:"boolean"}),y=S({type:"string"}),a(g=(m=function(e){D(t,e);function t(t,r,n){var a;a=e.call(this,t)||this;_(a,"idPrefix",v,q(a));_(a,"property",z,q(a));_(a,"contextPath",w,q(a));_(a,"conditionModel",h,q(a));_(a,"filterFieldValueHelp",P,q(a));_(a,"useSemanticDateRange",x,q(a));_(a,"useMultiValueField",B,q(a));_(a,"navigationPrefix",M,q(a));_(a,"requiresValidation",O,q(a));_(a,"_flexId",V,q(a));a.requestGroupId="$auto.Workers";a.collaborationEnabled=false;const l=E(a.contextPath);const o=l.targetEntitySet;if(j(o)){a.collaborationEnabled=i.isCollaborationDraftSupported(n.models.metaModel)}return a}k=t;return t}(e),v=F(m.prototype,"idPrefix",[l],{configurable:true,enumerable:true,writable:true,initializer:function(){return"ValueHelp"}}),z=F(m.prototype,"property",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),w=F(m.prototype,"contextPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),h=F(m.prototype,"conditionModel",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),P=F(m.prototype,"filterFieldValueHelp",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),x=F(m.prototype,"useSemanticDateRange",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),B=F(m.prototype,"useMultiValueField",[s],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),M=F(m.prototype,"navigationPrefix",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),O=F(m.prototype,"requiresValidation",[d],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),V=F(m.prototype,"_flexId",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),m))||g);k=R;return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/valuehelp/ValueHelpDelegate", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/fe/macros/internal/valuehelp/ValueListHelper","sap/m/inputUtils/highlightDOMElements","sap/ui/mdc/ValueHelpDelegate","sap/ui/mdc/condition/Condition","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/odata/v4/TypeMap","sap/ui/mdc/p13n/StateUtil","sap/ui/model/FilterType","../internal/valuehelp/AdditionalValueHelper"],function(t,e,n,i,o,a,r,l,s,d,u,c,g,f,p){"use strict";var h=p.additionalValueHelper;var v=p.AdditionalValueGroupKey;var P=a.isPathAnnotationExpression;var m=o.convertTypes;var C=i.Activity;const y="sap.fe.core.controls.FilterBar";return Object.assign({},s,{apiVersion:2,isSearchSupported:function(t,e,n){return e.getFilterFields()==="$search"},updateBindingInfo:function(t,n,i){s.updateBindingInfo(t,n,i);if(n.getFilterFields()==="$search"){const t=n.getFilterValue();const o=e.normalizeSearchTerm(t);if(i.parameters){i.parameters.$search=o||undefined}}},updateBinding:async function(t,e,n,i){const o=t.getPayload();const a=this._getValueListPropertyFromPayloadQualifier(o);const r=i.getControl().isA("sap.ui.mdc.FilterField")||i.getControl().isA("sap.ui.mdc.MultiValueField");const l=i.getControl();const s=!r&&l.getValue();if((!s||l!==null&&l!==void 0&&l.hasPendingUserInput())&&i.isTypeahead()&&!o.isDefineConditionValueHelp){var d;const t=i.getBindingContext();const l=[];const s=i.getModel("internal").getProperty("/recommendationsData")||{};let c=[];if(!r){var u;c=h.getRelevantRecommendations(s,t,o.propertyPath,(u=i.getControl().getBinding("value"))===null||u===void 0?void 0:u.getPath())||[]}if(((d=c)===null||d===void 0?void 0:d.length)>0){l.push({propertyPath:a,values:c,groupKey:v.recommendation});this._updateBindingForRecommendations(o,e,n,l)}else{this._updateBinding(e,n)}}else{this._updateBinding(e,n)}},executeFilter:async function(t,e,n){e.getContexts(0,n);await this.checkListBindingPending(t,e,n);return e},checkListBindingPending:async function(t,e,n){const i=t.getPayload();let o=false;if(i.updateBindingDonePromise){const t=await i.updateBindingDonePromise;o=!t}else if(e&&!e.isSuspended()){const t=await e.requestContexts(0,n);o=t.length===0}return o},getTypeMap:function(t){return c},retrieveContent:function(t,e,n){const i=t.getPayload();return r.showValueList(i,e,n)},_getConditionPayloadList:function(t){const e=t.payload||{},n=Object.keys(e),i=n.length?e[n[0]]:[];return i},_getValueListPropertyFromPayloadQualifier:function(t){const e=t.qualifiers[t.valueHelpQualifier].vhParameters||[];const n=t.qualifiers[t.valueHelpQualifier].vhKeys||[];const i=t.valueHelpKeyPath;let o=[...n];const a=[];if(e.length>0){e.forEach(function(t){a.push(t.helpPath)});o=n.filter(t=>!a.includes(t))}return i&&o.includes(i)?i:""},_onConditionPropagationToFilterBar:async function(e,n,i,o,a){try{var r;const t=await g.retrieveExternalState(a);const l=t.items;const s=i.getPropertyHelper().getProperties();const c=(r=i.getModel())===null||r===void 0?void 0:r.getMetaModel();const f=`/${o.propertyPath.split("/")[1]}`;for(const i of e){const e=this._getConditionPayloadList(i);for(const i of n){const n=i.source.split("conditions/").pop()||"";const a=o.propertyPath.lastIndexOf("/");const r=a>0?`${o.propertyPath.substring(0,a)}/${n}`:n;const g=c===null||c===void 0?void 0:c.getReducedPath(r,f);const p=s.find(t=>t.annotationPath===g);if(p&&l!==null&&l!==void 0&&l.find(t=>t.name===p.name)){for(const n of e){const e=d.createCondition("EQ",[n[i.helpPath]],null,null,u.Validated);t.filter[p.conditionPath]||=[];t.filter[p.conditionPath].push(e)}}}}g.applyExternalState(i,t)}catch(e){const n=e instanceof Error?e.message:String(e);t.error(`ValueHelpDelegate: ${n}`)}},_onConditionPropagationToBindingContext:function(e,n,i,o){const a=i.getModel().getMetaModel();for(const r of e){const e=this._getConditionPayloadList(r),l=e.length===1?e[0]:undefined;if(e.length>1){t.warning("ValueHelpDelegate: ParameterOut in multi-value-field not supported")}if(l){this._onConditionPropagationUpdateProperty(a,l,n,i,o)}}},_onConditionPropagationUpdateProperty:function(t,i,o,a,r){const l=m(t);const s=t.getMetaContext(a.getPath()).getPath();const d=a.isTransient()!==true&&!a.isInactive();const u=[];for(const t of o){if(a.getProperty(t.source)!==i[t.helpPath]){this._updatePropertyViaOutParameter(l,s,i,t,a,d)}u.push(t.source)}if(n.isConnected(r)){let t;if(a.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding")){t=a.getBinding()}else{const n=e.getTargetView(r);t=n.getBindingContext().getBinding()}t.attachEventOnce("patchCompleted",()=>{n.send(r,{action:C.Change,content:u.map(t=>a.getPath()+"/"+t)})})}},_updatePropertyViaOutParameter:function(t,e,n,i,o,a){var r,l,s,d,u,c;const g=`${e}/${i.source}`;const f=t.resolvePath(g).target;const p=f===null||f===void 0?void 0:(r=f.annotations)===null||r===void 0?void 0:(l=r.Common)===null||l===void 0?void 0:l.FieldControl;const h=P(p)?o.getProperty(p.path)===1:false;if(h&&a){const t=i.source.lastIndexOf("/");const e=t>0?i.source.substring(0,t):i.source;o.requestSideEffects([e])}else{o.setProperty(i.source,n[i.helpPath])}const v=P(f===null||f===void 0?void 0:(s=f.annotations)===null||s===void 0?void 0:(d=s.Common)===null||d===void 0?void 0:d.Text)?f===null||f===void 0?void 0:(u=f.annotations)===null||u===void 0?void 0:(c=u.Common)===null||c===void 0?void 0:c.Text.path:undefined;if(v!==undefined&&a){const t=v.lastIndexOf("/");const e=t>0?v.substring(0,t):v;o.requestSideEffects([e])}},getFilterConditions:function(t,e,n){if(this.getInitialFilterConditions){return this.getInitialFilterConditions(t,e,n&&n.control||e&&e.getControl())}return{}},onConditionPropagation:async function(t,e,n){const i=t.getPayload();if(e!=="ControlChange"||i.isDefineConditionValueHelp){return}const o=i.qualifiers[i.valueHelpQualifier];const a=(o===null||o===void 0?void 0:o.vhParameters)!==undefined?r.getOutParameters(o.vhParameters):[],l=t.getControl(),s=l.getParent();let d=l.getConditions();d=d.filter(function(t){const e=t.payload||{};return e[i.valueHelpQualifier]});const u=t.getParent();if(u.isA(y)){await this._onConditionPropagationToFilterBar(d,a,s,i,u)}else{const e=l.getBindingContext();if(e){this._onConditionPropagationToBindingContext(d,a,e,t)}}},_createInitialFilterCondition:function(e,n){let i;if(e===undefined||e===null){t.error("ValueHelpDelegate: value of the property could not be requested")}else if(e===""){if(n){i=d.createCondition("Empty",[],null,null,u.Validated)}}else{i=d.createCondition("EQ",[e],null,null,u.Validated)}return i},_getInitialFilterConditionsFromBinding:async function(e,n,i,o){const a=n.getBindingContext();if(!a){t.error("ValueHelpDelegate: No BindingContext");return e}let r="";if(a.getBinding().getPath()!=="$Parameter"){var l;const t=(l=n.getModel())===null||l===void 0?void 0:l.getMetaModel();const e=t.getMetaPath(a.getPath());r=o.propertyPath.replace(e+"/","");const i=r.lastIndexOf("/");r=i>0?`${r.substring(0,i)}/`:""}const s=i.map(t=>r+t.source);const d=await a.requestProperty(s);for(let t=0;t<i.length;t++){const n=i[t];const o=this._createInitialFilterCondition(d[t],n.initialValueFilterEmpty);if(o){e[n.helpPath]=[o]}}return e},_getInitialFilterConditionsFromFilterBar:async function(t,e,n){const i=e.getParent();const o=await g.retrieveExternalState(i);for(const e of n){const n=this._getConditionsFromInParameter(e,o);if(n){t[e.helpPath]=n}}return t},_getConditionsFromInParameter:function(t,e){const n=t.source;const i=Object.keys(e.filter).find(t=>("/"+n).endsWith("/"+t));return i&&e.filter[i]},_partitionInParameters:function(t){const e={constant:[],binding:[],filter:[]};for(const n of t){if(n.constantValue!==undefined){e.constant.push(n)}else if(n.source.indexOf("$filter")===0){e.filter.push(n)}else{e.binding.push(n)}}return e},_tableAfterRenderDelegate:{onAfterRendering:function(t){const e=t.srcControl,n=e.$().find("tbody .sapMText"),i=e.getParent();l(n,i.getFilterValue(),true)}},getInitialFilterConditions:async function(e,n,i){if(n!==null&&n!==void 0&&n.isA("sap.ui.mdc.valuehelp.content.MTable")){const t=n.getTable();t===null||t===void 0?void 0:t.removeEventDelegate(this._tableAfterRenderDelegate);t===null||t===void 0?void 0:t.addEventDelegate(this._tableAfterRenderDelegate,this)}const o=e.getPayload();const a={};if(o.isDefineConditionValueHelp){return a}if(!i){t.error("ValueHelpDelegate: Control undefined");return a}const l=o.qualifiers[o.valueHelpQualifier];const s=(l===null||l===void 0?void 0:l.vhParameters)!==undefined?r.getInParameters(l.vhParameters):[];const d=this._partitionInParameters(s);const u=i.getBindingContext();for(const t of d.constant){const e=this._createInitialFilterCondition(t.constantValue,u?t.initialValueFilterEmpty:false);if(e){a[t.helpPath]=[e]}}if(d.binding.length){await this._getInitialFilterConditionsFromBinding(a,i,d.binding,o)}if(d.filter.length){await this._getInitialFilterConditionsFromFilterBar(a,i,d.filter)}return a},createConditionPayload:function(t,e,n,i){const o=t.getPayload();const a=o.qualifiers[o.valueHelpQualifier],r={},l={};const s=e.getControl();const d=s===null||s===void 0?void 0:s.isA("sap.ui.mdc.MultiValueField");if(!a.vhKeys||a.vhKeys.length===1||d){return undefined}a.vhKeys.forEach(function(t){const e=i.getObject(t);if(e!=null){r[t]=(e===null||e===void 0?void 0:e.length)===0?"":e}});if(Object.keys(r).length){l[o.valueHelpQualifier]=[r]}return l},isFilterableListItemSelected:function(t,e,n,i){var o;const a=t.getPayload();if(a.isValueListWithFixedValues!==true&&((o=e.getConfig())===null||o===void 0?void 0:o.maxConditions)===1){return false}const r=n.getBindingContext();i=i.filter(t=>t.validated===u.Validated);const l=i.find(function(t){var n;const i=t.payload,o=a.valueHelpQualifier||"";if(!i&&Object.keys(a.qualifiers)[0]===o){const n=e.getKeyPath();return(r===null||r===void 0?void 0:r.getObject(n))===(t===null||t===void 0?void 0:t.values[0])}const l=(i===null||i===void 0?void 0:(n=i[o])===null||n===void 0?void 0:n[0])||{},s=Object.keys(l);if(s.length){return s.every(function(t){return l[t]===(r===null||r===void 0?void 0:r.getObject(t))})}return false});return l?true:false},_updateBindingForRecommendations:async function(t,e,n,i){let o;t.updateBindingDonePromise=new Promise(function(t){o=t});try{h.sortAndFilterOthers(e,n,i);h.resumeValueListBindingAndResetChanges(e);const t=await h.requestForAdditionalValueContextData(i,e,n);const o=h.removeDuplicateAdditionalValues(t,[...i]);h.createAdditionalValueTransientContexts(t,o.reverse(),e)}catch(t){}if(o){o(true)}},_updateBinding:async function(t,e){const n=t.getRootBinding()||t;if(!n.isSuspended()){n.suspend()}if(e.parameters){t.changeParameters(e.parameters)}t.filter(e.filters,f.Application);t.sort(e.sorter);if(n.isSuspended()){n.resume();n.resetChanges()}},checkIfAdditionalValuesExists:function(t,e){var n;if(e.isDefineConditionValueHelp){return false}const i=t.getBindingContext();const o=t.getModel("internal").getProperty("/recommendationsData")||{};const a=h.getRelevantRecommendations(o,i,e.propertyPath,(n=t.getControl().getBinding("value"))===null||n===void 0?void 0:n.getPath())||[];if((a===null||a===void 0?void 0:a.length)>0){return true}return false},showTypeahead:function(t,e){if(!e.getControl().isA("sap.ui.mdc.FilterField")&&!e.getControl().isA("sap.ui.mdc.MultiValueField")){var n,i;const o=e===null||e===void 0?void 0:e.getFilterValue();const a=e===null||e===void 0?void 0:(n=e.getControl())===null||n===void 0?void 0:n.getValue();const r=e===null||e===void 0?void 0:(i=e.getControl())===null||i===void 0?void 0:i.getAdditionalValue();if(a||r){return e.getControl().hasPendingUserInput()&&(o!==""||this.checkIfAdditionalValuesExists(e,t.getPayload()))}else{if(o){return true}return this.checkIfAdditionalValuesExists(e,t.getPayload())}}return true},getFirstMatch:function(t,e,n){if(e.isA("sap.ui.mdc.valuehelp.content.MTable")){const t=e.getListBinding();return t.getAllCurrentContexts()[0]}return s.getFirstMatch(t,e,n)}})},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/valuehelp/ValueHelpFilterBar.block", ["sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/converters/MetaModelConverter","sap/fe/core/TemplateModel"],function(e,t,r,i,n){"use strict";var l,a,o,u,c,s,p,b,f,d,g,v,y,m,h,w,z,F,B,x,P,C,k,M,O,S,j,_,E,R,D,L,q;var H={};var V=i.getInvolvedDataModelObjects;var A=r.getSelectionFields;var I=r.getExpandFilterFields;var T=t.defineBuildingBlock;var G=t.blockEvent;var J=t.blockAttribute;function K(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function N(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function Q(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;U(e,t)}function U(e,t){U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return U(e,t)}function W(e,t,r,i,n){var l={};Object.keys(i).forEach(function(e){l[e]=i[e]});l.enumerable=!!l.enumerable;l.configurable=!!l.configurable;if("value"in l||l.initializer){l.writable=true}l=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},l);if(n&&l.initializer!==void 0){l.value=l.initializer?l.initializer.call(n):void 0;l.initializer=undefined}if(l.initializer===void 0){Object.defineProperty(e,t,l);l=null}return l}function X(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let Y=(l=T({name:"ValueHelpFilterBar",namespace:"sap.fe.macros.valuehelp",fragment:"sap.fe.macros.valuehelp.ValueHelpFilterBar"}),a=J({type:"string"}),o=J({type:"sap.ui.model.Context",required:true}),u=J({type:"sap.ui.model.Context"}),c=J({type:"boolean"}),s=J({type:"boolean"}),p=J({type:"sap.ui.mdc.FilterBarP13nMode[]"}),b=J({type:"boolean"}),f=J({type:"boolean"}),d=J({type:"sap.ui.model.Context",required:true}),g=J({type:"sap.ui.model.Context"}),v=J({type:"string"}),y=J({type:"boolean"}),m=J({type:"boolean"}),h=G(),w=G(),l(z=(F=function(e){Q(t,e);function t(t,r,i){var l;var a;a=e.call(this,t)||this;K(a,"id",B,N(a));K(a,"contextPath",x,N(a));K(a,"metaPath",P,N(a));K(a,"hideBasicSearch",C,N(a));K(a,"enableFallback",k,N(a));K(a,"p13nMode",M,N(a));K(a,"useSemanticDateRange",O,N(a));K(a,"liveMode",S,N(a));K(a,"_valueList",j,N(a));K(a,"selectionFields",_,N(a));K(a,"filterConditions",E,N(a));K(a,"suspendSelection",R,N(a));K(a,"expandFilterFields",D,N(a));K(a,"search",L,N(a));K(a,"filterChanged",q,N(a));const o=a.contextPath.getModel();const u=a.metaPath;const c=u===null||u===void 0?void 0:u.getPath();const s=V(a.contextPath);const p=a.getConverterContext(s,undefined,i);if(!a.selectionFields){const e=A(p,[],c).selectionFields;a.selectionFields=new n(e,o).createBindingContext("/")}const b=s.targetEntitySet;a.expandFilterFields=I(p,(l=b.annotations.Capabilities)===null||l===void 0?void 0:l.FilterRestrictions,a._valueList);return a}H=t;return t}(e),B=W(F.prototype,"id",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),x=W(F.prototype,"contextPath",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),P=W(F.prototype,"metaPath",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),C=W(F.prototype,"hideBasicSearch",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),k=W(F.prototype,"enableFallback",[s],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),M=W(F.prototype,"p13nMode",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),O=W(F.prototype,"useSemanticDateRange",[b],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),S=W(F.prototype,"liveMode",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),j=W(F.prototype,"_valueList",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),_=W(F.prototype,"selectionFields",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),E=W(F.prototype,"filterConditions",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),R=W(F.prototype,"suspendSelection",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),D=W(F.prototype,"expandFilterFields",[m],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),L=W(F.prototype,"search",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),q=W(F.prototype,"filterChanged",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),F))||z);H=Y;return H},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/visualfilters/InteractiveChartHelper", ["sap/base/util/JSTokenizer","sap/fe/core/CommonUtils","sap/fe/core/controls/filterbar/utils/VisualFilterUtils","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/CriticalityFormatters","sap/fe/core/templating/FilterHelper","sap/fe/macros/CommonHelper","sap/fe/macros/filter/FilterFieldHelper","sap/m/library","sap/ui/core/Core","sap/ui/core/format/NumberFormat","sap/ui/mdc/condition/ConditionConverter","sap/ui/mdc/odata/v4/TypeMap","sap/ui/model/odata/v4/ODataUtils","../field/FieldTemplating"],function(e,t,i,n,o,a,r,l,s,u,d,c,v,g,f,p,m){"use strict";var y=m.getTextBinding;var h=u.formatOptions;var C=u.constraints;var M=l.getFiltersConditionsFromSelectionVariant;var P=r.buildExpressionForCriticalityColorMicroChart;var T=a.isNavigationProperty;var b=a.isEntitySet;var $=o.generate;var D=n.getInvolvedDataModelObjects;const E={getChartDisplayedValue:function(e,t,i){const n=$([i]);return"{parts:[{path:'"+e+"',type:'sap.ui.model.odata.type.Decimal', constraints:{'nullable':false}}"+(t&&t.ScaleFactor?",{value:'"+t.ScaleFactor.valueOf()+"'}":",{path:'internal>scalefactorNumber/"+n+"'}")+(t&&t.NumberOfFractionalDigits?",{value:'"+t.NumberOfFractionalDigits+"'}":",{value:'0'}")+",{path:'internal>currency/"+n+"'}"+",{path:'"+e+"',type:'sap.ui.model.odata.type.String', constraints:{'nullable':false}}"+"], formatter:'VisualFilterRuntime.scaleVisualFilterValue'}"},getChartValue:function(e){return"{path:'"+e+"',type:'sap.ui.model.odata.type.Decimal', constraints:{'nullable':false}}"},_getCollectionName:function(e,t,i){const n=e.targetObject;if(T(n)){return i?t.getPath():n.name}else if(b(n)){return"/"+n.name}else{return n.name}},_getBindingPathForParameters:function(n,o,a,r,l){const s=[];const u=i.convertFilterCondions(n);const d=t.getParameterInfo(o,a).parameterProperties;if(d){for(const t in r){const i=r[t];const n=d[i];const a=l.split("/")[1];const c=o.createBindingContext(`/${a}/${i}`);const v=f.getTypeConfig(n.$Type,e.parseJS(h(n,{context:c})||"{}"),e.parseJS(C(n,{context:c})||"{}"));const m=u[i];const y=m?m[0]:undefined;if(y){const e=g.toType(y,v,f);const t=n.$Type;let o=encodeURIComponent(p.formatLiteral(e.values[0],t));o=o.replaceAll("'","\\'");s.push(`${i}=${o}`)}}}const c=a.slice(0,a.lastIndexOf("/"));const v=a.substring(a.lastIndexOf("/")+1);return`${c}(${s.toString()})/${v}`},_getUOMAggregationExpression:function(e,t,i,n){let o,a;const r=i&&typeof i!="string"&&i.path;if(e){if(t){o=r?`{ 'unit' : '${r}' }`:"{}";a=""}else{o="{}";a=r?`, '${r}' : {}`:""}}else if(n&&n.AggregatableProperty&&n.AggregatableProperty.value&&n.AggregationMethod){o="{ 'name' : '"+n.AggregatableProperty.value+"', 'with' : '"+n.AggregationMethod+"'}";a=r?", '"+r+"' : {}":""}return{aggregationExpression:o,UOMExpression:a}},getAggregationBinding:function(e,t,n,o,a,r,l,s,u,d,c,v,g,f){const p=l===null||l===void 0?void 0:l.targetObject;const m=v?v.getPath():"";const y=n.getPath();const h=e.Dimensions[0].value;const C=[];let P;let T=this._getCollectionName(t,n,c);const b=E.getUoM(e,t,undefined,s,u);const $=n.getModel();if(g){C.push({operator:"EQ",value1:"true",value2:null,path:"IsActiveEntity",isParameter:true})}if(p){P=M(y,$,p,i.getCustomConditions.bind(i));for(const e in P){const t=P[e];t.forEach(function(e){if(!e.isParameter){C.push(e)}})}}if(m!==`${T}/`&&c&&c.length&&P){const e=this._getBindingPathForParameters(P,$,T,c,y);T=e}const D=this._getUOMAggregationExpression(s,d,b,u);const O=D.aggregationExpression;const I=D.UOMExpression;const A=o?"' : { 'additionally' : ['"+o.path+"'] }":"' : { }";const F=JSON.stringify(C);return"{path: '"+T+"', templateShareable: true, suspended : true, 'filters' : "+F+",'parameters' : {"+E.getSortOrder(e,a,r,f)+", '$$aggregation' : {'aggregate' : {'"+f+"' : "+O+"},'group' : {'"+h+A+I+"} } }"+E.getMaxItems(e)+"}"},_getOrderExpressionFromMeasure:function(e,t){let i;if(e&&e.length){if(e[0].DynamicProperty){var n;i=(n=e[0].DynamicProperty.$target)===null||n===void 0?void 0:n.Name}else{var o;i=(o=e[0].Property)===null||o===void 0?void 0:o.value}if(i===t){return"'$orderby' : '"+t+(e[0].Descending?" desc'":"'")}return"'$orderby' : '"+t+" desc'"}return"'$orderby' : '"+t+" desc'"},getSortOrder:function(e,t,i,n){var o,a;if(e.ChartType==="UI.ChartType/Donut"||e.ChartType==="UI.ChartType/Bar"){return this._getOrderExpressionFromMeasure(i,n)}else if(t==="Edm.Date"||t==="Edm.Time"||t==="Edm.DateTimeOffset"){return"'$orderby' : '"+e.Dimensions[0].value+"'"}else if(i&&i.length&&((o=i[0].Property)===null||o===void 0?void 0:(a=o.$target)===null||a===void 0?void 0:a.path)===e.Dimensions[0].value){var r,l;return"'$orderby' : '"+((r=i[0].Property)===null||r===void 0?void 0:(l=r.$target)===null||l===void 0?void 0:l.name)+(i[0].Descending?" desc'":"'")}else{var s;return"'$orderby' : '"+((s=e.Dimensions[0].$target)===null||s===void 0?void 0:s.name)+"'"}},getMaxItems:function(e){if(e.ChartType==="UI.ChartType/Bar"){return",'startIndex' : 0,'length' : 3"}else if(e.ChartType==="UI.ChartType/Line"){return",'startIndex' : 0,'length' : 6"}else{return""}},getColorBinding:function(e,t){var i,n,o;const a=t===null||t===void 0?void 0:(i=t.$target)===null||i===void 0?void 0:(n=i.annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:o.ValueCriticality;if(e!==null&&e!==void 0&&e.Criticality){return P(e)}else if(e!==null&&e!==void 0&&e.CriticalityCalculation){const t=e.CriticalityCalculation.ImprovementDirection;const i=e.Value;const n=e.CriticalityCalculation.DeviationRangeLowValue.valueOf();const o=e.CriticalityCalculation.ToleranceRangeLowValue.valueOf();const a=e.CriticalityCalculation.AcceptanceRangeLowValue.valueOf();const r=e.CriticalityCalculation.AcceptanceRangeHighValue.valueOf();const l=e.CriticalityCalculation.ToleranceRangeHighValue.valueOf();const u=e.CriticalityCalculation.DeviationRangeHighValue.valueOf();return s.getCriticalityCalculationBinding(t,i,n,o,a,r,l,u)}else if(a&&a.length){return E.getValueCriticality(t.value,a)}else{return undefined}},getValueCriticality:function(e,t){let i;const n=[];if(t&&t.length>0){t.forEach(function(t){if(t.Value&&t.Criticality){const i="${"+e+"} === '"+t.Value+"' ? '"+E._getCriticalityFromEnum(t.Criticality)+"'";n.push(i)}});i=n.length>0&&n.join(" : ")+" : undefined"}return i?"{= "+i+" }":undefined},_getCriticalityFromEnum:function(e){const t=d.ValueColor;let i;if(e==="UI.CriticalityType/Negative"){i=t.Error}else if(e==="UI.CriticalityType/Positive"){i=t.Good}else if(e==="UI.CriticalityType/Critical"){i=t.Critical}else{i=t.Neutral}return i},getScaleUoMTitle:function(e,t,i,n,o,a,r){var l,s,u,d,c;const g=e!==null&&e!==void 0&&e.MeasureAttributes?(l=e.MeasureAttributes[0])===null||l===void 0?void 0:(s=l.DataPoint)===null||s===void 0?void 0:(u=s.$target)===null||u===void 0?void 0:(d=u.ValueFormat)===null||d===void 0?void 0:(c=d.ScaleFactor)===null||c===void 0?void 0:c.valueOf():undefined;const f=$([i]);const p=v.getIntegerInstance({style:"short",showScale:false,shortRefNumber:g});let m=p.getScale();let y=E.getUoM(e,t,undefined,n,o);y=y&&(y.path?"${internal>uom/"+f+"}":"'"+y+"'");m=m?"'"+m+"'":"${internal>scalefactor/"+f+"}";if(!a){a="|"}a="' "+a+" ' + ";const h=m&&y?a+m+" + ' ' + "+y:a+(m||y);return r?h:"{= "+h+"}"},getMeasureDimensionTitle:function(e,t,i){var n,o,a,r,l;let s;let u;if(t){var d,v;u=e===null||e===void 0?void 0:(d=e.Measures[0])===null||d===void 0?void 0:(v=d.$target)===null||v===void 0?void 0:v.name}if(e!==null&&e!==void 0&&e.DynamicMeasures&&e.DynamicMeasures.length>0){var g,f,p;u=(g=e.DynamicMeasures[0])===null||g===void 0?void 0:(f=g.$target)===null||f===void 0?void 0:(p=f.AggregatableProperty)===null||p===void 0?void 0:p.value}else if(!t&&e!==null&&e!==void 0&&e.Measures&&(e===null||e===void 0?void 0:e.Measures.length)>0){var m,y;u=(m=e.Measures[0])===null||m===void 0?void 0:(y=m.$target)===null||y===void 0?void 0:y.name}const h=e===null||e===void 0?void 0:(n=e.Dimensions[0])===null||n===void 0?void 0:n.value;let C=e===null||e===void 0?void 0:(o=e.Dimensions[0])===null||o===void 0?void 0:(a=o.$target)===null||a===void 0?void 0:(r=a.annotations)===null||r===void 0?void 0:(l=r.Common)===null||l===void 0?void 0:l.Label;if(!t&&i){s=i.annotations&&i.annotations.Common&&i.annotations.Common.Label;if(s===undefined){var M,P,T,b;s=e===null||e===void 0?void 0:(M=e.Measures[0])===null||M===void 0?void 0:(P=M.$target)===null||P===void 0?void 0:(T=P.annotations)===null||T===void 0?void 0:(b=T.Common)===null||b===void 0?void 0:b.Label}}else{var $,D,E,O;s=e===null||e===void 0?void 0:($=e.Measures[0])===null||$===void 0?void 0:(D=$.$target)===null||D===void 0?void 0:(E=D.annotations)===null||E===void 0?void 0:(O=E.Common)===null||O===void 0?void 0:O.Label}if(s===undefined){s=u}if(C===undefined){C=h}return c.getLibraryResourceBundle("sap.fe.macros").getText("M_INTERACTIVE_CHART_HELPER_VISUALFILTER_MEASURE_DIMENSION_TITLE",[s,C])},getToolTip:function(e,t,i,n,o,a){const r=e&&e["ChartType"];let l=E.getMeasureDimensionTitle(e,n,o);l=s.escapeSingleQuotes(l);if(a==="false"&&r==="UI.ChartType/Line"){return`{= '${l}'}`}const u=c.getLibraryResourceBundle("sap.fe.macros").getText("M_INTERACTIVE_CHART_HELPER_VISUALFILTER_TOOLTIP_SEPERATOR");const d=$([i]);const v=E.getScaleUoMTitle(e,t,d,n,o,u,true);return"{= '"+l+(v?"' + "+v:"'")+"}"},_getUOM:function(e,t,i,n,o){const a={};const r=i===null||i===void 0?void 0:i.targetObject;if(e&&t){a[t]={$Path:e.path};return n&&e.path?JSON.stringify(a):e}else if(o){var l,s;const i=r.entityType?r.entityType.entityProperties:(l=r.targetType)===null||l===void 0?void 0:l.entityProperties;const c=i===null||i===void 0?void 0:i.find(e=>e.name==o);if(c!==null&&c!==void 0&&(s=c.annotations)!==null&&s!==void 0&&s.Measures&&t){var u,d;e=c===null||c===void 0?void 0:(u=c.annotations)===null||u===void 0?void 0:u.Measures[t];a[t]={$Path:(d=e)===null||d===void 0?void 0:d.path}}return e&&n&&e.path?JSON.stringify(a):e}},getUoM:function(e,t,i,n,o){var a,r;let l={};if(n){l=e===null||e===void 0?void 0:e.Measures[0]}if(e!==null&&e!==void 0&&e.DynamicMeasures&&e.DynamicMeasures.length>0){var s,u,d,c,v;l=(s=e.DynamicMeasures[0])===null||s===void 0?void 0:(u=s.$target)===null||u===void 0?void 0:(d=u.AggregatableProperty)===null||d===void 0?void 0:(c=d.$target)===null||c===void 0?void 0:(v=c.annotations)===null||v===void 0?void 0:v.Measures}else if(!n&&e!==null&&e!==void 0&&e.Measures&&e.Measures.length>0){l=e.Measures[0]}const g=(a=l)===null||a===void 0?void 0:a.ISOCurrency;const f=(r=l)===null||r===void 0?void 0:r.Unit;let p;if(!n&&o){p=o.AggregatableProperty&&o.AggregatableProperty.value}else{var m;p=(m=l)===null||m===void 0?void 0:m.value}return this._getUOM(g,"ISOCurrency",t,i,p)||this._getUOM(f,"Unit",t,i,p)},getScaleFactor:function(e){if(e&&e.ScaleFactor){return e.ScaleFactor.valueOf()}return undefined},getUoMVisiblity:function(e,t){const i=e&&e["ChartType"];if(t){return false}else if(!(i==="UI.ChartType/Bar"||i==="UI.ChartType/Line")){return false}else{return true}},getInParameterFiltersBinding:function(e){if(e.length>0){const t=[];let i="";e.forEach(function(e){if(e.localDataProperty){t.push(`{path:'$filters>/conditions/${e.localDataProperty}'}`)}});if(t.length>0){i=t.join();return`{parts:[${i}], formatter:'sap.fe.macros.visualfilters.VisualFilterRuntime.getFiltersFromConditions'}`}else{return undefined}}else{return undefined}},getfilterCountBinding:function(e){var t,i;const n=e===null||e===void 0?void 0:(t=e.Dimensions[0])===null||t===void 0?void 0:(i=t.$target)===null||i===void 0?void 0:i.name;return"{path:'$filters>/conditions/"+n+"', formatter:'sap.fe.macros.visualfilters.VisualFilterRuntime.getFilterCounts'}"},getInteractiveChartProperties:function(e){const t=e.chartAnnotation;const i={};if(e.chartMeasure&&t!==null&&t!==void 0&&t.Dimensions&&t.Dimensions[0]){var n,o,a,r,l,u,d,c,v,g;const p=$([(n=e.metaPath)===null||n===void 0?void 0:n.getPath()]);i.showErrorExpression="${internal>"+p+"/showError}";i.errorMessageExpression="{internal>"+p+"/errorMessage}";i.errorMessageTitleExpression="{internal>"+p+"/errorMessageTitle}";let m;if(t!==null&&t!==void 0&&t.MeasureAttributes&&t!==null&&t!==void 0&&t.MeasureAttributes[0]){var f;m=t!==null&&t!==void 0&&(f=t.MeasureAttributes[0])!==null&&f!==void 0&&f.DataPoint?t===null||t===void 0?void 0:t.MeasureAttributes[0].DataPoint.$target:t===null||t===void 0?void 0:t.MeasureAttributes[0]}const h=t===null||t===void 0?void 0:t.Dimensions[0];const C=s.getParameters(e.contextPath.getObject(),{context:e.contextPath});const M=h===null||h===void 0?void 0:(o=h.$target)===null||o===void 0?void 0:(a=o.annotations)===null||a===void 0?void 0:(r=a.Common)===null||r===void 0?void 0:r.Text;const P=D(e.metaPath,e.contextPath).targetObject;const T=D(e.contextPath);const b=e.selectionVariantAnnotation?D(e.selectionVariantAnnotation):undefined;const O=P.SortOrder;i.aggregationBinding=E.getAggregationBinding(t,T,e.contextPath,M,(l=h.$target)===null||l===void 0?void 0:l.type,O,b,e.customAggregate,e.aggregateProperties,e.UoMHasCustomAggregate,C,e.filterBarEntityType,e.draftSupported,e.chartMeasure);i.scalefactor=E.getScaleFactor((u=m)===null||u===void 0?void 0:u.ValueFormat);i.uom=E.getUoM(t,T,true,e.customAggregate,e.aggregateProperties);i.inParameters=s.stringifyCustomData(e.inParameters);i.inParameterFilters=e.inParameters?E.getInParameterFiltersBinding(e.inParameters):undefined;i.selectionVariantAnnotation=e.selectionVariantAnnotation?s.stringifyCustomData(e.selectionVariantAnnotation):undefined;i.stringifiedParameters=s.stringifyCustomData(C);const I=(d=e.metaPath)===null||d===void 0?void 0:(c=d.getModel())===null||c===void 0?void 0:c.createBindingContext(e.contextPath.getPath()+"/@"+h.fullyQualifiedName.split("@")[1]);if(I){const t=D(I,e.contextPath);i.chartLabel=y(t,{})}i.measure=E.getChartValue(e.chartMeasure);i.displayedValue=E.getChartDisplayedValue(e.chartMeasure,(v=m)===null||v===void 0?void 0:v.ValueFormat,(g=e.metaPath)===null||g===void 0?void 0:g.getPath());i.color=E.getColorBinding(m,h)}return i}};return E},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/visualfilters/VisualFilter.block", ["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/controls/Common/DataVisualization","sap/fe/core/converters/helpers/Aggregation","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","./InteractiveChartHelper","./fragments/InteractiveBarChart","./fragments/InteractiveChartWithError","./fragments/InteractiveLineChart"],function(e,t,r,i,a,n,o,l,u,s,c,g,p){"use strict";var d,h,f,v,m,b,y,T,A,M,w,C,P,I,V,E,S,U,D,x,z,H,B,L,O,_,$,F,R,q,N,k,j,W,Y,G,J,K,Q,X,Z,ee,te,re,ie,ae,ne,oe,le,ue,se;var ce={};var ge=p.getInteractiveLineChartTemplate;var pe=g.getInteractiveChartWithErrorTemplate;var de=c.getInteractiveBarChartTemplate;var he=u.generate;var fe=o.AggregationHelper;var ve=n.getDefaultSelectionVariant;var me=a.getInvolvedDataModelObjects;var be=i.xml;var ye=r.defineBuildingBlock;var Te=r.blockAttribute;function Ae(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Me(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function we(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Ce(e,t)}function Ce(e,t){Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return Ce(e,t)}function Pe(e,t,r,i,a){var n={};Object.keys(i).forEach(function(e){n[e]=i[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n);if(a&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(a):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}function Ie(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let Ve=(d=ye({name:"VisualFilter",namespace:"sap.fe.macros"}),h=Te({type:"string",required:true}),f=Te({type:"string"}),v=Te({type:"sap.ui.model.Context",required:true,expectedTypes:["EntitySet","NavigationProperty"]}),m=Te({type:"sap.ui.model.Context",required:true}),b=Te({type:"string"}),y=Te({type:"string"}),T=Te({type:"sap.ui.model.Context"}),A=Te({type:"array"}),M=Te({type:"boolean"}),w=Te({type:"boolean"}),C=Te({type:"boolean"}),P=Te({type:"string"}),I=Te({type:"string"}),V=Te({type:"sap.ui.model.Context"}),E=Te({type:"boolean"}),S=Te({type:"string"}),U=Te({type:"boolean"}),D=Te({type:"boolean"}),x=Te({type:"boolean"}),z=Te({type:"string"}),H=Te({type:"string"}),B=Te({type:"string"}),L=Te({type:"boolean"}),O=Te({type:"boolean"}),d(_=($=function(t){we(r,t);function r(r,i,a){var n,o,u,c,g,p,d,h,f,v,m,b,y,T,A,M,w,C,P;var I;I=t.call(this,r,i,a)||this;Ae(I,"id",F,Me(I));Ae(I,"title",R,Me(I));Ae(I,"contextPath",q,Me(I));Ae(I,"metaPath",N,Me(I));Ae(I,"outParameter",k,Me(I));Ae(I,"valuelistProperty",j,Me(I));Ae(I,"selectionVariantAnnotation",W,Me(I));Ae(I,"inParameters",Y,Me(I));Ae(I,"multipleSelectionAllowed",G,Me(I));Ae(I,"required",J,Me(I));Ae(I,"showOverlayInitially",K,Me(I));Ae(I,"renderLineChart",Q,Me(I));Ae(I,"requiredProperties",X,Me(I));Ae(I,"filterBarEntityType",Z,Me(I));Ae(I,"showError",ee,Me(I));Ae(I,"chartMeasure",te,Me(I));Ae(I,"UoMHasCustomAggregate",re,Me(I));Ae(I,"showValueHelp",ie,Me(I));Ae(I,"customAggregate",ae,Me(I));Ae(I,"groupId",ne,Me(I));Ae(I,"errorMessageTitle",oe,Me(I));Ae(I,"errorMessage",le,Me(I));Ae(I,"draftSupported",ue,Me(I));Ae(I,"isValueListWithFixedValues",se,Me(I));I.groupId="$auto.visualFilters";I.path=(n=I.metaPath)===null||n===void 0?void 0:n.getPath();const V=me(I.metaPath,I.contextPath);const E=I.getConverterContext(V,undefined,a);const S=new fe(E.getEntityType(),E);const U=S.getCustomAggregateDefinitions();const D=V.targetObject;let x;const z=D&&D.Visualizations;I.getChartAnnotation(z,E);let H,B=[];if((o=I.chartAnnotation)!==null&&o!==void 0&&(u=o.Measures)!==null&&u!==void 0&&u.length){B=U.filter(e=>{var t;return e.qualifier===((t=I.chartAnnotation)===null||t===void 0?void 0:t.Measures[0].value)});x=B.length>0?B[0].qualifier:I.chartAnnotation.Measures[0].value;H=S.getAggregatedProperties("AggregatedProperties")[0]}if(H&&H.length>0&&!((c=I.chartAnnotation)!==null&&c!==void 0&&c.DynamicMeasures)&&B.length===0&&(g=I.chartAnnotation)!==null&&g!==void 0&&g.Measures&&((p=I.chartAnnotation)===null||p===void 0?void 0:p.Measures.length)>0){e.warning("The transformational aggregate measures are configured as Chart.Measures but should be configured as Chart.DynamicMeasures instead. Please check the SAP Help documentation and correct the configuration accordingly.")}if((d=I.chartAnnotation)!==null&&d!==void 0&&d.DynamicMeasures){if(B.length===0){x=E.getConverterContextFor(E.getAbsoluteAnnotationPath(I.chartAnnotation.DynamicMeasures[0].value)).getDataModelObjectPath().targetObject.Name;H=S.getAggregatedProperties("AggregatedProperty")}else{e.warning("The dynamic measures have been ignored as visual filters can deal with only 1 measure and the first (custom aggregate) measure defined under Chart.Measures is considered.")}}if(U.some(function(e){return e.qualifier===x})){I.customAggregate=true}const L=ve(E.getEntityType());I.checkSelectionVariant(L);const O=I.getAggregateProperties(H,x);if(O){I.aggregateProperties=O}const _=z&&((h=z[0])===null||h===void 0?void 0:(f=h.$target)===null||f===void 0?void 0:f.Measures)&&((v=z[0])===null||v===void 0?void 0:(m=v.$target)===null||m===void 0?void 0:(b=m.Measures[0])===null||b===void 0?void 0:(y=b.$target)===null||y===void 0?void 0:y.annotations);const $=O===null||O===void 0?void 0:(T=O.AggregatableProperty)===null||T===void 0?void 0:(A=T.$target)===null||A===void 0?void 0:A.annotations;I.checkIfUOMHasCustomAggregate(U,_,$);const ce=_===null||_===void 0?void 0:(M=_.UI)===null||M===void 0?void 0:M.Hidden;const ge=$===null||$===void 0?void 0:(w=$.UI)===null||w===void 0?void 0:w.Hidden;const pe=I.getHiddenMeasure(ce,ge,I.customAggregate);const de=(C=I.chartAnnotation)===null||C===void 0?void 0:C.ChartType;I.chartType=de;I.showValueHelp=I.getShowValueHelp(de,pe);I.draftSupported=l.isDraftSupported(a.models.metaModel,(P=I.contextPath)===null||P===void 0?void 0:P.getPath());I.errorMessage=I.getErrorMessage(pe,x);I.chartMeasure=x;I.measureDimensionTitle=s.getMeasureDimensionTitle(I.chartAnnotation,I.customAggregate,I.aggregateProperties);const he=me(I.contextPath);I.toolTip=s.getToolTip(I.chartAnnotation,he,I.path,I.customAggregate,I.aggregateProperties,I.renderLineChart);I.UoMVisibility=s.getUoMVisiblity(I.chartAnnotation,I.showError);I.scaleUoMTitle=s.getScaleUoMTitle(I.chartAnnotation,he,I.path,I.customAggregate,I.aggregateProperties);I.filterCountBinding=s.getfilterCountBinding(I.chartAnnotation);return I}ce=r;var i=r.prototype;i.checkIfUOMHasCustomAggregate=function e(t,r,i){const a=r===null||r===void 0?void 0:r.Measures;const n=i===null||i===void 0?void 0:i.Measures;const o=this.getUoM(a,n);if(o&&t.some(function(e){return e.qualifier===o})){this.UoMHasCustomAggregate=true}else{this.UoMHasCustomAggregate=false}};i.getChartAnnotation=function e(t,r){if(t){for(let e=0;e<t.length;e++){const i=t[e]&&t[e].value;this.chartAnnotation=r.getEntityTypeAnnotation(i)&&r.getEntityTypeAnnotation(i).annotation}}};i.getErrorMessage=function e(t,r){let i;if(this.chartAnnotation){if(this.chartAnnotation.ChartType==="UI.ChartType/Line"||this.chartAnnotation.ChartType==="UI.ChartType/Bar"){i=true}else{i=false}}if(typeof t==="boolean"&&t||!i||this.renderLineChart==="false"){this.showError=true;this.errorMessageTitle=t||!i?this.getTranslatedText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"):this.getTranslatedText("M_VISUAL_FILTER_LINE_CHART_INVALID_DATATYPE");if(t){return this.getTranslatedText("M_VISUAL_FILTER_HIDDEN_MEASURE",[r])}else if(!i){return this.getTranslatedText("M_VISUAL_FILTER_UNSUPPORTED_CHART_TYPE")}else{return this.getTranslatedText("M_VISUAL_FILTER_LINE_CHART_UNSUPPORTED_DIMENSION")}}};i.getShowValueHelp=function e(t,r){var i,a;const n=((i=this.chartAnnotation)===null||i===void 0?void 0:i.Dimensions[0])&&((a=this.chartAnnotation)===null||a===void 0?void 0:a.Dimensions[0].$target)&&this.chartAnnotation.Dimensions[0].$target.type;if(n==="Edm.Date"||n==="Edm.Time"||n==="Edm.DateTimeOffset"){return false}else if(typeof r==="boolean"&&r){return false}else if(!(t==="UI.ChartType/Bar"||t==="UI.ChartType/Line")){return false}else if(this.renderLineChart==="false"&&t==="UI.ChartType/Line"){return false}else if(this.isValueListWithFixedValues===true){return false}else{return true}};i.checkSelectionVariant=function t(r){let i;if(this.selectionVariantAnnotation){var a;const e=(a=this.metaPath)===null||a===void 0?void 0:a.getModel().createBindingContext(this.selectionVariantAnnotation.getPath());i=e&&me(e,this.contextPath).targetObject}if(!i&&r){i=r}if(i&&i.SelectOptions&&!this.multipleSelectionAllowed){for(const t of i.SelectOptions){var n;if(t.PropertyName.value===((n=this.chartAnnotation)===null||n===void 0?void 0:n.Dimensions[0].value)){if(t.Ranges.length>1){e.error("Multiple SelectOptions for FilterField having SingleValue Allowed Expression")}}}}};i.getAggregateProperties=function e(t,r){let i;if(!t){return}t.some(function(e){if(e.Name===r){i=e;return true}});return i};i.getUoM=function e(t,r){var i,a;let n=t===null||t===void 0?void 0:t.ISOCurrency;let o=t===null||t===void 0?void 0:t.Unit;if(!n&&!o&&r){n=r.ISOCurrency;o=r.Unit}return((i=n)===null||i===void 0?void 0:i.path)||((a=o)===null||a===void 0?void 0:a.path)};i.getHiddenMeasure=function e(t,r,i){if(!i&&r){return r.valueOf()}else{return t===null||t===void 0?void 0:t.valueOf()}};i.getRequired=function e(){if(this.required){return be`<Label text="" width="0.5rem" required="true">
							<layoutData>
								<OverflowToolbarLayoutData priority="Never" />
							</layoutData>
						</Label>`}else{return""}};i.getUoMTitle=function e(t){if(this.UoMVisibility){return be`<Title
							id="${he([this.id,"ScaleUoMTitle"])}"
							visible="{= !${t}}"
							text="${this.scaleUoMTitle}"
							titleStyle="H6"
							level="H3"
							width="4.15rem"
						/>`}else{return""}};i.getValueHelp=function e(t){if(this.showValueHelp){return be`<ToolbarSpacer />
						<Button
							id="${he([this.id,"VisualFilterValueHelpButton"])}"
							type="Transparent"
							ariaHasPopup="Dialog"
							text="${this.filterCountBinding}"
							press="VisualFilterRuntime.fireValueHelp"
							enabled="{= !${t}}"
							customData:multipleSelectionAllowed="${this.multipleSelectionAllowed}"
						>
							<layoutData>
								<OverflowToolbarLayoutData priority="Never" />
							</layoutData>
						</Button>`}else{return""}};i.getInteractiveChartFragment=function e(){if(this.showError){return pe(this)}else if(this.chartType==="UI.ChartType/Bar"){return de(this)}else if(this.chartType==="UI.ChartType/Line"){return ge(this)}return""};i.getTemplate=function e(){const t=he([this.path]);const r="${internal>"+t+"/showError}";return be`
		<control:VisualFilter
		core:require="{VisualFilterRuntime: 'sap/fe/macros/visualfilters/VisualFilterRuntime'}"
		xmlns="sap.m"
		xmlns:control="sap.fe.core.controls.filterbar"
		xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
		xmlns:core="sap.ui.core"
		id="${this.id}"
		height="13rem"
		width="20.5rem"
		class="sapUiSmallMarginBeginEnd"
		customData:infoPath="${he([this.path])}"
	>
		<VBox height="2rem" class="sapUiSmallMarginBottom">
			<OverflowToolbar style="Clear">
				${this.getRequired()}
				<Title
					id="${he([this.id,"MeasureDimensionTitle"])}"
					text="${this.measureDimensionTitle}"
					tooltip="${this.toolTip}"
					titleStyle="H6"
					level="H3"
					class="sapUiTinyMarginEnd sapUiNoMarginBegin"
				/>
				${this.getUoMTitle(r)}
				${this.getValueHelp(r)}
			</OverflowToolbar>
		</VBox>
		<VBox height="100%" width="100%">
			${this.getInteractiveChartFragment()}
		</VBox>
	</control:VisualFilter>`};return r}(t),F=Pe($.prototype,"id",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),R=Pe($.prototype,"title",[f],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),q=Pe($.prototype,"contextPath",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),N=Pe($.prototype,"metaPath",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),k=Pe($.prototype,"outParameter",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),j=Pe($.prototype,"valuelistProperty",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),W=Pe($.prototype,"selectionVariantAnnotation",[T],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=Pe($.prototype,"inParameters",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),G=Pe($.prototype,"multipleSelectionAllowed",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),J=Pe($.prototype,"required",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),K=Pe($.prototype,"showOverlayInitially",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=Pe($.prototype,"renderLineChart",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),X=Pe($.prototype,"requiredProperties",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=Pe($.prototype,"filterBarEntityType",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),ee=Pe($.prototype,"showError",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),te=Pe($.prototype,"chartMeasure",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),re=Pe($.prototype,"UoMHasCustomAggregate",[U],{configurable:true,enumerable:true,writable:true,initializer:null}),ie=Pe($.prototype,"showValueHelp",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),ae=Pe($.prototype,"customAggregate",[x],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),ne=Pe($.prototype,"groupId",[z],{configurable:true,enumerable:true,writable:true,initializer:function(){return"$auto.visualFilters"}}),oe=Pe($.prototype,"errorMessageTitle",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),le=Pe($.prototype,"errorMessage",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),ue=Pe($.prototype,"draftSupported",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),se=Pe($.prototype,"isValueListWithFixedValues",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),$))||_);ce=Ve;return ce},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/visualfilters/VisualFilterRuntime", ["sap/base/Log","sap/fe/core/controls/filterbar/utils/VisualFilterUtils","sap/fe/core/templating/FilterHelper","sap/fe/macros/CommonHelper","sap/fe/macros/filter/FilterUtils","sap/ui/core/Core","sap/ui/mdc/condition/Condition","sap/ui/mdc/odata/v4/TypeMap","sap/ui/mdc/util/FilterUtil","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,r,n,i,o,s,a,l,f,c){"use strict";var u=r.getFiltersConditionsFromSelectionVariant;const g={selectionChanged(r){const n=r.getSource();const i=n.data("outParameter");const o=n.data("valuelistProperty");const a=n.data("dimension");const l=n.data("dimensionText");const f=n.data("multipleSelectionAllowed");const c=n.data("dimensionType");const u=r.getParameter("bar")||r.getParameter("point")||r.getParameter("segment");const g=r.getParameter("selected");const d=n.getModel("$field");let p=d.getProperty("/conditions");if(!i||o!==a){e.error("VisualFilter: Cannot sync values with regular filter as out parameter is not configured properly!")}else{let r=u.getBindingContext().getObject(o);if(r){let e=u.getBindingContext().getObject(l);if(typeof e!=="string"&&!(e instanceof String)){e=undefined}if(g){if(f==="false"){p=[]}if(c==="Edm.DateTimeOffset"){r=t._parseDateTime(r)}const n=s.createItemCondition(r,e||undefined,{},{});p.push(n)}else{p=p.filter(function(e){if(c==="Edm.DateTimeOffset"){return e.operator!=="EQ"||Date.parse(e.values[0])!==Date.parse(r)}return e.operator!=="EQ"||e.values[0]!==r})}d.setProperty("/conditions",p)}else{e.error("VisualFilter: No vaue found for the outParameter")}}},getAggregationSelected(e){var r;let n=[];if(!this.getBindingContext()){return}for(let t=0;t<=e.length-1;t++){const r=e[t];if(r.operator==="EQ"){n.push(r.values[0])}}const i=this.getParent();const o=i.data("dimension");const s=i.data("dimensionType");let a=(r=this.getBindingContext())===null||r===void 0?void 0:r.getObject(o);if(s==="Edm.DateTimeOffset"){a=t._parseDateTime(a)}if(i.data("multipleSelectionAllowed")==="false"&&n.length>1){n=[n[0]]}return n.includes(a)},getFiltersFromConditions(){var e,r,s;for(var g=arguments.length,d=new Array(g),p=0;p<g;p++){d[p]=arguments[p]}const m=this.getParent();const h=(e=m.getParent())===null||e===void 0?void 0:(r=e.getParent())===null||r===void 0?void 0:(s=r.getParent())===null||s===void 0?void 0:s.getParent();const y=m.data("inParameters").customData;const P=m.data("draftSupported")==="true";const E=h.getPropertyInfo();const T={};const v=[];let F;let C=[];const L=m.data("parameters").customData;const _=n.parseCustomData(m.data("selectionVariantAnnotation"));const S=m.getBinding("bars")||m.getBinding("points")||m.getBinding("segments");const b=S.getPath();const I=m.getModel().getMetaModel();const M=S.getPath();const D=u(M,I,_,t.getCustomConditions.bind(t));for(const e in E){E[e].typeConfig=a.getTypeConfig(E[e].dataType,{},{})}const O=t.convertFilterCondions(D);Object.keys(O).forEach(function(e){T[e]=O[e];const r=y.find(function(t){return t.valueListProperty===e});const n=r?r.localDataProperty:e;if(!L||L&&L.indexOf(e)===-1){for(const r in E){const i=E[r];if(n===i.name){if(i.typeConfig.baseType==="DateTime"){if(T[e]){T[e].forEach(function(e){e.values[0]=t._formatDateTime(e.values[0])})}}v.push({name:e,typeConfig:i.typeConfig})}}}});y.forEach(function(e,r){if(d[r].length>0){T[e.valueListProperty]=d[r];if(!L||L&&L.indexOf(e.valueListProperty)===-1){for(const r in E){const n=E[r];if(n.name===e.localDataProperty){if(n.typeConfig.baseType==="DateTime"){if(T[e.valueListProperty]){T[e.valueListProperty].forEach(function(e){e.values[0]=t._formatDateTime(e.values[0])})}}v.push({name:e.valueListProperty,typeConfig:n.typeConfig})}}}}});const V=m.getBindingContext("internal");const R=m.data("infoPath");let A;const w=o.getLibraryResourceBundle("sap.fe.macros");const x=n.parseCustomData(m.data("requiredProperties"));if(x.length){const e=Object.keys(T)||[];const t=[];x.forEach(function(r){if(!e.includes(r)){t.push(r)}});if(!t.length){A=V.getProperty(`${R}/showError`);V.setProperty(R,{errorMessageTitle:"",errorMessage:"",showError:false})}else if(t.length>1){V.setProperty(R,{errorMessageTitle:w.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:w.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF"),showError:true});return}else{const e=I.getObject(`${M}/${t[0]}@com.sap.vocabularies.Common.v1.Label`)||t[0];V.setProperty(R,{errorMessageTitle:w.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:w.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",e),showError:true});return}}else{A=V.getProperty(`${R}/showError`);V.setProperty(R,{errorMessageTitle:"",errorMessage:"",showError:false})}const B=h.data("entityType").split("/")[1];const j=b.split("/")[1].split("(")[0];if(L&&L.length&&B===j){const e=A?i.getBindingPathForParameters(h,T,E,L):undefined;if(e){S.sPath=e}}if(L&&L.length){L.forEach(function(e){if(T[e]){delete T[e]}})}Object.keys(T).forEach(function(e){T[e].forEach(function(e){if(e.values.length>1){e.values=e.values.slice(0,1)}})});if(Object.keys(T).length>0&&v.length){F=l.getFilterInfo(h,T,v,[]).filters;if(F){if(!F.aFilters){C.push(F)}else if(F.aFilters){C=F.aFilters}}}if(P){C.push(new f("IsActiveEntity",c.EQ,true))}if(C&&C.length>0){S.filter(C)}else if(!Object.keys(T).length){S.filter()}if(A&&S.isSuspended()){S.resume()}return C},getFilterCounts(e){if(this.data("multipleSelectionAllowed")==="false"&&e.length>0){return`(1)`}if(e.length>0){return`(${e.length})`}else{return undefined}},scaleVisualFilterValue(e,r,n,i,o){if(r){return t.getFormattedNumber(o,r,n)}else if(i){return t.getFormattedNumber(o,undefined,undefined,i)}else if(n>0){n=n>2?2:n;return t.getFormattedNumber(o,undefined,n)}else{return e}},fireValueHelp(e){e.getSource().getParent().getParent().getParent().fireValueHelpRequest()}};return g},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/visualfilters/fragments/InteractiveBarChart", ["sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","../InteractiveChartHelper"],function(e,t,a,r){"use strict";var i={};var o=a.isPathAnnotationExpression;var s=t.generate;var n=e.xml;function l(e){const t=r.getInteractiveChartProperties(e);if(t){var a,i,l,u,c,m,d,v;const r=s([(a=e.metaPath)===null||a===void 0?void 0:a.getPath()]);const p=(i=e.chartAnnotation)===null||i===void 0?void 0:i.Dimensions[0];return n`<InteractiveBarChart
                            xmlns="sap.suite.ui.microchart"
                            xmlns:core="sap.ui.core"
                            xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
                            core:require="{VisualFilterRuntime: 'sap/fe/macros/visualfilters/VisualFilterRuntime'}"
                            visible="{= ${t.showErrorExpression}}"
                            selectionChanged="VisualFilterRuntime.selectionChanged"
                            showError="{= ${t.showErrorExpression}}"
                            errorMessageTitle="${t.errorMessageTitleExpression}"
                            errorMessage="${t.errorMessageExpression}"
                            bars="${t.aggregationBinding}"
                            customData:outParameter="${e.outParameter}"
                            customData:valuelistProperty="${e.valuelistProperty}"
                            customData:multipleSelectionAllowed="${e.multipleSelectionAllowed}"
                            customData:dimension="${p===null||p===void 0?void 0:(l=p.$target)===null||l===void 0?void 0:l.name}"
                            customData:dimensionText="${o(p===null||p===void 0?void 0:(u=p.$target)===null||u===void 0?void 0:(c=u.annotations.Common)===null||c===void 0?void 0:c.Text)?p===null||p===void 0?void 0:(m=p.$target)===null||m===void 0?void 0:(d=m.annotations.Common)===null||d===void 0?void 0:d.Text.path:undefined}"
                            customData:scalefactor="${t.scalefactor}"
                            customData:measure="${e.chartMeasure}"
                            customData:uom="${t.uom}"
                            customData:inParameters="${t.inParameters}"
                            customData:inParameterFilters="${t.inParameterFilters}"
                            customData:dimensionType="${p===null||p===void 0?void 0:(v=p.$target)===null||v===void 0?void 0:v.type}"
                            customData:selectionVariantAnnotation="${t.selectionVariantAnnotation}"
                            customData:required="${e.required}"
                            customData:showOverlayInitially="${e.showOverlayInitially}"
                            customData:requiredProperties="${e.requiredProperties}"
                            customData:infoPath="${r}"
                            customData:parameters="${t.stringifiedParameters}"
                            customData:draftSupported="${e.draftSupported}"
                        >
                            <bars>
                                <InteractiveBarChartBar
                                    core:require="{VisualFilterRuntime: 'sap/fe/macros/visualfilters/VisualFilterRuntime'}"
                                    label="${t.chartLabel}"
                                    value="${t.measure}"
                                    displayedValue="${t.displayedValue}"
                                    color="${t.color}"
                                    selected="{path: '$field>/conditions', formatter: 'sap.fe.macros.visualfilters.VisualFilterRuntime.getAggregationSelected'}"
                                />
                            </bars>
                        </InteractiveBarChart>`}return""}i.getInteractiveBarChartTemplate=l;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/visualfilters/fragments/InteractiveChartWithError", ["sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor"],function(r){"use strict";var e={};var i=r.xml;function s(r){const e=r.chartAnnotation;if(r.chartMeasure&&e!==null&&e!==void 0&&e.Dimensions&&e.Dimensions[0]){return i`<InteractiveLineChart
                        xmlns="sap.suite.ui.microchart"
                        xmlns:core="sap.ui.core"
                        core:require="{VisualFilterRuntime: 'sap/fe/macros/visualfilters/VisualFilterRuntime'}"
                        showError="${r.showError}"
                        errorMessageTitle="${r.errorMessageTitle}"
                        errorMessage="${r.errorMessage}"
                    />`}return""}e.getInteractiveChartWithErrorTemplate=s;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/macros/visualfilters/fragments/InteractiveLineChart", ["sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","../InteractiveChartHelper"],function(e,t,a,i){"use strict";var r={};var o=a.isPathAnnotationExpression;var s=t.generate;var n=e.xml;function l(e){const t=i.getInteractiveChartProperties(e);if(t){var a,r,l,u,c,m,d,p;const i=s([(a=e.metaPath)===null||a===void 0?void 0:a.getPath()]);const v=(r=e.chartAnnotation)===null||r===void 0?void 0:r.Dimensions[0];return n`<InteractiveLineChart
                        xmlns="sap.suite.ui.microchart"
                        xmlns:core="sap.ui.core"
                        xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
                        core:require="{VisualFilterRuntime: 'sap/fe/macros/visualfilters/VisualFilterRuntime'}"
                        visible="{= ${t.showErrorExpression}}"
                        selectionChanged="VisualFilterRuntime.selectionChanged"
                        showError="{= ${t.showErrorExpression}}"
                        errorMessageTitle="${t.errorMessageTitleExpression}"
                        errorMessage="${t.errorMessageExpression}"
                        points="${t.aggregationBinding}"
                        customData:outParameter="${e.outParameter}"
                        customData:valuelistProperty="${e.valuelistProperty}"
                        customData:multipleSelectionAllowed="${e.multipleSelectionAllowed}"
                        customData:dimension="${v===null||v===void 0?void 0:(l=v.$target)===null||l===void 0?void 0:l.name}"
                        customData:dimensionText="${o(v===null||v===void 0?void 0:(u=v.$target)===null||u===void 0?void 0:(c=u.annotations.Common)===null||c===void 0?void 0:c.Text)?v===null||v===void 0?void 0:(m=v.$target)===null||m===void 0?void 0:(d=m.annotations.Common)===null||d===void 0?void 0:d.Text.path:undefined}"
                        customData:measure="${e.chartMeasure}"
                        customData:scalefactor="${t.scalefactor}"
                        customData:uom="${t.uom}"
                        customData:inParameters="${t.inParameters}"
                        customData:inParameterConditions="${t.inParameterFilters}"
                        customData:dimensionType="${v===null||v===void 0?void 0:(p=v.$target)===null||p===void 0?void 0:p.type}"
                        customData:selectionVariantAnnotation="${t.selectionVariantAnnotation}"
                        customData:required="${e.required}"
                        customData:showOverlayInitially="${e.showOverlayInitially}"
                        customData:requiredProperties="${e.requiredProperties}"
                        customData:infoPath="${i}"
                        customData:parameters="${t.stringifiedParameters}"
                        customData:draftSupported="${e.draftSupported}"
                    >
                        <points>
                            <InteractiveLineChartPoint
                                core:require="{VisualFilterRuntime: 'sap/fe/macros/visualfilters/VisualFilterRuntime'}"
                                label="${t.chartLabel}"
                                value="${t.measure}"
                                displayedValue="${t.displayedValue}"
                                color="${t.color}"
                                selected="{path: '$field>/conditions', formatter: 'sap.fe.macros.visualfilters.VisualFilterRuntime.getAggregationSelected'}"
                            />
                        </points>
             </InteractiveLineChart>`}return""}r.getInteractiveLineChartTemplate=l;return r},false);
sap.ui.require.preload({
	"sap/fe/macros/contact/ContactQuickView.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:macros="sap.fe.macros"\n\ttemplate:require="{\n\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\'\n\t\t\t\t}"\n><template:if test="{contact>}"><VBox class="sapUiSmallMarginTop"><HBox class="sapUiSmallMarginBottom"><Avatar\n\t\t\t\t\tsrc="{= ${contact>photo@@MODEL.format} ? ${contact>photo@@MODEL.format} : \'sap-icon://person-placeholder\' }"\n\t\t\t\t\tdisplaySize="S"\n\t\t\t\t\tdisplayShape="Square"\n\t\t\t\t\tclass="sapUiTinyMarginEnd"\n\t\t\t\t/><VBox class="sapUiTinyMarginBegin"><Title text="{contact>fn@@MODEL.format}" level="H3" wrapping="true" /><Text text="{contact>role@@MODEL.format}" /></VBox></HBox><f:SimpleForm editable="false" layout="ResponsiveGridLayout" maxContainerCols="1" class="sapMQuickViewPage"><macros:TeamContactOptions mail="{payload>/mail}" /><core:Fragment fragmentName="sap.fe.macros.contact.ContactQuickViewGroup" type="XML" /></f:SimpleForm></VBox></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/contact/ContactQuickViewGroup.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\t\t\t\tCONTACT: \'sap/fe/macros/contact/ContactHelper\',\n\t\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_JOBTITLE}" visible="{= !!${contact>title}}" /><Text text="{contact>title@@MODEL.format}" visible="{= !!${contact>title}}" /><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_DEPARTMENT}" visible="{= !!${contact>org}}" /><Text text="{contact>org@@MODEL.format}" visible="{= !!${contact>org}}" /><template:if test="{contact>tel}"><template:with path="contact>tel" var="tels"><template:repeat\n\t\t\t\tlist="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'preferred\'}}"\n\t\t\t\tvar="tel"\n\t\t\t><Label text="{= CONTACT.computePhoneLabel(${tel>type/$EnumMember})}" /><Link text="{tel>uri/@@MODEL.format}" href="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}" wrapping="true" /></template:repeat><template:repeat list="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'work\'}}" var="tel"><Label text="{= CONTACT.computePhoneLabel(${tel>type/$EnumMember})}" /><Link text="{tel>uri/@@MODEL.format}" href="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}" wrapping="true" /></template:repeat><template:repeat list="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'cell\'}}" var="tel"><Label text="{= CONTACT.computePhoneLabel(${tel>type/$EnumMember})}" /><Link text="{tel>uri/@@MODEL.format}" href="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}" wrapping="true" /></template:repeat><template:repeat list="{path:\'tels>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'fax\'}}" var="tel"><Label text="{= CONTACT.computePhoneLabel(${tel>type/$EnumMember})}" /><Link text="{tel>uri/@@MODEL.format}" href="{= CONTACT.formatUri(\'phone\', ${tel>uri/@@MODEL.format})}" wrapping="true" /></template:repeat></template:with></template:if><template:if test="{contact>email}"><template:with path="contact>email" var="emails"><template:repeat\n\t\t\t\tlist="{path:\'emails>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'preferred\'}}"\n\t\t\t\tvar="mail"\n\t\t\t><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_EMAIL}" /><Link\n\t\t\t\t\ttext="{mail>address/@@MODEL.format}"\n\t\t\t\t\thref="{= CONTACT.formatUri(\'mail\', ${mail>address/@@MODEL.format})}"\n\t\t\t\t\twrapping="true"\n\t\t\t\t/></template:repeat><template:repeat list="{path:\'emails>\', filters: { path: \'type/$EnumMember\', operator: \'EndsWith\', value1: \'work\'}}" var="mail"><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_EMAIL}" /><Link\n\t\t\t\t\ttext="{mail>address/@@MODEL.format}"\n\t\t\t\t\thref="{= CONTACT.formatUri(\'mail\', ${mail>address/@@MODEL.format})}"\n\t\t\t\t\twrapping="true"\n\t\t\t\t/></template:repeat></template:with></template:if><template:if test="{contact>adr}"><template:with path="contact>adr" var="adrs"><template:repeat list="{adrs>}" var="adr"><template:if test="{adr>label}"><template:then><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_ADR}" /><Text text="{adr>label/@@MODEL.format}" /></template:then><template:else><Label text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_ADR}" /><Text\n\t\t\t\t\t\t\ttext="{= CONTACT.formatAddress(${adr>street/@@MODEL.format}, ${adr>code/@@MODEL.format}, ${adr>locality/@@MODEL.format}, ${adr>region/@@MODEL.format}, ${adr>country/@@MODEL.format})}"\n\t\t\t\t\t\t/></template:else></template:if></template:repeat></template:with></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/filter/CustomFilter.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns:fpm="sap.fe.macros.fpm"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\t\tFILTERFIELD: \'sap/fe/macros/filter/FilterFieldHelper\',\n\t\t\tFILTER: \'sap/fe/macros/filter/FilterUtils\',\n\t\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t\t}"\n><template:with path="item>annotationPath" var="property"><mdc:FilterField\n\t\t\tid="{= ID.generate([${this>id}, \'CustomFilterField\', ${item>key}]) }"\n\t\t\tdelegate="{name: \'sap/fe/macros/field/FieldBaseDelegate\'}"\n\t\t\tlabel="{item>label}"\n\t\t\tdataType="{= ${property>$Type} || \'Edm.String\'}"\n\t\t\tmaxConditions="{= ${property>@@FILTERFIELD.maxConditions} || -1 }"\n\t\t\tconditions="{= \'{$filters>/conditions/\' + ${item>conditionPath} + \'}\'}"\n\t\t\toperators="{parts : [{path: \'property>\'}, {path: \'item>useSemanticDateRange\'}, {path: \'item>settings\'}, {path: \'contextPath>@@MACRO.getPath\'}], formatter: \'FIELD.operators\'}"\n\t\t\tdataTypeConstraints="{item>constraints}"\n\t\t\tdataTypeFormatOptions="{item>formatOptions}"\n\t\t\tvalueHelp="undefined"\n\t\t\trequired="{item>required}"\n\t\t\tcustomData:isSlot="{= ${item>type} === \'Slot\'}"\n\t\t><controls:CustomFilterFieldContentWrapper\n\t\t\t\tcore:require="{handler: \'sap/fe/macros/filter/FilterUtils\'}"\n\t\t\t\tid="{= ID.generate([${this>id}, \'FilterFieldContentWrapper\', ${item>key}]) }"\n\t\t\t\tbinding="{= \'{filterValues>/\' + FILTER.conditionToModelPath(${item>conditionPath}) + \'}\' }"\n\t\t\t\tconditions="{path: \'$field>/conditions\'}"\n\t\t\t><template:if test="{= !!${item>template}}"><fpm:CustomFragment\n\t\t\t\t\t\tfragmentName="{item>template}"\n\t\t\t\t\t\tid="{= ID.generate([${this>id}, \'CustomFilterField\', ${item>key}]) }"\n\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t/></template:if><template:if test="{= ${item>type} === \'Slot\'}"><slot name="{item>slotName}" /></template:if></controls:CustomFilterFieldContentWrapper></mdc:FilterField></template:with></core:FragmentDefinition>\n',
	"sap/fe/macros/form/AddressSection.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFORM: \'sap/fe/macros/form/FormHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:with path="facet>Target/$AnnotationPath" var="annotationPath"><f:FormContainer\n\t\t\tid="{= ${this>id} ? ID.generate([\'fe\', \'FormContainer\', ${facet>ID}]) : undefined }"\n\t\t\tunittest:id="formCAddr"\n\t\t\tbinding="{= FORM.generateBindingExpression((MODEL.getNavigationPath(${facet>Target/$AnnotationPath}) ? MODEL.getNavigationPath(${facet>Target/$AnnotationPath}) : \'\'),${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\tvisible="{= ${facet>./@com.sap.vocabularies.UI.v1.Hidden/$Path} ? (\'{= !${\' + ${facet>./@com.sap.vocabularies.UI.v1.Hidden/$Path} + \'} }\') : true }"\n\t\t\tmacrodata:navigationPath="{= MODEL.getNavigationPath(${annotationPath>}) ? MODEL.getNavigationPath(${annotationPath>}) : \'\'}"\n\t\t\tmacrodata:etName="{contextPath>./@sapui.name}"\n\t\t><template:if test="{= ${facet>@@MODEL.label} }"><f:title><core:Title level="{this>titleLevel}" text="{= ${facet>@@MODEL.label} }" /></f:title></template:if><f:formElements><f:FormElement id="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${facet>ID}]) : undefined}"><f:fields><Text text="{facet>Target/$AnnotationPath/label@@MODEL.format}" class="sapMITBFilterNeutral" /></f:fields></f:FormElement></f:formElements></f:FormContainer></template:with></core:FragmentDefinition>\n',
	"sap/fe/macros/form/FormActionButtons.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tDEFAULTACTIONHANDLER: \'sap/fe/macros/internal/helpers/DefaultActionHandler\'\n\t}"\n><template:if test="{= ${action>type} === \'Menu\'}"><template:then><MenuButton\n\t\t\t\ttext="{action>text}"\n\t\t\t\tmenuPosition="BeginBottom"\n\t\t\t\tid="{= ID.generate([\'fe\',${action>id}])}"\n\t\t\t\tvisible="{= COMMON.handleVisibilityOfMenuActions(${action>visible}) }"\n\t\t\t\tenabled="{action>enabled}"\n\t\t\t\tclass="sapUiSmallMarginBegin"\n\t\t\t\tuseDefaultActionOnly="{= DEFAULTACTIONHANDLER.getUseDefaultActionOnly(${action>})}"\n\t\t\t\tbuttonMode="{= DEFAULTACTIONHANDLER.getButtonMode(${action>})}"\n\t\t\t\tdefaultAction="{= DEFAULTACTIONHANDLER.getDefaultActionHandler(undefined, ${action>}, undefined, undefined, \'Form\')}"\n\t\t\t\ttype="Transparent"\n\t\t\t><menu><Menu><template:repeat list="{action>menu}" var="menuItemAction"><template:if test="{= ${menuItemAction>type} === \'Default\'}"><template:then><MenuItem\n\t\t\t\t\t\t\t\t\t\tcore:require="{FPM: \'sap/fe/core/helpers/FPMHelper\'}"\n\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'fe\',${menuItemAction>id}])}"\n\t\t\t\t\t\t\t\t\t\ttext="{menuItemAction>text}"\n\t\t\t\t\t\t\t\t\t\tpress="{= ${menuItemAction>command} ? (\'cmd:\' + ${menuItemAction>command}) : COMMON.buildActionWrapper(${menuItemAction>})}"\n\t\t\t\t\t\t\t\t\t\tvisible="{menuItemAction>visible}"\n\t\t\t\t\t\t\t\t\t\tenabled="{menuItemAction>enabled}"\n\t\t\t\t\t\t\t\t\t/></template:then><template:else><MenuItem\n\t\t\t\t\t\t\t\t\t\tid="{menuItemAction>id}"\n\t\t\t\t\t\t\t\t\t\tbinding="{menuItemAction>binding}"\n\t\t\t\t\t\t\t\t\t\ttext="{menuItemAction>text}"\n\t\t\t\t\t\t\t\t\t\tpress="{= ${menuItemAction>command} ? (\'cmd:\' + ${menuItemAction>command}) : ${menuItemAction>press}}"\n\t\t\t\t\t\t\t\t\t\tariaHasPopup="{menuItemAction>requiresDialog}"\n\t\t\t\t\t\t\t\t\t\tvisible="{menuItemAction>visible}"\n\t\t\t\t\t\t\t\t\t\tenabled="{menuItemAction>enabled}"\n\t\t\t\t\t\t\t\t\t\tmacrodata:IBNData="{menuItemAction>customData}"\n\t\t\t\t\t\t\t\t\t/></template:else></template:if></template:repeat></Menu></menu></MenuButton></template:then><template:elseif test="{= ${action>type} === \'Default\'}"><Button\n\t\t\t\tcore:require="{FPM: \'sap/fe/core/helpers/FPMHelper\'}"\n\t\t\t\tid="{= ID.generate([\'fe\',${action>id}])}"\n\t\t\t\ttext="{action>text}"\n\t\t\t\tpress="{= ${action>command} ? (\'cmd:\' + ${action>command}) : COMMON.buildActionWrapper(${action>})}"\n\t\t\t\ttype="Transparent"\n\t\t\t\tvisible="{action>visible}"\n\t\t\t\tenabled="{action>enabled}"\n\t\t\t/></template:elseif><template:else><Button\n\t\t\t\tid="{action>id}"\n\t\t\t\tbinding="{action>binding}"\n\t\t\t\ttext="{action>text}"\n\t\t\t\tpress="{= ${action>command} ? (\'cmd:\' + ${action>command}) : ${action>press}}"\n\t\t\t\ttype="{= ${action>buttonType} === \'Ghost\' ? \'Transparent\' : ${action>buttonType}}"\n\t\t\t\tariaHasPopup="{action>requiresDialog}"\n\t\t\t\tvisible="{action>visible}"\n\t\t\t\tenabled="{action>enabled}"\n\t\t\t\tmacrodata:IBNData="{action>customData}"\n\t\t\t/></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/form/FormContainer.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:macro="sap.fe.macros"\n\txmlns:macroForm="sap.fe.macros.form"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns:dt="sap.ui.dt"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:fpm="sap.fe.macros.fpm"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFORM: \'sap/fe/macros/form/FormHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tDataField: \'sap/fe/core/templating/DataFieldFormatters\',\n\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\'\n\t}"\n><f:FormContainer\n\t\tcore:require="{FormContainerRuntime: \'sap/fe/macros/form/FormContainerAPI\'}"\n\t\tunittest:id="formC"\n\t\tdt:designtime="{this>designtimeSettings}"\n\t\tid="{= ${this>id} || undefined}"\n\t\tvisible="{this>visible}"\n\t\tmacrodata:navigationPath="{this>navigationPath}"\n\t\tmacrodata:etName="{contextPath>./@sapui.name}"\n\t><template:if test="{this>title}"><f:title><core:Title level="{this>titleLevel}" text="{this>title}" /></f:title></template:if><template:if test="{actions>}"><template:then><f:toolbar><OverflowToolbar\n\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormActionsToolbar\']) : undefined}"\n\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t><Title level="{this>titleLevel}" text="{this>title}" /><ToolbarSpacer /><template:repeat list="{actions>}" var="action"><core:Fragment fragmentName="sap.fe.macros.form.FormActionButtons" type="XML" /></template:repeat></OverflowToolbar></f:toolbar></template:then></template:if><f:dependents><macroForm:FormContainerAPI formContainerId="{this>id}" showDetails="{internal>showDetails}" /><template:repeat list="{path:\'dataFieldCollection>\'}" var="dataField"><template:with path="dataField>annotationPath" var="dataField"><template:if test="{this>id}"><macro:ValueHelp\n\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FieldValueHelp\']) }"\n\t\t\t\t\t\t\tproperty="{dataField>Value}"\n\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\tuseMultiValueField="true"\n\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t/></template:if></template:with><template:if test="${dataField>type} === \'Annotation\'}"><template:then><template:with path="dataField>annotationPath" var="annotationDataField"><template:if test="{annotationDataField>Target@@DataField.isSemanticallyConnectedFields}"><template:then><template:repeat list="{annotationDataField>Target/$AnnotationPath/Data}" var="data"><template:with path="data>" helper="COMMON.getDataFromTemplate" var="element"><template:if test="{this>id}"><template:if\n\t\t\t\t\t\t\t\t\t\t\t\t\ttest="{= !FIELD.isFieldPartOfForm(${dataFieldCollection>}, ${element>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\t\t\t\t><macro:ValueHelp\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FieldValueHelp\']) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperty="{element>Value}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseMultiValueField="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:if></template:if></template:with></template:repeat></template:then></template:if></template:with></template:then></template:if></template:repeat></f:dependents><f:formElements><template:with path="dataFieldCollection>" var="formElements"><template:if test="{= ${formElements>0/annotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.DataPoint\') > -1 }"><template:then><template:with path="formElements>0/annotationPath" var="dataPoint"><f:FormElement\n\t\t\t\t\t\t\t\tdt:designtime="{= ${dataPoint>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' : undefined }"\n\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${dataPoint>@@UI.getDataModelObjectPath}]) : undefined}"\n\t\t\t\t\t\t\t\tlabel="{dataPoint>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataPoint>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t\t><f:fields><internalMacro:Field\n\t\t\t\t\t\t\t\t\t\tidPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${dataPoint>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FieldValueHelp\']) : \'\'}"\n\t\t\t\t\t\t\t\t\t\tentitySet="{contextPath>}"\n\t\t\t\t\t\t\t\t\t\tdataField="{dataPoint>}"\n\t\t\t\t\t\t\t\t\t\teditMode="{= ${this>displayMode} === \'true\' ? \'Display\' : undefined}"\n\t\t\t\t\t\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t\t\t\t\t\t><internalMacro:formatOptions textAlignMode="Form" showEmptyIndicator="true" /></internalMacro:Field></f:fields></f:FormElement></template:with></template:then><template:elseif\n\t\t\t\t\t\ttest="{= ${formElements>0/annotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') > -1 }"\n\t\t\t\t\t><template:with path="formElements>0/annotationPath" var="metaPath"><f:FormElement\n\t\t\t\t\t\t\t\tdt:designtime="{= ${metaPath>./@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' : undefined }"\n\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t\t><f:label><Label\n\t\t\t\t\t\t\t\t\t\ttext="{metaPath>fn/$Path@com.sap.vocabularies.Common.v1.Label}"\n\t\t\t\t\t\t\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t><layoutData><f:ColumnElementData cellsLarge="12" /></layoutData></Label></f:label><f:fields><macro:Contact metaPath="{metaPath>}" contextPath="{contextPath>}" visible="true" /></f:fields></f:FormElement></template:with></template:elseif><template:else><template:repeat list="{path: \'formElements>\'}" var="dataField"><template:if test="{= ${dataField>type} === \'Annotation\'}"><template:then><template:with path="dataField>annotationPath" var="annotationDataField"><template:if test="{annotationDataField>Target@@DataField.isSemanticallyConnectedFields}"><template:then><f:FormElement\n\t\t\t\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${annotationDataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{= (${dataField>isPartOfPreview}) ? FieldTemplating.getVisibleExpression(${annotationDataField>@@UI.getDataModelObjectPath}) : \'{= ${internal>showDetails} === true}\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t\t\t\t\t\t\t><f:label><Label\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext="{annotationDataField>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElementLabel\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></f:label><f:fields><controls:FieldWrapper\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired="{= UI.getRequiredExpressionForConnectedDataField(${annotationDataField>Target@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t><HBox wrap="Wrap"><template:repeat\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlist="{annotationDataField>Target/$AnnotationPath/Data}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar="data"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><template:with\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath="data>"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelper="COMMON.getDataFromTemplate"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar="element"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t><core:Fragment\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="sap.fe.macros.internal.field.ConnectedDataField"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype="XML"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></template:with></template:repeat></HBox></controls:FieldWrapper></f:fields></f:FormElement></template:then><template:elseif\n\t\t\t\t\t\t\t\t\t\t\t\ttest="{= ${annotationDataField>Value} &amp;&amp; ${annotationDataField>Value/$Path} &amp;&amp; UI.isMultiValueField(${annotationDataField>Value@@Property.getPropertyObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t\t><f:FormElement\n\t\t\t\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${annotationDataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel="{annotationDataField>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{= (${dataField>isPartOfPreview}) ? FieldTemplating.getVisibleExpression(${annotationDataField>@@UI.getDataModelObjectPath}) : \'{= ${internal>showDetails} === true}\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t\t\t\t\t\t\t><f:fields><internalMacro:MultiValueField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tidPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FieldValueHelp\']) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetaPath="{annotationDataField>}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t><internalMacro:formatOptions showEmptyIndicator="true" /></internalMacro:MultiValueField></f:fields></f:FormElement></template:elseif><template:else><f:FormElement\n\t\t\t\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${annotationDataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : undefined }"\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel="{annotationDataField>@@FIELD.computeLabelText}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvisible="{= (${dataField>isPartOfPreview}) ? FieldTemplating.getVisibleExpression(${annotationDataField>@@UI.getDataModelObjectPath}) : \'{= ${internal>showDetails} === true}\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t\t\t\t\t\t\t><f:fields><internalMacro:Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tidPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FormElement\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FieldValueHelp\']) : \'\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tentitySet="{contextPath>}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataField="{annotationDataField>}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t><internalMacro:formatOptions\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextLinesEdit="{dataField>formatOptions/textLinesEdit}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextMaxLines="{dataField>formatOptions/textMaxLines}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextMaxLength="{dataField>formatOptions/textMaxLength}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextMaxCharactersDisplay="{dataField>formatOptions/textMaxCharactersDisplay}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextExpandBehaviorDisplay="{dataField>formatOptions/textExpandBehaviorDisplay}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlignMode="Form"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowEmptyIndicator="true"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></internalMacro:Field></f:fields></f:FormElement></template:else></template:if></template:with></template:then><template:elseif test="{= ${dataField>type} === \'Default\'}"><f:FormElement\n\t\t\t\t\t\t\t\t\t\tdt:designtime="{= ${dataField>Value/$Path@com.sap.vocabularies.UI.v1.AdaptationHidden} ? \'not-adaptable-tree\' : undefined }"\n\t\t\t\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, ${dataField>id}]) : \'\' }"\n\t\t\t\t\t\t\t\t\t\tlabel="{dataField>label}"\n\t\t\t\t\t\t\t\t\t\tvisible="{dataField>visible}"\n\t\t\t\t\t\t\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${contextPath>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t\t\t\t\t\t\t><f:fields><fpm:CustomFragment\n\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${this>id}, ${dataField>key}]) }"\n\t\t\t\t\t\t\t\t\t\t\t\tfragmentName="{dataField>template}"\n\t\t\t\t\t\t\t\t\t\t\t\tcontextPath="{entitySet>}"\n\t\t\t\t\t\t\t\t\t\t\t/></f:fields></f:FormElement></template:elseif><template:elseif test="{= ${dataField>type} === \'Slot\'}"><slot name="{dataField>key}" /></template:elseif></template:if></template:repeat></template:else></template:if></template:with></f:formElements></f:FormContainer></core:FragmentDefinition>\n',
	"sap/fe/macros/form/FormElementFlexibility.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\ttemplate:require="{\n        FIELD: \'sap/fe/macros/field/FieldHelper\',\n        FORM: \'sap/fe/macros/form/FormHelper\',\n        MODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n        COMMON: \'sap/fe/macros/CommonHelper\',\n        UI: \'sap/fe/core/templating/UIFormatters\',\n\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\'\n    }"\n><template:if test="{dataField>@com.sap.vocabularies.UI.v1.DataFieldDefault}"><template:then><template:with path="dataField>@com.sap.vocabularies.UI.v1.DataFieldDefault" var="dataField"><core:Fragment fragmentName="sap.fe.macros.form.FormElementFlexibility" type="XML" /></template:with></template:then><template:else><f:FormElement\n\t\t\t\tunittest:id="FormElement"\n\t\t\t\tid="{= ${this>_flexId} + \'_FormElement\'}"\n\t\t\t\tlabel="{= ${dataField>@com.sap.vocabularies.Common.v1.Label} || ${dataField>@@MODEL.label} || \'[LABEL_MISSING: \' + ${dataField>@@FIELD.propertyName} +\']\'}"\n\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${entitySet>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t\t\t><internalMacro:Field\n\t\t\t\t\teditMode="{= ${this>displayMode} === \'true\' ? \'Display\' : undefined}"\n\t\t\t\t\t_flexId="{this>_flexId}"\n\t\t\t\t\tentitySet="{entitySet>}"\n\t\t\t\t\tdataField="{dataField>}"\n\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t><internalMacro:formatOptions textAlignMode="Form" showEmptyIndicator="true" /></internalMacro:Field></f:FormElement></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/form/ValueHelpWrapper.fragment.xml":'<core:FragmentDefinition\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:macro="sap.fe.macros"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{FORM: \'sap/fe/macros/form/FormHelper\'}"\n><macro:ValueHelp\n\t\t_flexId="{= ${this>idPrefix} + \'-content_FieldValueHelp\'}"\n\t\tproperty="{property>}"\n\t\tcontextPath="{contextPath>}"\n\t\tbinding="{= FORM.generateBindingExpression(${this>navigationPath},${entitySet>./@com.sap.vocabularies.Common.v1.SemanticKey})}"\n\t/></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/field/ConnectedDataField.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><internalMacro:Field\n\t\tidPrefix="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElement\', ${annotationDataField>@@UI.getDataModelObjectPath},${element>Value/$Path}]) : \'\' }"\n\t\tvhIdPrefix="{= ${this>id} ? ID.generate([${this>id}, \'FieldValueHelp\']) : \'\' }"\n\t\tentitySet="{entitySet>}"\n\t\tdataField="{element>}"\n\t\tonChange="{this>onChange}"\n\t\tariaLabelledBy="{= ${this>id} ? ID.generate([${this>id}, \'SemanticFormElementLabel\', ${annotationDataField>@@UI.getDataModelObjectPath}]) : \'\' }"\n\t><internalMacro:formatOptions\n\t\t\ttextLinesEdit="{element>formatOptions/textLinesEdit}"\n\t\t\ttextMaxLines="{element>formatOptions/textMaxLines}"\n\t\t\ttextMaxCharactersDisplay="{dataField>formatOptions/textMaxCharactersDisplay}"\n\t\t\ttextMaxLength="{dataField>formatOptions/textMaxLength}"\n\t\t\ttextExpandBehaviorDisplay="{dataField>formatOptions/textExpandBehaviorDisplay}"\n\t\t\ttextAlignMode="Form"\n\t\t\tshowEmptyIndicator="true"\n\t\t/><internalMacro:layoutData><FlexItemData growFactor="{= %{ui>/isEditable} ? 1 : 0}" /></internalMacro:layoutData></internalMacro:Field><template:if test="{= COMMON.notLastIndex(${annotationDataField>Target/$AnnotationPath/}, ${element>})}"><template:then><Text\n\t\t\t\ttext="{= COMMON.getDelimiter(${annotationDataField>Target/$AnnotationPath/Template})}"\n\t\t\t\tclass="sapUiSmallMarginBeginEnd"\n\t\t\t\twidth="100%"\n\t\t\t/></template:then></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/filterField/FilterFieldTemplate.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\ttemplate:require="{\n\t\tCOMMON_HELPER: \'sap/fe/macros/CommonHelper\'\n\t}"\n><internalMacro:FilterField\n\t\tidPrefix="{this>idPrefix}"\n\t\tvhIdPrefix="{this>vhIdPrefix}"\n\t\tproperty="{property>}"\n\t\tcontextPath="{contextPath>}"\n\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\tsettings="{= COMMON_HELPER.stringifyCustomData(${this>settings}) }"\n\t\tvisualFilter="{visualFilter>}"\n\t/></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueHelp.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\'\n\t}"\n><template:with path="property>" var="originalProperty"><template:if test="{this>filterFieldValueHelp}"><template:then><template:with path="property>" helper="FIELD.valueHelpPropertyForFilterField" var="property"><core:Fragment fragmentName="sap.fe.macros.internal.valuehelp.ValueHelpContent" type="XML" /></template:with></template:then><template:else><template:with path="property>" helper="FIELD.valueHelpProperty" var="property"><core:Fragment fragmentName="sap.fe.macros.internal.valuehelp.ValueHelpContent" type="XML" /></template:with></template:else></template:if></template:with></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueHelpContent.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:fl="sap.ui.fl.variants"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\ttemplate:require="{\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tMODEL : \'sap/ui/model/odata/v4/AnnotationHelper\'\n\t}"\n><template:if test="{property>@@Property.hasValueHelp}"><template:then><mdc:ValueHelp\n\t\t\t\tunittest:id="ValueHelpMacroFragment"\n\t\t\t\tdelegate="{= ValueHelpTemplating.getDelegateConfiguration(${property>@@Property.getPropertyPath},${this>conditionModel}, ${originalProperty>@@Property.getPropertyPath}, ${this>requestGroupId}, ${this>useMultiValueField})}"\n\t\t\t\tid="{= ValueHelpTemplating.generateID(${this>_flexId},${this>idPrefix},${originalProperty>@@Property.getRelativePropertyPath},${property>@@Property.getRelativePropertyPath})}"\n\t\t\t\tvalidateInput="{= (${this>filterFieldValueHelp} || ${this>requiresValidation}) ? true : ValueHelpTemplating.requiresValidation(${property>@@Property.getProperty})}"\n\t\t\t\tcustomData:valuelistForValidation="{property>@com.sap.vocabularies.Common.v1.ValueListForValidation@@MODEL.value}"\n\t\t\t\tcustomData:showConditionPanel="{= ${this>filterFieldValueHelp} ? ValueHelpTemplating.shouldShowConditionPanel(${property>@@Property.getPropertyObjectPath}, ${contextPath>@@UI.getDataModelObjectPath}) : false}"\n\t\t\t><mdc:typeahead><mdcv:Popover opensOnFocus="{= ${this>filterFieldValueHelp} ? false : true}"><mdcvc:MTable\n\t\t\t\t\t\t\tid="{= ValueHelpTemplating.generateID(${this>_flexId},${this>idPrefix},${originalProperty>@@Property.getRelativePropertyPath},${property>@@Property.getRelativePropertyPath})}::Popover::qualifier::"\n\t\t\t\t\t\t\tcaseSensitive="{= ValueHelpTemplating.useCaseSensitiveFilterRequests(${property>@@Property.getPropertyObjectPath}, ${property>/@Org.OData.Capabilities.V1.FilterFunctions})}"\n\t\t\t\t\t\t\tuseAsValueHelp="{= ${property>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} || false}"\n\t\t\t\t\t\t/></mdcv:Popover></mdc:typeahead><template:if\n\t\t\t\t\ttest="{= ${property>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} ? (${property>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} === \'true\') : true}"\n\t\t\t\t><mdc:dialog><mdcv:Dialog /></mdc:dialog></template:if></mdc:ValueHelp></template:then><template:elseif test="{= ${property>@@Property.hasDateType} || ${this>filterFieldValueHelp}}"><mdc:ValueHelp\n\t\t\t\tunittest:id="ValueHelpMacroFragmentWithDateTimeFilters"\n\t\t\t\tid="{= ValueHelpTemplating.generateID(${this>_flexId},${this>idPrefix},${originalProperty>@@Property.getRelativePropertyPath},${property>@@Property.getRelativePropertyPath})}"\n\t\t\t\tcustomData:requestGroupId="{this>requestGroupId}"\n\t\t\t><mdc:dialog><mdcv:Dialog title="{= ${property>@@Property.getLabel} || ${property>@@Property.getName}}"><mdcvc:Conditions /></mdcv:Dialog></mdc:dialog></mdc:ValueHelp></template:elseif></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueListDialogTable.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:plugins="sap.m.plugins"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tVLH: \'sap/fe/macros/internal/valuehelp/ValueListHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tTableHelper: \'sap/fe/macros/table/TableHelper\'\n\t}"\n><template:with path="valueList>" helper="VLH.getValueListCollectionEntitySet" var="entitySet"><mdc:Table\n\t\t\tid="{source>id}::Table"\n\t\t\theight="100%"\n\t\t\tdelegate="{parts: [{path:\'valueList>\'}], formatter:\'VLH.getTableDelegate\'}"\n\t\t\tthreshold="20"\n\t\t\tp13nMode="Sort"\n\t\t\tshowRowCount="true"\n\t\t\tsortConditions="{parts: [{path:\'valueList>\'},{path:\'source>/bSuggestion\'}], formatter:\'VLH.getSortConditionsFromPresentationVariant\'}"\n\t\t\tmacrodata:columns="{= COMMON.stringifyCustomData(${viewData>/columns})}"\n\t\t\tautoBindOnInit="false"\n\t\t><mdc:columns><template:repeat list="{valueList>Parameters}" var="parameter"><template:if\n\t\t\t\t\t\ttest="{= ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterIn\'  &amp;&amp; ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterConstant\'}"\n\t\t\t\t\t><template:with path="parameter>ValueListProperty" var="property" helper="VLH.getValueListProperty"><template:if\n\t\t\t\t\t\t\t\ttest="{parts:[{path:\'valueList>\'}, {path:\'parameter>\'}, {path:\'source>\'}],formatter:\'VLH.getColumnVisibility\'}"\n\t\t\t\t\t\t\t><mdc:table.Column\n\t\t\t\t\t\t\t\t\twidth="{= \'{parts: [{value: \\\'getColumnWidthForValueHelpTable\\\'}, {path: \\\'internal>tablePropertiesAvailable\\\', targetType: \\\'any\\\'},{value: \\\'\' + ${parameter>ValueListProperty}+ \'\\\'} , {value: false}], formatter: \\\'sap.fe.core.formatters.TableFormatter\\\'}\' }"\n\t\t\t\t\t\t\t\t\tminWidth="{= \'{parts: [{value: \\\'getColumnWidthForValueHelpTable\\\'}, {path: \\\'internal>tablePropertiesAvailable\\\', targetType: \\\'any\\\'},{value: \\\'\' + ${parameter>ValueListProperty}+ \'\\\'} , {value: true}], formatter: \\\'sap.fe.core.formatters.TableFormatter\\\'}\' }"\n\t\t\t\t\t\t\t\t\theader="{= ${property>@com.sap.vocabularies.Common.v1.Label} || ${property>@sapui.name@@MODEL.value}}"\n\t\t\t\t\t\t\t\t\thAlign="{= ValueHelpTemplating.getColumnHAlign(${property>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\tdataProperty="{= ValueHelpTemplating.getColumnDataProperty(${parameter>ValueListProperty},${property>@@Property.getPropertyObjectPath})}"\n\t\t\t\t\t\t\t\t><internalMacro:Field editMode="Display" entitySet="{entitySet>}" dataField="{property>}" wrap="false"><internalMacro:formatOptions\n\t\t\t\t\t\t\t\t\t\t\tdisplayMode="{= ValueHelpTemplating.getValueHelpTableDisplayMode(${property>@@Property.getPropertyObjectPath})}"\n\t\t\t\t\t\t\t\t\t\t/></internalMacro:Field></mdc:table.Column></template:if></template:with></template:if></template:repeat></mdc:columns><mdc:type><mdc:table.GridTableType /></mdc:type><mdc:dependents><plugins:CellSelector rangeLimit="200" /></mdc:dependents><mdc:copyProvider><plugins:CopyProvider /></mdc:copyProvider></mdc:Table></template:with></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueListFilterBar.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros.valuehelp"\n><macro:ValueHelpFilterBar\n\t\tid="{source>id}::FilterBar"\n\t\tcontextPath="{contextPath>}"\n\t\t_valueList="{valueList>}"\n\t\tliveMode="false"\n\t\tenableFallback="true"\n\t\thideBasicSearch="true"\n\t/></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueListForCondition.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\ttemplate:require="{\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><mdc:ValueHelp\n\t\tunittest:id="ValueHelpMacroFragment"\n\t\tdelegate="{= ValueHelpTemplating.getDelegateConfigurationForDefineConditions(${source>propertyPath})}"\n\t\tvalidateInput="false"\n\t><mdc:typeahead><mdcv:Popover><mdcvc:MTable\n\t\t\t\t\tuseAsValueHelp="false"\n\t\t\t\t\tkeyPath="{source>keyPath}"\n\t\t\t\t\tdescriptionPath="{source>descriptionPath}"\n\t\t\t\t\tfilterFields="$search"\n\t\t\t\t\tcaseSensitive="{source>caseSensitive}"\n\t\t\t\t><core:Fragment fragmentName="sap.fe.macros.internal.valuehelp.ValueListTable" type="XML" /></mdcvc:MTable></mdcv:Popover></mdc:typeahead></mdc:ValueHelp></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueListTable.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:customdata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tVLH: \'sap/fe/macros/internal/valuehelp/ValueListHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><Table\n\t\tid="{source>id}::SuggestTable"\n\t\titems="{parts: [{path:\'valueList>\'}, {path:\'source>/requestGroupId\'}, {path:\'source>/bSuggestion\'}, {path:\'source>/valueHelpWithFixedValues\'}], formatter:\'VLH.getTableItemsParameters\'}"\n\t\tsticky="ColumnHeaders"\n\t\tgrowing="{= ${source>/valueHelpWithFixedValues} ? true : ValueHelpTemplating.getGrowingFormatter(${source>/propertyPath})}"\n\t\tgrowingScrollToLoad="{= ${source>/valueHelpWithFixedValues} ? true : ValueHelpTemplating.getGrowingFormatter(${source>/propertyPath})}"\n\t><columns><template:repeat list="{path: \'valueList>Parameters\'}" var="parameter"><template:if\n\t\t\t\t\ttest="{= ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterIn\'  &amp;&amp; ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterConstant\'}"\n\t\t\t\t><template:with path="parameter>ValueListProperty" var="dataField" helper="VLH.getValueListProperty"><template:if test="{= !(${dataField>@com.sap.vocabularies.UI.v1.Hidden} === true)}"><Column\n\t\t\t\t\t\t\t\tvisible="{parts:[{path:\'valueList>\'}, {path:\'parameter>\'}, {path:\'source>\'}],formatter:\'VLH.getColumnVisibility\'}"\n\t\t\t\t\t\t\t\tminScreenWidth="{path:\'valueList>\',formatter:\'VLH.getMinScreenWidth\'}"\n\t\t\t\t\t\t\t\tdemandPopin="true"\n\t\t\t\t\t\t\t\tpopinDisplay="Inline"\n\t\t\t\t\t\t\t\thAlign="{= ValueHelpTemplating.getColumnHAlign(${dataField>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\twidth="{=VLH.getColumnWidth(${dataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t><template:if test="{= !(${source>valueHelpWithFixedValues} === true)}"><core:Fragment fragmentName="sap.fe.macros.internal.valuehelp.ValueListTableColumnHeader" type="XML" /></template:if></Column></template:if></template:with></template:if></template:repeat></columns><items><ColumnListItem type="Active" customdata:ensurePropertyLoaded="{= VLH.getOutParameterPaths(${valueList>Parameters}) }"><cells><template:with path="valueList>" helper="VLH.getValueListCollectionEntitySet" var="entitySet"><template:repeat list="{valueList>Parameters}" var="parameter"><template:if test="{= ${parameter>$Type} !== \'com.sap.vocabularies.Common.v1.ValueListParameterIn\'}"><template:with path="parameter>ValueListProperty" var="property" helper="VLH.getValueListProperty"><template:if test="{= !(${property>@com.sap.vocabularies.UI.v1.Hidden} === true)}"><internalMacro:Field editMode="Display" entitySet="{entitySet>}" dataField="{property>}"><internalMacro:formatOptions\n\t\t\t\t\t\t\t\t\t\t\t\tdisplayMode="{= ValueHelpTemplating.getValueHelpTableDisplayMode(${property>@@Property.getPropertyObjectPath}, ${source>valueHelpWithFixedValues}) }"\n\t\t\t\t\t\t\t\t\t\t\t/></internalMacro:Field></template:if></template:with></template:if></template:repeat></template:with></cells></ColumnListItem></items></Table></core:FragmentDefinition>\n',
	"sap/fe/macros/internal/valuehelp/ValueListTableColumnHeader.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\'\n\t}"\n><template:if test="{dataField>Label}"><template:then><Label text="{dataField>Label@@MODEL.value}" wrapping="true" wrappingType="Hyphenated" /></template:then><template:elseif test="{dataField>@com.sap.vocabularies.Common.v1.Label}"><Label text="{dataField>@com.sap.vocabularies.Common.v1.Label@@MODEL.value}" wrapping="true" wrappingType="Hyphenated" /></template:elseif><template:else><Label text="[{dataField>@sapui.name@@MODEL.value}]" wrapping="true" wrappingType="Hyphenated" /></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.macros","type":"library","embeds":[],"applicationVersion":{"version":"1.120.0"},"title":"UI5 library: sap.fe.macros","description":"UI5 library: sap.fe.macros","ach":"CA-UI5-FE","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"libs":{"sap.m":{},"sap.suite.ui.microchart":{},"sap.ui.core":{},"sap.fe.core":{},"sap.fe.navigation":{},"sap.ui.layout":{},"sap.ui.unified":{},"sap.ui.mdc":{},"sap.ui.richtexteditor":{"lazy":true}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"css":false,"content":{"controls":[],"elements":[],"types":["sap.fe.macros.NavigationType"],"interfaces":[]}}}}',
	"sap/fe/macros/microchart/fragments/AreaMicroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tMICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if test="{= MICROCHART.shouldMicroChartRender(\'Area\', ${DataPoint>}, ${DataPoint>Value/$Path@}, ${metaPath>})}"><template:then><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure"><template:with path="metaPath>Dimensions/0/" var="Dimension"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\t\t\tcore:require="{MICROCHARTR: \'sap/fe/macros/microchart/MicroChartHelper\' }"\n\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'AreaMicroChart\']) : undefined }"\n\t\t\t\t\t\tshowOnlyChart="{this>showOnlyChart}"\n\t\t\t\t\t\tchartTitle="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\t\tchartDescription="{= ${this>description} || ${metaPath>Description}}"\n\t\t\t\t\t\tuomPath="{= MICROCHART.getUOMPathForMicrochart(${this>showOnlyChart}, ${Measure>@}) }"\n\t\t\t\t\t\tmeasures="{DataPoint>Value/$Path}"\n\t\t\t\t\t\tdimension="{= ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text} ? ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text/$Path} : ${Dimension>$PropertyPath} }"\n\t\t\t\t\t\tmeasurePrecision="{= ${DataPoint>Value/$Path/$Precision} ? ${DataPoint>Value/$Path/$Precision} : undefined }"\n\t\t\t\t\t\tmeasureScale="{= MICROCHART.getMeasureScaleForMicroChart(${DataPoint>}) }"\n\t\t\t\t\t\tdimensionPrecision="{= ${Dimension>$PropertyPath/$Precision} ? ${Dimension>$PropertyPath/$Precision} : undefined }"\n\t\t\t\t\t\tdataPointQualifiers="{= ${DataPoint>./@sapui.name}.indexOf(\'com.sap.vocabularies.UI.v1.DataPoint\') === -1 ? undefined : (${DataPoint>./@sapui.name}.indexOf(\'#\') > -1 ? ${DataPoint>./@sapui.name}.split(\'#\')[1] : \'\') }"\n\t\t\t\t\t\tbinding="{= ${this>batchGroupId} ? (\'{path:\\\'\\\', parameters : { $$groupId: \\\'\' + ${this>batchGroupId} + \'\\\'} }\') : undefined }"\n\t\t\t\t\t\tonTitlePressed="{this>onTitlePressed}"\n\t\t\t\t\t\tnavigationType="{this>navigationType}"\n\t\t\t\t\t\tcalendarPattern="{= MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) }"\n\t\t\t\t\t><template:if test="{= !${this>showOnlyChart} || (${this>showOnlyChart} !== \'true\' ? true : false)}"><core:Fragment fragmentName="sap.fe.macros.microchart.fragments.MicroChartTitle" type="XML" /></template:if><AreaMicroChart hideOnNoData="{this>hideOnNoData}" size="{this>size}"><chart><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\tpoints="{= MICROCHART.getAggregationForMicrochart(\'Points\', ${contextPath>}, ${DataPoint>}, ${contextPath>@sapui.name}, ${Dimension>}, ${Measure>@}) }"\n\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\tx="{= (${Dimension>$PropertyPath/$Type} === \'Edm.Date\' ||  (${Dimension>$PropertyPath/$Type} === \'Edm.String\' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }"\n\t\t\t\t\t\t\t\t\t\t\ty="{DataPoint>Value@@.MODEL.value}"\n\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></chart><target><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\tpoints="{= \'{path:\\\'\' + (${contextPath>$kind} === \'EntitySet\' ? \'/\' : \'\') + ${contextPath>@sapui.name} + \'\\\'}\' }"\n\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\tx="{= (${Dimension>$PropertyPath/$Type} === \'Edm.Date\' ||  (${Dimension>$PropertyPath/$Type} === \'Edm.String\' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }"\n\t\t\t\t\t\t\t\t\t\t\ty="{DataPoint>TargetValue@@.MODEL.value}"\n\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></target><template:if test="{= ${this>showOnlyChart} !== true }"><firstXLabel><AreaMicroChartLabel /></firstXLabel><firstYLabel><AreaMicroChartLabel /></firstYLabel><lastXLabel><AreaMicroChartLabel /></lastXLabel><lastYLabel><AreaMicroChartLabel /></lastYLabel></template:if><template:if\n\t\t\t\t\t\t\t\ttest="{= ${DataPoint>CriticalityCalculation} &amp;&amp; ${DataPoint>CriticalityCalculation/ImprovementDirection/$EnumMember} }"\n\t\t\t\t\t\t\t><template:with path="DataPoint>CriticalityCalculation" var="CriticalityCalculation"><template:if\n\t\t\t\t\t\t\t\t\t\ttest="{= ${CriticalityCalculation>ImprovementDirection/$EnumMember} === \'com.sap.vocabularies.UI.v1.ImprovementDirectionType/Minimize\'}"\n\t\t\t\t\t\t\t\t\t><template:then><minThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="Good"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints="{= \'{path:\\\'\' + (${contextPath>$kind} === \'EntitySet\' ? \'/\' : \'\') + ${contextPath>@sapui.name} + \'\\\'}\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx="{= (${Dimension>$PropertyPath/$Type} === \'Edm.Date\' ||  (${Dimension>$PropertyPath/$Type} === \'Edm.String\' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty="{CriticalityCalculation>ToleranceRangeHighValue@@.MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></minThreshold><maxThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="Error"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints="{= \'{path:\\\'\' + (${contextPath>$kind} === \'EntitySet\' ? \'/\' : \'\') + ${contextPath>@sapui.name} + \'\\\'}\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx="{= (${Dimension>$PropertyPath/$Type} === \'Edm.Date\' ||  (${Dimension>$PropertyPath/$Type} === \'Edm.String\' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty="{CriticalityCalculation>DeviationRangeHighValue@@.MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></maxThreshold></template:then><template:elseif\n\t\t\t\t\t\t\t\t\t\t\ttest="{= ${CriticalityCalculation>ImprovementDirection/$EnumMember} === \'com.sap.vocabularies.UI.v1.ImprovementDirectionType/Maximize\'}"\n\t\t\t\t\t\t\t\t\t\t><minThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="Error"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints="{= \'{path:\\\'\' + (${contextPath>$kind} === \'EntitySet\' ? \'/\' : \'\') + ${contextPath>@sapui.name} + \'\\\'}\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx="{= (${Dimension>$PropertyPath/$Type} === \'Edm.Date\' ||  (${Dimension>$PropertyPath/$Type} === \'Edm.String\' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty="{CriticalityCalculation>DeviationRangeLowValue@@.MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></minThreshold><maxThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="Good"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints="{= \'{path:\\\'\' + (${contextPath>$kind} === \'EntitySet\' ? \'/\' : \'\') + ${contextPath>@sapui.name} + \'\\\'}\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx="{= (${Dimension>$PropertyPath/$Type} === \'Edm.Date\' ||  (${Dimension>$PropertyPath/$Type} === \'Edm.String\' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty="{CriticalityCalculation>ToleranceRangeLowValue@@.MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></maxThreshold></template:elseif><template:elseif\n\t\t\t\t\t\t\t\t\t\t\ttest="{= ${CriticalityCalculation>ImprovementDirection/$EnumMember} === \'com.sap.vocabularies.UI.v1.ImprovementDirectionType/Target\'}"\n\t\t\t\t\t\t\t\t\t\t><minThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="Error"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints="{= \'{path:\\\'\' + (${contextPath>$kind} === \'EntitySet\' ? \'/\' : \'\') + ${contextPath>@sapui.name} + \'\\\'}\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx="{= (${Dimension>$PropertyPath/$Type} === \'Edm.Date\' ||  (${Dimension>$PropertyPath/$Type} === \'Edm.String\' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty="{CriticalityCalculation>DeviationRangeLowValue@@.MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></minThreshold><maxThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="Error"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints="{= \'{path:\\\'\' + (${contextPath>$kind} === \'EntitySet\' ? \'/\' : \'\') + ${contextPath>@sapui.name} + \'\\\'}\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx="{= (${Dimension>$PropertyPath/$Type} === \'Edm.Date\' ||  (${Dimension>$PropertyPath/$Type} === \'Edm.String\' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty="{CriticalityCalculation>DeviationRangeHighValue@@.MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></maxThreshold><innerMinThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="Good"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints="{= \'{path:\\\'\' + (${contextPath>$kind} === \'EntitySet\' ? \'/\' : \'\') + ${contextPath>@sapui.name} + \'\\\'}\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx="{= (${Dimension>$PropertyPath/$Type} === \'Edm.Date\' ||  (${Dimension>$PropertyPath/$Type} === \'Edm.String\' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty="{CriticalityCalculation>ToleranceRangeLowValue@@.MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></innerMinThreshold><innerMaxThreshold><AreaMicroChartItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="Good"\n\t\t\t\t\t\t\t\t\t\t\t\t\tpoints="{= \'{path:\\\'\' + (${contextPath>$kind} === \'EntitySet\' ? \'/\' : \'\') + ${contextPath>@sapui.name} + \'\\\'}\' }"\n\t\t\t\t\t\t\t\t\t\t\t\t><points><AreaMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx="{= (${Dimension>$PropertyPath/$Type} === \'Edm.Date\' ||  (${Dimension>$PropertyPath/$Type} === \'Edm.String\' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty="{CriticalityCalculation>ToleranceRangeHighValue@@.MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></AreaMicroChartItem></innerMaxThreshold></template:elseif></template:if></template:with></template:if></AreaMicroChart></oDataV4MicroChart:MicroChartContainer></template:with></template:with></template:then><template:elseif\n\t\t\ttest="{= MICROCHART.logWarning(\'Area\', { DataPoint_Value : ${DataPoint>Value}, Dimension : ${metaPath>Dimensions/0/$PropertyPath}, CriticalityCalculation : (${DataPoint>CriticalityCalculation} &amp;&amp; ${DataPoint>CriticalityCalculation/ImprovementDirection/$EnumMember}) }) }"\n\t\t/></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/microchart/fragments/BulletMicroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tMICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n\t\tCRIT: \'sap/fe/core/templating/CriticalityFormatters\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if test="{= MICROCHART.shouldMicroChartRender(\'Bullet\', ${DataPoint>}, ${DataPoint>Value/$Path@})}"><template:then><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'BulletMicroChart\']) : undefined }"\n\t\t\t\t\tshowOnlyChart="{this>showOnlyChart}"\n\t\t\t\t\tchartTitle="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\tchartDescription="{= ${this>description} || ${metaPath>Description}}"\n\t\t\t\t\tuomPath="{= MICROCHART.getUOMPathForMicrochart(${this>showOnlyChart}, ${Measure>@}) }"\n\t\t\t\t\tbinding="{= MICROCHART.getBindingExpressionForMicrochart(\'Bullet\', ${Measure>@}, ${this>}, ${contextPath>}, ${contextPath>@sapui.name}) }"\n\t\t\t\t\tvisible="{= MICROCHART.getHiddenPathExpression(${DataPoint>Value/$Path@com.sap.vocabularies.UI.v1.Hidden}) }"\n\t\t\t\t\tnavigationType="{this>navigationType}"\n\t\t\t\t\tonTitlePressed="{this>onTitlePressed}"\n\t\t\t\t><template:if test="{= !${this>showOnlyChart} || (${this>showOnlyChart} !== \'true\' ? true : false)}"><core:Fragment fragmentName="sap.fe.macros.microchart.fragments.MicroChartTitle" type="XML" /></template:if><BulletMicroChart\n\t\t\t\t\t\ttargetValue="{DataPoint>TargetValue@@MODEL.value}"\n\t\t\t\t\t\tforecastValue="{DataPoint>ForecastValue@@MODEL.value}"\n\t\t\t\t\t\tmaxValue="{DataPoint>MaximumValue@@MODEL.format}"\n\t\t\t\t\t\tminValue="{DataPoint>MinimumValue@@MODEL.format}"\n\t\t\t\t\t\tactualValueLabel="{= MICROCHART.formatDecimal(${DataPoint>Value/$Path}, ${DataPoint>Value/$Path/$}, (${DataPoint>ValueFormat} &amp;&amp; ${DataPoint>ValueFormat/NumberOfFractionalDigits})) }"\n\t\t\t\t\t\ttargetValueLabel="{= MICROCHART.formatDecimal(${DataPoint>TargetValue/$Path}, ${DataPoint>TargetValue/$Path/$}, (${DataPoint>ValueFormat} &amp;&amp; ${DataPoint>ValueFormat/NumberOfFractionalDigits})) }"\n\t\t\t\t\t\tshowDeltaValue="{= ${DataPoint>Visualization/$EnumMember} &amp;&amp; ${DataPoint>Visualization/$EnumMember}.indexOf(\'DeltaBulletChart\') > -1 }"\n\t\t\t\t\t\tmode="{= ${DataPoint>Visualization/$EnumMember} &amp;&amp; ${DataPoint>Visualization/$EnumMember}.indexOf(\'DeltaBulletChart\') > -1 ? \'Delta\' : undefined }"\n\t\t\t\t\t\tsize="{this>size}"\n\t\t\t\t\t\thideOnNoData="{this>hideOnNoData}"\n\t\t\t\t\t><template:if\n\t\t\t\t\t\t\ttest="{= ${DataPoint>Criticality} || (!${DataPoint>Criticality} &amp;&amp; !${DataPoint>CriticalityCalculation}) }"\n\t\t\t\t\t\t><template:then><actual><BulletMicroChartData\n\t\t\t\t\t\t\t\t\t\tvalue="{DataPoint>Value@@MODEL.value}"\n\t\t\t\t\t\t\t\t\t\tcolor="{= ${DataPoint>Criticality} ? CRIT.buildExpressionForCriticalityColorMicroChart(${DataPoint>@@UI.getDataModelObjectPath}) : undefined }"\n\t\t\t\t\t\t\t\t\t/></actual></template:then><template:else><template:with path="DataPoint>CriticalityCalculation" var="CriticalityCalculation"><template:with path="DataPoint>CriticalityCalculation/ImprovementDirection/$EnumMember" var="Direction"><actual><BulletMicroChartData\n\t\t\t\t\t\t\t\t\t\t\t\tvalue="{DataPoint>Value@@MODEL.value}"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor="{= COMMON.getCriticalityCalculationBinding(${Direction>},\n\t\t\t\t\t\t\t\t\t${DataPoint>Value@@MODEL.value},\n\t\t\t\t\t\t\t\t\t${CriticalityCalculation>DeviationRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${CriticalityCalculation>ToleranceRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${CriticalityCalculation>AcceptanceRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${CriticalityCalculation>AcceptanceRangeHighValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${CriticalityCalculation>ToleranceRangeHighValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${CriticalityCalculation>DeviationRangeHighValue@@MODEL.format}) }"\n\t\t\t\t\t\t\t\t\t\t\t/></actual><thresholds><template:if\n\t\t\t\t\t\t\t\t\t\t\t\ttest="{= ${Direction>}.indexOf(\'Minimize\') === -1 &amp;&amp; ${CriticalityCalculation>DeviationRangeLowValue} }"\n\t\t\t\t\t\t\t\t\t\t\t><BulletMicroChartData\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="{CriticalityCalculation>DeviationRangeLowValue@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="{CriticalityCalculation>DeviationRangeLowValue@@MICROCHART.getThresholdColor}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></template:if><template:if\n\t\t\t\t\t\t\t\t\t\t\t\ttest="{= ${Direction>}.indexOf(\'Minimize\') === -1 &amp;&amp; ${CriticalityCalculation>ToleranceRangeLowValue} }"\n\t\t\t\t\t\t\t\t\t\t\t><BulletMicroChartData\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="{CriticalityCalculation>ToleranceRangeLowValue@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="{CriticalityCalculation>ToleranceRangeLowValue@@MICROCHART.getThresholdColor}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></template:if><template:if\n\t\t\t\t\t\t\t\t\t\t\t\ttest="{= ${Direction>}.indexOf(\'Maximize\') === -1 &amp;&amp; ${CriticalityCalculation>ToleranceRangeHighValue} }"\n\t\t\t\t\t\t\t\t\t\t\t><BulletMicroChartData\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="{CriticalityCalculation>ToleranceRangeHighValue@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="{CriticalityCalculation>ToleranceRangeHighValue@@MICROCHART.getThresholdColor}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></template:if><template:if\n\t\t\t\t\t\t\t\t\t\t\t\ttest="{= ${Direction>}.indexOf(\'Maximize\') === -1 &amp;&amp; ${CriticalityCalculation>DeviationRangeHighValue} }"\n\t\t\t\t\t\t\t\t\t\t\t><BulletMicroChartData\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="{CriticalityCalculation>DeviationRangeHighValue@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="{CriticalityCalculation>DeviationRangeHighValue@@MICROCHART.getThresholdColor}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></template:if></thresholds></template:with></template:with></template:else></template:if></BulletMicroChart></oDataV4MicroChart:MicroChartContainer></template:with></template:then><template:elseif test="{= MICROCHART.logWarning(\'Bullet\', { DataPoint_Value : ${DataPoint>Value} }) }" /></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/microchart/fragments/ColumnMicroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tMICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n\t\tCRIT: \'sap/fe/core/templating/CriticalityFormatters\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if test="{= MICROCHART.shouldMicroChartRender(\'Column\', ${DataPoint>}, ${DataPoint>Value/$Path@}, ${metaPath>})}"><template:then><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure"><template:with path="metaPath>Dimensions/0/" var="Dimension"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'ColumnMicroChart\']) : undefined }"\n\t\t\t\t\t\tshowOnlyChart="{this>showOnlyChart}"\n\t\t\t\t\t\tchartTitle="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\t\tchartDescription="{= ${this>description} || ${metaPath>Description}}"\n\t\t\t\t\t\tuomPath="{= MICROCHART.getUOMPathForMicrochart(${this>showOnlyChart}, ${Measure>@}) }"\n\t\t\t\t\t\tmeasures="{DataPoint>Value/$Path}"\n\t\t\t\t\t\tdimension="{= ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text} ? ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text/$Path} : ${Dimension>$PropertyPath} }"\n\t\t\t\t\t\tmeasurePrecision="{= ${DataPoint>Value/$Path/$Precision} ? ${DataPoint>Value/$Path/$Precision} : undefined }"\n\t\t\t\t\t\tmeasureScale="{= MICROCHART.getMeasureScaleForMicroChart(${DataPoint>}) }"\n\t\t\t\t\t\tdimensionPrecision="{= ${Dimension>$PropertyPath/$Precision} ? ${Dimension>$PropertyPath/$Precision} : undefined }"\n\t\t\t\t\t\tdataPointQualifiers="{= MICROCHART.getDataPointQualifiersForMicroChart(${DataPoint>./@sapui.name}) }"\n\t\t\t\t\t\tbinding="{= ${this>batchGroupId} ? (\'{path:\\\'\\\', parameters : { $$groupId: \\\'\' + ${this>batchGroupId} + \'\\\'} }\') : undefined }"\n\t\t\t\t\t\tonTitlePressed="{this>onTitlePressed}"\n\t\t\t\t\t\tnavigationType="{this>navigationType}"\n\t\t\t\t\t\tcalendarPattern="{= MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) }"\n\t\t\t\t\t><template:if test="{= !${this>showOnlyChart} || (${this>showOnlyChart} !== \'true\' ? true : false)}"><core:Fragment fragmentName="sap.fe.macros.microchart.fragments.MicroChartTitle" type="XML" /></template:if><ColumnMicroChart\n\t\t\t\t\t\t\thideOnNoData="{this>hideOnNoData}"\n\t\t\t\t\t\t\tcolumns="{= MICROCHART.getAggregationForMicrochart(\'Columns\', ${contextPath>}, ${DataPoint>}, ${contextPath>@sapui.name}, ${Dimension>}, ${Measure>@}) }"\n\t\t\t\t\t\t\tsize="{this>size}"\n\t\t\t\t\t\t><columns><template:if\n\t\t\t\t\t\t\t\t\ttest="{= ${DataPoint>Criticality} || (!${DataPoint>Criticality} &amp;&amp; !${DataPoint>CriticalityCalculation}) }"\n\t\t\t\t\t\t\t\t><template:then><ColumnMicroChartData\n\t\t\t\t\t\t\t\t\t\t\tvalue="{path:\'DataPoint>Value@@MODEL.value\', type:\'sap.ui.model.odata.type.Decimal\'}"\n\t\t\t\t\t\t\t\t\t\t\tcolor="{= ${DataPoint>Criticality} ? CRIT.buildExpressionForCriticalityColorMicroChart(${DataPoint>@@UI.getDataModelObjectPath}) : undefined }"\n\t\t\t\t\t\t\t\t\t\t/></template:then><template:else><template:with path="DataPoint>CriticalityCalculation" var="CriticalityCalculation"><template:with\n\t\t\t\t\t\t\t\t\t\t\t\tpath="DataPoint>CriticalityCalculation/ImprovementDirection/$EnumMember"\n\t\t\t\t\t\t\t\t\t\t\t\tvar="Direction"\n\t\t\t\t\t\t\t\t\t\t\t><ColumnMicroChartData\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="{path:\'DataPoint>Value@@MODEL.value\', type:\'sap.ui.model.odata.type.Decimal\'}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor="{= COMMON.getCriticalityCalculationBinding(${Direction>},\n\t\t\t\t\t\t\t\t\t\t\t\t${DataPoint>Value@@MODEL.value},\n\t\t\t\t\t\t\t\t\t\t\t\t${CriticalityCalculation>DeviationRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t\t\t\t${CriticalityCalculation>ToleranceRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t\t\t\t${CriticalityCalculation>AcceptanceRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t\t\t\t${CriticalityCalculation>AcceptanceRangeHighValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t\t\t\t${CriticalityCalculation>ToleranceRangeHighValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t\t\t\t${CriticalityCalculation>DeviationRangeHighValue@@MODEL.format}) }"\n\t\t\t\t\t\t\t\t\t\t\t\t/></template:with></template:with></template:else></template:if></columns><template:if test="{= ${this>showOnlyChart} !== \'true\' }"><leftBottomLabel><ColumnMicroChartLabel /></leftBottomLabel><leftTopLabel><ColumnMicroChartLabel /></leftTopLabel><rightBottomLabel><ColumnMicroChartLabel /></rightBottomLabel><rightTopLabel><ColumnMicroChartLabel /></rightTopLabel></template:if></ColumnMicroChart></oDataV4MicroChart:MicroChartContainer></template:with></template:with></template:then><template:elseif\n\t\t\ttest="{= MICROCHART.logWarning(\'Column\', { DataPoint_Value : ${DataPoint>Value}, Dimension : ${metaPath>Dimensions/0/$PropertyPath} }) }"\n\t\t/></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/microchart/fragments/ComparisonMicroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tMICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n\t\tCRIT: \'sap/fe/core/templating/CriticalityFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if test="{= MICROCHART.shouldMicroChartRender(\'Comparison\', ${DataPoint>}, ${DataPoint>Value/$Path@}, ${metaPath>})}"><template:then><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure"><template:with path="metaPath>Dimensions/0/" var="Dimension"><template:with path="metaPath>Dimensions/0/$PropertyPath" helper="MODEL.resolve$Path" var="DimensionPath"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'ComparisonMicroChart\']) : undefined }"\n\t\t\t\t\t\t\tshowOnlyChart="{this>showOnlyChart}"\n\t\t\t\t\t\t\tchartTitle="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\t\t\tchartDescription="{= ${this>description} || ${metaPath>Description}}"\n\t\t\t\t\t\t\tuomPath="{= MICROCHART.getUOMPathForMicrochart(${this>showOnlyChart}, ${Measure>@}) }"\n\t\t\t\t\t\t\tdataPointQualifiers="{= MICROCHART.getDataPointQualifiersForMicroChart(${DataPoint>./@sapui.name}) }"\n\t\t\t\t\t\t\tbinding="{= ${this>batchGroupId} ? (\'{path:\\\'\\\', parameters : { $$groupId: \\\'\' + ${this>batchGroupId} + \'\\\'} }\') : undefined }"\n\t\t\t\t\t\t\tonTitlePressed="{this>onTitlePressed}"\n\t\t\t\t\t\t\tnavigationType="{this>navigationType}"\n\t\t\t\t\t\t><template:if test="{= !${this>showOnlyChart} || (${this>showOnlyChart} !== \'true\' ? true : false)}"><core:Fragment fragmentName="sap.fe.macros.microchart.fragments.MicroChartTitle" type="XML" /></template:if><ComparisonMicroChart\n\t\t\t\t\t\t\t\thideOnNoData="{this>hideOnNoData}"\n\t\t\t\t\t\t\t\tdata="{= MICROCHART.getAggregationForMicrochart(\'Data\', ${contextPath>}, ${DataPoint>}, ${contextPath>@sapui.name}, ${Dimension>}, ${Measure>@}) }"\n\t\t\t\t\t\t\t\tcolorPalette="{= MICROCHART.getColorPaletteForMicroChart(${DataPoint>}) }"\n\t\t\t\t\t\t\t\tsize="{this>size}"\n\t\t\t\t\t\t\t\tmaxValue="{DataPoint>MaximumValue@@MODEL.value}"\n\t\t\t\t\t\t\t\tminValue="{DataPoint>MinimumValue@@MODEL.value}"\n\t\t\t\t\t\t\t><data><ComparisonMicroChartData\n\t\t\t\t\t\t\t\t\t\tvalue="{DataPoint>Value@@MODEL.value}"\n\t\t\t\t\t\t\t\t\t\ttitle="{= ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text} ? ${DimensionPath>@com.sap.vocabularies.Common.v1.Text@@MODEL.format} : ${Dimension>@@MODEL.format} }"\n\t\t\t\t\t\t\t\t\t\tdisplayValue="{= MICROCHART.getDisplayValueForMicroChart(${DataPoint>}, ${DataPoint>Value/$Path@com.sap.vocabularies.Common.v1.Text}, ${DataPoint>Value/$Path@com.sap.vocabularies.Common.v1.Text/$Path/$}, ${DataPoint>Value/$Path/$}) }"\n\t\t\t\t\t\t\t\t\t\tcolor="{= CRIT.buildExpressionForCriticalityColorMicroChart(${DataPoint>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\t/></data></ComparisonMicroChart></oDataV4MicroChart:MicroChartContainer></template:with></template:with></template:with></template:then><template:elseif\n\t\t\ttest="{= MICROCHART.logWarning(\'Comparison\', { DataPoint_Value : ${DataPoint>Value}, Dimension : ${metaPath>Dimensions/0/$PropertyPath} }) }"\n\t\t/></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/microchart/fragments/HarveyBallMicroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tMICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n\t\tCRIT: \'sap/fe/core/templating/CriticalityFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if\n\t\ttest="{= MICROCHART.shouldMicroChartRender(\'Harvey\', ${DataPoint>}, ${DataPoint>Value/$Path@}, \'\', ${DataPoint>MaximumValue/$Path@})}"\n\t><template:then><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'HarveyBallMicroChart\']) : undefined }"\n\t\t\t\t\tshowOnlyChart="{this>showOnlyChart}"\n\t\t\t\t\tchartTitle="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\tchartDescription="{= ${this>description} || ${metaPath>Description}}"\n\t\t\t\t\tuomPath="{= MICROCHART.getUOMPathForMicrochart(${this>showOnlyChart}, ${Measure>@}) }"\n\t\t\t\t\tbinding="{= MICROCHART.getBindingExpressionForMicrochart(\'Harvey\', ${Measure>@}, ${this>}, ${contextPath>}, ${contextPath>@sapui.name}, ${DataPoint>}) }"\n\t\t\t\t\tvisible="{= MICROCHART.getHiddenPathExpression(${DataPoint>Value/$Path@com.sap.vocabularies.UI.v1.Hidden}, ${DataPoint>MaximumValue/$Path@com.sap.vocabularies.UI.v1.Hidden}) }"\n\t\t\t\t\tonTitlePressed="{this>onTitlePressed}"\n\t\t\t\t\tnavigationType="{this>navigationType}"\n\t\t\t\t><template:if test="{= !${this>showOnlyChart} || (${this>showOnlyChart} !== \'true\' ? true : false)}"><core:Fragment fragmentName="sap.fe.macros.microchart.fragments.MicroChartTitle" type="XML" /></template:if><HarveyBallMicroChart\n\t\t\t\t\t\thideOnNoData="{this>hideOnNoData}"\n\t\t\t\t\t\tformattedLabel="true"\n\t\t\t\t\t\ttotalLabel="{= MICROCHART.formatDecimal(${DataPoint>MaximumValue/$Path}, ${DataPoint>MaximumValue/$Path/$}, (${DataPoint>ValueFormat} &amp;&amp; ${DataPoint>ValueFormat/NumberOfFractionalDigits}), ${DataPoint>MaximumValue@@MODEL.value}) }"\n\t\t\t\t\t\ttotal="{DataPoint>MaximumValue@@MODEL.value}"\n\t\t\t\t\t\tcolorPalette="{= MICROCHART.getColorPaletteForMicroChart(${DataPoint>}) }"\n\t\t\t\t\t\tsize="{this>size}"\n\t\t\t\t\t><items><HarveyBallMicroChartItem\n\t\t\t\t\t\t\t\tformattedLabel="true"\n\t\t\t\t\t\t\t\tfractionLabel="{= MICROCHART.formatDecimal(${DataPoint>Value/$Path}, ${DataPoint>Value/$Path/$}, (${DataPoint>ValueFormat} &amp;&amp; ${DataPoint>ValueFormat/NumberOfFractionalDigits})) }"\n\t\t\t\t\t\t\t\tfraction="{DataPoint>Value@@MODEL.value}"\n\t\t\t\t\t\t\t\tcolor="{= CRIT.buildExpressionForCriticalityColorMicroChart(${DataPoint>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t/></items></HarveyBallMicroChart></oDataV4MicroChart:MicroChartContainer></template:with></template:then><template:elseif\n\t\t\ttest="{= MICROCHART.logWarning(\'HarveyBall\', { DataPoint_Value : ${DataPoint>Value}, DataPoint_MaximumValue : ${DataPoint>MaximumValue} }) }"\n\t\t/></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/microchart/fragments/LineMicroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tMICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\'\n\t}"\n><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure"><template:with path="metaPath>Dimensions/0/" var="Dimension"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\tcore:require="{MICROCHARTR: \'sap/fe/macros/microchart/MicroChartHelper\' }"\n\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'LineMicroChart\']) : undefined }"\n\t\t\t\tshowOnlyChart="{this>showOnlyChart}"\n\t\t\t\tchartTitle="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\tchartDescription="{= ${this>description} || ${metaPath>Description}}"\n\t\t\t\tuomPath="{= MICROCHART.getUOMPathForMicrochart(${this>showOnlyChart}, ${Measure>@}) }"\n\t\t\t\tmeasures="{= MICROCHART.getMeasurePropertyPaths(${metaPath>}, ${contextPath>./@}, \'Line\')}"\n\t\t\t\tdimension="{= ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text} ? ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text/$Path} : ${Dimension>$PropertyPath} }"\n\t\t\t\tmeasurePrecision="{= ${Measure>$Precision} ? ${Measure>$Precision} : undefined }"\n\t\t\t\tmeasureScale="{= MICROCHART.getMeasureScaleForMicroChart(${DataPoint>}) }"\n\t\t\t\tdimensionPrecision="{= ${Dimension>$PropertyPath/$Precision} ? ${Dimension>$PropertyPath/$Precision} : undefined }"\n\t\t\t\tdataPointQualifiers="{= MICROCHART.getDataPointQualifiersForMeasures(${metaPath>}, ${contextPath>./@}, \'Line\')}"\n\t\t\t\tbinding="{= ${this>batchGroupId} ? (\'{path:\\\'\\\', parameters : { $$groupId: \\\'\' + ${this>batchGroupId} + \'\\\'} }\') : undefined }"\n\t\t\t\tonTitlePressed="{this>onTitlePressed}"\n\t\t\t\tnavigationType="{this>navigationType}"\n\t\t\t\tcalendarPattern="{= MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) }"\n\t\t\t><template:if test="{= !${this>showOnlyChart} || (${this>showOnlyChart} !== \'true\' ? true : false)}"><core:Fragment fragmentName="sap.fe.macros.microchart.fragments.MicroChartTitle" type="XML" /></template:if><LineMicroChart showThresholdLine="false" hideOnNoData="{this>hideOnNoData}" size="{this>size}"><lines><template:repeat list="{metaPath>Measures}" var="Measure"><template:with path="Measure>" helper="COMMON.getMeasureAttributeForMeasure" var="DataPoint"><template:if\n\t\t\t\t\t\t\t\t\ttest="{= ${DataPoint>Value} &amp;&amp; ${Dimension>$PropertyPath} &amp;&amp; MICROCHART.isNotAlwaysHidden(\'Line\', ${DataPoint>Value}, undefined,${DataPoint>Value/$Path@com.sap.vocabularies.UI.v1.Hidden}) }"\n\t\t\t\t\t\t\t\t><template:then><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="DataPointMeasure"><LineMicroChartLine\n\t\t\t\t\t\t\t\t\t\t\t\tpoints="{= MICROCHART.getAggregationForMicrochart(\'LinePoints\', ${contextPath>}, ${DataPoint>}, ${contextPath>@sapui.name}, ${Dimension>}, ${DataPointMeasure>@}) }"\n\t\t\t\t\t\t\t\t\t\t\t><points><LineMicroChartPoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tx="{= (${Dimension>$PropertyPath/$Type} === \'Edm.Date\' ||  (${Dimension>$PropertyPath/$Type} === \'Edm.String\' &amp;&amp; MICROCHART.getCalendarPattern(${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}))) ? MICROCHART.getX(${Dimension>$PropertyPath}, ${Dimension>$PropertyPath/$Type}, ${Dimension>$PropertyPath@}) : ${Dimension>@@.MODEL.format} }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ty="{DataPoint>Value@@.MODEL.value}"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></points></LineMicroChartLine></template:with></template:then><template:elseif\n\t\t\t\t\t\t\t\t\t\ttest="{= MICROCHART.logWarning(\'Line\', { DataPoint_Value : ${DataPoint>Value}, Dimension : ${Dimension>$PropertyPath} }) }"\n\t\t\t\t\t\t\t\t\t/></template:if></template:with></template:repeat></lines></LineMicroChart></oDataV4MicroChart:MicroChartContainer></template:with></template:with></core:FragmentDefinition>\n',
	"sap/fe/macros/microchart/fragments/MicroChartTitle.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:m="sap.m"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n        MICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n        COMMON: \'sap/fe/macros/CommonHelper\'\n\n\t}"\n><oDataV4MicroChart:microChartTitle><template:if test="{= ${this>navigationType} === \'External\'}"><template:then><core:InvisibleText\n\t\t\t\t\ttext="{sap.fe.i18n>M_MICROCHART_TITLE_FRAGMENT_HEADER_MICROCHART_LINK_ARIA}"\n\t\t\t\t\tid="{= ID.generate([${this>id}, ${metaPath>@sapui.name}, \'AriaText\']) }"\n\t\t\t\t/><m:Title\n\t\t\t\t\tlevel="H3"\n\t\t\t\t\tvisible="{= COMMON.getHeaderDataPointLinkVisibility(ID.generate([\'fe\', \'MicroChartLink\',  ${contextPath>@sapui.name}, ${metaPath>@sapui.name}]), true) }"\n\t\t\t\t><m:content><m:Link\n\t\t\t\t\t\t\tid="{= ID.generate([\'fe\', \'MicroChartLink\', ${contextPath>@sapui.name}, ${metaPath>@sapui.name}]) }"\n\t\t\t\t\t\t\ttext="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\t\t\tpress="{this>onTitlePressed}"\n\t\t\t\t\t\t\tariaDescribedBy="{= ID.generate([${this>id}, ${metaPath>@sapui.name}, \'AriaText\']) }"\n\t\t\t\t\t\t/></m:content></m:Title><m:Title\n\t\t\t\t\tid="{= ID.generate([\'fe\', ${contextPath>@sapui.name}, ${metaPath>@sapui.name}, \'microChartTitle\']) }"\n\t\t\t\t\tlevel="H3"\n\t\t\t\t\ttext="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\tclass="sapUiTinyMarginBottom"\n\t\t\t\t\tvisible="{= COMMON.getHeaderDataPointLinkVisibility(ID.generate([\'fe\',  \'MicroChartLink\',  ${contextPath>@sapui.name}, ${metaPath>@sapui.name}]), false) }"\n\t\t\t\t/></template:then><template:elseif test="{= ${this>navigationType} === \'InPage\'}"><core:InvisibleText\n\t\t\t\t\ttext="{sap.fe.i18n>T_COMMON_HEADERDP_TITLE_LINK_INPAGE_ARIA}"\n\t\t\t\t\tid="{= ID.generate([${this>id}, ${metaPath>@sapui.name}, \'AriaText\']) }"\n\t\t\t\t/><m:Title level="H3"><m:content><m:Link\n\t\t\t\t\t\t\ttext="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\t\t\tpress="{this>onTitlePressed}"\n\t\t\t\t\t\t\tariaDescribedBy="{= ID.generate([${this>id}, ${metaPath>@sapui.name}, \'AriaText\']) }"\n\t\t\t\t\t\t/></m:content></m:Title></template:elseif><template:else><m:Title level="H3" text="{= ${this>title} || ${metaPath>Title}}" /></template:else></template:if></oDataV4MicroChart:microChartTitle></core:FragmentDefinition>\n',
	"sap/fe/macros/microchart/fragments/RadialMicroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tMICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tCRIT: \'sap/fe/core/templating/CriticalityFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if test="{= MICROCHART.shouldMicroChartRender(\'Radial\', ${DataPoint>}, ${DataPoint>Value/$Path@})}"><template:then><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'RadialMicroChart\']) : undefined }"\n\t\t\t\t\tshowOnlyChart="{this>showOnlyChart}"\n\t\t\t\t\tchartTitle="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\tchartDescription="{= ${this>description} || ${metaPath>Description}}"\n\t\t\t\t\tbinding="{= MICROCHART.getBindingExpressionForMicrochart(\'Radial\', ${Measure>@}, ${this>}, ${contextPath>}, ${contextPath>@sapui.name}) }"\n\t\t\t\t\tvisible="{= MICROCHART.getHiddenPathExpression(${DataPoint>Value/$Path@com.sap.vocabularies.UI.v1.Hidden}) }"\n\t\t\t\t\tonTitlePressed="{this>onTitlePressed}"\n\t\t\t\t\tnavigationType="{this>navigationType}"\n\t\t\t\t><template:if test="{= !${this>showOnlyChart} || (${this>showOnlyChart} !== \'true\' ? true : false)}"><core:Fragment fragmentName="sap.fe.macros.microchart.fragments.MicroChartTitle" type="XML" /></template:if><RadialMicroChart\n\t\t\t\t\t\thideOnNoData="{this>hideOnNoData}"\n\t\t\t\t\t\ttotal="{= ${DataPoint>TargetValue} ? ${DataPoint>TargetValue@@MODEL.value} : undefined }"\n\t\t\t\t\t\tfraction="{DataPoint>Value@@MODEL.value}"\n\t\t\t\t\t\tpercentage="{= !${DataPoint>TargetValue} ? ${{DataPoint>Value@@MODEL.value} : undefined }"\n\t\t\t\t\t\tvalueColor="{= ${DataPoint>Criticality} || (!${DataPoint>Criticality} &amp;&amp; !${DataPoint>CriticalityCalculation}) ?\n\t\t\t\t\t\t\t\t(${DataPoint>Criticality} ? CRIT.buildExpressionForCriticalityColorMicroChart(${DataPoint>@@UI.getDataModelObjectPath}) : undefined ) :\n\t\t\t\t\t\t\t\tCOMMON.getCriticalityCalculationBinding(${DataPoint>CriticalityCalculation/ImprovementDirection/$EnumMember},\n\t\t\t\t\t\t\t\t\t${DataPoint>Value@@MODEL.value},\n\t\t\t\t\t\t\t\t\t${DataPoint>CriticalityCalculation/DeviationRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${DataPoint>CriticalityCalculation/ToleranceRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${DataPoint>CriticalityCalculation/AcceptanceRangeLowValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${DataPoint>CriticalityCalculation/AcceptanceRangeHighValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${DataPoint>CriticalityCalculation/ToleranceRangeHighValue@@MODEL.format},\n\t\t\t\t\t\t\t\t\t${DataPoint>CriticalityCalculation/DeviationRangeHighValue@@MODEL.format}) }"\n\t\t\t\t\t\tsize="{this>size}"\n\t\t\t\t\t/></oDataV4MicroChart:MicroChartContainer></template:with></template:then><template:elseif test="{= MICROCHART.logWarning(\'Radial\', { DataPoint_Value : ${DataPoint>Value} }) }" /></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/microchart/fragments/StackedBarMicroChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:oDataV4MicroChart="sap.fe.macros.microchart"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tMICROCHART: \'sap/fe/macros/microchart/MicroChartHelper\',\n\t\tCRIT: \'sap/fe/core/templating/CriticalityFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if test="{= MICROCHART.shouldMicroChartRender(\'Stacked Bar\', ${DataPoint>}, ${DataPoint>Value/$Path@})}"><template:then><template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure"><oDataV4MicroChart:MicroChartContainer\n\t\t\t\t\tid="{= ${this>id} ? ID.generate([${this>id}, \'StackedBarMicroChart\']) : undefined }"\n\t\t\t\t\tshowOnlyChart="{this>showOnlyChart}"\n\t\t\t\t\tchartTitle="{= ${this>title} || ${metaPath>Title}}"\n\t\t\t\t\tchartDescription="{= ${this>description} || ${metaPath>Description}}"\n\t\t\t\t\tdataPointQualifiers="{= MICROCHART.getDataPointQualifiersForMicroChart(${DataPoint>./@sapui.name}) }"\n\t\t\t\t\tbinding="{= ${this>batchGroupId} ? (\'{path:\\\'\\\', parameters : { $$groupId: \\\'\' + ${this>batchGroupId} + \'\\\'} }\') : undefined }"\n\t\t\t\t\tonTitlePressed="{this>onTitlePressed}"\n\t\t\t\t\tnavigationType="{this>navigationType}"\n\t\t\t\t><template:if test="{= !${this>showOnlyChart} || (${this>showOnlyChart} !== \'true\' ? true : false)}"><core:Fragment fragmentName="sap.fe.macros.microchart.fragments.MicroChartTitle" type="XML" /></template:if><StackedBarMicroChart\n\t\t\t\t\t\thideOnNoData="{this>hideOnNoData}"\n\t\t\t\t\t\tsize="{this>size}"\n\t\t\t\t\t\tbars="{= MICROCHART.getAggregationForMicrochart(\'Bars\', ${contextPath>}, ${DataPoint>}, ${contextPath>@sapui.name}, \'\', ${Measure>@}, ${metaPath>Dimension}) }"\n\t\t\t\t\t><bars><StackedBarMicroChartBar\n\t\t\t\t\t\t\t\tvalue="{DataPoint>Value@@MODEL.value}"\n\t\t\t\t\t\t\t\tdisplayValue="{= ${DataPoint>Value/$Path@com.sap.vocabularies.Common.v1.Text} ? ${DataPoint>Value/$Path@com.sap.vocabularies.Common.v1.Text@@MODEL.value} : undefined }"\n\t\t\t\t\t\t\t\tvalueColor="{= ${DataPoint>Criticality} ? CRIT.buildExpressionForCriticalityColorMicroChart(${DataPoint>@@UI.getDataModelObjectPath}) : undefined }"\n\t\t\t\t\t\t\t/></bars></StackedBarMicroChart></oDataV4MicroChart:MicroChartContainer></template:with></template:then><template:elseif test="{= MICROCHART.logWarning(\'StackedBar\', { DataPoint_Value : ${DataPoint>Value} }) }" /></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/quickView/fragments/DataFieldQuickView.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\',\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><template:if test="{dataField>}"><VBox class="sapUiTinyMarginTopBottom"><template:if test="{= ${dataField>IconUrl@@MODEL.value} !== undefined }"><template:then><controls:ConditionalWrapper\n\t\t\t\t\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\t\t\tcondition="{= FIELD.checkPrimaryActions(${semantic>}, false, ${viewData>/appComponent}) }"\n\t\t\t\t\t><controls:contentTrue><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageIconUrlTest"\n\t\t\t\t\t\t\t\ticon="{dataField>IconUrl@@MODEL.value}"\n\t\t\t\t\t\t\t\tfallbackIcon="sap-icon://product"\n\t\t\t\t\t\t\t\ttitle="{= FieldTemplating.getTextBinding(${dataField>Value@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\tmacrodata:titleLink="{= FIELD.getPrimaryAction(${semantic>}) }"\n\t\t\t\t\t\t\t\tdescription="{= (${dataField>Label}) ? ${dataField>Label} : ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Label} }"\n\t\t\t\t\t\t\t/></controls:contentTrue><controls:contentFalse><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageIconUrlTestNoLinkTitle"\n\t\t\t\t\t\t\t\ticon="{dataField>IconUrl@@MODEL.value}"\n\t\t\t\t\t\t\t\tfallbackIcon="sap-icon://product"\n\t\t\t\t\t\t\t\ttitle="{= FieldTemplating.getTextBinding(${dataField>Value@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\tdescription="{= (${dataField>Label}) ? ${dataField>Label} : ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Label} }"\n\t\t\t\t\t\t\t/></controls:contentFalse></controls:ConditionalWrapper></template:then><template:elseif test="{= ${dataField>Value@@MODEL.value} !== undefined}"><controls:ConditionalWrapper\n\t\t\t\t\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\t\t\tcondition="{= FIELD.checkPrimaryActions(${semantic>}, false, ${viewData>/appComponent}) }"\n\t\t\t\t\t><controls:contentTrue><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageTest"\n\t\t\t\t\t\t\t\ttitle="{= FieldTemplating.getTextBinding(${dataField>Value@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\tmacrodata:titleLink="{= FIELD.getPrimaryAction(${semantic>}) }"\n\t\t\t\t\t\t\t\tdescription="{= (${dataField>Label}) ? ${dataField>Label} : ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Label} }"\n\t\t\t\t\t\t\t/></controls:contentTrue><controls:contentFalse><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageTestNoLinkTitle"\n\t\t\t\t\t\t\t\ttitle="{= FieldTemplating.getTextBinding(${dataField>Value@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\tdescription="{= (${dataField>Label}) ? ${dataField>Label} : ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Label} }"\n\t\t\t\t\t\t\t/></controls:contentFalse></controls:ConditionalWrapper></template:elseif><template:else><controls:ConditionalWrapper\n\t\t\t\t\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\t\t\tcondition="{= FIELD.checkPrimaryActions(${semantic>}, false, ${viewData>/appComponent}) }"\n\t\t\t\t\t><controls:contentTrue><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewNoFieldValuePageTest"\n\t\t\t\t\t\t\t\ttitle="{dataField>@@MODEL.format}"\n\t\t\t\t\t\t\t\tmacrodata:titleLink="{= FIELD.getPrimaryAction(${semantic>}) }"\n\t\t\t\t\t\t\t\tdescription="{= (${dataField>Label}) ? ${dataField>Label} : ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Label} }"\n\t\t\t\t\t\t\t/></controls:contentTrue><controls:contentFalse><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewNoFieldValuePageTestNoLinkTitle"\n\t\t\t\t\t\t\t\ttitle="{dataField>@@MODEL.format}"\n\t\t\t\t\t\t\t\tdescription="{= (${dataField>Label}) ? ${dataField>Label} : ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Label} }"\n\t\t\t\t\t\t\t/></controls:contentFalse></controls:ConditionalWrapper></template:else></template:if></VBox></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/quickView/fragments/EntityQuickView.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:core="sap.ui.core"\n\txmlns:controls="sap.fe.macros.controls"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\tFIELD: \'sap/fe/macros/field/FieldHelper\'\n\t\t\t\t}"\n><template:if test="{entityType>}"><template:then><template:with path="entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo" var="headerInfo"><VBox class="sapFePaddingTop sapUiTinyMarginBottom"><controls:ConditionalWrapper\n\t\t\t\t\t\tcore:require="{FieldRuntime: \'sap/fe/macros/field/FieldRuntime\'}"\n\t\t\t\t\t\tcondition="{= FIELD.checkPrimaryActions(${semantic>}, false, ${viewData>/appComponent}) }"\n\t\t\t\t\t><controls:contentTrue><template:if test="{= (${headerInfo>ImageUrl} !== undefined) || (${headerInfo>TypeImageUrl} !== undefined) }"><template:then><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageEntity"\n\t\t\t\t\t\t\t\t\t\ticon="{= ${headerInfo>ImageUrl} !== undefined ? ${headerInfo>ImageUrl@@MODEL.value} : ${headerInfo>TypeImageUrl@@MODEL.value} }"\n\t\t\t\t\t\t\t\t\t\tfallbackIcon="{= ${headerInfo>TypeImageUrl} !== undefined ? ${headerInfo>TypeImageUrl} : (${entityType>./@com.sap.vocabularies.Common.v1.IsNaturalPerson} ? \'sap-icon://person-placeholder\' : \'sap-icon://product\')}"\n\t\t\t\t\t\t\t\t\t\ttitle="{entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\tmacrodata:titleLink="{= FIELD.getPrimaryAction(${semantic>}) }"\n\t\t\t\t\t\t\t\t\t\tdescription="{= (${headerInfo>Description} !== undefined) ? ${entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Description/Value@@MODEL.format} : \'{semantic>propertyPathLabel}\' }"\n\t\t\t\t\t\t\t\t\t/></template:then><template:else><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageEntityNoIcon"\n\t\t\t\t\t\t\t\t\t\ttitle="{entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\tmacrodata:titleLink="{= FIELD.getPrimaryAction(${semantic>}) }"\n\t\t\t\t\t\t\t\t\t\tdescription="{= (${headerInfo>Description} !== undefined) ? ${entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Description/Value@@MODEL.format} : \'{semantic>propertyPathLabel}\' }"\n\t\t\t\t\t\t\t\t\t/></template:else></template:if></controls:contentTrue><controls:contentFalse><template:if test="{= (${headerInfo>ImageUrl} !== undefined) || (${headerInfo>TypeImageUrl} !== undefined) }"><template:then><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageEntityNoLinkTitle"\n\t\t\t\t\t\t\t\t\t\ticon="{= ${headerInfo>ImageUrl} !== undefined ? ${headerInfo>ImageUrl@@MODEL.value} : ${headerInfo>TypeImageUrl@@MODEL.value} }"\n\t\t\t\t\t\t\t\t\t\tfallbackIcon="{= ${headerInfo>TypeImageUrl} !== undefined ? ${headerInfo>TypeImageUrl} : (${entityType>./@com.sap.vocabularies.Common.v1.IsNaturalPerson} ? \'sap-icon://person-placeholder\' : \'sap-icon://product\')}"\n\t\t\t\t\t\t\t\t\t\ttitle="{entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\tdescription="{= (${headerInfo>Description} !== undefined) ? ${entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Description/Value@@MODEL.format} : \'{semantic>propertyPathLabel}\' }"\n\t\t\t\t\t\t\t\t\t/></template:then><template:else><controls:CustomQuickViewPage\n\t\t\t\t\t\t\t\t\t\tunittest:id="CustomQuickViewPageEntityNoLinkTitleNoIcon"\n\t\t\t\t\t\t\t\t\t\ttitle="{entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value@@MODEL.format}"\n\t\t\t\t\t\t\t\t\t\tdescription="{= (${headerInfo>Description} !== undefined) ? ${entityType>./@com.sap.vocabularies.UI.v1.HeaderInfo/Description/Value@@MODEL.format} : \'{semantic>propertyPathLabel}\' }"\n\t\t\t\t\t\t\t\t\t/></template:else></template:if></controls:contentFalse></controls:ConditionalWrapper><core:Fragment fragmentName="sap.fe.macros.quickView.fragments.QuickViewFacets" type="XML" /></VBox></template:with></template:then></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/quickView/fragments/QuickViewFacets.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:macros="sap.fe.macros"\n\ttemplate:require="{\n\t\t\t\tCONTACT: \'sap/fe/macros/contact/ContactHelper\',\n\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\'\n\t\t\t\t}"\n><template:if test="{entityType>./@com.sap.vocabularies.UI.v1.QuickViewFacets}"><f:SimpleForm editable="false" layout="ResponsiveGridLayout" maxContainerCols="1" class="sapMQuickViewPage"><template:repeat list="{entityType>./@com.sap.vocabularies.UI.v1.QuickViewFacets}" var="facet"><template:if test="{= ${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.Communication.v1.Contact\') > -1 }"><template:then><template:with path="facet>Target/$AnnotationPath" var="contact"><core:Title text="{sap.fe.i18n>POPOVER_CONTACT_SECTION_TITLE}" class="sapUiTinyMarginBottom" /><macros:TeamContactOptions mail="{= CONTACT.getMsTeamsMail(${contact>@@UI.getDataModelObjectPath})}" /><core:Fragment fragmentName="sap.fe.macros.contact.ContactQuickViewGroup" type="XML" /></template:with></template:then><template:elseif test="{= (${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.FieldGroup\') > -1)}"><template:with path="facet>Target/$AnnotationPath" var="fieldGroup"><core:Title text="{facet>Label}" /><template:repeat list="{fieldGroup>Data}" var="dataField"><core:Fragment fragmentName="sap.fe.macros.quickView.fragments.QuickViewFormField" type="XML" /></template:repeat></template:with></template:elseif><template:elseif\n\t\t\t\t\t\ttest="{= (${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.Identification\') > -1) }"\n\t\t\t\t\t><template:with path="facet>Target/$AnnotationPath" var="identification"><core:Title text="{facet>Label}" /><template:repeat list="{identification>}" var="dataField"><core:Fragment fragmentName="sap.fe.macros.quickView.fragments.QuickViewFormField" type="XML" /></template:repeat></template:with></template:elseif><template:elseif test="{= (${facet>Target/$AnnotationPath}.indexOf(\'com.sap.vocabularies.UI.v1.DataPoint\') > -1) }"><template:with path="facet>Target/$AnnotationPath" var="dataPoint"><core:Title text="{facet>Label}" /><Label text="{dataField>@@MODEL.label}" /><Text\n\t\t\t\t\t\t\t\ttext="{= ${dataPoint>TargetValue@@MODEL.format} ? ${dataPoint>Value@@MODEL.format}+\'/\'+${dataPoint>TargetValue@@MODEL.format} : ${dataPoint>Value@@MODEL.format} }"\n\t\t\t\t\t\t\t/></template:with></template:elseif></template:if></template:repeat></f:SimpleForm></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/quickView/fragments/QuickViewFormField.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\ttemplate:require="{\n\t\t\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\t\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\t\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\'\n\t\t\t\t}"\n><Label text="{dataField>@@MODEL.label}" /><template:if test="{= FieldTemplating.getQuickViewType(${dataField>@@UI.getDataModelObjectPath})===\'link\'}"><template:then><Link\n\t\t\t\ttext="{= FieldTemplating.getQuickViewBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\thref="{= FieldTemplating.getQuickViewBinding(${dataField>Url@@UI.getDataModelObjectPath}) }"\n\t\t\t/></template:then><template:elseif test="{= FieldTemplating.getQuickViewType(${dataField>@@UI.getDataModelObjectPath})===\'phone\'}"><Link\n\t\t\t\ttext="{= FieldTemplating.getQuickViewBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\thref="{= \'phone:\' + FieldTemplating.getValueBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t/></template:elseif><template:elseif test="{= FieldTemplating.getQuickViewType(${dataField>@@UI.getDataModelObjectPath})===\'mail\'}"><Link\n\t\t\t\ttext="{= FieldTemplating.getQuickViewBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t\thref="{= \'mailto:\' + FieldTemplating.getValueBinding(${dataField>Value@@UI.getDataModelObjectPath}) }"\n\t\t\t/></template:elseif><template:else><Text text="{= FieldTemplating.getQuickViewBinding(${dataField>Value@@UI.getDataModelObjectPath}) }" /></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/share/ShareSheet.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:footerbar="sap.ushell.ui.footerbar"><ActionSheet cancelButtonPress="onCancelPressed"><buttons><Button icon="sap-icon://email" press="shareEmailPressed" text="{share>/emailButtonText}" class="sapMFlexBox" width="100%" /><Button\n\t\t\t\ticon="sap-icon://share-2"\n\t\t\t\tpress="shareJamPressed"\n\t\t\t\ttext="{share>/jamButtonText}"\n\t\t\t\tvisible="{share>/jamVisible}"\n\t\t\t\tclass="sapMFlexBox"\n\t\t\t\twidth="100%"\n\t\t\t/><Button\n\t\t\t\ticon="sap-icon://group"\n\t\t\t\tpress="shareMSTeamsPressed"\n\t\t\t\ttext="{share>/msTeamsShareButtonText}"\n\t\t\t\tvisible="{share>/msTeamsVisible}"\n\t\t\t\tclass="sapMFlexBox"\n\t\t\t\twidth="100%"\n\t\t\t/><footerbar:AddBookmarkButton\n\t\t\t\ttitle="{share>/title}"\n\t\t\t\tsubtitle="{share>/subtitle}"\n\t\t\t\ttileIcon="{share>/icon}"\n\t\t\t\tcustomUrl="{share>/url}"\n\t\t\t\tserviceUrl="{share>/queryUrl}"\n\t\t\t\tclass="sapMFlexBox"\n\t\t\t\twidth="100%"\n\t\t\t\tpress="onSaveTilePress"\n\t\t\t\tvisible="{share>/saveAsTileVisible}"\n\t\t\t/></buttons></ActionSheet></core:FragmentDefinition>\n',
	"sap/fe/macros/table/Column.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:mdcTable="sap.ui.mdc.table"\n\txmlns:core="sap.ui.core"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tTABLE: \'sap/fe/macros/table/TableHelper\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><template:with path="dataField>" helper="FIELD.getDataFieldDefault" var="dataField"><mdcTable:Column\n\t\t\tunittest:id="MDCTableColumn"\n\t\t\tid="{= TABLE.getColumnStableId(${this>id},${dataField>@@UI.getDataModelObjectPath}) }"\n\t\t\twidth="{= ${this>isOptimizedForSmallDevice} === false ? TABLE.getColumnWidth(${this>}, ${column>}, ${dataField>}, ${dataField>@@TABLE.getTextOnActionField}, ${dataField>@@UI.getDataModelObjectPath}, true, {title: ${dataField>Target/$AnnotationPath/Title} || \'\', description: ${dataField>Target/$AnnotationPath/Description} || \'\'}) : undefined}"\n\t\t\tminWidth="{= ${this>isOptimizedForSmallDevice} === true ? TABLE.getColumnWidth(${this>}, ${column>}, ${dataField>}, ${dataField>@@TABLE.getTextOnActionField}, ${dataField>@@UI.getDataModelObjectPath}, false, {title: ${dataField>Target/$AnnotationPath/Title} || \'\', description: ${dataField>Target/$AnnotationPath/Description} || \'\'}) : undefined}"\n\t\t\theader="{= ${dataField>@@MODEL.label} || ${dataField>Target/$AnnotationPath/@@MODEL.label} || ${column>name} }"\n\t\t\tdataProperty="{column>name}"\n\t\t\thAlign="{= ${column>horizontalAlign} || FIELD.getColumnAlignment(${dataField>}, ${this>}) }"\n\t\t\theaderVisible="{= TABLE.setHeaderLabelVisibility( ${dataField>}, ${dataField>Target/$AnnotationPath/Data}) }"\n\t\t\timportance="{column>importance}"\n\t\t\tcustomData:showDataFieldsLabel="{column>showDataFieldsLabel}"\n\t\t\ttooltip="{column>tooltip}"\n\t\t\trequired="{= ${this>readOnly} ? undefined : ${column>required} }"\n\t\t><core:Fragment fragmentName="sap.fe.macros.table.ColumnContent" type="XML" /></mdcTable:Column></template:with></core:FragmentDefinition>\n',
	"sap/fe/macros/table/ColumnContent.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcTable="sap.ui.mdc.table"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:controls="sap.fe.core.controls"\n\ttemplate:require="{\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tTABLE: \'sap/fe/macros/table/TableHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><template:if\n\t\ttest="{= (${dataField>$Type}.indexOf(\'DataFieldForAnnotation\') > -1) &amp;&amp; (${dataField>Target/$AnnotationPath}.indexOf(\'@com.sap.vocabularies.UI.v1.Chart\') > -1)}"\n\t><template:then><template:with path="dataField>Target/$AnnotationPath" var="collection" helper="MODEL.resolve$Path"><template:with path="collection>" var="collection" helper="COMMON.getNavigationContext"><internalMacro:MicroChart\n\t\t\t\t\t\tid="{= ID.generate([${this>id}, ${dataField>@@UI.getDataModelObjectPath}]) }"\n\t\t\t\t\t\tcontextPath="{collection>}"\n\t\t\t\t\t\tmetaPath="{dataField>Target/$AnnotationPath/}"\n\t\t\t\t\t\tshowOnlyChart="{= TABLE.getShowOnlyChart(${this>}, ${column>}) }"\n\t\t\t\t\t\tsize="{= TABLE.getChartSize(${this>}, ${column>}) }"\n\t\t\t\t\t\thideOnNoData="true"\n\t\t\t\t\t\tisAnalytics="{tableDefinition>enableAnalytics}"\n\t\t\t\t\t/></template:with></template:with></template:then><template:elseif\n\t\t\ttest="{= ${dataField>Value} &amp;&amp; ${dataField>Value/$Path} &amp;&amp; UI.isMultiValueField(${dataField>Value@@Property.getPropertyObjectPath})}"\n\t\t><internalMacro:MultiValueField\n\t\t\t\tcontextPath="{collection>}"\n\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'TableValueHelp\']) }"\n\t\t\t\tmetaPath="{dataField>}"\n\t\t\t/></template:elseif><template:elseif\n\t\t\ttest="{= (${dataField>$Type}.indexOf(\'DataFieldForAnnotation\') > -1) &amp;&amp; (${dataField>Target/$AnnotationPath}.indexOf(\'FieldGroup\') > -1)}"\n\t\t><template:with path="dataField>Target/$AnnotationPath/Data/" var="dataFieldCollections"><VBox\n\t\t\t\t\tvisible="{= TABLE.getVBoxVisibility( ${dataFieldCollections>}, ${column>FieldGroupHiddenExpressions}, ${dataField>} ) }"\n\t\t\t\t><template:repeat list="{dataFieldCollections>}" var="fieldGroupDataField"><template:if test="{= ${column>showDataFieldsLabel} &amp;&amp; !!${fieldGroupDataField>@@FIELD.computeLabelText} }"><template:then><HBox\n\t\t\t\t\t\t\t\t\talignItems="{= FIELD.buildExpressionForAlignItems(${fieldGroupDataField>Target/$AnnotationPath/Visualization/$EnumMember}) }"\n\t\t\t\t\t\t\t\t><Label\n\t\t\t\t\t\t\t\t\t\tid="{= TABLE.getFieldGroupLabelStableId(${this>id},${fieldGroupDataField>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\t\ttext="{= ${fieldGroupDataField>@@FIELD.computeLabelText} + \':\' }"\n\t\t\t\t\t\t\t\t\t\tclass="sapUiTinyMarginEnd"\n\t\t\t\t\t\t\t\t\t\tvisible="{= FieldTemplating.getVisibleExpression(${fieldGroupDataField>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\t/><VBox><layoutData><FlexItemData growFactor="1" /></layoutData><internalMacro:Field\n\t\t\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'TableValueHelp\']) }"\n\t\t\t\t\t\t\t\t\t\t\teditMode="{this>columnEditMode}"\n\t\t\t\t\t\t\t\t\t\t\tentitySet="{collection>}"\n\t\t\t\t\t\t\t\t\t\t\tdataField="{fieldGroupDataField>}"\n\t\t\t\t\t\t\t\t\t\t\ttextAlign="Left"\n\t\t\t\t\t\t\t\t\t\t\twrap="{= ${this>tableType} === \'ResponsiveTable\' ? true : false }"\n\t\t\t\t\t\t\t\t\t\t\tclass="{= TABLE.getMarginClass( ${dataFieldCollections>}  , ${fieldGroupDataField>} , ${fieldGroupDataField>Target/$AnnotationPath/Visualization/$EnumMember}, ${column>FieldGroupHiddenExpressions/}) }"\n\t\t\t\t\t\t\t\t\t\t\tonLiveChange="{= ${this>creationMode/name} === \'InlineCreationRows\' ? \'TableAPI.onFieldLiveChange($event)\' : undefined}"\n\t\t\t\t\t\t\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t\t\t\t\t\t\t\tariaLabelledBy="{= TABLE.getColumnStableId(${this>id},${dataField>@@UI.getDataModelObjectPath}) +\' \'+ TABLE.getFieldGroupLabelStableId(${this>id},${fieldGroupDataField>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\t\t\tnavigateAfterAction="{column>isNavigable}"\n\t\t\t\t\t\t\t\t\t\t\tshowErrorObjectStatus="{column>formatOptions/showErrorObjectStatus}"\n\t\t\t\t\t\t\t\t\t\t><internalMacro:formatOptions\n\t\t\t\t\t\t\t\t\t\t\t\ttextLinesEdit="{column>formatOptions/textLinesEdit}"\n\t\t\t\t\t\t\t\t\t\t\t\ttextMaxLines="{column>formatOptions/textMaxLines}"\n\t\t\t\t\t\t\t\t\t\t\t\ttextMaxCharactersDisplay="{column>formatOptions/textMaxCharactersDisplay}"\n\t\t\t\t\t\t\t\t\t\t\t\ttextMaxLength="{dataField>formatOptions/textMaxLength}"\n\t\t\t\t\t\t\t\t\t\t\t\ttextExpandBehaviorDisplay="{column>formatOptions/textExpandBehaviorDisplay}"\n\t\t\t\t\t\t\t\t\t\t\t\ttextAlignMode="Table"\n\t\t\t\t\t\t\t\t\t\t\t\tshowEmptyIndicator="true"\n\t\t\t\t\t\t\t\t\t\t\t\tsemanticKeyStyle="{= ${this>tableType} === \'ResponsiveTable\' ? \'ObjectIdentifier\' : \'Label\' }"\n\t\t\t\t\t\t\t\t\t\t\t\thasDraftIndicator="{column>formatOptions/hasDraftIndicator}"\n\t\t\t\t\t\t\t\t\t\t\t\tfieldGroupDraftIndicatorPropertyPath="{column>formatOptions/fieldGroupDraftIndicatorPropertyPath}"\n\t\t\t\t\t\t\t\t\t\t\t\tfieldGroupName="{column>formatOptions/fieldGroupName}"\n\t\t\t\t\t\t\t\t\t\t\t\tshowIconUrl="{= ${fieldGroupDataField>Inline} &amp;&amp; ${fieldGroupDataField>IconUrl} }"\n\t\t\t\t\t\t\t\t\t\t\t\tignoreNavigationAvailable="{= ${tableDefinition>enableAnalytics} ? true : false }"\n\t\t\t\t\t\t\t\t\t\t\t\tisAnalytics="{tableDefinition>enableAnalytics}"\n\t\t\t\t\t\t\t\t\t\t\t\tforInlineCreationRows="{= ${this>creationMode/name} === \'InlineCreationRows\' ? true : false}"\n\t\t\t\t\t\t\t\t\t\t\t\tisCurrencyAligned="true"\n\t\t\t\t\t\t\t\t\t\t\t\tcompactSemanticKey="{tableDefinition>control/isCompactType}"\n\t\t\t\t\t\t\t\t\t\t\t/><template:if\n\t\t\t\t\t\t\t\t\t\t\t\ttest="{=FIELD.getBindingInfoForTextArrangement(${this>}, ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement}, ${dataField>}) }"\n\t\t\t\t\t\t\t\t\t\t\t><internalMacro:customData><core:CustomData\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey="extraProperty"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="{=FIELD.getBindingInfoForTextArrangement(${this>}, ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement}, ${dataField>}) }"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></internalMacro:customData></template:if></internalMacro:Field></VBox></HBox></template:then><template:else><internalMacro:Field\n\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'TableValueHelp\']) }"\n\t\t\t\t\t\t\t\t\teditMode="{this>columnEditMode}"\n\t\t\t\t\t\t\t\t\tentitySet="{collection>}"\n\t\t\t\t\t\t\t\t\tdataField="{fieldGroupDataField>}"\n\t\t\t\t\t\t\t\t\twrap="{= ${this>tableType} === \'ResponsiveTable\' ? true : false }"\n\t\t\t\t\t\t\t\t\tclass="{= TABLE.getMarginClass( ${dataFieldCollections>}  , ${fieldGroupDataField>} , ${fieldGroupDataField>Target/$AnnotationPath/Visualization/$EnumMember}, ${column>FieldGroupHiddenExpressions/}) }"\n\t\t\t\t\t\t\t\t\tonChange="{this>onChange}"\n\t\t\t\t\t\t\t\t\tonLiveChange="{= ${this>creationMode/name} === \'InlineCreationRows\' ? \'TableAPI.onFieldLiveChange($event)\' : undefined}"\n\t\t\t\t\t\t\t\t\tariaLabelledBy="{= TABLE.getColumnStableId(${this>id},${dataField>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\t\tnavigateAfterAction="{column>isNavigable}"\n\t\t\t\t\t\t\t\t\tshowErrorObjectStatus="{column>formatOptions/showErrorObjectStatus}"\n\t\t\t\t\t\t\t\t><internalMacro:formatOptions\n\t\t\t\t\t\t\t\t\t\tfieldMode="{this>fieldMode}"\n\t\t\t\t\t\t\t\t\t\ttextLinesEdit="{column>formatOptions/textLinesEdit}"\n\t\t\t\t\t\t\t\t\t\ttextMaxLines="{column>formatOptions/textMaxLines}"\n\t\t\t\t\t\t\t\t\t\ttextMaxLength="{dataField>formatOptions/textMaxLength}"\n\t\t\t\t\t\t\t\t\t\ttextMaxCharactersDisplay="{column>formatOptions/textMaxCharactersDisplay}"\n\t\t\t\t\t\t\t\t\t\ttextExpandBehaviorDisplay="{column>formatOptions/textExpandBehaviorDisplay}"\n\t\t\t\t\t\t\t\t\t\ttextAlignMode="Table"\n\t\t\t\t\t\t\t\t\t\tsemanticKeyStyle="{= ${this>tableType} === \'ResponsiveTable\' ? \'ObjectIdentifier\' : \'Label\' }"\n\t\t\t\t\t\t\t\t\t\thasDraftIndicator="{column>formatOptions/hasDraftIndicator}"\n\t\t\t\t\t\t\t\t\t\tfieldGroupDraftIndicatorPropertyPath="{column>formatOptions/fieldGroupDraftIndicatorPropertyPath}"\n\t\t\t\t\t\t\t\t\t\tfieldGroupName="{column>formatOptions/fieldGroupName}"\n\t\t\t\t\t\t\t\t\t\tshowIconUrl="{= ${fieldGroupDataField>Inline} &amp;&amp; ${fieldGroupDataField>IconUrl} }"\n\t\t\t\t\t\t\t\t\t\tignoreNavigationAvailable="{= ${tableDefinition>enableAnalytics} ? true : false }"\n\t\t\t\t\t\t\t\t\t\tisAnalytics="{tableDefinition>enableAnalytics}"\n\t\t\t\t\t\t\t\t\t\tforInlineCreationRows="{= ${this>creationMode/name} === \'InlineCreationRows\' ? true : false}"\n\t\t\t\t\t\t\t\t\t\tisCurrencyAligned="true"\n\t\t\t\t\t\t\t\t\t\tcompactSemanticKey="{tableDefinition>control/isCompactType}"\n\t\t\t\t\t\t\t\t\t/><template:if\n\t\t\t\t\t\t\t\t\t\ttest="{=FIELD.getBindingInfoForTextArrangement(${this>}, ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement}, ${dataField>}) }"\n\t\t\t\t\t\t\t\t\t><internalMacro:customData><core:CustomData\n\t\t\t\t\t\t\t\t\t\t\t\tkey="extraProperty"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue="{=FIELD.getBindingInfoForTextArrangement(${this>}, ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement}, ${dataField>}) }"\n\t\t\t\t\t\t\t\t\t\t\t/></internalMacro:customData></template:if></internalMacro:Field></template:else></template:if></template:repeat><template:if test="{= ${collection>@com.sap.vocabularies.Common.v1.DraftRoot} }"><template:if test="{= ${collection>./@com.sap.vocabularies.Common.v1.SemanticKey} }"><template:if test="{column>formatOptions/fieldGroupDraftIndicatorPropertyPath}"><controls:FormElementWrapper><macro:DraftIndicator\n\t\t\t\t\t\t\t\t\t\tdraftIndicatorType="IconAndText"\n\t\t\t\t\t\t\t\t\t\tentitySet="{collection>}"\n\t\t\t\t\t\t\t\t\t\tisDraftIndicatorVisible="{= FieldTemplating.getDraftIndicatorVisibleBinding(${column>formatOptions/fieldGroupName}) }"\n\t\t\t\t\t\t\t\t\t\tariaLabelledBy="{this>ariaLabelledBy}"\n\t\t\t\t\t\t\t\t\t/></controls:FormElementWrapper></template:if></template:if></template:if><template:if test="{= ${collection>./@com.sap.vocabularies.Common.v1.SemanticKey} }"><template:if test="{column>formatOptions/fieldGroupDraftIndicatorPropertyPath}"><ObjectStatus\n\t\t\t\t\t\t\t\tvisible="{column>formatOptions/showErrorObjectStatus}"\n\t\t\t\t\t\t\t\tclass="sapUiSmallMarginBottom"\n\t\t\t\t\t\t\t\ttext="{sap.fe.i18n>Contains_Errors}"\n\t\t\t\t\t\t\t\tstate="Error"\n\t\t\t\t\t\t\t/></template:if></template:if></VBox></template:with></template:elseif><template:else><internalMacro:Field\n\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'TableValueHelp\']) }"\n\t\t\t\teditMode="{this>columnEditMode}"\n\t\t\t\tentitySet="{collection>}"\n\t\t\t\tdataField="{dataField>}"\n\t\t\t\twrap="{= ${this>tableType} === \'ResponsiveTable\' ? true : false }"\n\t\t\t\tonChange="{this>onChange}"\n\t\t\t\tonLiveChange="{= ${this>creationMode/name} === \'InlineCreationRows\' ? \'TableAPI.onFieldLiveChange($event)\' : undefined}"\n\t\t\t\tariaLabelledBy="{= ${column>formatOptions/hasDraftIndicator} ? TABLE.getColumnStableId(${this>id},${dataField>@@UI.getDataModelObjectPath}) : undefined}"\n\t\t\t\tnavigateAfterAction="{column>isNavigable}"\n\t\t\t\tshowErrorObjectStatus="{column>formatOptions/showErrorObjectStatus}"\n\t\t\t><internalMacro:formatOptions\n\t\t\t\t\tfieldMode="{this>fieldMode}"\n\t\t\t\t\ttextLinesEdit="{column>formatOptions/textLinesEdit}"\n\t\t\t\t\ttextMaxLines="{column>formatOptions/textMaxLines}"\n\t\t\t\t\ttextMaxLength="{dataField>formatOptions/textMaxLength}"\n\t\t\t\t\ttextMaxCharactersDisplay="{column>formatOptions/textMaxCharactersDisplay}"\n\t\t\t\t\ttextExpandBehaviorDisplay="{column>formatOptions/textExpandBehaviorDisplay}"\n\t\t\t\t\ttextAlignMode="Table"\n\t\t\t\t\tsemanticKeyStyle="{= ${this>tableType} === \'ResponsiveTable\' ? \'ObjectIdentifier\' : \'Label\' }"\n\t\t\t\t\thasDraftIndicator="{column>formatOptions/hasDraftIndicator}"\n\t\t\t\t\tfieldGroupDraftIndicatorPropertyPath="{column>formatOptions/fieldGroupDraftIndicatorPropertyPath}"\n\t\t\t\t\tfieldGroupName="{column>formatOptions/fieldGroupName}"\n\t\t\t\t\tshowIconUrl="{= ${dataField>Inline} &amp;&amp; ${dataField>IconUrl} }"\n\t\t\t\t\tignoreNavigationAvailable="{= ${tableDefinition>enableAnalytics} ? true : false }"\n\t\t\t\t\tisAnalytics="{tableDefinition>enableAnalytics}"\n\t\t\t\t\tforInlineCreationRows="{= ${this>creationMode/name} === \'InlineCreationRows\' ? true : false}"\n\t\t\t\t\tisCurrencyAligned="true"\n\t\t\t\t\tcompactSemanticKey="{tableDefinition>control/isCompactType}"\n\t\t\t\t/><template:if\n\t\t\t\t\ttest="{=FIELD.getBindingInfoForTextArrangement(${this>}, ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement}, ${dataField>}) }"\n\t\t\t\t><internalMacro:customData><core:CustomData\n\t\t\t\t\t\t\tkey="extraProperty"\n\t\t\t\t\t\t\tvalue="{=FIELD.getBindingInfoForTextArrangement(${this>}, ${dataField>Value/$Path@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement}, ${dataField>}) }"\n\t\t\t\t\t\t/></internalMacro:customData></template:if></internalMacro:Field><template:if test="{= ${this>creationMode/name} === \'CreationRow\'}"><mdcTable:creationTemplate><internalMacro:Field\n\t\t\t\t\t\tcore:require="{TableRuntime: \'sap/fe/macros/table/TableRuntime\'}"\n\t\t\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'TableValueHelp\']) }"\n\t\t\t\t\t\teditMode="{this>columnEditMode}"\n\t\t\t\t\t\tentitySet="{collection>}"\n\t\t\t\t\t\tdataField="{dataField>}"\n\t\t\t\t\t\twrap="{= ${this>tableType} === \'ResponsiveTable\' ? true : false }"\n\t\t\t\t\t\tonChange="TableRuntime.onFieldChangeInCreationRow($event, \'{this>customValidationFunction}\')}"\n\t\t\t\t\t\tshowErrorObjectStatus="{column>formatOptions/showErrorObjectStatus}"\n\t\t\t\t\t><internalMacro:formatOptions\n\t\t\t\t\t\t\ttextLinesEdit="{column>formatOptions/textLinesEdit}"\n\t\t\t\t\t\t\ttextMaxLines="{column>formatOptions/textMaxLines}"\n\t\t\t\t\t\t\ttextMaxLength="{dataField>formatOptions/textMaxLength}"\n\t\t\t\t\t\t\ttextMaxCharactersDisplay="{column>formatOptions/textMaxCharactersDisplay}"\n\t\t\t\t\t\t\ttextExpandBehaviorDisplay="{column>formatOptions/textExpandBehaviorDisplay}"\n\t\t\t\t\t\t\ttextAlignMode="Table"\n\t\t\t\t\t\t\tsemanticKeyStyle="{= ${this>tableType} === \'ResponsiveTable\' ? \'ObjectIdentifier\' : \'Label\' }"\n\t\t\t\t\t\t\thasDraftIndicator="{column>formatOptions/hasDraftIndicator}"\n\t\t\t\t\t\t\tfieldGroupDraftIndicatorPropertyPath="{column>formatOptions/fieldGroupDraftIndicatorPropertyPath}"\n\t\t\t\t\t\t\tfieldGroupName="{column>formatOptions/fieldGroupName}"\n\t\t\t\t\t\t\tshowIconUrl="{= ${dataField>Inline} &amp;&amp; ${dataField>IconUrl} }"\n\t\t\t\t\t\t\tignoreNavigationAvailable="{= ${tableDefinition>enableAnalytics} ? true : false }"\n\t\t\t\t\t\t\tisCurrencyAligned="true"\n\t\t\t\t\t\t/></internalMacro:Field></mdcTable:creationTemplate></template:if></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/table/Columns.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:mdcTable="sap.ui.mdc.table"\n\ttemplate:require="{\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tTABLE: \'sap/fe/macros/table/TableHelper\'\n\t}"\n><template:if test="{tableDefinition>columns}"><template:repeat list="{tableDefinition>columns}" var="column"><template:if test="{= ${column>availability} === \'Default\'}"><template:if test="{= ${column>type} === \'Default\'}"><template:then><core:Fragment fragmentName="sap.fe.macros.table.CustomColumn" type="XML" /></template:then><template:elseif test="{= ${column>type} === \'Annotation\'}"><template:with path="column>annotationPath" var="dataField"><core:Fragment fragmentName="sap.fe.macros.table.Column" type="XML" /></template:with></template:elseif><template:elseif test="{= ${column>type} === \'Slot\'}"><core:Fragment fragmentName="sap.fe.macros.table.SlotColumn" type="XML" /></template:elseif><template:elseif test="{= ${column>type} === \'Computed\'}"><core:Fragment fragmentName="sap.fe.macros.table.ComputedColumn" type="XML" /></template:elseif></template:if></template:if></template:repeat></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/table/ComputedColumn.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:mdcTable="sap.ui.mdc.table"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if test="{= ${column>isDraftIndicator} === true}"><mdcTable:Column\n\t\t\tunittest:id="MDCTableColumn"\n\t\t\tid="{= ID.generate([${this>id}, \'C\', \'computedColumns\', \'draftStatus\']) }"\n\t\t\tpropertyKey="{column>name}"\n\t\t\theader="{column>label}"\n\t\t\theaderVisible="false"\n\t\t\ttooltip="{column>tooltip}"\n\t\t\twidth="3em"\n\t\t><macro:DraftIndicator\n\t\t\t\txmlns:macro="sap.fe.macros"\n\t\t\t\tdraftIndicatorType="IconOnly"\n\t\t\t\tentitySet="{collection>}"\n\t\t\t\tpropertyKey="{column>propertyKey}"\n\t\t\t\tusedInTable="true"\n\t\t\t/></mdcTable:Column></template:if><template:if test="{= ${column>isSituationsIndicator} === true}"><mdcTable:Column\n\t\t\tunittest:id="MDCTableColumn"\n\t\t\tid="{= ID.generate([${this>id}, \'C\', \'computedColumns\', \'situationsIndicator\']) }"\n\t\t\tpropertyKey="{column>name}"\n\t\t\theader="{column>label}"\n\t\t\theaderVisible="false"\n\t\t\ttooltip="{column>tooltip}"\n\t\t\twidth="4em"\n\t\t><situations:SituationsIndicator xmlns:situations="sap.fe.macros.internal.situations" entitySet="{collection>}" /></mdcTable:Column></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/table/CustomColumn.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:mdcTable="sap.ui.mdc.table"\n\txmlns:core="sap.ui.core"\n\txmlns:fpm="sap.fe.macros.fpm"\n\ttemplate:require="{\n\t\tTABLE: \'sap/fe/macros/table/TableHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><mdcTable:Column\n\t\tid="{= ID.generate([${this>id}, \'C\', ${column>id}]) }"\n\t\tdataProperty="{column>name}"\n\t\twidth="{column>width}"\n\t\timportance="{column>importance}"\n\t\theader="{column>header}"\n\t\thAlign="{column>horizontalAlign}"\n\t\ttooltip="{column>tooltip}"\n\t\trequired="{column>required}"\n\t><mdcTable:template><fpm:CustomFragment id="{column>key}" fragmentName="{column>template}" contextPath="{collection>}"><fpm:childCustomData><core:CustomData key="AssociatedProperties" value="{= TABLE.createBindingToLoadProperties(${column>properties})}" /></fpm:childCustomData></fpm:CustomFragment></mdcTable:template></mdcTable:Column></core:FragmentDefinition>\n',
	"sap/fe/macros/table/SlotColumn.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:mdcTable="sap.ui.mdc.table"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><mdcTable:Column\n\t\tid="{= ID.generate([${this>id}, \'C\', ${column>id}]) }"\n\t\tdataProperty="{column>name}"\n\t\twidth="{column>width}"\n\t\timportance="{column>importance}"\n\t\thAlign="{column>horizontalAlign}"\n\t\theader="{column>header}"\n\t\ttooltip="{column>tooltip}"\n\t\trequired="{= ${this>readOnly} ? undefined : ${column>required} }"\n\t><mdcTable:template><slot name="{column>key}" /></mdcTable:template></mdcTable:Column></core:FragmentDefinition>\n',
	"sap/fe/macros/table/ValueHelp.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns:macro="sap.fe.macros"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><template:if\n\t\ttest="{= (${dataField>$Type}.indexOf(\'DataFieldForAnnotation\') !== -1) &amp;&amp; (${dataField>Target/$AnnotationPath}.indexOf(\'@com.sap.vocabularies.UI.v1.Chart\') !== -1)}"\n\t><template:then></template:then><template:elseif\n\t\t\ttest="{= (${dataField>$Type}.indexOf(\'DataFieldForAnnotation\') !== -1) &amp;&amp; (${dataField>Target/$AnnotationPath}.indexOf(\'FieldGroup\') !== -1)}"\n\t\t><template:with path="dataField>Target/$AnnotationPath/Data" var="dataFields"><template:repeat list="{dataFields>}" var="dataField"><core:Fragment fragmentName="sap.fe.macros.table.ValueHelp" type="XML" /></template:repeat></template:with></template:elseif><template:elseif test="{= ${dataField>Value} }"><template:with path="dataField>Value" var="item"><macro:ValueHelp\n\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'TableValueHelp\']) }"\n\t\t\t\t\tproperty="{item>}"\n\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t/></template:with></template:elseif><template:else><macro:ValueHelp\n\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'TableValueHelp\']) }"\n\t\t\t\tproperty="{dataField>}"\n\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t/></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/macros/valuehelp/ValueHelpFilterBar.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcFbVh="sap.ui.mdc.filterbar.vh"\n\txmlns="sap.m"\n\txmlns:macro="sap.fe.macros"\n\txmlns:internalMacro="sap.fe.macros.internal"\n\txmlns:log="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\txmlns:macroData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t}"\n><mdcFbVh:FilterBar\n\t\tid="{this>id}"\n\t\tliveMode="{this>liveMode}"\n\t\tdelegate="{= \'{name:\\\'sap/fe/macros/filterBar/FilterBarDelegate\\\', payload: {entityTypePath: \\\'\' + ${contextPath>@@MACRO.getPath} + \'\\\'} }\' }"\n\t\tsearch="{this>search}"\n\t\tfilterChanged="{this>filterChanged}"\n\t\tfilterConditions="{this>filterConditions}"\n\t\tsuspendSelection="{this>suspendSelection}"\n\t\texpandFilterFields="{this>expandFilterFields}"\n\t\tmacroData:hideBasicSearch="{this>hideBasicSearch}"\n\t\tmacroData:useSemanticDateRange="{this>useSemanticDateRange}"\n\t\tmacroData:selectionFields="{= COMMON.stringifyCustomData(${this>selectionFields}) }"\n\t\tmacroData:entityType="{contextPath>@@MACRO.getPath}"\n\t><mdcFbVh:dependents><template:repeat list="{path:\'selectionFields>\'}" var="item"><template:if test="{= ${item>availability} === \'Default\' &amp;&amp; ${item>template} === undefined}"><template:with path="item>annotationPath" var="property"><macro:ValueHelp\n\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\', COMMON.getNavigationPath(${item>annotationPath})]) }"\n\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\tconditionModel="$filters"\n\t\t\t\t\t\t\tproperty="{property>}"\n\t\t\t\t\t\t\tfilterFieldValueHelp="true"\n\t\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\t/></template:with></template:if></template:repeat><template:if\n\t\t\t\ttest="{= !${path:\'contextPath>@com.sap.vocabularies.UI.v1.SelectionFields\'}  &amp;&amp; (${this>enableFallback} === true)}"\n\t\t\t><template:repeat\n\t\t\t\t\tlist="{path:\'contextPath>\', filters: {path: \'$kind\', operator: \'EQ\', value1:\'Property\'}}"\n\t\t\t\t\tvar="selectionField"\n\t\t\t\t><template:with path="selectionField>" var="item"><macro:ValueHelp\n\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\']) }"\n\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\tconditionModel="$filters"\n\t\t\t\t\t\t\tproperty="{item>}"\n\t\t\t\t\t\t\tfilterFieldValueHelp="true"\n\t\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\t/></template:with></template:repeat></template:if></mdcFbVh:dependents><template:if test="{= !${this>hideBasicSearch} }"><mdcFbVh:basicSearchField><mdc:FilterField\n\t\t\t\t\tplaceholder="{sap.fe.i18n>M_FILTERBAR_SEARCH}"\n\t\t\t\t\tconditions="{$filters>/conditions/$search}"\n\t\t\t\t\tdataType="Edm.String"\n\t\t\t\t\tmaxConditions="1"\n\t\t\t\t/></mdcFbVh:basicSearchField></template:if><mdcFbVh:filterItems><template:repeat list="{path:\'selectionFields>\'}" var="item"><template:if test="{= ${item>availability} === \'Default\'}"><template:if test="{= ${item>template} === undefined}"><template:then><template:with path="item>annotationPath" var="property"><internalMacro:FilterField\n\t\t\t\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterField\', COMMON.getNavigationPath(${item>annotationPath})]) }"\n\t\t\t\t\t\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\', COMMON.getNavigationPath(${item>annotationPath})]) }"\n\t\t\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\t\t\tproperty="{property>}"\n\t\t\t\t\t\t\t\t\t_valueList="{_valueList>}"\n\t\t\t\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\t\t\t\tsettings="{= COMMON.stringifyCustomData(${item>settings}) }"\n\t\t\t\t\t\t\t\t/></template:with></template:then><template:else><core:Fragment fragmentName="sap.fe.macros.filter.CustomFilter" type="XML" /></template:else></template:if></template:if></template:repeat><template:if\n\t\t\t\ttest="{= !${contextPath>@com.sap.vocabularies.UI.v1.SelectionFields} &amp;&amp; (${this>enableFallback} === true) }"\n\t\t\t><template:repeat\n\t\t\t\t\tlist="{path:\'contextPath>\', filters: {path: \'$kind\', operator: \'EQ\', value1:\'Property\'}}"\n\t\t\t\t\tvar="selectionField"\n\t\t\t\t><internalMacro:FilterField\n\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\tproperty="{selectionField>}"\n\t\t\t\t\t\t_valueList="{_valueList>}"\n\t\t\t\t\t\tidPrefix="{= ID.generate([${this>id}, \'FilterField\']) }"\n\t\t\t\t\t\tvhIdPrefix="{= ID.generate([${this>id}, \'FilterFieldValueHelp\']) }"\n\t\t\t\t\t\tuseSemanticDateRange="{this>useSemanticDateRange}"\n\t\t\t\t\t\tlog:comment="Taken from Properties"\n\t\t\t\t\t\tsettings="{= COMMON.stringifyCustomData(${selectionField>settings}) }"\n\t\t\t\t\t/></template:repeat></template:if></mdcFbVh:filterItems></mdcFbVh:FilterBar></core:FragmentDefinition>\n',
	"sap/fe/macros/visualfilters/fragments/InteractiveDonutChart.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.suite.ui.microchart"\n\txmlns:core="sap.ui.core"\n\txmlns:m="sap.m"\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:macrodata="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tHELPER: \'sap/fe/macros/visualfilters/InteractiveChartHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n        FieldHelper: \'sap/fe/macros/field/FieldHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFieldTemplating: \'sap/fe/macros/field/FieldTemplating\',\n\t\tMACRO: \'sap/fe/macros/MacroTemplating\'\n\t}"\n><template:if test="{= ${chartAnnotation>Measures/0/} &amp;&amp; ${chartAnnotation>Dimensions/0/} }"><template:then><template:with path="chartAnnotation>Measures/0" helper="COMMON.getMeasureAttributeForMeasure" var="DataPoint"><template:with path="chartAnnotation>Measures/0/" var="Measure"><template:with path="chartAnnotation>Dimensions/0/" var="Dimension"><InteractiveDonutChart\n\t\t\t\t\t\t\tcore:require="{VisualFilterRuntime: \'sap/fe/macros/visualfilters/VisualFilterRuntime\'}"\n\t\t\t\t\t\t\tselectionChanged="VisualFilterRuntime.selectionChanged"\n\t\t\t\t\t\t\tvisible="{= \'{= !${internal>\' + ID.generate([${metaPath>@@MACRO.getPath}]) + \'/showOverLayForVF}}\'}"\n\t\t\t\t\t\t\tsegments="{parts:[{path:\'chartAnnotation>\'},{path:\'contextPath>\'},{path: \'Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text\'},{path:\'Dimension>$PropertyPath/$Type\'},{path:\'metaPath>SortOrder\'}, {path: \'this>selectionVariantAnnotation\'}, {path:\'this>bCustomAggregate\'}, {path:\'this>aggregateProperties\'}, {path:\'this>bUoMHasCustomAggregate\'}],formatter:\'HELPER.getAggregationBinding\'}"\n\t\t\t\t\t\t\tmacrodata:outParameter="{= ${this>outParameter}}"\n\t\t\t\t\t\t\tmacrodata:valuelistProperty="{= ${this>valuelistProperty}}"\n\t\t\t\t\t\t\tmacrodata:multipleSelectionAllowed="{= %{this>multipleSelectionAllowed}}"\n\t\t\t\t\t\t\tmacrodata:dimension="{= ${Dimension>$PropertyPath}}"\n\t\t\t\t\t\t\tmacrodata:dimensionText="{= ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text} ? ${Dimension>$PropertyPath@com.sap.vocabularies.Common.v1.Text/$Path} : undefined}"\n\t\t\t\t\t\t\tmacrodata:measure="{= ${Measure>$PropertyPath}}"\n\t\t\t\t\t\t\tmacrodata:scalefactor="{= HELPER.getScaleFactor(${DataPoint>ValueFormat})}"\n\t\t\t\t\t\t\tmacrodata:uom="{parts:[{path:\'chartAnnotation>\'},{path:\'contextPath>\'},{value:\'true\'}, {path:\'this>bCustomAggregate\'}, {path:\'this>aggregateProperties\'}],formatter:\'HELPER.getUoM\'}"\n\t\t\t\t\t\t\tmacrodata:inParameters="{= COMMON.stringifyCustomData(${this>inParameters}) }"\n\t\t\t\t\t\t\tmacrodata:inParameterConditions="{= ${this>inParameters} !== undefined ? HELPER.getInParameterFiltersBinding(${this>inParameters}) : undefined}"\n\t\t\t\t\t\t\tmacrodata:dimensionType="{= ${Dimension>$PropertyPath/$Type}}"\n\t\t\t\t\t\t\tmacrodata:selectionVariantAnnotation="{= COMMON.stringifyCustomData(${this>selectionVariantAnnotation})}"\n\t\t\t\t\t\t\tmacrodata:required="{this>required}"\n\t\t\t\t\t\t\tmacrodata:showOverlayInitially="{this>showOverlayInitially}"\n\t\t\t\t\t\t\tmacrodata:requiredProperties="{this>requiredProperties}"\n\t\t\t\t\t\t\tmacrodata:infoPath="{= ID.generate([${metaPath>@@MACRO.getPath}]) }"\n\t\t\t\t\t\t><segments><InteractiveDonutChartSegment\n\t\t\t\t\t\t\t\t\tcore:require="{VisualFilterRuntime: \'sap/fe/macros/visualfilters/VisualFilterRuntime\'}"\n\t\t\t\t\t\t\t\t\tlabel="{= FieldTemplating.getTextBinding(${Dimension>@@UI.getDataModelObjectPath})}"\n\t\t\t\t\t\t\t\t\tvalue="{= ${Measure>$PropertyPath@@HELPER.getChartValue} }"\n\t\t\t\t\t\t\t\t\tdisplayedValue="{parts:[ {path: \'Measure>$PropertyPath\'}, {path: \'DataPoint>ValueFormat\'}, {path: \'metaPath>@@MACRO.getPath\'}], formatter: \'HELPER.getChartDisplayedValue\'}"\n\t\t\t\t\t\t\t\t\tcolor="{parts:[{path:\'DataPoint>@@UI.getDataModelObjectPath\'}, {path:\'Dimension>\'}], formatter: \'HELPER.getColorBinding\'}"\n\t\t\t\t\t\t\t\t\tselected="{path: \'$field>/conditions\', formatter: \'sap.fe.macros.visualfilters.VisualFilterRuntime.getAggregationSelected\'}"\n\t\t\t\t\t\t\t\t/></segments></InteractiveDonutChart><m:VBox\n\t\t\t\t\t\t\tclass="sapUiOverlay sapUiResponsiveMargin"\n\t\t\t\t\t\t\tvisible="{= \'{internal>\' + ID.generate([${metaPath>@@MACRO.getPath}]) + \'/showOverLayForVF}\'}"\n\t\t\t\t\t\t><m:Text text="{= \'{internal>\' + ID.generate([${metaPath>@@MACRO.getPath}]) + \'/VFOverLayMessage}\'}" /></m:VBox></template:with></template:with></template:with></template:then></template:if></core:FragmentDefinition>\n'
});
//# sourceMappingURL=library-preload.js.map
