/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/MetaModelConverter","sap/fe/core/library","sap/fe/core/templating/CriticalityFormatters","sap/m/Button","sap/fe/core/jsx-runtime/jsx"],function(e,t,i,n,r,o,a,l){"use strict";var c,u,s,p,d,f,b,g,v;var h={};var m=n.getInvolvedDataModelObjects;var y=i.isActionWithDialog;var x=e.defineBuildingBlock;var j=e.blockAttribute;function O(e,t,i,n){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function z(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;B(e,t)}function B(e,t){B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return B(e,t)}function C(e,t,i,n,r){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function P(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let k=(c=x({name:"DataFieldForAction",namespace:"sap.fe.macros.actions"}),u=j({type:"object",required:true}),s=j({type:"sap.ui.model.Context",required:true}),p=j({type:"string",required:true}),c(d=(f=function(e){z(t,e);function t(){var t;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++){n[r]=arguments[r]}t=e.call(this,...n)||this;O(t,"action",b,w(t));O(t,"contextPath",g,w(t));O(t,"id",v,w(t));return t}h=t;var i=t.prototype;i.getContent=function e(t){const i=t.getController();const n=m(this.contextPath);const c=this.contextPath.getModel();const u=this.action.annotationPath;let s;if(u){const e=c.getContext(u);const f=m(e);const b=f.targetObject;if(b){var p,d;const e={entitySetName:(p=n.targetEntitySet)===null||p===void 0?void 0:p.name,invocationGrouping:b.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?r.InvocationGrouping.ChangeSet:r.InvocationGrouping.Isolated,label:(d=b.Label)===null||d===void 0?void 0:d.toString(),isNavigable:this.action.isNavigable,defaultValuesExtensionFunction:this.action.defaultValuesExtensionFunction};if(!this.action.command){s={press:()=>{i.handlers.onCallAction(t,b.Action,{...e,...{contexts:t.getBindingContext(),model:t.getModel()}})}}}else{s={"jsx:command":`${this.action.command}|press`}}return l(a,{id:this.id,text:e.label,...s,ariaHasPopup:y(f.targetObject),visible:this.action.visible,enabled:this.action.enabled,type:o.buildExpressionForCriticalityButtonType(f)})}}};return t}(t),b=C(f.prototype,"action",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),g=C(f.prototype,"contextPath",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),v=C(f.prototype,"id",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||d);h=k;return h},false);
//# sourceMappingURL=DataFieldForAction.block.js.map