{"version":3,"file":"MicroChartHelper.js","names":["sap","ui","define","Log","CommonHelper","mobilelibrary","DateFormat","NumberFormat","ValueColor","calendarPatternMap","yyyy","Q","MM","ww","yyyyMMdd","yyyyMM","MicroChartHelper","getThresholdColor","value","iContext","path","context","getPath","indexOf","Error","Critical","Neutral","getMeasurePropertyPaths","chartAnnotations","entityTypeAnnotations","chartType","propertyPath","warning","undefined","measureIndex","Measures","_dataPoint$Value","iMeasureAttribute","getMeasureAttributeIndex","measureAttribute","MeasureAttributes","dataPoint","DataPoint","$AnnotationPath","Value","$Path","push","join","getHiddenPathExpression","_len","arguments","length","args","Array","_key","hiddenPaths","forEach","call","hiddenProperty","isNotAlwaysHidden","maxValue","valueHidden","maxValueHidden","this","logError","error","formatDecimal","property","fractionDigits","constraints","formatOptions","scale","$Scale","$Nullable","$Precision","decimals","getFloatInstance","style","preserveDecimals","format","getSelectParameters","groupId","uomPath","criticality","parameters","k","$EnumMember","_len2","criticalityPath","_key2","getDataPointQualifiersForMeasures","qualifiers","measureAttributes","fnAddDataPointQualifier","chartMeasure","measure","$PropertyPath","qualifier","_measureAttribute$Mea","_measureAttribute$Dat","Measure","annotationPath","split","logWarning","key","getDisplayValueForMicroChart","pathText","valueTextPath","valueDataPointPath","valueFormat","ValueFormat","NumberOfFractionalDigits","shouldMicroChartRender","dataPointValueHidden","dataPointMaxValue","availableChartTypes","dataPointValue","hiddenPath","chartAnnotationDimension","Dimensions","finalDataPointValue","includes","dataPointMaximumValue","MaximumValue","maxValueHiddenPath","getDataPointQualifiersForMicroChart","getColorPaletteForMicroChart","Criticality","getMeasureScaleForMicroChart","getBindingExpressionForMicrochart","microChart","collection","uiName","condition","currencyOrUnit","getUOMPathForMicrochart","dataPointCriticallity","functionValue","batchGroupId","showOnlyChart","getAggregationForMicrochart","aggregationType","dimension","measureOrDimensionBar","dataPointCriticallityCalc","targetValuePath","dimensionPropertyPath","CriticalityCalculation","TargetValue","getCurrencyOrUnit","getCalendarPattern","propertyType","annotations","formatDimension","date","pattern","getDateInstance","parse","Date","getTime","formatStringDimension","matchedValue","toString","match","getX","some","type"],"sources":["MicroChartHelper-dbg.js"],"mappings":"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"}