{"version":3,"file":"TableDelegate.js","names":["sap","ui","define","Log","deepEqual","CommonUtils","FilterBar","MetaModelConverter","MetaModelFunction","ModelHelper","DataModelPathHelper","DisplayModeFormatter","PropertyHelper","EDM","MacrosDelegateUtil","TableDelegateHelper","Core","TableDelegate","TypeMap","DelegateUtil","FilterUtil","Filter","FilterOperator","Sorter","isSortableProperty","isFilterableProperty","getPath","isTypeFilterable","getLabel","getAssociatedUnitPropertyPath","getAssociatedTimezonePropertyPath","getAssociatedTextPropertyPath","getAssociatedCurrencyPropertyPath","getDisplayMode","getTargetObjectPath","enhanceDataModelPath","isMultiValueFilterExpression","getSortRestrictionsInfo","getFilterRestrictionsInfo","getInvolvedDataModelObjects","fetchTypeConfig","ODataTableDelegate","Object","assign","fetchProperties","async","table","model","this","_getModel","properties","_createPropertyInfos","createInternalBindingContext","setCachedProperties","getBindingContext","setProperty","dialog","isA","getParent","internalModel","getModel","internalBindingContext","newInternalBindingContextPath","getId","getProperty","newInternalBindingContext","bindContext","getBoundContext","setBindingContext","collectRelatedProperties","dataModelPropertyPath","dataModelAdditionalPropertyPath","getAdditionalProperty","relatedProperties","targetObject","_property$annotations","_property$annotations2","_textAnnotation$annot","_textAnnotation$annot2","_textAnnotation$annot3","additionalProperty","additionalPropertyPath","property","propertyPath","textAnnotation","annotations","Common","Text","textArrangement","UI","TextArrangement","toString","displayMode","metadataInfo","getDelegate","payload","entitySetPath","collectionName","metaModel","getMetaModel","requestObject","then","entitySetAnnotations","sortRestrictionsInfo","filterRestrictions","filterRestrictionsInfo","customDataForColumns","getCustomData","propertiesToBeCreated","dataModelEntityPath","getContext","customData","forEach","columnDef","propertyInfo","name","path","label","sortable","filterable","maxConditions","getPropertyMaxConditions","typeConfig","$Type","getTypeMap","getTypeConfig","undefined","targetPropertyPath","type","propertyTypeConfig","formatOptions","constraints","relatedPropertiesInfo","relatedPropertyPaths","keys","length","propertyInfos","find","push","relatedColumns","createRelatedProperties","concat","updateBindingInfo","oMDCTable","oBindingInfo","apply","oMetadataInfo","collectionPath","oFilter","byId","getFilter","bFilterEnabled","isFilteringEnabled","mConditions","oInnerFilterInfo","oOuterFilterInfo","aFilters","tableProperties","getCachedProperties","getConditions","getFilterInfo","filters","aParameterNames","getParameterNames","_updatePropertyInfo","sParameterPath","getParametersInfo","parameters","$search","normalizeSearchTerm","getSearch","$$sharedRequest","_applyDefaultSorting","$select","reduce","sQuery","oProperty","indexOf","$count","isDraftSupported","EQ","Promise","resolve","attachEventOnce","oPayload","sorter","defaultSortPropertyName","aTableProperties","aConditionKey","oMetaModel","conditionKey","findIndex","tableProperty","oColumnDef","getObject","updateBinding","oTable","oBinding","bNeedManualRefresh","oInternalBindingContext","sManualUpdatePropertyKey","bPendingManualUpdate","oRowBinding","getRowBinding","oldFilters","getFilters","getQueryOptionsFromParameters","requestRefresh","getGroupId","finally","catch","oError","error","fireEvent","existingColumns","relatedPropertyNameMap","relatedColumn","column","newName","valueHelpTableColumn","_column$propertyInfos","map","columnName","_filterRestrictionsIn","hasOwnProperty","dataModelAdditionalProperty"],"sources":["TableDelegate-dbg.js"],"mappings":"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"}