/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/helpers/BindingToolkit","sap/ui/core/CustomData","sap/fe/core/helpers/ClassSupport","sap/m/Button","sap/m/Toolbar","sap/ui/performance/trace/FESRHelper","sap/fe/core/jsx-runtime/jsx"],function(e,t,i,r,n,a,o,l,u){"use strict";var s,c,p,f,b,d,v,m,h;var g={};var y=n.defineReference;var w=i.compileExpression;var C=e.defineBuildingBlock;var O=e.blockAttribute;function B(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function k(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function z(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;j(e,t)}function j(e,t){j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return j(e,t)}function S(e,t,i,r,n){var a={};Object.keys(r).forEach(function(e){a[e]=r[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function E(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let P=(s=C({name:"TeamContactOptions",namespace:"sap.fe.macros"}),c=O({type:"string"}),p=O({type:"string",bindable:true}),f=y(),s(b=(d=function(e){z(t,e);function t(){var t;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++){r[n]=arguments[n]}t=e.call(this,...r)||this;B(t,"id",v,k(t));B(t,"mail",m,k(t));B(t,"toolbar",h,k(t));t.visible=false;return t}g=t;var i=t.prototype;i.retrieveContactOptions=async function e(t){var i,r;const n=t?await t.getCollaborativeToolsService().getTeamContactOptions():undefined;if(!(n!==null&&n!==void 0&&n.length)||!this.mail){return}this.visible=true;(i=this.toolbar.current)===null||i===void 0?void 0:i.removeAllContent();n.map(e=>{var t;(t=this.toolbar.current)===null||t===void 0?void 0:t.addContent(this.getContactOptionButton(e))});this.visible=true;(r=this.toolbar.current)===null||r===void 0?void 0:r.setVisible(true)};i.getContactOptionButton=function e(t){const i=u(a,{icon:t.icon,class:"sapUiSmallMarginEnd",type:"Transparent"});i.attachPress(t.callBackHandler);i.addCustomData(new r({key:"email",value:w(this.mail)}));i.addCustomData(new r({key:"type",value:t.key}));l.setSemanticStepname(i,"press",t.fesrStepName);return i};i.getContent=function e(t,i){const r=u(o,{id:this.id,ref:this.toolbar,visible:this.visible,width:"100%"});this.isInitialized=this.retrieveContactOptions(i);return r};return t}(t),v=S(d.prototype,"id",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),m=S(d.prototype,"mail",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),h=S(d.prototype,"toolbar",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||b);g=P;return g},false);
//# sourceMappingURL=TeamContactOptions.block.js.map