/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/fe/core/formatters/TableFormatterTypes","sap/fe/macros/DelegateUtil","sap/fe/macros/table/TableSizeHelper","sap/ui/mdc/enums/FieldEditMode","../CommonUtils","../helpers/SizeHelper"],function(t,e,n,r,i,a){"use strict";var o=t.MessageType;const s=function(t){switch(t){case"Error":return 4;case"Warning":return 3;case"Information":return 2;case"None":return 1;default:return-1}};const l=function(t){if(!t){return false}const e=Object.keys(t);return e.length>0&&e.every(function(e){return t[e]["validity"]})};l.__functionName="sap.fe.core.formatters.TableFormatter#validateCreationRowFields";const f=function(t,e,n,r){let i=false;if(e&&e.length>0&&(r||n===t)){const t=this.getBindingContext()?this.getBindingContext().getPath():undefined;e.forEach(e=>{if(e.type==="Error"&&e.aTargets[0].indexOf(t)===0){i=true;return i}})}return i};f.__functionName="sap.fe.core.formatters.TableFormatter#getErrorStatusTextVisibilityFormatter";const u=function(t,e,n,r,i){var a;let l=-1;if(e&&e.length>0){var f;const n=(f=this.getBindingContext())===null||f===void 0?void 0:f.getPath();e.forEach(e=>{if(e.aTargets[0].indexOf(n)===0&&l<s(e.type)){l=s(e.type);t=e.type}})}if(typeof t!=="string"){switch(t){case 1:t=o.Error;break;case 2:t=o.Warning;break;case 3:t=o.Success;break;case 5:t=o.Information;break;default:t=o.None}}if(t!==o.None){return t}const u=((a=this.getBindingContext())===null||a===void 0?void 0:a.isInactive())??false;const c=!n&&!r&&!u;return i==="true"&&c?o.Information:o.None};u.__functionName="sap.fe.core.formatters.TableFormatter#rowHighlighting";const c=function(t){var e;const n=(e=this.getBindingContext())===null||e===void 0?void 0:e.getPath();if(n&&t){return t.indexOf(n)===0}else{return false}};c.__functionName="sap.fe.core.formatters.TableFormatter#navigatedRow";const g=function(t,i,o){var s,l;let f=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;let u=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;if(!i){return null}const c=this.getParent();const g=e.getCachedProperties(c);if(!g)return null;const d=g.find(t=>t.name===o);if(!d)return null;let m=n.getMDCColumnWidthFromProperty(d,g,u);const p=((s=d.exportSettings)===null||s===void 0?void 0:s.unit)||((l=d.exportSettings)===null||l===void 0?void 0:l.timezone);m+=p?a.getButtonWidth(p):0;if(t===r.Editable){var y;switch((y=d.typeConfig)===null||y===void 0?void 0:y.baseType){case"Date":case"Time":case"DateTime":m+=2.8;break;default:}}if(f){return m+"rem"}return m};g.__functionName="sap.fe.core.formatters.TableFormatter#getColumnWidth";const d=function(t,e,n){let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const o=i.isSmallDevice();const s=!o;return o&&n||!o&&!n?h.getColumnWidth.call(this,r.Display,t,e,s,a):null};d.__functionName="sap.fe.core.formatters.TableFormatter#getColumnWidthForValueHelpTable";function m(t){if(t.isA("sap.fe.macros.controls.FieldWrapper")){const e=Array.isArray(t.getContentDisplay())?t.getContentDisplay()[0]:t.getContentDisplay();if(e&&e.isA("sap.m.RatingIndicator")){return true}}return false}function p(t,e){const n=Array.isArray(t.getContentDisplay())?t.getContentDisplay()[0]:t.getContentDisplay();const r=Array.isArray(t.getContentEdit())?t.getContentEdit()[0]:t.getContentEdit();if(e){n.addStyleClass("sapUiNoMarginBottom");n.addStyleClass("sapUiNoMarginTop");r.removeStyleClass("sapUiTinyMarginBottom")}else{n.addStyleClass("sapUiNoMarginBottom");n.removeStyleClass("sapUiNoMarginTop");r.addStyleClass("sapUiTinyMarginBottom")}}function y(){const t=this.getItems();let e=false;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++){r[i]=arguments[i]}for(let n=t.length-1;n>=0;n--){if(!e){if(r[n]!==true){e=true;if(m(t[n])){p(t[n],true)}else{t[n].removeStyleClass("sapUiTinyMarginBottom")}}}else if(m(t[n])){p(t[n],false)}else{t[n].addStyleClass("sapUiTinyMarginBottom")}}return true}y.__functionName="sap.fe.core.formatters.TableFormatter#getVBoxVisibility";const h=function(t){if(h.hasOwnProperty(t)){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++){n[r-1]=arguments[r]}return h[t].apply(this,n)}else{return""}};h.validateCreationRowFields=l;h.rowHighlighting=u;h.navigatedRow=c;h.getErrorStatusTextVisibilityFormatter=f;h.getVBoxVisibility=y;h.isRatingIndicator=m;h.getColumnWidth=g;h.getColumnWidthForValueHelpTable=d;return h},true);
//# sourceMappingURL=TableFormatter.js.map