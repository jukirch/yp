{"version":3,"file":"AppStateHandler.js","names":["sap","ui","define","Log","deepEqual","ClassSupport","toES6Promise","library","BaseObject","BusyLocker","ModelHelper","_dec","_class","defineUI5Class","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","NavType","SKIP_MERGE_KEY","AppStateHandler","_BaseObject","oAppComponent","_this","call","this","_mCurrentAppState","sId","getId","nbSimultaneousCreateRequest","bNoRouteChange","info","_proto","createAppState","async","createAppParameters","getEnvironmentCapabilities","getCapabilities","AppState","isLocked","replaceHash","skipMerge","navigationService","getNavigationService","routerProxy","getRouterProxy","hash","getHash","controller","getRootControl","getController","isStickyMode","isStickySessionSupported","getMetaModel","viewState","Error","getMetadata","getName","innerAppState","retrieveViewState","appStateData","appState","appStateKey","storeInnerAppStateAsync","sNewHash","replaceInnerAppStateKey","navToHash","undefined","oError","error","findAppStateInHash","_createNavigationParameters","oAppData","sNavType","assign","selectionVariantDefaults","oDefaultedSelectionVariant","selectionVariant","oSelectionVariant","requiresStandardVariant","bNavSelVarHasDefaultsOnly","navigationType","_checkIfLastSeenRecord","view","internalModelContext","getBindingContext","getProperty","technicalKeysObject","bindingContext","path","getPath","metaModel","getModel","metaPath","getMetaPath","technicalKeys","getObject","element","keyValue","setProperty","_getAppStateData","viewId","navType","key","i","hybrid","iAppState","keys","length","applyAppState","Promise","resolve","checkIfLastSeenRecord","lock","oNavigationService","parseNavigation","catch","aErrorData","warning","then","aResults","_oAppData$appState","initial","oRootController","_getInitialStateApplied","_setInitialStateApplied","applyViewState","finally","unlock","checkIfRouteChangedByIApp","resetRouteChangedByIApp"],"sources":["AppStateHandler-dbg.js"],"mappings":"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"}