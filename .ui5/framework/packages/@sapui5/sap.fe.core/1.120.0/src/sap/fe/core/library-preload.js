//@ui5-bundle sap/fe/core/library-preload.js
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/ActionRuntime", ["sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/controls/Any","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/ActionHelper","sap/ui/core/message/Message","./controls/AnyElement","./converters/ConverterContext","./converters/MetaModelConverter","./converters/objectPage/HeaderAndFooterAction"],function(e,t,n,o,i,s,a,l,r,d,c,u){"use strict";var g=u.getHiddenExpression;var f=u.getEditButtonEnabled;var p=c.convertTypes;var v=a.getIsActionCriticalExpression;var b=s.isEntitySet;var m=o.transformRecursively;var y=o.isConstant;var A=o.equal;var h=o.constant;var E=o.compileExpression;var C=o.compileConstant;const M={_addMessageForActionParameter:function(e,t){e.addMessages(t.map(e=>{const t=e.actionParameterInfo.field.getBinding(e.actionParameterInfo.isMultiValue?"items":"value");return new l({message:e.message,type:"Error",processor:t===null||t===void 0?void 0:t.getModel(),persistent:true,target:t===null||t===void 0?void 0:t.getResolvedPath()})}))},validateProperties:async function(e,t,n){await Promise.allSettled(t.map(e=>e.validationPromise));const o=t.filter(e=>e.field.getRequired());const i=e.getMessageModel().getData();const s=o.filter(e=>{const t=e.field.getId();const n=i.filter(e=>e.getControlIds().some(e=>e.includes(t)));if(n.length>0){return false}else if(e.isMultiValue){return e.value===undefined||!e.value.length}else{const t=e.field.getValue();return t===undefined||t===null||t===""}});if(s.length){this._addMessageForActionParameter(e,s.map(e=>{var t;return{actionParameterInfo:e,message:n.getText("C_OPERATIONS_ACTION_PARAMETER_DIALOG_MISSING_MANDATORY_MSG",[((t=e.field.getParent())===null||t===void 0?void 0:t.getAggregation("label")).getText()])}}))}const a=t.find(e=>e.hasError||e.field.getValueState()==="Error"||s.includes(e));if(a){a.field.focus();return false}else{return true}},setActionEnablement:async function(e,n,o,i){const s=[];for(const a in n){let l=[];e.setProperty(a,false);const r=n[a];for(const t of o){const n=t;if(n){const t=n.getObject();if(i==="chart"){if(r===null&&!!t[`#${a}`]||n.getObject(r)){e.setProperty(a,true);break}}else if(i==="table"){l=this._setActionEnablementForTable(n,e,a,r,l)}}}if(i==="table"){if(!o.length){e.setProperty(`dynamicActions/${a}`,{bEnabled:false,aApplicable:[],aNotApplicable:[]});s.push(t.setContextsBasedOnOperationAvailable(e,[]))}else if(o.length&&typeof r==="string"){s.push(t.setContextsBasedOnOperationAvailable(e,l))}}}return Promise.all(s)},setActionEnablementAfterPatch:function(e,t,n){const o=n===null||n===void 0?void 0:n.getObject();const i=(o===null||o===void 0?void 0:o.controls)||{};for(const n in i){if(i[n]&&i[n].controlId){const o=e.byId(n);if(o&&o.isA("sap.ui.mdc.Table")){const e=o.getRowBinding();if(e==t){M.setActionEnablement(o.getBindingContext("internal"),JSON.parse(o.data("operationAvailableMap").customData),o.getSelectedContexts(),"table")}}}}},updateEditButtonVisibilityAndEnablement(n){var o,s;const a=(o=n.getViewData())===null||o===void 0?void 0:o.viewLevel,l=(s=n.getModel("ui"))===null||s===void 0?void 0:s.getProperty("/isEditable");if(a>1&&l!==true){var r,c,u;const o=n.getBindingContext();const s=t.getAppComponent(n);const a=i.getMetaPathForContext(o);const l=i.getRootEntitySetPath(a);const p=o===null||o===void 0?void 0:(r=o.getModel().getMetaModel())===null||r===void 0?void 0:r.getContext(o===null||o===void 0?void 0:o.getPath());const v=d===null||d===void 0?void 0:d.createConverterContextForMacro(l,p,s.getDiagnostics(),e,undefined);const m=v.getEntitySet();const y=v.getEntityType();let h;const C=b(m)&&((c=m.annotations.UI)===null||c===void 0?void 0:(u=c.UpdateHidden)===null||u===void 0?void 0:u.valueOf());if(C!==true){h=i.isUpdateHidden(m,y)}const M=f(v);const P=i.getDraftRootPath(o);const x=i.getStickyRootPath(o);const B=P||x;const I=n.getBindingContext("internal");if(B){const e=n.getModel().bindContext(B).getBoundContext();if(h!==undefined){const t=E(A(g(v,h),false));this.updateEditModelContext(t,n,e,"rootEditVisible",I)}if(M){this.updateEditModelContext(M,n,e,"rootEditEnabled",I)}}}},updateEditModelContext:function(e,t,n,o,i){if(e){var s,a,l;const d=new r({anyText:e});d.setBindingContext(null);t.addDependent(d);d.getBinding("anyText");const c=(s=d.getModel())===null||s===void 0?void 0:(a=s.bindContext(n.getPath(),n,{$$groupId:"$auto.Heroes"}))===null||a===void 0?void 0:a.getBoundContext();d.setBindingContext(c);d===null||d===void 0?void 0:(l=d.getBinding("anyText"))===null||l===void 0?void 0:l.attachChange(e=>{const t=e.getSource().getExternalValue();i.setProperty(o,t)})}},_setActionEnablementForTable:function(e,n,o,i,s){n.setProperty(`dynamicActions/${o}`,{bEnabled:false,aApplicable:[],aNotApplicable:[]});const a=[],l=[],r=`${n.getPath()}/dynamicActions/${o}/bEnabled`;if(typeof i==="object"&&i!==null&&i!==undefined){if(e){const t=e.getObject();const o=m(i,"PathInModel",function(e){return t?h(t[e.path]):h(false)},true);const s=E(o);if(s==="true"){n.getModel().setProperty(r,true);a.push(e)}else{l.push(e)}}t.setDynamicActionContexts(n,o,a,l)}else{const a=e===null||e===void 0?void 0:e.getObject();if(i===null&&!!a[`#${o}`]){n.getModel().setProperty(r,true)}else if(e!==undefined){s.push(t.requestProperty(e,o,i,r))}}return s},getIsActionCritical:function(e,t){let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];let i=true;const s=p(e);const a=s.resolvePath(t);const l=a.target;if(!l){return i}const r=v(l,s);if(y(r)){i=C(r,false,undefined,true)}else if(o.length>0){const e=new n({anyBoolean:E(r)});e.setModel(o[0].getModel());e.setBindingContext(o[0]);i=e.getBinding("anyBoolean").getExternalValue();e.destroy()}return i}};return M},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/AppComponent", ["sap/base/Log","sap/fe/core/AppStateHandler","sap/fe/core/controllerextensions/routing/RouterProxy","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/DraftEditState","sap/fe/core/helpers/ModelHelper","sap/fe/core/library","sap/fe/core/manifestMerger/ChangePageConfiguration","sap/fe/core/support/Diagnostics","sap/m/routing/Router","sap/ui/core/Core","sap/ui/core/Element","sap/ui/core/UIComponent","sap/ui/mdc/table/TableTypeBase","sap/ui/model/json/JSONModel","./controllerextensions/BusyLocker","./converters/MetaModelConverter","./helpers/SemanticDateOperators"],function(e,t,o,i,r,n,a,s,l,c,u,p,f,d,g,v,C,h){"use strict";var S,R,N;var M=C.deleteModelCacheData;var E=s.cleanPageConfigurationChanges;var A=s.changeConfiguration;var y=i.defineUI5Class;function m(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;w(e,t)}function w(e,t){w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return w(e,t)}const I=a.StartupMode;d.prototype.exit=function(){var e;(e=this._oManagedObjectModel)===null||e===void 0?void 0:e.destroy();delete this._oManagedObjectModel;p.prototype.exit.apply(this,[])};const O={FCL:{VIEWNAME:"sap.fe.core.rootView.Fcl",VIEWNAME_COMPATIBILITY:"sap.fe.templates.RootContainer.view.Fcl",ROUTERCLASS:"sap.f.routing.Router"},NAVCONTAINER:{VIEWNAME:"sap.fe.core.rootView.NavContainer",VIEWNAME_COMPATIBILITY:"sap.fe.templates.RootContainer.view.NavContainer",ROUTERCLASS:"sap.m.routing.Router"}};const V=c;let T=(S=y("sap.fe.core.AppComponent",{interfaces:["sap.ui.core.IAsyncContentCreation"],config:{fullWidth:true},manifest:{"sap.ui5":{services:{resourceModel:{factoryName:"sap.fe.core.services.ResourceModelService",startup:"waitFor",settings:{bundles:["sap.fe.core.messagebundle"],modelName:"sap.fe.i18n"}},routingService:{factoryName:"sap.fe.core.services.RoutingService",startup:"waitFor"},shellServices:{factoryName:"sap.fe.core.services.ShellServices",startup:"waitFor"},ShellUIService:{factoryName:"sap.ushell.ui5service.ShellUIService"},navigationService:{factoryName:"sap.fe.core.services.NavigationService",startup:"waitFor"},environmentCapabilities:{factoryName:"sap.fe.core.services.EnvironmentService",startup:"waitFor"},sideEffectsService:{factoryName:"sap.fe.core.services.SideEffectsService",startup:"waitFor"},asyncComponentService:{factoryName:"sap.fe.core.services.AsyncComponentService",startup:"waitFor"},collaborationManagerService:{factoryName:"sap.fe.core.services.CollaborationManagerService",startup:"waitFor"},collaborativeToolsService:{factoryName:"sap.fe.core.services.CollaborativeToolsService",startup:"waitFor"}},rootView:{viewName:O.NAVCONTAINER.VIEWNAME,type:"XML",async:true,id:"appRootView"},routing:{config:{controlId:"appContent",routerClass:O.NAVCONTAINER.ROUTERCLASS,viewType:"XML",controlAggregation:"pages",async:true,containerOptions:{propagateModel:true}}}}},designtime:"sap/fe/core/designtime/AppComponent.designtime",library:"sap.fe.core"}),S(R=(N=function(i){m(s,i);function s(){var e;for(var t=arguments.length,o=new Array(t),r=0;r<t;r++){o[r]=arguments[r]}e=i.call(this,...o)||this;e.startupMode=I.Normal;return e}var c=s.prototype;c._isFclEnabled=function e(){var t,o;const i=this.getManifestEntry("sap.ui5");return(i===null||i===void 0?void 0:(t=i.routing)===null||t===void 0?void 0:(o=t.config)===null||o===void 0?void 0:o.routerClass)===O.FCL.ROUTERCLASS};c.initializeFeatureToggles=async function e(){return Promise.resolve()};c.changePageConfiguration=function e(t,o,i){A(this.getManifest(),t,o,i,true)};c.getRouterProxy=function e(){return this._oRouterProxy};c.getAppStateHandler=function e(){return this._oAppStateHandler};c.getRootViewController=function e(){return this.getRootControl().getController()};c.getRootContainer=function e(){return this.getRootControl().getContent()[0]};c.getStartupMode=function e(){return this.startupMode};c.setStartupModeCreate=function e(){this.startupMode=I.Create};c.setStartupModeAutoCreate=function e(){this.startupMode=I.AutoCreate};c.setStartupModeDeeplink=function e(){this.startupMode=I.Deeplink};c.init=function e(){var c,u,p;const f=new g({editMode:a.EditMode.Display,isEditable:false,draftStatus:a.DraftStatus.Clear,busy:false,busyLocal:{},pages:{}});const d=new g({pages:{}});f.setDefaultBindingMode("OneWay");n.enhanceUiJSONModel(f,a);n.enhanceInternalJSONModel(d);this.setModel(f,"ui");this.setModel(d,"internal");this.bInitializeRouting=this.bInitializeRouting!==undefined?this.bInitializeRouting:true;this._oRouterProxy=new o;this._oAppStateHandler=new t(this);this._oDiagnostics=new l;const v=this.getModel();if(v!==null&&v!==void 0&&(c=v.isA)!==null&&c!==void 0&&c.call(v,"sap.ui.model.odata.v4.ODataModel")){n.enhanceODataModel(v);this.entityContainer=v.getMetaModel().requestObject("/$EntityContainer/")}else{this.entityContainer=Promise.resolve()}if((u=this.getManifestEntry("sap.fe"))!==null&&u!==void 0&&(p=u.app)!==null&&p!==void 0&&p.disableCollaborationDraft){n.disableCollaborationDraft=true}const C=this.getManifest()["sap.ui5"];this.checkRoutingConfiguration(C);h.addSemanticDateOperators();r.addDraftEditStateOperator();i.prototype.init.call(this);s.instanceMap[this.getId()]=this};c.checkRoutingConfiguration=function t(o){var i;if(o!==null&&o!==void 0&&(i=o.rootView)!==null&&i!==void 0&&i.viewName){var r,n,a,s,l,c;if(o.rootView.viewName===O.FCL.VIEWNAME_COMPATIBILITY){o.rootView.viewName=O.FCL.VIEWNAME}else if(o.rootView.viewName===O.NAVCONTAINER.VIEWNAME_COMPATIBILITY){o.rootView.viewName=O.NAVCONTAINER.VIEWNAME}if(o.rootView.viewName===O.FCL.VIEWNAME&&((r=o.routing)===null||r===void 0?void 0:(n=r.config)===null||n===void 0?void 0:n.routerClass)===O.FCL.ROUTERCLASS){e.info(`Rootcontainer: "${O.FCL.VIEWNAME}" - Routerclass: "${O.FCL.ROUTERCLASS}"`)}else if(o.rootView.viewName===O.NAVCONTAINER.VIEWNAME&&((a=o.routing)===null||a===void 0?void 0:(s=a.config)===null||s===void 0?void 0:s.routerClass)===O.NAVCONTAINER.ROUTERCLASS){e.info(`Rootcontainer: "${O.NAVCONTAINER.VIEWNAME}" - Routerclass: "${O.NAVCONTAINER.ROUTERCLASS}"`)}else if((l=o.rootView)!==null&&l!==void 0&&(c=l.viewName)!==null&&c!==void 0&&c.includes("sap.fe.core.rootView")){var u,p;throw Error(`\nWrong configuration for the couple (rootView/routerClass) in manifest file.\n`+`Current values are :(${o.rootView.viewName}/${((u=o.routing)===null||u===void 0?void 0:(p=u.config)===null||p===void 0?void 0:p.routerClass)||"<missing router class>"})\n`+`Expected values are \n`+`\t - (${O.NAVCONTAINER.VIEWNAME}/${O.NAVCONTAINER.ROUTERCLASS})\n`+`\t - (${O.FCL.VIEWNAME}/${O.FCL.ROUTERCLASS})`)}else{e.info(`Rootcontainer: "${o.rootView.viewName}" - Routerclass: "${O.NAVCONTAINER.ROUTERCLASS}"`)}}};c.onServicesStarted=async function t(){await this.initializeFeatureToggles();const o=()=>{this.entityContainer.then(()=>{if(this.getRootViewController().attachRouteMatchers){this.getRootViewController().attachRouteMatchers()}this.getRouter().initialize();this.getRouterProxy().init(this,this._isFclEnabled())}).catch(e=>{const t=u.getLibraryResourceBundle("sap.fe.core");this.getRootViewController().displayErrorPage(t.getText("C_APP_COMPONENT_SAPFE_APPSTART_TECHNICAL_ISSUES"),{title:t.getText("C_COMMON_SAPFE_ERROR"),description:e.message,FCLLevel:0})})};if(this.bInitializeRouting){return this.getRoutingService().initializeRouting().then(()=>{if(this.getRootViewController()){o()}else{this.getRootControl().attachAfterInit(function(){o()})}}).catch(function(t){e.error(`cannot cannot initialize routing: ${t.toString()}`)})}};c.exit=function e(){this._oAppStateHandler.destroy();this._oRouterProxy.destroy();delete this._oAppStateHandler;delete this._oRouterProxy;M(this.getMetaModel());this.getModel("ui").destroy();E()};c.getMetaModel=function e(){return this.getModel().getMetaModel()};c.getDiagnostics=function e(){return this._oDiagnostics};c.destroy=function t(o){var r,n;try{delete s.instanceMap[this.getId()];delete window._routing}catch(t){e.info(t)}const a=this.oModels[undefined];let l;if(a!==null&&a!==void 0&&a.oRequestor){l=Object.assign({},a.oRequestor.mHeaders)}(r=this.getRoutingService())===null||r===void 0?void 0:(n=r.beforeExit)===null||n===void 0?void 0:n.call(r);i.prototype.destroy.call(this,o);if(l&&a.oRequestor){a.oRequestor.mHeaders=l}};c.getRoutingService=function e(){return{}};c.getShellServices=function e(){return{}};c.getNavigationService=function e(){return{}};c.getSideEffectsService=function e(){return{}};c.getEnvironmentCapabilities=function e(){return{}};c.getCollaborationManagerService=function e(){return{}};c.getCollaborativeToolsService=function e(){return{}};c.getStartupParameters=async function e(){const t=this.getComponentData();return Promise.resolve(t&&t.startupParameters||{})};c.restore=function e(){this.getRootViewController().viewState.onRestore()};c.suspend=function e(){this.getRootViewController().viewState.onSuspend()};c.navigateBasedOnStartupParameter=async function t(o){try{if(!v.isLocked(this.getModel("ui"))){if(!o){o=null}const e=this.getRoutingService();await e._manageDeepLinkStartup(o)}}catch(t){e.error(t);v.unlock(this.getModel("ui"))}};c.isCollaborationManagerServiceEnabled=function e(){return true};return s}(f),N.instanceMap={},N))||R);return T},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/AppStateHandler", ["sap/base/Log","sap/base/util/deepEqual","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ToES6Promise","sap/fe/navigation/library","sap/ui/base/Object","./controllerextensions/BusyLocker","./helpers/ModelHelper"],function(t,e,n,o,a,i,r,p){"use strict";var s,l;var c=n.defineUI5Class;function u(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;f(t,e)}function f(t,e){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,n){e.__proto__=n;return e};return f(t,e)}const d=a.NavType;const S="skipMerge";let h=(s=c("sap.fe.core.AppStateHandler"),s(l=function(n){u(a,n);function a(e){var o;o=n.call(this)||this;o._mCurrentAppState={};o.oAppComponent=e;o.sId=`${e.getId()}/AppStateHandler`;o.nbSimultaneousCreateRequest=0;o.bNoRouteChange=false;t.info("APPSTATE : Appstate handler initialized");return o}var i=a.prototype;i.getId=function t(){return this.sId};i.createAppState=async function n(o){if(!this.oAppComponent.getEnvironmentCapabilities().getCapabilities().AppState||r.isLocked(this)){return}const{replaceHash:a=true,skipMerge:i=false}=o||{};const s=this.oAppComponent.getNavigationService(),l=this.oAppComponent.getRouterProxy(),c=l.getHash(),u=this.oAppComponent.getRootControl().getController(),f=p.isStickySessionSupported(this.oAppComponent.getMetaModel());if(!u.viewState){throw new Error(`viewState controller extension not available for controller: ${u.getMetadata().getName()}`)}let d=await u.viewState.retrieveViewState();if(i){d={...d,...{skipMerge:i}}}const S={appState:d};let h=null;if(d&&!e(this._mCurrentAppState,d)){this._mCurrentAppState=d;try{this.nbSimultaneousCreateRequest++;h=await s.storeInnerAppStateAsync(S,true,true);t.info("APPSTATE: Appstate stored");if(a===true){const e=s.replaceInnerAppStateKey(c,h);this.nbSimultaneousCreateRequest--;if(this.nbSimultaneousCreateRequest===0&&e!==c){l.navToHash(e,undefined,undefined,undefined,!f);this.bNoRouteChange=true}t.info("APPSTATE: navToHash")}}catch(e){t.error(e)}}else{h=l.findAppStateInHash(c)}return{appStateData:S,appStateKey:h}};i._createNavigationParameters=function t(e,n){return Object.assign({},e,{selectionVariantDefaults:e.oDefaultedSelectionVariant,selectionVariant:e.oSelectionVariant,requiresStandardVariant:!e.bNavSelVarHasDefaultsOnly,navigationType:n})};i._checkIfLastSeenRecord=function t(e){const n=e&&e.getBindingContext("internal");if(n&&n.getProperty("fclColumnClosed")===true){const t=n.getProperty("technicalKeysOfLastSeenRecord");const o=e===null||e===void 0?void 0:e.getBindingContext();const a=o&&o.getPath()||"";const i=o===null||o===void 0?void 0:o.getModel().getMetaModel();const r=i===null||i===void 0?void 0:i.getMetaPath(a);const p=i===null||i===void 0?void 0:i.getObject(`${r}/$Type/$Key`);for(const e of p){const a=o.getObject()[e];if(a!==t[e]){n.setProperty("fclColumnClosed",false);return true}}}return false};i._getAppStateData=function t(e,n,o){let a="",i=0;const r=o===d.hybrid?e.iAppState:e;if(r!==null&&r!==void 0&&r.appState){for(i;i<Object.keys(r.appState).length;i++){if(Object.keys(r.appState)[i]===n){a=Object.keys(r.appState)[i];break}}}if(r!==null&&r!==void 0&&r.appState){return{[Object.keys(r.appState)[i]]:r.appState[a]||{}}}};i.applyAppState=async function e(n,a){if(!this.oAppComponent.getEnvironmentCapabilities().getCapabilities().AppState||r.isLocked(this)){return Promise.resolve()}const i=this._checkIfLastSeenRecord(a);if(i===true){return Promise.resolve()}r.lock(this);r.lock(this.oAppComponent.getRootControl());const p=this.oAppComponent.getNavigationService();return o(p.parseNavigation()).catch(function(e){if(!e){e=[]}t.warning("APPSTATE: Parse Navigation failed",e[0]);return[{},e[1],e[2]]}).then(e=>{var o;t.info("APPSTATE: Parse Navigation done");const a=e[0]||{},i=e[2]||d.initial,r=this.oAppComponent.getRootControl().getController();const p=this._getAppStateData(a,n,i);const s=a===null||a===void 0?void 0:(o=a.appState)===null||o===void 0?void 0:o[S];this._mCurrentAppState=i===d.iAppState||i===d.hybrid?p:undefined;if(!r.viewState){throw new Error(`viewState extension required for controller ${r.getMetadata().getName()}`)}if((!a||Object.keys(a).length===0)&&i==d.iAppState){if(!r.viewState._getInitialStateApplied()){r.viewState._setInitialStateApplied()}return{}}return r.viewState.applyViewState(this._mCurrentAppState,this._createNavigationParameters(a,i),s)}).catch(function(e){t.error("appState could not be applied",e);throw e}).finally(()=>{r.unlock(this);r.unlock(this.oAppComponent.getRootControl())})};i.checkIfRouteChangedByIApp=function t(){return this.bNoRouteChange};i.resetRouteChangedByIApp=function t(){if(this.bNoRouteChange){this.bNoRouteChange=false}};return a}(i))||l);return h},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/BaseController", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/Controller"],function(e,t,o){"use strict";var n,i,r,p;var u=t.publicExtension;var c=t.defineUI5Class;function l(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;s(e,t)}function s(e,t){s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return s(e,t)}function a(e,t,o,n,i){var r={};Object.keys(n).forEach(function(e){r[e]=n[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}let f=(n=c("sap.fe.core.BaseController"),i=u(),n(r=(p=function(t){l(o,t);function o(){return t.apply(this,arguments)||this}var n=o.prototype;n.getAppComponent=function t(){if(!this._oAppComponent){this._oAppComponent=e.getAppComponent(this.getView())}return this._oAppComponent};n.getModel=function e(t){return this.getView().getModel(t)};n.setModel=function e(t,o){return this.getView().setModel(t,o)};n.getResourceBundle=function e(t){if(!t){t="i18n"}return this.getAppComponent().getModel(t).getResourceBundle()};return o}(o),a(p.prototype,"getAppComponent",[i],Object.getOwnPropertyDescriptor(p.prototype,"getAppComponent"),p.prototype),p))||r);return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/CommonUtils", ["sap/base/Log","sap/base/util/array/uniqueSort","sap/base/util/merge","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticDateOperators","sap/fe/core/helpers/StableIdHelper","sap/fe/core/library","sap/ui/Device","sap/ui/core/Component","sap/ui/core/Fragment","sap/ui/core/XMLTemplateProcessor","sap/ui/core/util/XMLPreprocessor","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/odata/v4/TypeMap","sap/ui/model/Filter","./controls/AnyElement","./helpers/MetaModelFunction"],function(e,t,n,o,i,r,s,a,c,l,u,p,f,g,d,m,b,O,P,h){"use strict";var v={};var y=c.generate;var j=r.pathInModel;var S=r.compileExpression;const A=l.ProgrammingModel;function C(e){if(!e){return undefined}return e.replace(/"/g," ").replace(/\\/g,"\\\\").split(/\s+/).reduce(function(e,t){if(t!==""){e=`${e?`${e} `:""}"${t}"`}return e},undefined)}async function E(e){var t;const n=e.getModel();const o=n.getMetaModel();const r=o.getMetaPath(e.getPath());const s=i.getInvolvedDataModelObjects(o.getContext(r));await e.requestProperty((t=s.targetEntityType.keys[0])===null||t===void 0?void 0:t.name)}function T(e){let t=false;if(e){e.getCurrentContexts().forEach(function(e){if(e&&e.isTransient()){t=true}})}return t}async function x(e,t,n,o){return e.getLinks({semanticObject:n,params:o})}function $(e){const t=[];const n=Object.keys(e);let o;for(const i of n){o={LocalProperty:{$PropertyPath:i},SemanticObjectProperty:e[i]};t.push(o)}return t}function M(e,t,n,o,i){for(const r of e){const e=r;const s=e.intent;const a=s.split("-")[1].split("?")[0];if(i&&i.includes(a)||!i&&t&&!t.includes(a)){o.push({text:e.text,targetSemObject:s.split("#")[1].split("-")[0],targetAction:a.split("~")[0],targetParams:n})}}}function F(e,t,n,o){if(o&&o.length>0){const i=e.allowedActions||undefined;const r=e.unavailableActions?e.unavailableActions:[];const s=e.mapping?$(e.mapping):[];const a={navigationContexts:t,semanticObjectMapping:s};M(o,r,a,n,i)}}function R(e,t,n,o){if(o.length>0){const i=[e.action];const r=[];const s=[];const a={navigationContexts:t,semanticObjectMapping:s};M(o,r,a,n,i)}}async function N(t,n,o,i,r,s,a){const c=a.getShellServices();const l={};let u="",p="";let f;let g=[];let d=[];let m;async function b(){const e=c.parseShellHash(document.location.hash);u=e.semanticObject;p=e.action;return x(c,o,u,l)}try{if(n){if(i&&i.length>0){for(const e of i){const t=e.$PropertyPath;if(!l[t]){l[t]={value:n[t]}}}}else{const e=r.getObject(`${s}/$Type/$Key`);for(const t in e){const o=e[t];if(!l[o]){l[o]={value:n[o]}}}}}const e=I(o).getViewData();const O=[];let P;if(e.additionalSemanticObjects){m=Object.keys(e.additionalSemanticObjects);for(const n of m){P=await Promise.resolve(x(c,o,n,l));F(e.additionalSemanticObjects[n],t,O,P)}}const h=[];const v=a.getComponentData();if(v.feEnvironment&&v.feEnvironment.getIntent()){const e=v.feEnvironment.getIntent();P=await Promise.resolve(x(c,o,e.semanticObject,l));R(e,t,h,P)}const y=o.getBindingContext("internal");const j=await b();if(j){if(j.length>0){let n=false;const o={};const i=[];const a=`${s}@`;const c=`${s}/@`;const l=r.getObject(a);f=Re.getSemanticObjectAnnotations(l,u);if(!f.bHasEntitySetSO){const e=r.getObject(c);f=Re.getSemanticObjectAnnotations(e,u)}d=f.aUnavailableActions;d.push(p);o.navigationContexts=t;o.semanticObjectMapping=f.aMappings;M(j,d,o,i);O.forEach(function(e){var t;let{targetSemObject:o}=e;if(((t=i[0])===null||t===void 0?void 0:t.targetSemObject)===o){n=true}});if(e.additionalSemanticObjects&&i[0]&&e.additionalSemanticObjects[i[0].targetSemObject]&&!!e.additionalSemanticObjects[i[0].targetSemObject].allowedActions){n=true}const m=O.concat(h);g=n?m:m.concat(i);y.setProperty("relatedApps/visibility",g.length>0);y.setProperty("relatedApps/items",g)}else{y.setProperty("relatedApps/visibility",false)}}else{y.setProperty("relatedApps/visibility",false)}}catch(t){e.error("Cannot read links",t)}return g}function w(e,t){const n={bHasEntitySetSO:false,aAllowedActions:[],aUnavailableActions:[],aMappings:[]};let o,i;let r;for(const s in e){if(s.includes("com.sap.vocabularies.Common.v1.SemanticObject")&&e[s]===t){n.bHasEntitySetSO=true;o=`@${"com.sap.vocabularies.Common.v1.SemanticObjectMapping"}`;i=`@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`;if(s.includes("#")){r=s.split("#")[1];o=`${o}#${r}`;i=`${i}#${r}`}if(e[o]){n.aMappings=n.aMappings.concat(e[o])}if(e[i]){n.aUnavailableActions=n.aUnavailableActions.concat(e[i])}break}}return n}function D(t,n){const o=t.getModel().getMetaModel();const i=t.getBindingContext();const r=i&&i.getPath()||"";const s=o.getMetaPath(r);const a=`${s}/`+`@com.sap.vocabularies.Common.v1.SemanticKey`;const c=o.getObject(a);const l=i===null||i===void 0?void 0:i.getObject();if(!l&&i){i.requestObject().then(async function(e){return Re.updateRelateAppsModel(i,e,t,c,o,s,n)}).catch(function(t){e.error("Cannot update the related app details",t)})}else{return Re.updateRelateAppsModel(i,l,t,c,o,s,n)}}function L(e){if(e&&e.isA(["sap.m.Button","sap.m.OverflowToolbarButton"])&&e.getVisible()&&e.getEnabled()){e.firePress()}}function k(e){if(e.isA("sap.fe.core.AppComponent")){return e}const t=p.getOwnerComponentFor(e);if(!t){throw new Error("There should be a sap.fe.core.AppComponent as owner of the control")}else{return k(t)}}function B(e){const t=e.getRootViewController();return t.isFclEnabled()?t.getRightmostView():Re.getTargetView(e.getRootContainer().getCurrentPage())}function I(e){if(e&&e.isA("sap.ui.core.ComponentContainer")){const t=e.getComponentInstance();e=t&&t.getRootControl()}while(e&&!e.isA("sap.ui.core.mvc.View")){e=e.getParent()}return e}function V(e,t){for(const n in t){if(t[n]!==e[n]){return false}}return true}function q(e,t,n){const o=e.getObject(`${t}/`)||{},i={};for(const e in o){if(o.hasOwnProperty(e)&&!/^\$/i.test(e)&&o[e].$kind&&V(o[e],n||{$kind:"Property"})){i[e]=o[e]}}return i}function U(e,t){const n=e&&e.getActions();if(n){n.forEach(function(e){if(e.isA("sap.ui.mdc.actiontoolbar.ActionToolbarAction")){e=e.getAction()}if(e.isA("sap.m.MenuButton")){const n=e.getMenu();const o=n.getItems();o.forEach(e=>{if(e.data("IBNData")){t.push(e)}})}else if(e.data("IBNData")){t.push(e)}})}return t}function G(t,n){const o={};const i=Re.getAppComponent(n);const r=s.isStickySessionSupported(n.getModel().getMetaModel());const a=function(n){if(n){const e=Object.keys(n);e.forEach(function(e){if(e.indexOf("_")!==0&&!e.includes("odata.context")){o[e]={value:n[e]}}})}if(t.length){t.forEach(function(t){const n=t.data("IBNData").semanticObject;const s=t.data("IBNData").action;i.getShellServices().getLinks({semanticObject:n,action:s,params:o}).then(function(e){t.setVisible(t.getVisible()&&e&&e.length===1);if(r){t.getBindingContext("internal").setProperty(t.getId().split("--")[1],{shellNavigationNotAvailable:!(e&&e.length===1)})}}).catch(function(t){e.error("Cannot retrieve the links from the shell service",t)})})}};if(n&&n.getBindingContext()){var c;(c=n.getBindingContext())===null||c===void 0?void 0:c.requestObject().then(function(e){return a(e)}).catch(function(t){e.error("Cannot retrieve the links from the shell service",t)})}else{a()}}function H(e,t,n,o){const i=!n?e.getObject(e.getPath()).toString():n;let r=e.getPath().split("/@")[0];const s=e.getObject(r).$Type;const a=Y(e.getModel(),s);if(a){r=`/${a}`}if(o){return e.getObject(`${r}/${i}@Org.OData.Core.V1.OperationAvailable`)}if(t){return`${r}/${i}`}else{return{sContextPath:r,sProperty:e.getObject(`${r}/${i}@Org.OData.Core.V1.OperationAvailable/$Path`),sBindingParameter:e.getObject(`${r}/${i}/@$ui5.overload/0/$Parameter/0/$Name`)}}}function Y(e,t){const n=e.getObject("/");for(const e in n){if(typeof n[e]==="object"&&n[e].$Type===t){return e}}}function W(e,t){const n=e["@com.sap.vocabularies.Common.v1.Text"],o=n&&(e&&e["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"]||t&&t["@com.sap.vocabularies.UI.v1.TextArrangement"]);if(o){if(o.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){return"Description"}else if(o.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextLast"){return"ValueDescription"}else if(o.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate"){return"Value"}return"DescriptionValue"}return n?"DescriptionValue":"Value"}function _(e){const t=e.getModel().getMetaModel();return t.getObject(`${t.getMetaPath(e.getPath())}/$Type`)}async function Q(t,n,o){let i=n;const r=t.indexOf("(");if(r>-1){const n=t.slice(r+1,-1);let o=_(i);while(o!==n){i=i.getBinding().getContext();if(i){o=_(i)}else{e.warning("Cannot determine target type to request property value for bound action invocation");return Promise.resolve(undefined)}}}return i.requestObject(o)}async function K(e,t,n,o){const i=n&&n.indexOf("/")===0?Se(n,e.getModel()):Q(t,e,n);return i.then(function(n){return{vPropertyValue:n,oSelectedContext:e,sAction:t,sDynamicActionEnabledPath:o}})}async function J(t,n){return Promise.all(n).then(function(e){if(e.length){const n=[],o=[];e.forEach(function(e){if(e){if(e.vPropertyValue){t.getModel().setProperty(e.sDynamicActionEnabledPath,true);n.push(e.oSelectedContext)}else{o.push(e.oSelectedContext)}}});X(t,e[0].sAction,n,o)}}).catch(function(t){e.trace("Cannot retrieve property value from path",t)})}function X(e,t,n,o){const i=`${e.getPath()}/dynamicActions/${t}`,r=e.getModel();r.setProperty(`${i}/aApplicable`,n);r.setProperty(`${i}/aNotApplicable`,o)}function z(e){const t=b.getDataTypeClassName(e);const n=b.getBaseType(t,{},{});return m.getOperatorsForType(n)}function Z(e,t){return e.filter(function(e){return t.includes(e)})}function ee(e){const t=Re.AllowedExpressionsPrio;e.sort(function(e,n){return t.indexOf(e)-t.indexOf(n)});return e[0]}function te(e,t,n,o,i,r){const s=Re.getFilterRestrictionsByPath(t,n);const c=["EQ"];const l=["EQ","GE","LE","LT","GT","BT","NOTLE","NOTLT","NOTGE","NOTGT"];const u=["EQ","BT"];const p=["TODAY","TOMORROW","YESTERDAY","DATE","FIRSTDAYWEEK","LASTDAYWEEK","FIRSTDAYMONTH","LASTDAYMONTH","FIRSTDAYQUARTER","LASTDAYQUARTER","FIRSTDAYYEAR","LASTDAYYEAR"];const f=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT"];const g=["Contains","NotContains","StartsWith","NotStartsWith","EndsWith","NotEndsWith"];const d=a.getSupportedOperations();const m=i==="true"||i===true;let b=[];const O=r&&typeof r==="string"?JSON.parse(r).customData:r;if(n.getObject(`${t}/@com.sap.vocabularies.Common.v1.ResultContext`)===true){return c}if(O&&O.operatorConfiguration&&O.operatorConfiguration.length>0){b=a.getFilterOperations(O.operatorConfiguration,o)}else{b=a.getSemanticDateOperations(o)}let P=z(o);if(m){P=d.concat(P)}let h=[];if(s&&s.FilterAllowedExpressions&&s.FilterAllowedExpressions[e]){const t=Re.getSpecificAllowedExpression(s.FilterAllowedExpressions[e]);switch(t){case"SingleValue":const e=o==="Edm.Date"&&m?p:c;h=Z(P,e);break;case"MultiValue":h=Z(P,c);break;case"SingleRange":let t;if(m){if(o==="Edm.Date"){t=b}else if(o==="Edm.DateTimeOffset"){t=b}else{t=l}}else if(o==="Edm.DateTimeOffset"){t=u}else{t=l}const n=Z(P,t);h=n;break;case"MultiRange":h=Z(P,f);break;case"SearchExpression":h=Z(P,g);break;case"MultiRangeOrSearchExpression":h=Z(P,g.concat(f));break;default:break}}return h}v.getOperatorsForProperty=te;function ne(){const e=["EQ","NE"];return e.toString()}function oe(e){const t=z(e);const n=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT"];return Z(t,n)}function ie(e,t){const n=t.substring(0,t.lastIndexOf("/"));const o=e.getObject(`${n}/@com.sap.vocabularies.Common.v1.ResultContext`);const i={};if(o&&n!==t){i.contextPath=n;i.parameterProperties=Re.getContextPathProperties(e,n)}return i}function re(e,t,n){const o=Re.getAppComponent(n);const i=o.getNavigationService();return i.mixAttributesAndSelectionVariant(t,e.toJSONString())}function se(e){const t=s.isStickySessionSupported(e.getModel().getMetaModel());const n=e.getModel("ui").getProperty("/isEditable");return t&&n}async function ae(e,t,n,o,i,r){const s=e.getComponentData(),a=s&&s.startupParameters||{},c=e.getShellServices();const l=await c.getStartupAppState(e);const u=(l===null||l===void 0?void 0:l.getData())||{},p=u.selectionVariant&&u.selectionVariant.SelectOptions||[];t.forEach(function(e){var t;const s=o?`/${e.$Name}`:(t=e.getPath)===null||t===void 0?void 0:t.call(e).slice(e.getPath().lastIndexOf("/")+1);const c=o?s.slice(1):s;if(r&&i){if(r[c]){n.setProperty(s,r[c])}}else if(a[c]){n.setProperty(s,a[c][0])}else if(p.length>0){for(const e of p){if(e.PropertyName===c){const t=e.Ranges.length?e.Ranges[e.Ranges.length-1]:undefined;if(t&&t.Sign==="I"&&t.Option==="EQ"){n.setProperty(s,t.Low)}}}}})}function ce(e,t){const n=t,o=n!==undefined?Object.keys(n).filter(function(e){return n[e].useForCreate}):[];let i;for(const t of o){const n=t;const o=e&&e[n];if(o&&o.length===1){i=i||Object.create(null);i[n]=o[0]}}return i}function le(e){const t=[];if(e.parameters){const n=Object.keys(e.parameters)||[];if(n.length>0){n.forEach(function(n){const o=e.parameters[n];if(o.value&&o.value.value&&o.value.format==="binding"){const e={LocalProperty:{$PropertyPath:o.value.value},SemanticObjectProperty:n};if(t.length>0){for(const n of t){var i;if(((i=n.LocalProperty)===null||i===void 0?void 0:i.$PropertyPath)!==e.LocalProperty.$PropertyPath){t.push(e)}}}else{t.push(e)}}})}}return t}function ue(t,n){const o={};let i;const r=t.controlConfiguration;for(const t in r){if(t.includes("@com.sap.vocabularies.UI.v1.DataPoint")||t.includes("@com.sap.vocabularies.UI.v1.Chart")){var s,a;const c=(s=r[t].navigation)===null||s===void 0?void 0:(a=s.targetOutbound)===null||a===void 0?void 0:a.outbound;if(c!==undefined){const r=n[c];if(r.semanticObject&&r.action){if(t.includes("Chart")){i=y(["fe","MicroChartLink",t])}else{i=y(["fe","HeaderDPLink",t])}const e=Re.getSemanticObjectMapping(r);o[i]={semanticObject:r.semanticObject,action:r.action,semanticObjectMapping:e}}else{e.error(`Cross navigation outbound is configured without semantic object and action for ${c}`)}}}}return o}function pe(e,t){const n=typeof t==="string"?JSON.parse(t):t;for(const t of n){const n=t["LocalProperty"]&&t["LocalProperty"]["$PropertyPath"]||t["@com.sap.vocabularies.Common.v1.LocalProperty"]&&t["@com.sap.vocabularies.Common.v1.LocalProperty"]["$Path"];const o=t["SemanticObjectProperty"]||t["@com.sap.vocabularies.Common.v1.SemanticObjectProperty"];const i=e.getSelectOption(n);if(i){e.removeSelectOption(n);e.massAddSelectOption(o,i)}}return e}async function fe(e,t,n){return new Promise(function(o){let i,r;if(n===""){i=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObject"}`);r=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`)}else{i=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObject"}#${n}`);r=e.getObject(`${t}@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}#${n}`)}const s=[{semanticObject:i}];const a={semanticObject:i};o({semanticObjectPath:t,semanticObjectForGetLinks:s,semanticObject:a,unavailableActions:r})})}async function ge(t,o,i,r){return Promise.all(t).then(function(e){let t,s,a,c=[];let l={};const u=function(e,t){for(const n in t){if(n===e){return true}else{return false}}};for(let n=0;n<e.length;n++){t=e[n];if(t&&t.length>0&&t[0]!==undefined){const e={};let i;let p;for(let l=0;l<t.length;l++){c.push([]);let f=false;let g=false;for(const e of t[l][0]){s=e;a=s&&s.intent.split("?")[0].split("-")[1];if(!(s&&s.intent&&s.intent.indexOf(r)===0)){f=true;if(!u(a,o[n].unavailableActions)){c[l].push(s);g=true}}}i={semanticObject:o[n].semanticObject,path:o[n].path,HasTargets:g,HasTargetsNotFiltered:f};if(e[o[n].semanticObject]===undefined){e[o[n].semanticObject]={}}p=o[n].path.replace(/\//g,"_");if(e[o[n].semanticObject][p]===undefined){e[o[n].semanticObject][p]={}}e[o[n].semanticObject][p]=Object.assign(e[o[n].semanticObject][p],i)}const f=Object.keys(e)[0];if(Object.keys(l).includes(f)){l[f]=Object.assign(l[f],e[f])}else{l=Object.assign(l,e)}c=[]}}if(Object.keys(l).length>0){i.setProperty("semanticsTargets",n(l,i.getProperty("semanticsTargets")));return l}}).catch(function(t){e.error("fnUpdateSemanticTargetsModel: Cannot read links",t)})}async function de(e,t,n,o,i){return Re.getSemanticObjectsFromPath(n,o,i)}function me(e,t,n,o,i){let r,s;let a,c;for(const l of o){s=l;r=Object.keys(n.getObject(s+"@"));for(const o of r){if(o.indexOf(`@${"com.sap.vocabularies.Common.v1.SemanticObject"}`)===0&&!o.includes(`@${"com.sap.vocabularies.Common.v1.SemanticObjectMapping"}`)&&!o.includes(`@${"com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"}`)){c=/#(.*)/.exec(o);a=c?c[1]:"";i.push(Re.getSemanticObjectPromise(e,t,n,s,a))}}}}function be(t,n){const o=function(e,t,n){if(!e){return n}if(e instanceof Array){e.forEach(e=>{n=n.concat(o(e,t,[]))});return n}if(e[t]){n.push(e[t])}if(typeof e=="object"&&e!==null){const i=Object.keys(e);if(i.length>0){for(const r of i){n=n.concat(o(e[r],t,[]))}}}return n};const i=function(e,t){return o(e,t,[])};const r=function(e){return e.filter(function(t,n){return e.indexOf(t)===n})};const s=t.getView();const a=s.getBindingContext("internal");if(a){const o=[];const c=t.getOwnerComponent();const l=p.getOwnerComponentFor(c);const u=l.getMetaModel();let f=c.getModel(n).getData();if(JSON.stringify(f)==="{}"){f=c.getModel(n)._getObject("/",undefined)}let g=i(f,"semanticObjectPath");g=r(g);const d=l.getShellServices();let m=d.getHash();const b=[];let O;if(m&&m.includes("?")){m=m.split("?")[0]}me(l,s,u,g,o);if(o.length===0){return Promise.resolve()}else{Promise.all(o).then(async function(e){const t=[];let n;const o=e.filter(function(e){if(e.semanticObject!==undefined&&e.semanticObject.semanticObject&&typeof e.semanticObject.semanticObject==="object"){n=S(j(e.semanticObject.semanticObject.$Path));e.semanticObject.semanticObject=n;e.semanticObjectForGetLinks[0].semanticObject=n;return true}else if(e){return e.semanticObject!==undefined}else{return false}});for(const e of o){O=e;if(O&&O.semanticObject&&!(O.semanticObject.semanticObject.indexOf("{")===0)){b.push({semanticObject:O.semanticObject.semanticObject,unavailableActions:O.unavailableActions,path:e.semanticObjectPath});t.push(d.getLinksWithCache([O.semanticObjectForGetLinks]))}}return Re.updateSemanticTargets(t,b,a,m)}).catch(function(t){e.error("fnGetSemanticTargetsFromTable: Cannot get Semantic Objects",t)})}}else{return Promise.resolve()}}function Oe(e){const t={};if(e&&e.FilterExpressionRestrictions!==undefined){e.FilterExpressionRestrictions.forEach(function(e){if(e.Property&&e.AllowedExpressions!==undefined){if(t[e.Property.$PropertyPath]!==undefined){t[e.Property.$PropertyPath].push(e.AllowedExpressions)}else{t[e.Property.$PropertyPath]=[e.AllowedExpressions]}}})}return t}function Pe(e,t){let n=[];if(e&&e[t]){n=e[t].map(function(e){return e.$PropertyPath})}return n}function he(e,t,n){const o=t+"/";return e.reduce((e,t)=>{if(t.startsWith(o)){const n=t.replace(o,"");if(!e.includes(n)){e.push(n)}}return e},n)}function ve(e,o){const i={RequiredProperties:[],NonFilterableProperties:[],FilterAllowedExpressions:{}};let r;const a="$NavigationPropertyBinding";const c="@Org.OData.Capabilities.V1.FilterRestrictions";const l=e.replaceAll("%2F","/").split("/").filter(s.filterOutNavPropBinding);const u=`/${l.join("/")}/`;const p=s.getEntitySetPath(e,o);const f=p.split("/").filter(s.filterOutNavPropBinding);const g=o.getObject(`${u}$ContainsTarget`);const d=!!g&&l[l.length-1];if(!g){r=o.getObject(`${p}${c}`);i.RequiredProperties=Pe(r,"RequiredProperties")||[];const e=o.getObject(`${u}@com.sap.vocabularies.Common.v1.ResultContext`);if(!e){i.NonFilterableProperties=Pe(r,"NonFilterableProperties")||[]}i.FilterAllowedExpressions=Oe(r)||{}}if(l.length>1){const e=g?d:f[f.length-1];const r=g?p:`/${f.slice(0,-1).join(`/${a}/`)}`;const s={RequiredProperties:[],NonFilterableProperties:[],FilterAllowedExpressions:{}};if(!e.includes("%2F")){const t=o.getObject(`${r}${c}`);i.RequiredProperties=he(Pe(t,"RequiredProperties")||[],e,i.RequiredProperties||[]);i.NonFilterableProperties=he(Pe(t,"NonFilterableProperties")||[],e,i.NonFilterableProperties||[]);const n=Oe(t)||{};s.FilterAllowedExpressions=Object.keys(n).reduce((t,o)=>{if(o.startsWith(e+"/")){const i=o.replace(e+"/","");t[i]=n[o]}return t},{})}i.FilterAllowedExpressions=n({},i.FilterAllowedExpressions||{},s.FilterAllowedExpressions||{});const u=h.getNavigationRestrictions(o,r,e.replaceAll("%2F","/"));const m=u&&u["FilterRestrictions"];const b=Pe(m,"RequiredProperties")||[];i.RequiredProperties=t(i.RequiredProperties.concat(b));const O=Pe(m,"NonFilterableProperties")||[];i.NonFilterableProperties=t(i.NonFilterableProperties.concat(O));i.FilterAllowedExpressions=n({},i.FilterAllowedExpressions||{},Oe(m)||{});const P=o.getObject(`/${l.join("/")}${c}`);const v=Pe(P,"RequiredProperties")||[];i.RequiredProperties=t(i.RequiredProperties.concat(v));const y=Pe(P,"NonFilterableProperties")||[];i.NonFilterableProperties=t(i.NonFilterableProperties.concat(y));i.FilterAllowedExpressions=n({},i.FilterAllowedExpressions,Oe(P)||{})}return i}async function ye(e,t,n,o){n=n||{};if(o){return o.templateControlFragment(e,t,n.view).then(function(e){return o.targets==="xmlTree"&&e.length>0?e[0]:e})}else{const o=await d.process(g.loadTemplate(e,"fragment"),{name:e},t);const i=o.firstElementChild;if(!!n.isXML&&i){return i}return f.load({id:n.id,definition:o,controller:n.controller})}}function je(e,t){const n=e.split("/").filter(Boolean),o=n.pop(),i=n.join("/"),r=i&&t.getObject(`/${i}`);if((r===null||r===void 0?void 0:r.$kind)==="Singleton"){const e=n[n.length-1];return`/${e}/${o}`}return undefined}async function Se(e,t){if(!e||!t){return Promise.resolve(null)}const n=t.getMetaModel();const o=je(e,n);if(o){const e=t.bindProperty(o);return e.requestValue()}return Promise.resolve(null)}function Ae(e,t){let n;if(e.includes("@$ui5.overload")){n=e.split("@$ui5.overload")[0]}else{const t=e.split("/0")[0].split(".");n=`/${t[t.length-1]}/`}return n+t}function Ce(e,t){const n=new P({anyText:e});t.addDependent(n);const o=n.getAnyText();t.removeDependent(n);n.destroy();return o}function Ee(){return!u.system.desktop||u.resize.width<=320}function Te(e,t,n){const o=e.data("entityType"),i=Re.getAppComponent(e).getMetaModel(),r={},s=[],a=[];let c="";let l=i.getObject(`${o}${t}`);if(n){l=l.SelectionVariant}if(l){c=l.Text;(l.SelectOptions||[]).filter(function(e){return e&&e.PropertyName&&e.PropertyName.$PropertyPath}).forEach(function(e){const t=e.PropertyName.$PropertyPath;if(!a.includes(t)){a.push(t)}for(const i in e.Ranges){var n,o;const s=e.Ranges[i];r[t]=(r[t]||[]).concat(new O(t,(n=s.Option)===null||n===void 0?void 0:(o=n.$EnumMember)===null||o===void 0?void 0:o.split("/").pop(),s.Low,s.High))}});for(const e in r){s.push(new O({filters:r[e],and:false}))}}return{properties:a,filters:s,text:c}}function xe(e,t,i,r){const s=t.createBindingContext(e);return o===null||o===void 0?void 0:o.createConverterContextForMacro(i,s||t,r,n,undefined)}function $e(e,t){return e.replace("_fe_"+t+"_","")}function Me(e){e.forEach(e=>{if(e.sPath&&e.sPath.includes("fe_groupable")){e.sPath=Re.getInternalChartNameFromPropertyNameAndKind(e.sPath,"groupable")}});return e}async function Fe(e,t,n){const o=t.getBindingContext();if(o){const a=e===A.Draft?s.getDraftRootPath(o):s.getStickyRootPath(o);let c;if(a){var i,r;const e=(i=n.getRootViewController().getInstancedViews().find(e=>{var t;return((t=e.getBindingContext())===null||t===void 0?void 0:t.getPath())===a}))===null||i===void 0?void 0:i.getBindingContext();if(e){return e}const s=t.getModel("internal");c=s.getProperty("/simpleRootContext");if(((r=c)===null||r===void 0?void 0:r.getPath())===a){return c}const l=o.getModel();c=l.bindContext(a).getBoundContext();await Re.waitForContextRequested(c);s.setProperty("/simpleRootContext",c);return c}}}const Re={fireButtonPress:L,getTargetView:I,getCurrentPageView:B,hasTransientContext:T,updateRelatedAppsDetails:D,getAppComponent:k,getContextPathProperties:q,getParameterInfo:ie,updateDataFieldForIBNButtonsVisibility:G,getEntitySetName:Y,getActionPath:H,computeDisplayMode:W,isStickyEditMode:se,getOperatorsForProperty:te,getOperatorsForDateProperty:oe,getOperatorsForGuidProperty:ne,addPageContextToSelectionVariant:re,setUserDefaults:ae,getIBNActions:U,getHeaderFacetItemConfigForExternalNavigation:ue,getSemanticObjectMapping:le,setSemanticObjectMappings:pe,getSemanticObjectPromise:de,getSemanticTargetsFromPageModel:be,getSemanticObjectsFromPath:fe,updateSemanticTargets:ge,waitForContextRequested:E,getFilterRestrictionsByPath:ve,getSpecificAllowedExpression:ee,getAdditionalParamsForCreate:ce,requestSingletonProperty:Se,templateControlFragment:ye,FilterRestrictions:{REQUIRED_PROPERTIES:"RequiredProperties",NON_FILTERABLE_PROPERTIES:"NonFilterableProperties",ALLOWED_EXPRESSIONS:"FilterAllowedExpressions"},AllowedExpressionsPrio:["SingleValue","MultiValue","SingleRange","MultiRange","SearchExpression","MultiRangeOrSearchExpression"],normalizeSearchTerm:C,setContextsBasedOnOperationAvailable:J,setDynamicActionContexts:X,requestProperty:K,getParameterPath:Ae,getRelatedAppsMenuItems:M,getTranslatedTextFromExpBindingString:Ce,updateRelateAppsModel:N,getSemanticObjectAnnotations:w,getFiltersInfoForSV:Te,getInternalChartNameFromPropertyNameAndKind:$e,getChartPropertiesWithoutPrefixes:Me,createRootContext:Fe,isSmallDevice:Ee,getConverterContextForPath:xe};return Re},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/ExtensionAPI", ["sap/base/Log","sap/fe/core/CommonUtils","sap/ui/base/Object","sap/ui/core/Component","sap/ui/model/json/JSONModel","./helpers/ClassSupport"],function(e,t,n,i,o,r){"use strict";var a,l,s,c,u,d,p,f,g;var v=r.property;var h=r.defineUI5Class;function b(e,t,n,i){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function w(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;_(e,t)}function _(e,t){_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return _(e,t)}function y(e,t,n,i,o){var r={};Object.keys(i).forEach(function(e){r[e]=i[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},r);if(o&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(o):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}function x(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let C=(a=h("sap.fe.core.ExtensionAPI"),l=v({type:"sap.fe.core.controllerextensions.EditFlow"}),s=v({type:"sap.fe.core.controllerextensions.Routing"}),c=v({type:"sap.fe.core.controllerextensions.IntentBasedNavigation"}),a(u=(d=function(n){m(r,n);function r(e,t){var i;i=n.call(this)||this;b(i,"editFlow",p,w(i));b(i,"routing",f,w(i));b(i,"intentBasedNavigation",g,w(i));i._controller=e;i._view=e.getView();i.extension=i._controller.extension;i.editFlow=i._controller.editFlow;i.routing=i._controller.routing;i._routing=i._controller._routing;i.intentBasedNavigation=i._controller.intentBasedNavigation;i._prefix=t;return i}var a=r.prototype;a.getEditFlow=function e(){return this.editFlow};a.getRouting=function e(){return this.routing};a.getIntentBasedNavigation=function e(){return this.intentBasedNavigation};a.byId=function e(t){let n=this._view.byId(t);if(!n&&this._prefix){n=this._view.byId(`${this._prefix}--${t}`)}if(!n){return undefined}if(!n.isA("sap.fe.macros.MacroAPI")){let e=n.getParent();while(e){if(e.isA("sap.fe.macros.form.FormAPI")){break}if(e.isA("sap.fe.macros.MacroAPI")){throw new Error(`You attempted to access an internal control. This is risky and might change later. Instead access its stable API by using ID ${e.getId()}`)}e=e.getParent()}}return n};a.getModel=function e(n){let i;if(n&&n!=="ui"){i=t.getAppComponent(this._view);if(!i.getManifestEntry("sap.ui5").models[n]){return undefined}}return this._view.getModel(n)};a.addDependent=function e(t){this._view.addDependent(t)};a.removeDependent=function e(t){this._view.removeDependent(t)};a.navigateToTarget=function e(t,n){this._controller._routing.navigateToTarget(n,t)};a.loadFragment=async function n(r){var a,l,s;const c=i.getOwnerComponentFor(this._view);const u=this._view.getModel("_pageModel");const d=this._view.getModel("sap.fe.i18n");const p=(a=this.getModel())===null||a===void 0?void 0:a.getMetaModel();const f=c.getViewData();const g=c.getEntitySet()?`/${c.getEntitySet()}`:c.getContextPath();const v=new o(f),h={bindingContexts:{contextPath:p===null||p===void 0?void 0:p.createBindingContext(r.contextPath||g),converterContext:u.createBindingContext("/",undefined,{noResolve:true}),viewData:f?v.createBindingContext("/"):null},models:{contextPath:p,converterContext:u,metaModel:p,viewData:v,"sap.fe.i18n":d},appComponent:t.getAppComponent(this._view)};let b;if(r.controller&&!((l=r.controller)!==null&&l!==void 0&&(s=l.isA)!==null&&s!==void 0&&s.call(l,"sap.fe.core.ExtensionAPI"))){const e=this.getMetadata().getClass().extend(r.id+"-controller",{});for(const t in r.controller){const n=r.controller[t];if(n!==null&&n!==void 0&&n.bind){e.prototype[t]=n.bind(r.controller)}else{Object.defineProperty(e.prototype,t,{get(){var e;return(e=r.controller)===null||e===void 0?void 0:e[t]},set(e){if(r.controller){r.controller[t]=e}}})}}b=new e(this._controller)}else{b=r.controller??this}const w=t.templateControlFragment(r.name,h,{controller:b,isXML:false,id:r.id});w.then(e=>{if(r.initialBindingContext!==undefined){e.setBindingContext(r.initialBindingContext)}this.addDependent(e);return e}).catch(function(t){e.error(t)});return w};a.updateAppState=async function e(){const t=await this._controller.getAppComponent().getAppStateHandler().createAppState();return t===null||t===void 0?void 0:t.appStateData};return r}(n),p=y(d.prototype,"editFlow",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),f=y(d.prototype,"routing",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),g=y(d.prototype,"intentBasedNavigation",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||u);return C},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/InsightsFormattersExtension", ["sap/insights/CardExtension","./formatters/ValueFormatter"],function(t,r){"use strict";function e(t,r){t.prototype=Object.create(r.prototype);t.prototype.constructor=t;o(t,r)}function o(t,r){o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(r,e){r.__proto__=e;return r};return o(t,r)}let n=function(t){e(o,t);function o(){return t.apply(this,arguments)||this}var n=o.prototype;n.init=function e(){t.prototype.init.apply(this);this.addFormatters("sapfe",{formatWithBrackets:r.formatWithBrackets,formatTitle:r.formatTitle})};return o}(t);return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/PageController", ["sap/fe/core/BaseController","sap/fe/core/ExtensionAPI","sap/fe/core/controllerextensions/EditFlow","sap/fe/core/controllerextensions/IntentBasedNavigation","sap/fe/core/controllerextensions/InternalIntentBasedNavigation","sap/fe/core/controllerextensions/InternalRouting","sap/fe/core/controllerextensions/MassEdit","sap/fe/core/controllerextensions/MessageHandler","sap/fe/core/controllerextensions/PageReady","sap/fe/core/controllerextensions/Paginator","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/controllerextensions/Recommendations","sap/fe/core/controllerextensions/Routing","sap/fe/core/controllerextensions/Share","sap/fe/core/controllerextensions/SideEffects","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/ClassSupport","sap/ui/core/Component","sap/ui/core/mvc/OverrideExecution","./controllerextensions/cards/CollaborationManager"],function(e,t,r,n,i,o,a,l,u,s,p,c,f,g,b,d,y,m,w,h){"use strict";var v,P,x,z,E,I,O,A,M,R,_,C,j,B,V,S,H,N,D,F,k,T,U,$,q,G,J,K,L,Q,W,X,Y,Z,ee,te,re,ne;var ie=y.usingExtension;var oe=y.publicExtension;var ae=y.extensible;var le=y.defineUI5Class;function ue(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function se(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function pe(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;ce(e,t)}function ce(e,t){ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return ce(e,t)}function fe(e,t,r,n,i){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o);if(i&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(i):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function ge(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let be=(v=le("sap.fe.core.PageController"),P=ie(f),x=ie(h),z=ie(o),E=ie(r),I=ie(n),O=ie(i),A=ie(u),M=ie(l),R=ie(g),_=ie(s),C=ie(d),j=ie(p),B=ie(b),V=ie(a),S=ie(c),H=oe(),N=oe(),D=oe(),F=oe(),k=ae(w.After),v(T=(U=function(e){pe(r,e);function r(){var t;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}t=e.call(this,...n)||this;ue(t,"routing",$,se(t));ue(t,"collaborationManager",q,se(t));ue(t,"_routing",G,se(t));ue(t,"editFlow",J,se(t));ue(t,"intentBasedNavigation",K,se(t));ue(t,"_intentBasedNavigation",L,se(t));ue(t,"pageReady",Q,se(t));ue(t,"messageHandler",W,se(t));ue(t,"share",X,se(t));ue(t,"paginator",Y,se(t));ue(t,"viewState",Z,se(t));ue(t,"placeholder",ee,se(t));ue(t,"_sideEffects",te,se(t));ue(t,"massEdit",re,se(t));ue(t,"recommendations",ne,se(t));return t}var n=r.prototype;n.onInit=function e(){const t=this.getAppComponent().getModel("ui"),r=this.getAppComponent().getModel("internal"),n=`/pages/${this.getView().getId()}`;t.setProperty(n,{controls:{}});r.setProperty(n,{controls:{},collaboration:{}});this.getView().bindElement({path:n,model:"ui"});this.getView().bindElement({path:n,model:"internal"});this.getView().bindElement({path:n,model:"pageInternal"});this.getView().setModel(r,"pageInternal");this.getView().setModel(t,"ui");this.getView().setModel(r,"internal")};n.onBeforeRendering=function e(){if(this.placeholder.attachHideCallback){this.placeholder.attachHideCallback()}};n.getExtensionAPI=function e(){if(!this.extensionAPI){this.extensionAPI=new t(this)}return this.extensionAPI};n.onPageReady=function e(t){this.getAppComponent().getAppStateHandler().applyAppState()};n._getPageTitleInformation=function e(){return{}};n._getPageModel=function e(){const t=m.getOwnerComponentFor(this.getView());return t===null||t===void 0?void 0:t.getModel("_pageModel")};return r}(e),$=fe(U.prototype,"routing",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),q=fe(U.prototype,"collaborationManager",[x],{configurable:true,enumerable:true,writable:true,initializer:null}),G=fe(U.prototype,"_routing",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),J=fe(U.prototype,"editFlow",[E],{configurable:true,enumerable:true,writable:true,initializer:null}),K=fe(U.prototype,"intentBasedNavigation",[I],{configurable:true,enumerable:true,writable:true,initializer:null}),L=fe(U.prototype,"_intentBasedNavigation",[O],{configurable:true,enumerable:true,writable:true,initializer:null}),Q=fe(U.prototype,"pageReady",[A],{configurable:true,enumerable:true,writable:true,initializer:null}),W=fe(U.prototype,"messageHandler",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),X=fe(U.prototype,"share",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),Y=fe(U.prototype,"paginator",[_],{configurable:true,enumerable:true,writable:true,initializer:null}),Z=fe(U.prototype,"viewState",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),ee=fe(U.prototype,"placeholder",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),te=fe(U.prototype,"_sideEffects",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),re=fe(U.prototype,"massEdit",[V],{configurable:true,enumerable:true,writable:true,initializer:null}),ne=fe(U.prototype,"recommendations",[S],{configurable:true,enumerable:true,writable:true,initializer:null}),fe(U.prototype,"onInit",[H],Object.getOwnPropertyDescriptor(U.prototype,"onInit"),U.prototype),fe(U.prototype,"onBeforeRendering",[N],Object.getOwnPropertyDescriptor(U.prototype,"onBeforeRendering"),U.prototype),fe(U.prototype,"getExtensionAPI",[D],Object.getOwnPropertyDescriptor(U.prototype,"getExtensionAPI"),U.prototype),fe(U.prototype,"onPageReady",[F,k],Object.getOwnPropertyDescriptor(U.prototype,"onPageReady"),U.prototype),U))||T);return be},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/ResourceModel", ["sap/fe/core/helpers/ClassSupport","sap/ui/model/resource/ResourceModel"],function(e,t){"use strict";var o,s;var r=e.defineUI5Class;function u(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;n(e,t)}function n(e,t){n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return n(e,t)}let c=(o=r("sap.fe.core.ResourceModel"),o(s=function(e){u(t,e);function t(){return e.apply(this,arguments)||this}var o=t.prototype;o.getText=function e(t,o,s){let r=t;const u=this._oResourceBundle;if(s){const e=this.checkIfResourceKeyExists(`${r}|${s}`);r=e?`${r}|${s}`:r}return(u===null||u===void 0?void 0:u.getText(r,o,true))||t};o.checkIfResourceKeyExists=function e(t){return this._checkIfResourceKeyExists(t,this._oResourceBundle.aCustomBundles)};o._checkIfResourceKeyExists=function e(t,o){if(o!==null&&o!==void 0&&o.length){for(let e=o.length-1;e>=0;e--){const s=o[e].hasText(t);if(s){return true}this._checkIfResourceKeyExists(t,o[e].aCustomBundles)}}return false};return t}(t))||s);return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/TemplateComponent", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/ui/core/UIComponent","sap/ui/mdc/p13n/StateUtil"],function(e,t,n,r){"use strict";var i,o,a,l,u,c,p,s,f,b,g,y,h,d,m,C,v,w,z,_,P,A,R,I,j,O,S,E,x,D,T;var k=t.property;var B=t.implementInterface;var U=t.event;var L=t.defineUI5Class;function V(e,t,n,r){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function F(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function M(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;N(e,t)}function N(e,t){N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return N(e,t)}function X(e,t,n,r,i){var o={};Object.keys(r).forEach(function(e){o[e]=r[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o);if(i&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(i):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function q(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let G=(i=L("sap.fe.core.TemplateComponent"),o=B("sap.ui.core.IAsyncContentCreation"),a=k({type:"string",defaultValue:null}),l=k({type:"string",defaultValue:null}),u=k({type:"string"}),c=k({type:"object"}),p=k({type:"string[]"}),s=k({type:"object"}),f=k({type:"object"}),b=k({type:"boolean"}),g=k({type:"object"}),y=k({type:"string"}),h=U(),d=U(),m=U(),i(C=(v=function(t){M(n,t);function n(){var e;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++){r[i]=arguments[i]}e=t.call(this,...r)||this;V(e,"__implements__sap_ui_core_IAsyncContentCreation",w,F(e));V(e,"entitySet",z,F(e));V(e,"contextPath",_,F(e));V(e,"bindingContextPattern",P,F(e));V(e,"navigation",A,F(e));V(e,"enhanceI18n",R,F(e));V(e,"controlConfiguration",I,F(e));V(e,"content",j,F(e));V(e,"allowDeepLinking",O,F(e));V(e,"refreshStrategyOnAppRestore",S,F(e));V(e,"viewType",E,F(e));V(e,"containerDefined",x,F(e));V(e,"heroesBatchReceived",D,F(e));V(e,"workersBatchReceived",T,F(e));return e}var i=n.prototype;i.setContainer=function e(n){t.prototype.setContainer.call(this,n);this.fireEvent("containerDefined",{container:n});return this};i.init=function n(){this.oAppComponent=e.getAppComponent(this);t.prototype.init.call(this);const i=function(e){const t=e.getParameter("control");if(t.isA("sap.ui.mdc.Table")||t.isA("sap.ui.mdc.FilterBar")||t.isA("sap.ui.mdc.Chart")){const e=t.getParent();if(e!==null&&e!==void 0&&e.fireStateChange){e.fireStateChange()}}};r.detachStateChange(i);r.attachStateChange(i)};i.getExtensionComponent=function e(){return this.oAppComponent};i.getRootController=function e(){const t=this.getRootControl();let n;if(t&&t.getController){n=t.getController()}return n};i.onPageReady=function e(t){const n=this.getRootController();if(n&&n.onPageReady){n.onPageReady(t)}};i.getNavigationConfiguration=function e(t){const n=this.navigation;return n[t]};i.getViewData=function e(){const t=this.getMetadata().getAllProperties();const n=Object.keys(t).reduce((e,n)=>{e[n]=t[n].get(this);return e},{});n.fclEnabled=this.oAppComponent._isFclEnabled();return n};i._getPageTitleInformation=function e(){const t=this.getRootControl();if(t&&t.getController()&&t.getController()._getPageTitleInformation){return t.getController()._getPageTitleInformation()}else{return{}}};i.getExtensionAPI=function e(){return this.getRootControl().getController().getExtensionAPI()};return n}(n),w=X(v.prototype,"__implements__sap_ui_core_IAsyncContentCreation",[o],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),z=X(v.prototype,"entitySet",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return null}}),_=X(v.prototype,"contextPath",[l],{configurable:true,enumerable:true,writable:true,initializer:function(){return null}}),P=X(v.prototype,"bindingContextPattern",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),A=X(v.prototype,"navigation",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),R=X(v.prototype,"enhanceI18n",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),I=X(v.prototype,"controlConfiguration",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),j=X(v.prototype,"content",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),O=X(v.prototype,"allowDeepLinking",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),S=X(v.prototype,"refreshStrategyOnAppRestore",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),E=X(v.prototype,"viewType",[y],{configurable:true,enumerable:true,writable:true,initializer:function(){return"XML"}}),x=X(v.prototype,"containerDefined",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),D=X(v.prototype,"heroesBatchReceived",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),T=X(v.prototype,"workersBatchReceived",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),v))||C);return G},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/TemplateModel", ["sap/fe/core/helpers/ClassSupport","sap/ui/base/Object","sap/ui/model/json/JSONModel"],function(e,t,o){"use strict";var n,i;var r=e.defineUI5Class;function a(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function d(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return f(e,t)}let s=(n=r("sap.fe.core.TemplateModel"),n(i=function(e){d(t,e);function t(t,n){var i;i=e.call(this)||this;i.oMetaModel=n;i.oConfigModel=new o;i.oConfigModel.setSizeLimit(Number.MAX_VALUE);i.bConfigLoaded=false;const r=a(i);if(typeof t==="function"){const e=i.oConfigModel._getObject.bind(i.oConfigModel);i.oConfigModel._getObject=function(o,n){if(!r.bConfigLoaded){this.setData(t())}return e(o,n)}}else{i.oConfigModel.setData(t)}i.fnCreateMetaBindingContext=i.oMetaModel.createBindingContext.bind(i.oMetaModel);i.fnCreateConfigBindingContext=i.oConfigModel.createBindingContext.bind(i.oConfigModel);i.fnSetData=i.oConfigModel.setData.bind(i.oConfigModel);i.oConfigModel.createBindingContext=i.createBindingContext.bind(a(i));i.oConfigModel.setData=i.setData.bind(a(i));return i.oConfigModel||a(i)}var n=t.prototype;n.setData=function e(t){this.fnSetData(t);this.bConfigLoaded=true};n.createBindingContext=function e(t,o,n,i){var r;let a;const d=n&&n.noResolve;a=this.fnCreateConfigBindingContext(t,o,n,i);const f=!d&&((r=a)===null||r===void 0?void 0:r.getObject());if(f&&typeof f==="string"){a=this.fnCreateMetaBindingContext(f,o,n,i)}return a};n.destroy=function e(){this.oConfigModel.destroy();o.prototype.destroy.apply(this)};return t}(t))||i);return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/AttributeModel", ["sap/base/Log","sap/base/util/ObjectPath","sap/ui/model/json/JSONModel"],function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;o(t,e)}function o(t,e){o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,n){e.__proto__=n;return e};return o(t,e)}let i=function(n){r(o,n);function o(t,e,r){var o;o=n.call(this)||this;o.oNode=t;o.oProps=e;o.BuildingBlockClass=r;o.$$valueAsPromise=true;return o}var i=o.prototype;i._getObject=function n(r,o){if(r===undefined||r===""){if(o!==undefined&&o.getPath()!=="/"){return this._getObject(o.getPath(r))}return this.oProps}if(r==="/undefinedValue"||r==="undefinedValue"){return undefined}const i=e.get(r.replace(/\//g,"."),this.oProps);if(i!==undefined){return i}if(this.oProps.hasOwnProperty(r)){return this.oProps[r]}if(!r.includes(":")&&!r.includes("/")){t.error(`Missing property ${r} on building block metadata ${this.BuildingBlockClass.name}`)}return this.oNode.getAttribute(r)};return o}(n);return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlockBase", ["sap/base/util/deepClone","sap/base/util/merge","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/converters/ConverterContext","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/DataModelPathHelper"],function(e,t,n,r,i,o,a){"use strict";var l={};var s=a.getTargetObjectPath;var u=o.generate;var c=i.isUndefinedExpression;var f=n.xml;var d=n.unregisterBuildingBlock;var p=n.registerBuildingBlock;function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,m(r.key),r)}}function g(e,t,n){if(t)v(e.prototype,t);if(n)v(e,n);Object.defineProperty(e,"prototype",{writable:false});return e}function m(e){var t=h(e,"string");return typeof t==="symbol"?t:String(t)}function h(e,t){if(typeof e!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if(typeof r!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}let b=function(){function n(n,i,o){var a;this.isPublic=false;this.getConverterContext=function(n,i,o,a){var l;const u=o.appComponent;const c=(l=o.models.viewData)===null||l===void 0?void 0:l.getData();let f=Object.assign({},c);delete f.resourceModel;delete f.appComponent;f=e(f);let d={};const p=s(n.contextLocation??n);if(p===(c===null||c===void 0?void 0:c.contextPath)||p===`/${c===null||c===void 0?void 0:c.entitySet}`){d=f.controlConfiguration}f.controlConfiguration=t(d,a||{});return r.createConverterContextForMacro(n.startingEntitySet.name,o.models.metaModel,u===null||u===void 0?void 0:u.getDiagnostics(),t,n.contextLocation,f)};Object.keys(n).forEach(e=>{this[e]=n[e]});this.resourceModel=o===null||o===void 0?void 0:(a=o.models)===null||a===void 0?void 0:a["sap.fe.i18n"]}l=n;var i=n.prototype;i.createId=function e(){if(this.id){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}return u([this.id,...n])}return undefined};i.getContentId=function e(t){return`${t}-content`};i.getTranslatedText=function e(t,n,r){var i;return((i=this.resourceModel)===null||i===void 0?void 0:i.getText(t,n,r))||t};i.getProperties=function e(){const t={};for(const e in this){if(this.hasOwnProperty(e)){t[e]=this[e]}}return t};n.register=function e(){p(this)};n.unregister=function e(){d(this)};i.addConditionally=function e(t,n){if(t){return n}else{return""}};i.attr=function e(t,n){if(n!==undefined&&!c(n)){return()=>f`${t}="${n}"`}else{return()=>""}};g(n,null,[{key:"metadata",get:function(){this.internalMetadata??={namespace:"",name:"",properties:{},aggregations:{},stereotype:"xmlmacro"};return this.internalMetadata}}]);return n}();b.isRuntime=false;l=b;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlockFormatter", [],function(){"use strict";return{base64Decode:e=>atob(e)}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlockSupport", [],function(){"use strict";var e={};function t(e){return function(t,n,i){var a;const r=t.constructor.metadata;e.defaultValue=(a=i.initializer)===null||a===void 0?void 0:a.call(i);delete i.initializer;if(r.properties[n.toString()]===undefined){r.properties[n.toString()]=e}return i}}e.blockAttribute=t;function n(){return t({type:"function"})}e.blockEvent=n;function i(e){return function(t,n,i){const a=t.constructor.metadata;delete i.initializer;if(a.aggregations[n]===undefined){a.aggregations[n]=e}if(e.isDefault===true){a.defaultAggregation=n}return i}}e.blockAggregation=i;function a(e){return function(t){const n=t.metadata;n.namespace=e.namespace;n.publicNamespace=e.publicNamespace;n.name=e.name;n.xmlTag=e.xmlTag;n.fragment=e.fragment;n.designtime=e.designtime;n.isOpen=e.isOpen;n.libraries=e.libraries}}e.defineBuildingBlock=a;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor", ["sap/base/Log","sap/base/util/deepClone","sap/base/util/uid","sap/fe/core/buildingBlocks/AttributeModel","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/ui/base/BindingParser","sap/ui/core/util/XMLPreprocessor","sap/ui/model/json/JSONModel","./TraceInfo"],function(e,t,n,i,o,s,r,a,l,c,d){"use strict";var u={};var f=r.isFunctionArray;var p=r.isContext;var m=s.isBindingToolkitExpression;var g=s.compileExpression;var h=o.Placement;const b="sap.fe.core.buildingBlocks.BuildingBlockTemplateProcessor";const x="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1";const y=new DOMParser;function v(e,t,n,i){const o=t[i];const s=o===null||o===void 0?void 0:o.getObject();if(n.required===true&&(!o||s===null)){throw new Error(`${e}: Required metadataContext '${i}' is missing`)}else if(s){if(s.hasOwnProperty("$kind")&&s.$kind!==undefined&&n.expectedTypes!==undefined){if(!n.expectedTypes.includes(s.$kind)){throw new Error(`${e}: '${i}' must be '$kind' '${n.expectedTypes}' but is '${s.$kind}': ${o.getPath()}`)}}else if(s.hasOwnProperty("$Type")&&s.$Type!==undefined&&n.expectedAnnotationTypes){if(!n.expectedAnnotationTypes.includes(s.$Type)){throw new Error(`${e}: '${i}' must be '$Type' '${n.expectedAnnotationTypes}' but is '${s.$Type}': ${o.getPath()}`)}}}}function C(t,n,i,o){const s=n.metadataContexts&&Object.keys(n.metadataContexts)||[],r=n.properties&&Object.keys(n.properties)||[],a={};const l=o.getAttributeNames();for(const e of l){a[e]=true}s.forEach(function(e){const o=n.metadataContexts[e];v(t,i,o,e);delete a[e]});r.forEach(function(e){const i=n.properties[e];if(!o.hasAttribute(e)){if(i.required&&!i.hasOwnProperty("defaultValue")){throw new Error(`${t}: `+`Required property '${e}' is missing`)}}else{delete a[e]}});Object.keys(a).forEach(function(n){if(!n.includes(":")&&!n.startsWith("xmlns")){e.warning(`Unchecked parameter: ${t}: ${n}`,undefined,b)}})}u.validateMacroSignature=C;const $="sap.ui.core.Element";const P="sap.ui.model.Context";u.SAP_UI_MODEL_CONTEXT=P;function w(e){const t={};const n={dependents:{type:$,slot:"dependents",isPublic:true},customData:{type:$,slot:"customData",isPublic:true},layoutData:{type:$,slot:"layoutData",isPublic:true},...e.aggregations};const i={};for(const n of Object.keys(e.properties)){const o=e.properties[n].type;if(o!==P){t[n]=e.properties[n]}if([P,"object","array"].includes(o)){i[n]=e.properties[n]}}return{...e,properties:t,metadataContexts:i,aggregations:n}}function A(e,t){let n;if(t&&t.startsWith("/")){n=t}else{let i=e.currentContextPath.getPath();if(!i.endsWith("/")){i+="/"}n=i+t}return{model:"metaModel",path:n}}function k(e,t,n){let i;if(n.startsWith("/uid--")&&!e.models.converterContext.getProperty(n)){const t=q(n);e.models.converterContext.setProperty(n,t);i={model:"converterContext",path:n}}else if(t==="metaPath"&&e.currentContextPath||t==="contextPath"){i=A(e,n)}else if(n&&n.startsWith("/")){i={model:"metaModel",path:n}}else{i={model:"metaModel",path:e.bindingContexts.entitySet?e.bindingContexts.entitySet.getPath(n):n}}return i}function E(e,t,n,i,o,s){let r;if(!o&&t.hasAttribute(n)){const i=t.getAttribute(n);r=a.complexParser(i);if(!r){r=k(e,n,i)}}else if(e.bindingContexts.hasOwnProperty(n)){r={model:n,path:""}}else if(s){try{if(i.getContext(`${n}>`)){r={model:n,path:""}}}catch(e){return undefined}}return r}async function T(n,i,o,s){const r=n.properties;const a=Object.keys(r);const l={};for(const n of a){if(r[n].type==="object"){l[n]=r[n].defaultValue&&t(r[n].defaultValue)}else{l[n]=r[n].defaultValue}if(i.hasAttribute(n)&&o&&r[n].isPublic===false){e.error(`Property ${n} was ignored as it is not intended for public usage`)}else if(i.hasAttribute(n)){await s.visitAttribute(i,i.attributes.getNamedItem(n));let e=i.getAttribute(n);if(e!==undefined&&e!==null){if(typeof e==="string"&&!e.startsWith("{")){switch(r[n].type){case"boolean":e=e==="true";break;case"number":e=Number(e);break}}e=e===null?undefined:e;l[n]=e}}}return l}function N(e,t,n,i,o,s,r){t.currentContextPath=t.bindingContexts.contextPath;const a={};const l=e.metadataContexts;const c=Object.keys(l);const d=c.indexOf("contextPath");if(d!==-1){const e=c.splice(d,1);c.splice(0,0,e[0])}for(const d of c){const c=r[d];if(c!==undefined&&typeof c==="object"&&Object.keys(c).length>0){delete e.metadataContexts[d];continue}const u=i&&l[d].isPublic===false&&n.hasAttribute(d);const f=E(t,n,d,o,u,e.isOpen??false);if(f){f.name=d;M(s,o,f);if((d==="entitySet"||d==="contextPath")&&!t.bindingContexts.hasOwnProperty(d)){t.bindingContexts[d]=s[d]}if(d==="contextPath"){t.currentContextPath=s[d]}if(s[d]!==undefined){r[d]=s[d]}else if(typeof r[d]==="string"){delete e.metadataContexts[d]}}else{a[d]=true}}return a}function O(t,n){const i={};if(t&&t.children.length>0){const o=t.children;for(let t=0;t<o.length;t++){const s=o[t];let r=s.getAttribute("key")||s.getAttribute("id");if(r){r=`InlineXML_${r}`;s.setAttribute("key",r);let e={key:r,position:{placement:s.getAttribute("placement")||h.After,anchor:s.getAttribute("anchor")||undefined},type:"Slot"};if(n){e=n(s,e)}i[e.key]=e}else if(s.tagName!=="slot"){e.error(`The aggregation ${s.nodeName} is missing a Key attribute. It is not displayed`)}}}return i}async function j(e,t,n,i,o){const s={};if(e.firstElementChild!==null){let r=e.firstElementChild;while(r!==null){if(r.namespaceURI===x){const e=r.parentNode;if(e){const n=Array.from(e.children).indexOf(r);await t.visitNode(r);r=e.children[n]?e.children[n]:null}else{r=r.nextElementSibling}}else{const e=r.localName;let t=e;if(t[0].toUpperCase()===t[0]){t=n.defaultAggregation||""}const i=n.aggregations[t];if(i!==undefined&&!i.slot){const e=O(r,i.processAggregations);o[t]=e;for(const t in e){n.aggregations[t]=e[t]}}r=r.nextElementSibling}}r=e.firstElementChild;while(r!==null){const a=r.nextElementSibling;const l=r.localName;let c=l;if(c[0].toUpperCase()===c[0]){c=n.defaultAggregation||""}if(Object.keys(n.aggregations).includes(c)&&(!i||n.aggregations[c].isPublic===true)){const i=n.aggregations[c];if(!i.slot&&r!==null&&r.children.length>0){await t.visitNode(r);let n=r.firstElementChild;while(n){const t=n.nextElementSibling;if(!i.hasVirtualNode){const t=document.createElementNS(e.namespaceURI,n.getAttribute("key"));t.appendChild(n);s[n.getAttribute("key")]=t}else{s[n.getAttribute("key")]=n}n.removeAttribute("key");n=t}}else if(i.slot){await t.visitNode(r);if(c!==l){if(!s[c]){const t=document.createElementNS(e.namespaceURI,c);s[c]=t}s[c].appendChild(r)}else{s[c]=r}}}else if(Object.keys(n.properties).includes(c)){await t.visitNode(r);if(n.properties[c].type==="object"){const e={};const t=r.getAttributeNames();for(const n of t){e[n]=r.getAttribute(n)}if(r.children.length){for(let t=0;t<r.children.length;t++){const n=r.children[t];const i=n.localName;const o={};const s=n.getAttributeNames();for(const e of s){o[e]=n.getAttribute(e)}e[i]=o}}o[c]=e}else if(n.properties[c].type==="array"){if(r!==null&&r.children.length>0){const e=r.children;const t=[];for(let n=0;n<e.length;n++){const i=e[n];const o={};const s=i.getAttributeNames();for(const e of s){o[e]=i.getAttribute(e)}t.push(o)}o[c]=t}}}r=a}}return s}function B(e,t,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(Object.keys(e).length>0){Object.keys(e).forEach(function(o){const s=e[o];if(n!==null&&n!==undefined&&s){const e=s.firstElementChild;if(!["dependents","customData","layoutData"].includes(o)){const i=t[o]!==undefined&&t[o].slot||o;const s=n.querySelector(`slot[name='${i}']`);if(s!==null){const t=S(n,o,e);s.replaceWith(...t.children)}}else if(i&&e!==null){const t=S(n,o,e);n.appendChild(t)}}})}}function S(e,t,n){const i=document.createElementNS(e.namespaceURI,t.replace(/:/gi,"_"));while(n){const e=n.nextElementSibling;i.appendChild(n);n=e}return i}async function I(t,n,o){let s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const r=w(t.metadata);const a=r.fragment??`${r.namespace??r.publicNamespace}.${r.xmlTag??r.name}`;const l={};const u=o.getSettings();u.models.converterContext??=new c;if(!u[a]){u[a]={}}const f=await T(r,n,s,o);const m=Object.keys(f);const g=N(r,u,n,s,o,l,f);try{const c=await j(n,o,r,s,f);let m={};if(u.models.viewData){m=u.models.viewData.getProperty("/controlConfiguration")}let g=f;Object.keys(f).forEach(e=>{var n,i,o;let s=f[e];const r=t===null||t===void 0?void 0:(n=t.metadata)===null||n===void 0?void 0:n.properties[e];if(r!==null&&r!==void 0&&r.validate){s=r.validate(s)||s}if((i=s)!==null&&i!==void 0&&(o=i.isA)!==null&&o!==void 0&&o.call(i,P)&&!s.getModel().isA("sap.ui.model.odata.v4.ODataMetaModel")){f[e]=s.getObject()}});f.isPublic=s;const h=new t({...f,...c},m,u);g=h.getProperties();Object.keys(r.metadataContexts).forEach(function(e){if(g.hasOwnProperty(e)){const t=g[e];if(p(t)){l[e]=t}else if(typeof t==="object"){const n=F(t);u.models.converterContext.setProperty(n,t);const i=u.models.converterContext.createBindingContext(n);q(n);l[e]=i}}});const b=new i(n,g,t);l["this"]=b.createBindingContext("/");let x;const y=(n===null||n===void 0?void 0:n.getAttribute("core:require"))||undefined;if(d.isTraceInfoActive()){const e=d.traceMacroCalls(a,r,l,n,o);if(e!==null&&e!==void 0&&e.macroInfo){x=u["_macroInfo"];u["_macroInfo"]=e.macroInfo}}C(a,r,l,n);const v=o.with(l,r.isOpen!==undefined?!r.isOpen:true);const $=n.parentNode;let w;let A;if($){w=Array.from($.children).indexOf(n);if(r.fragment){A=v.insertFragment(a,n)}else{const i=Object.keys(V);const o=await h.getTemplate(n);if(t.isRuntime){for(const e in V){if(!i.includes(e)){const t=q(e);u.models.converterContext.setProperty(e,t)}}}let s="";if(o){let t=false;let i=U(o,true);for(const e of i){const n=document.createNodeIterator(e,NodeFilter.SHOW_TEXT);let i=n.nextNode();if(e.localName==="parsererror"){t=true}while(i){if(i.textContent&&i.textContent.trim().length>0){s=i.textContent}i=n.nextNode()}}if(t){e.error(`Error while processing building block ${r.xmlTag||r.name}`);i=await R(async()=>{var e;const t=await((e=h.getTemplate)===null||e===void 0?void 0:e.call(h,n));return U(t??"",true)})}else if(s.length>0){e.error(`Error while processing building block ${r.xmlTag||r.name}`);const t=L([`Error while processing building block ${r.xmlTag||r.name}`,`Trailing text was found in the XML: ${s}`],i.map(e=>e.outerHTML).join("\n"));i=U(t,true)}n.replaceWith(...i);const a=i.map(async e=>{B(c,r.aggregations,e,false);return v.visitNode(e)});A=Promise.all(a)}else{n.remove();A=Promise.resolve()}}await A;const i=$.children[w];B(c,r.aggregations,i,true);if(i!==undefined){const e=i.querySelectorAll("slot");e.forEach(function(e){e.remove()});if(y){let e=i.getAttributeNS("sap.ui.core","require");if(e){e=e.substring(0,e.length-1)+","+y.substring(1)}else{e=y}i.setAttributeNS("sap.ui.core","require",e)}}}if(x){u["_macroInfo"]=x}else{delete u["_macroInfo"]}}catch(t){const i={initialProperties:{},resolvedProperties:{},missingContexts:g};for(const e of m){const t=f[e];if(p(t)){i.initialProperties[e]={path:t.getPath(),value:t.getObject()}}else{i.initialProperties[e]=t}}for(const e in f){const t=f[e];if(!m.includes(e)){if(p(t)){i.resolvedProperties[e]={path:t.getPath(),value:t.getObject()}}else{i.resolvedProperties[e]=t}}}e.error(t);const o=L([`Error while processing building block ${r.name}`],n.outerHTML,i,t.stack);const s=U(o,true);n.replaceWith(...s)}}function M(e,t,n){const i=n.name||n.model||undefined;if(e[i]){return}try{let o=n.path;if(n.model!==null){o=`${n.model}>${o}`}const s=t.getSettings();if(n.model==="converterContext"&&n.path.length>0){e[i]=s.models[n.model].getContext(n.path)}else if(!s.bindingContexts[n.model]&&s.models[n.model]){e[i]=s.models[n.model].getContext(n.path)}else{e[i]=t.getContext(o)}}catch(e){}}function D(e){if(e.metadata.namespace!==undefined){l.plugIn(async(t,n)=>I(e,t,n),e.metadata.namespace,e.metadata.xmlTag||e.metadata.name)}if(e.metadata.publicNamespace!==undefined){l.plugIn(async(t,n)=>I(e,t,n,true),e.metadata.publicNamespace,e.metadata.xmlTag||e.metadata.name)}}u.registerBuildingBlock=D;function W(e){if(e.metadata.namespace!==undefined){l.plugIn(null,e.metadata.namespace,e.metadata.xmlTag||e.metadata.name)}if(e.metadata.publicNamespace!==undefined){l.plugIn(null,e.metadata.publicNamespace,e.metadata.xmlTag||e.metadata.name)}}u.unregisterBuildingBlock=W;function L(e,t,n,i){const o=e.map(e=>G`<m:Label text="${X(e)}"/>`);let s="";if(i){const e=btoa(`<pre>${i}</pre>`);s=G`<m:FormattedText htmlText="{= BBF.base64Decode('${e}') }" />`}let r="";if(n){r=G`<m:VBox>
						<m:Label text="Trace Info"/>
						<code:CodeEditor type="json"  value="${`{= BBF.base64Decode('${btoa(JSON.stringify(n,null,4))}') }`}" height="300px" />
					</m:VBox>`}return G`<controls:FormElementWrapper xmlns:controls="sap.fe.core.controls">
					<m:VBox xmlns:m="sap.m" xmlns:code="sap.ui.codeeditor" core:require="{BBF:'sap/fe/core/buildingBlocks/BuildingBlockFormatter'}">
					${o}
					${s}
						<grid:CSSGrid gridTemplateRows="fr" gridTemplateColumns="repeat(2,1fr)" gridGap="1rem" xmlns:grid="sap.ui.layout.cssgrid" >
							<m:VBox>
								<m:Label text="How the building block was called"/>
								<code:CodeEditor type="xml" value="${`{= BBF.base64Decode('${btoa(t.replaceAll("&gt;",">"))}') }`}" height="300px" />
							</m:VBox>
							${r}
						</grid:CSSGrid>
					</m:VBox>
				</controls:FormElementWrapper>`}const V={};function F(e){const t=`/uid--${n()}`;V[t]=e;return t}function q(e){const t=V[e];delete V[e];return t}let _=false;const R=async function(e){_=true;let t;try{t=e()}finally{_=false}return t};function U(e){var t,n;let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(i){e=`<template\n\t\t\t\t\t\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\t\t\t\t\t\txmlns:m="sap.m"\n\t\t\t\t\t\txmlns:macros="sap.fe.macros"\n\t\t\t\t\t\txmlns:core="sap.ui.core"\n\t\t\t\t\t\txmlns:mdc="sap.ui.mdc"\n\t\t\t\t\t\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">${e}</template>`}const o=y.parseFromString(e,"text/xml");let s=o.firstElementChild;while(((r=s)===null||r===void 0?void 0:r.localName)==="template"){var r;s=s.firstElementChild}const a=(t=s)!==null&&t!==void 0&&t.parentElement?(n=s)===null||n===void 0?void 0:n.parentElement.children:[s];return Array.from(a)}u.parseXMLString=U;function X(e){return e===null||e===void 0?void 0:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}u.escapeXMLAttributeValue=X;function H(e){var t;const n=U(e,true);if((n===null||n===void 0?void 0:n.length)>0&&((t=n[0])===null||t===void 0?void 0:t.localName)==="parsererror"){const t=n[0].innerText||n[0].innerHTML;return L([t.split("\n")[0]],e)}else{return e}}const G=function(e){let t="";let n;for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++){o[s-1]=arguments[s]}for(n=0;n<o.length;n++){t+=e[n];const i=o[n];if(Array.isArray(i)&&i.length>0&&typeof i[0]==="string"){t+=i.flat(5).join("\n").trim()}else if(f(i)){t+=i.map(e=>e()).join("\n")}else if(m(i)){const e=g(i);t+=X(e)}else if(typeof i==="undefined"){t+="{this>undefinedValue}"}else if(typeof i==="function"){t+=i()}else if(typeof i==="object"&&i!==null){if(p(i)){t+=i.getPath()}else{const e=F(i);t+=`${e}`}}else if(i&&typeof i==="string"&&!i.startsWith("<")&&!i.startsWith("&lt;")){t+=X(i)}else{t+=i}}t+=e[n];t=t.trim();if(_){return H(t)}return t};u.xml=G;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/RuntimeBuildingBlock", ["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockBase","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/buildingBlocks/RuntimeBuildingBlockFragment","sap/fe/core/helpers/TypeGuards","sap/ui/core/Core"],function(e,t,i,r,n,o){"use strict";var s={};var a=n.isContext;var c=r.storeRuntimeBlock;var u=i.xml;var l=i.registerBuildingBlock;function p(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return f(e,t)}let d=function(t){p(i,t);function i(){return t.apply(this,arguments)||this}s=i;i.register=function e(){l(this);c(this)};i.load=async function t(){if(this.metadata.libraries){try{await Promise.all(this.metadata.libraries.map(async e=>o.loadLibrary(e,{async:true})))}catch(t){const i=`Couldn't load building block ${this.metadata.name} please make sure the following libraries are available ${this.metadata.libraries.join(",")}`;e.error(i);throw new Error(i)}}return Promise.resolve(this)};var r=i.prototype;r.getTemplate=function e(t){const i=this.constructor.metadata;const r=`${i.namespace??i.publicNamespace}.${i.name}`;const n=[];const o=[];const s=[];const c=[];for(const e in i.properties){let t=this[e];if(t!==undefined&&t!==null){if(a(t)){t=t.getPath()}if(i.properties[e].type==="function"){o.push(t);c.push(t);s.push(e)}else{n.push(u`feBB:${e}="${t}"`)}}}if(o.length>0){n.push(u`functionHolder="${o.join(";")}"`);n.push(u`feBB:functionStringInOrder="${c.join(",")}"`);n.push(u`feBB:propertiesAssignedToFunction="${s.join(",")}"`)}return u`<feBB:RuntimeBuildingBlockFragment
					xmlns:core="sap.ui.core"
					xmlns:feBB="sap.fe.core.buildingBlocks"
					fragmentName="${r}"

					id="{this>id}"
					type="FE_COMPONENTS"
					${n.length>0?n:""}
				>
				</feBB:RuntimeBuildingBlockFragment>`};return i}(t);d.isRuntime=true;s=d;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/RuntimeBuildingBlockFragment", ["sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/HookSupport","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ClassSupport","sap/fe/core/jsx-runtime/jsx","sap/m/Label","sap/ui/base/ManagedObject","sap/ui/core/Component","sap/ui/core/Fragment"],function(e,n,t,i,o,r,a,l,s){"use strict";var c,u,d,f,p;var g={};var v=i.event;var b=i.defineUI5Class;var m=t.resolveBindingString;var w=n.initControllerExtensionHookHandlers;function h(e,n,t,i){if(!t)return;Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function C(e,n){e.prototype=Object.create(n.prototype);e.prototype.constructor=e;O(e,n)}function O(e,n){O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(n,t){n.__proto__=t;return n};return O(e,n)}function k(e,n,t,i,o){var r={};Object.keys(i).forEach(function(e){r[e]=i[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=t.slice().reverse().reduce(function(t,i){return i(e,n,t)||t},r);if(o&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(o):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,n,r);r=null}return r}function j(e,n){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let M=(c=b("sap.fe.core.buildingBlocks.RuntimeBuildingBlockFragment"),u=v(),c(d=(f=function(e){C(n,e);function n(){var n;for(var t=arguments.length,i=new Array(t),o=0;o<t;o++){i[o]=arguments[o]}n=e.call(this,...i)||this;h(n,"functionHolder",p,y(n));return n}g=n;return n}(s),p=k(f.prototype,"functionHolder",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),f))||d);g=M;const _={};function E(e){_[`${e.metadata.namespace??e.metadata.publicNamespace}.${e.metadata.name}`]=e}g.storeRuntimeBlock=E;M.registerType("FE_COMPONENTS",{load:async function(e){let n;try{n=await _[e.fragmentName].load()}catch(n){e.loadErrorMessage=n}return n},init:function(n){var t,i,s,c,u,d,f,p,g,v,b,h,y;if(n.loadErrorMessage){return new r({text:n.loadErrorMessage})}let C=n.fragmentContent;if(C===undefined){C=_[n.fragmentName]}if(C===undefined){throw new Error(`No building block class for runtime building block ${n.fragmentName} found`)}const O={};const k=((t=n.customData)===null||t===void 0?void 0:(i=t[0])===null||i===void 0?void 0:(s=i.mProperties)===null||s===void 0?void 0:(c=s.value)===null||c===void 0?void 0:c["sap.fe.core.buildingBlocks"])||{};delete n.customData;const j=n.functionHolder??[];delete n.functionHolder;const M=((u=(d=n.containingView).getController)===null||u===void 0?void 0:(f=(p=u.call(d)).getView)===null||f===void 0?void 0:f.call(p))??((g=(v=n.containingView).getController)===null||g===void 0?void 0:(b=g.call(v))===null||b===void 0?void 0:b["_view"])??n.containingView;const E=l.getOwnerComponentFor(M);const x=e.getAppComponent(M);const z=x.getMetaModel();const B=E.getModel("_pageModel");const N=(h=k.functionStringInOrder)===null||h===void 0?void 0:h.split(",");const P=(y=k.propertiesAssignedToFunction)===null||y===void 0?void 0:y.split(",");for(const e in C.metadata.properties){const n=C.metadata.properties[e];const t=B.createBindingContext(k[e]);if(t===null){let t=k[e];if(typeof t==="string"){if(n.bindable!==true){switch(n.type){case"boolean":t=t==="true";break;case"number":t=Number(t);break}}else{t=m(t,n.type)}}else if(n.type==="function"){const n=P.indexOf(e);const i=N[n];const o=j===null||j===void 0?void 0:j.find(e=>{var n;return((n=e[0])===null||n===void 0?void 0:n._sapui_handlerName)===i});if(o&&o.length>1){t=o[0].bind(o[1])}}O[e]=t}else if(t.getObject()!==undefined){O[e]=t.getObject()}else{O[e]=z.createBindingContext(k[e])}}return a.runWithPreprocessors(()=>{const e=o.withContext({view:M,appComponent:x},()=>{var e;const n={models:{"sap.fe.i18n":M.getModel("sap.fe.i18n")},appComponent:x};const t=new C(O,{},n);w(t,M.getController());return(e=t.getContent)===null||e===void 0?void 0:e.call(t,M,x)});if(!this._bAsync){this._aContent=e}return e},{id:function(e){return M.createId(e)},settings:function(e){const t=this.getMetadata().getAssociations();for(const i of Object.keys(t)){if(e[i]!==undefined){const t=Array.isArray(e[i])?e[i]:[e[i]];e[i]=t.map(e=>typeof e==="string"?n.containingView.createId(e):e)}}return e}})}});return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/buildingBlocks/TraceInfo", ["sap/base/Log","sap/ui/base/ManagedObject","sap/ui/core/util/XMLPreprocessor"],function(t,e,n){"use strict";var r=e.bindingParser;const i=[];const o="http://schemas.sap.com/sapui5/extension/sap.fe.info/1",a="http://www.w3.org/2000/xmlns/",s=location.search.includes("sap-ui-xx-feTraceInfo=true"),c=["sap.m","sap.uxap","sap.ui.unified","sap.f","sap.ui.table","sap.suite.ui.microchart","sap.ui.layout.form","sap.ui.mdc","sap.ui.mdc.link","sap.ui.mdc.field","sap.fe.fpm"],u={};function l(t){return JSON.parse(JSON.stringify(t))}async function f(t,e,n,i){let o;const a=[];try{o=r(t,undefined,false,true)||[]}catch(t){o=[]}o=Array.isArray(o)?o:[o];o.filter(function(t){return t.path||t.parts}).forEach(function(t){const r=t.parts||[t];r.filter(function(t){return t.path}).forEach(function(t){const r=e[t.model]=e[t.model]||{};const o=!t.path.includes(">")?(t.model&&`${t.model}>`)+t.path:t.path;let s;let c;if(typeof t.model==="undefined"&&o.includes(">")){c=o.split(">");t.model=c[0];t.path=c[1]}try{s=n.getContext(o);const e=n.getResult(`{${o}}`,i);a.push(e.then(function(e){var n;if(((n=s)===null||n===void 0?void 0:n.getModel().getMetadata().getName())==="sap.ui.model.json.JSONModel"){if(!e.getModel()){r[t.path]=e}else{r[t.path]=`Context from ${e.getPath()}`}}else{r[t.path]={path:s.getPath(),data:typeof e==="object"?"[ctrl/cmd-click] on path to see data":e}}return}).catch(function(){r[t.path]={bindingFor:"Runtime"}}))}catch(e){r[t.path]={bindingFor:"Runtime"}}})});return Promise.all(a)}async function p(t,e,n,r){return t.then(function(t){e[n]=r!==t?{originalValue:r,resolvedValue:t}:r;return}).catch(function(t){const i=t;e[n]={originalValue:r,error:i.stack&&i.stack.toString()||t}})}async function h(t,e){const n={};const r=[];const i={};let o;for(let a=t.attributes.length>>>0;a--;){const s=t.attributes[a],c=s.nodeName,u=t.getAttribute(c);if(!["core:require"].includes(c)){r.push(f(u,i,e,t));o=e.getResult(u,t);if(o){r.push(p(o,n,c,u))}else{}}}return Promise.all(r).then(function(){return{properties:n,contexts:i}})}async function d(e,n){try{const t=e.nodeName.split(":")[1]||e.nodeName,r=/^[A-Z]/.test(t),s={isError:false,control:`${e.namespaceURI}.${e.nodeName.split(":")[1]||e.nodeName}`,metaDataContexts:[],properties:{}};if(r){const t=[...e.ownerDocument.children].find(t=>!t.nodeName.startsWith("#"));if(t&&!t.getAttribute("xmlns:trace")){t.setAttributeNS(a,"xmlns:trace",o);t.setAttributeNS(o,"trace:is","on")}return await h(e,n).then(async function(t){const r=Object.keys(t.contexts).length>0;if(r){Object.assign(s,t);s.viewInfo=n.getViewInfo();s.macroInfo=n.getSettings()["_macroInfo"];s.traceID=i.length;e.setAttributeNS(o,"trace:traceID",s.traceID.toString());i.push(s)}return n.visitAttributes(e)}).then(async function(){return n.visitChildNodes(e)}).catch(function(t){s.error={exception:t,node:(new XMLSerializer).serializeToString(e)}})}else{await n.visitAttributes(e);await n.visitChildNodes(e)}}catch(r){t.error(`Error while tracing '${e===null||e===void 0?void 0:e.nodeName}': ${r.message}`,"TraceInfo");return n.visitAttributes(e).then(async function(){return n.visitChildNodes(e)})}}if(s){c.forEach(function(t){u[t]=n.plugIn(d.bind(t),t)})}function m(t,e,n,r,s){try{let c=e.metadataContexts&&Object.keys(e.metadataContexts)||[];const u=e.properties&&Object.keys(e.properties)||[];const f=l(s.getSettings()["_macroInfo"]||{});const p={isError:false,macro:t,metaDataContexts:[],properties:{}};if(c.length===0){c=Object.keys(n).filter(function(t){return t!=="this"})}if(!r.getAttribute("xmlns:trace")){r.setAttributeNS(a,"xmlns:trace",o)}if(c.length>0){c.forEach(function(t){const e=n[t],r=e&&{name:t,path:e.getPath()};if(r){p.metaDataContexts.push(r)}});u.forEach(function(t){const e=n.this.getObject(t);if(e){p.properties[t]=e}});p.viewInfo=s.getViewInfo();p.traceID=i.length;f.parentMacroID=f.macroID;f.macroID=p.traceID.toString();p.macroInfo=f;r.setAttributeNS(o,"trace:macroID",p.traceID.toString());i.push(p)}return p}catch(e){var c;return{isError:true,error:{exception:e,node:(new XMLSerializer).serializeToString(r)},name:t,contextPath:s===null||s===void 0?void 0:(c=s.getContext())===null||c===void 0?void 0:c.getPath(),metaDataContexts:[],properties:{}}}}function g(t){if(t){return i[t]}const e=i.filter(function(t){return t.error});return e.length>0&&e||i}function b(){return s}return{isTraceInfoActive:b,traceMacroCalls:m,getTraceInfo:g}},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/BaseControllerExtension", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/ControllerExtension"],function(e,t){"use strict";var r,n;var o={};var i=e.defineUI5Class;function s(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}function u(e,t){u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return u(e,t)}let a=(r=i("sap.fe.core.controllerextensions.BaseControllerExtension"),r(n=function(e){c(t,e);function t(){var t;t=e.call(this)||this;s(t).init();return t}o=t;return t}(t))||n);o=a;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/BusyLocker", ["sap/base/Log"],function(e){"use strict";const n=30,t={},u={getId:function(){return"BusyLocker.ReferenceDummy"},setBusy:function(n){e.info(`setBusy(${n}) triggered on dummy reference`)}};function o(e,n){return e.getId()+(n||"/busy")}function r(e,n){return o(e,n)in t}function c(n,r){if(!n||!n.getId){e.warning("No reference for BusyLocker, using dummy reference");n=u}r=r||"/busy";const c=o(n,r);if(!(c in t)){t[c]={id:c,path:r,reference:n,count:0}}return t[c]}function i(e){delete t[e.id]}function s(t){const u=t.reference.isA&&t.reference.isA("sap.ui.model.Model"),o=t.count!==0;if(u){t.reference.setProperty(t.path,o,undefined,true)}else if(t.reference.setBusy){t.reference.setBusy(o)}clearTimeout(t.timeout);if(o){t.timeout=setTimeout(function(){e.error(`busy lock for ${t.id} with value ${t.count} timed out after ${n} seconds!`)},n*1e3)}else{i(t)}return o}function f(n,t){if(t===0){n.count=0;e.info(`busy lock count '${n.id}' was reset to 0`)}else{n.count+=t;e.info(`busy lock count '${n.id}' is ${n.count}`)}}const d={lock:function(e,n){return this._updateLock(e,n,1)},unlock:function(e,n){return this._updateLock(e,n,-1)},isLocked:function(e,n){return r(e,n)},_updateLock:function(e,n,t){const u=c(e,n);f(u,t);return s(u)}};return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/EditFlow", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BaseControllerExtension","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/Feedback","sap/fe/core/controllerextensions/HookSupport","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/controllerextensions/editFlow/TransactionHelper","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/controllerextensions/editFlow/sticky","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/EditState","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/fe/core/library","sap/m/Button","sap/m/Dialog","sap/m/MessageToast","sap/m/Text","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/core/mvc/OverrideExecution","sap/ui/model/Filter","sap/ui/model/Sorter","sap/ui/model/odata/v4/ODataListBinding","../ActionRuntime","../controls/Recommendations/ConfirmRecommendationDialog.block","./routing/NavigationReason"],function(e,t,i,n,o,r,s,a,c,l,d,g,u,f,h,p,y,m,v,w,C,M,D,P,b,S,E,A,x,k,R,I){"use strict";var _,O,F,T,B,V,H,N,j,L,G,$,U,q,K,W,z,J,Q,X,Y,Z,ee,te,ie,ne,oe,re,se,ae,ce,le,de,ge,ue,fe,he,pe,ye,me,ve,we,Ce,Me;var De=p.getResourceModel;var Pe=u.publicExtension;var be=u.finalExtension;var Se=u.extensible;var Ee=u.defineUI5Class;var Ae=g.getInvolvedDataModelObjects;var xe=g.convertTypes;var ke=a.shareObject;var Re=a.Activity;var Ie=r.hookable;var _e=o.triggerConfiguredSurvey;var Oe=o.TriggerType;var Fe=o.StandardActions;function Te(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Be(e,t)}function Be(e,t){Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return Be(e,t)}function Ve(e,t,i,n,o){var r={};Object.keys(n).forEach(function(e){r[e]=n[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},r);if(o&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(o):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}const He=m.CreationMode,Ne=m.ProgrammingModel,je=m.Constants,Le=m.DraftStatus,Ge=m.EditMode,$e=m.StartupMode,Ue=P.MessageType;let qe=(_=Ee("sap.fe.core.controllerextensions.EditFlow"),O=Pe(),F=be(),T=Pe(),B=be(),V=Pe(),H=be(),N=Pe(),j=Se(S.After),L=Pe(),G=Se(S.After),$=Pe(),U=Se("AfterAsync"),q=Pe(),K=Se(S.After),W=Pe(),z=Se(S.After),J=Pe(),Q=Ie("after"),X=Se(S.After),Y=Pe(),Z=Se(S.After),ee=Pe(),te=Se(S.After),ie=Pe(),ne=Se(S.After),oe=Pe(),re=Se(S.After),se=Pe(),ae=be(),ce=Pe(),le=be(),de=Pe(),ge=be(),ue=Pe(),fe=be(),he=Pe(),pe=be(),ye=Pe(),me=Se(S.After),ve=Pe(),we=be(),_(Ce=(Me=function(i){Te(o,i);function o(){var n;for(var o=arguments.length,r=new Array(o),s=0;s<o;s++){r[s]=arguments[s]}n=i.call(this,...r)||this;n.syncTasks=Promise.resolve();n.handleSideEffects=async(i,o)=>{try{const e=await o;await e.created();if(!t.hasTransientContext(i)){n.getAppComponent().getSideEffectsService().requestSideEffectsForNavigationProperty(i.getPath(),n.getView().getBindingContext())}}catch(t){e.error("Error while creating the document",t)}};n.createCustomValidationMessages=(e,t)=>{var i;const o=t.getCreationRow().data("customValidationFunction");const r=(i=t.getBindingContext("internal"))===null||i===void 0?void 0:i.getProperty("creationRowCustomValidity");const s=D.getMessageManager();const a=[];let c;let l;const d=s.getMessageModel().getData().filter(e=>e.getCode()===o);s.removeMessages(d);e.forEach(e=>{if(e.messageTarget){var t;c=D.byId(r[e.messageTarget].fieldId);l=`${(t=c.getBindingContext())===null||t===void 0?void 0:t.getPath()}/${c.getBindingPath("value")}`;if(!s.getMessageModel().getData().filter(e=>e.getTargets().some(e=>e===l)).length){s.addMessages(new b({message:e.messageText,processor:n.getView().getModel(),type:Ue.Error,code:o,technical:false,persistent:false,target:l}))}const i=s.getMessageModel().getData().filter(e=>e.getTargets().some(e=>e===l));i[0].addControlId(r[e.messageTarget].fieldId)}else{a.push({code:o,text:e.messageText,persistent:true,type:Ue.Error})}});if(a.length){n.getMessageHandler().showMessageDialog({customMessages:a})}};n.resolveCreationMode=(e,t,i)=>{if(e!==He.NewPage){return e}else{const e=t.getModel().getMetaModel();const c=n.getProgrammingModel(t);if(!t.isRelative()){var o,r,s,a;const i=Ae(e.getMetaContext(t.getPath()));const n=i.targetEntitySet,l=(o=c===Ne.Draft?n===null||n===void 0?void 0:(s=n.annotations.Common)===null||s===void 0?void 0:s.DraftRoot:n===null||n===void 0?void 0:(a=n.annotations.Session)===null||a===void 0?void 0:a.StickySessionSupported)===null||o===void 0?void 0:(r=o.NewAction)===null||r===void 0?void 0:r.toString();if(l&&i.targetEntityType.actions[l].parameters.length>1){return He.Deferred}}const l=n.getTransactionHelper().getCreationParameters(t,i,n.getAppComponent());if(l.length){return He.Deferred}return He.Async}};return n}var r=o.prototype;r.getInterface=function e(){return i.prototype.getInterface.call(this)};r.getAppComponent=function e(){return this.base.getAppComponent()};r.editDocument=async function i(n){const o=this.getTransactionHelper();const r=this._getRootViewController();const s=n.getModel();const a=this.getView().getViewData();const c=this.getProgrammingModel(n);let l=n;const d=this.base.getView();const g="editGroup";try{if((a===null||a===void 0?void 0:a.viewLevel)>1){if(c===Ne.Draft||c===Ne.Sticky){l=await t.createRootContext(c,d,this.getAppComponent())}}await this.base.editFlow.onBeforeEdit({context:l});const e=this._isFclEnabled()?r.getRightmostContext():n;const i=o.editDocument(l,this.getView(),this.getAppComponent(),this.getMessageHandler(),g);const u={rootSiblingPathPromise:i};this._setStickySessionInternalProperties(c,s);let f;const p=e!==l||(a===null||a===void 0?void 0:a.viewLevel)>1;if(p){f=this._computeSiblingInformation(l,e,c,true,u,g)}n.getModel().submitBatch(g);let y=await f;const m=await i;let v=m;if(p){if(y===undefined){y=await this._computeSiblingInformation(l,e,c,true,u,"$auto")}v=this._getNavigationTargetForEdit(n,m,y)}else{this._updatePathsInHistory([])}if(m){this.setEditMode(Ge.Editable,false);this.setDocumentModified(false);this.getMessageHandler().showMessageDialog();if(m!==l){await this.base.editFlow.onAfterEdit({context:v});await this._handleNewContext(v,{editable:true,recreateContext:false,forceFocus:true});if(c===Ne.Sticky){let e;if(this._isFclEnabled()){e=m===null||m===void 0?void 0:m.getModel().getKeepAliveContext(m.getPath())}else{e=m}this.handleStickyOn(e)}else if(h.isCollaborationDraftSupported(s.getMetaModel())){await ke(m)}return v}}}catch(t){e.error("Error while editing the document",t)}};r.deleteMultipleDocuments=async function i(o,r){if(r){r.beforeDeleteCallBack=this.base.editFlow.onBeforeDelete;r.requestSideEffects=r.requestSideEffects!==false}else{r={beforeDeleteCallBack:this.base.editFlow.onBeforeDelete,requestSideEffects:true}}const s=this.getGlobalUIModel();const a=this.getView().byId(r.controlId)||D.byId(r.controlId);if(!a){throw new Error("parameter controlId missing or incorrect")}else{r.parentControl=a}const c=a.getBinding("items")||a.getRowBinding();r.bFindActiveContexts=true;n.lock(s);try{var l,d;if(this.getProgrammingModel(((l=r)===null||l===void 0?void 0:(d=l.selectedContexts)===null||d===void 0?void 0:d[0])??o[0])===Ne.Sticky){this.setDocumentModified(true)}await this.deleteDocumentTransaction(o,r);let e;if(a.isA("sap.ui.mdc.Table")){a.clearSelection()}const i=this.getView().getBindingContext();if(c.isRoot()){e=new Promise(e=>{c.attachEventOnce("dataReceived",function(){e()})});c.refresh()}else if(i){if(r.requestSideEffects&&!t.hasTransientContext(c)){this.getAppComponent().getSideEffectsService().requestSideEffectsForNavigationProperty(c.getPath(),i)}}if(!this.getAppComponent()._isFclEnabled()){f.setEditStateDirty()}await this.base.editFlow.onAfterDelete({contexts:o});this._sendActivity(Re.Delete,o);return e}catch(t){e.error("Error while deleting the document(s)",t)}finally{n.unlock(s)}};r.updateDocument=function t(i,n){const o=this.getView().getBindingContext();const r=this.getProgrammingModel(i)===Ne.Draft;this.getMessageHandler().removeTransitionMessages();return this.syncTask(async()=>{if(o){this.setDocumentModified(true);if(!this._isFclEnabled()){f.setEditStateDirty()}if(r){this.setDraftStatus(Le.Saving)}}try{await n;const e=this.getView().getBindingContext();if(!r||!e||e!==o){return}const t=e.getModel().getMetaModel();const i=t.getMetaContext(e.getPath()).getObject("@sapui.name");const s=y.getSemanticKeys(t,i);if(s!==null&&s!==void 0&&s.length){const t=this._getSemanticMapping();const i=t===null||t===void 0?void 0:t.semanticPath,n=y.getSemanticPath(e,true);if(i&&i!==n){await this._handleNewContext(e,{editable:true,recreateContext:false})}}this.setDraftStatus(Le.Saved)}catch(t){e.error("Error while updating the document",t);if(r&&o){this.setDraftStatus(Le.Clear)}}finally{await this.getMessageHandler().showMessages()}})};r.getParentContextFromSelection=function e(t){if(t&&t.length>1){throw new Error(`Cannot create a new document in a TreeTable with ${t.length} parents`)}return(t===null||t===void 0?void 0:t.length)===1?t[0]:undefined};r.createDocument=async function e(t,i){var n,o;let r;const s=i;let a;if(s.creationMode!==He.External){if(typeof t==="string"){const e=this.getView().getModel();if(!e){return}r=e.bindList(t);s.creationMode=He.Sync;delete s.createAtEnd}else if(t.isA("sap.ui.model.odata.v4.ODataListBinding")){r=t}else{throw new Error("Binding object or path expected")}if(this.getTransactionHelper().isListBindingHierarchical(r)){a=this.getParentContextFromSelection(s.selectedContexts)}}const c=this.resolveCreationMode(s.creationMode,r,s.data);this.getAppComponent().getRouterProxy().removeIAppStateKey();if((n=this.getAppComponent().getManifest()["sap.fe"])!==null&&n!==void 0&&(o=n.app)!==null&&o!==void 0&&o.singleDraftForCreate&&r===r.getRootBinding()){r.filter(new E({filters:[new E({path:"IsActiveEntity",operator:"EQ",value1:false}),new E({path:"HasActiveEntity",operator:"EQ",value1:false})],and:true}));r.sort(new A("DraftAdministrativeData/LastChangeDateTime",true));return r.requestContexts(0,1).then(async e=>{if(e.length>0){return this._handleNewContext(e[0],{editable:true,recreateContext:false})}return this._handleCreationMode(c,t,s,r,a)})}return this._handleCreationMode(c,t,s,r,a)};r._handleCreationMode=async function e(t,i,n,o,r){switch(t){case He.External:return this.createExternalDocument(i,n.outbound);case He.Deferred:return this.createDeferredDocument(o,r,n.data);case He.CreationRow:return n.creationRow?this.createCreateRowDocument({creationRow:n.creationRow,skipSideEffects:n.skipSideEffects,createAtEnd:n.createAtEnd}):undefined;case He.Inline:return this.createInlineDocument({tableId:n.tableId,createAtEnd:n.createAtEnd,skipSideEffects:n.skipSideEffects,parentContext:r,data:n.data},o);case He.Sync:case He.Async:return this.createSyncAsyncDocument({creationMode:t,data:n.data,bFromDeferred:n.bFromDeferred,skipSideEffects:n.skipSideEffects,createAction:n.createAction,parentContext:r},o);default:throw new Error(`Unhandled creationMode ${t}`)}};r.postDocumentCreation=async function e(t,i){const n=this.getProgrammingModel(i);const o=i.getModel();const r=await t;const a=r[0];this._setStickySessionInternalProperties(n,o);await this.base.editFlow.onAfterCreate({context:a});this.setEditMode(Ge.Editable);if(!i.isRelative()&&n===Ne.Sticky){var c,l;const e=o.getMetaModel().getMetaContext(i.getPath());const t=Ae(e).startingEntitySet;const n=t===null||t===void 0?void 0:(c=t.annotations.Session)===null||c===void 0?void 0:(l=c.StickySessionSupported)===null||l===void 0?void 0:l.NewAction;this.getInternalModel().setProperty("/lastInvokedAction",n)}if(a){this.setDocumentModifiedOnCreate(i);if(!this._isFclEnabled()){f.setEditStateDirty()}this._sendActivity(Re.Create,a);if(h.isCollaborationDraftSupported(o.getMetaModel())&&this.isDraftRoot(a)&&!s.isConnected(this.getView())){await ke(a)}}};r.createCreateRowDocument=async function t(i){var o,r,s;const a=this.getAppComponent();const c=i.creationRow;const l=i.creationRow.getParent();let d=Promise.resolve();if(!l){return}const g=(o=l.getModel())===null||o===void 0?void 0:o.getMetaModel();const u=l.getRowBinding();if(this.getTransactionHelper().isListBindingHierarchical(u)){throw new Error(`Unhandled creationMode "CreationRow" with a TreeTable`)}const f=c.getBindingContext();const h=this.getCreationRowValidationFunction(l);if(c.data("disableAddRowButtonForEmptyData")==="true"){var p;(p=l.getBindingContext("internal"))===null||p===void 0?void 0:p.setProperty("creationRowFieldValidity",{})}const y=await this.syncTask(h);if(y.length>0){this.createCustomValidationMessages(y,l);e.error("Custom Validation failed");return}const m=Ae(g.getMetaContext(f.getPath())).targetEntityType;const v=f.getObject();await this._checkForValidationErrors();u.attachEventOnce("change",async()=>{await w;l.scrollToIndex(i.createAtEnd?l.getRowBinding().getLength():0)});this.handleCreateEvents(u);const w=this.getTransactionHelper().createDocument(u,{data:Object.assign({},...Object.keys(v).filter(e=>m.navigationProperties.findIndex(t=>t.name===e)===-1).map(e=>({[e]:v[e]}))),keepTransientContextOnFailed:false,busyMode:"Local",busyId:l===null||l===void 0?void 0:(r=l.getParent())===null||r===void 0?void 0:(s=r.getTableDefinition())===null||s===void 0?void 0:s.annotation.id,parentControl:this.getView(),beforeCreateCallBack:this.base.editFlow.onBeforeCreate,skipParameterDialog:a.getStartupMode()===$e.AutoCreate,createAtEnd:i.createAtEnd,creationMode:He.CreationRow},a,this.getMessageHandler(),false);if(!i.skipSideEffects){this.handleSideEffects(u,w)}try{var C;const t=f.getBinding();const i=t.create();c.setBindingContext(i);(C=i.created())===null||C===void 0?void 0:C.catch(()=>{e.trace("transient fast creation context deleted")});d=f.delete("$direct")}catch(t){if(n.isLocked(this.getView().getModel("ui"))){n.unlock(this.getView().getModel("ui"))}e.error("CreationRow navigation error: ",t)}return this.postDocumentCreation(Promise.all([w,d]),u)};r.createInlineDocument=async function e(t,i){var n,o,r,s;let a;if(t.tableId){a=this.getView().byId(t.tableId)}if((n=a)!==null&&n!==void 0&&n.isA("sap.ui.mdc.Table")){a.getRowBinding().attachEventOnce("change",async()=>{var e;await c;(e=a)===null||e===void 0?void 0:e.focusRow(t.createAtEnd?a.getRowBinding().getLength():0,true)})}this.handleCreateEvents(i);const c=this.getTransactionHelper().createDocument(i,{keepTransientContextOnFailed:false,busyMode:"Local",busyId:(o=a)===null||o===void 0?void 0:(r=o.getParent())===null||r===void 0?void 0:(s=r.getTableDefinition())===null||s===void 0?void 0:s.annotation.id,parentControl:this.getView(),beforeCreateCallBack:this.base.editFlow.onBeforeCreate,skipParameterDialog:this.getAppComponent().getStartupMode()===$e.AutoCreate,createAtEnd:t.createAtEnd,creationMode:He.Inline,parentContext:t.parentContext,data:t.data},this.getAppComponent(),this.getMessageHandler(),false);if(!t.skipSideEffects){this.handleSideEffects(i,c)}return this.postDocumentCreation(Promise.all([c,this.syncTask(c)]),i)};r.createDeferredDocument=async function e(t,i,o){const r=this.getGlobalUIModel();n.lock(r);await this.getInternalRouting().navigateForwardToContext(t,{createOnNavigateParameters:{mode:"Deferred",parentContext:i,listBinding:t,data:o},editable:true,forceFocus:true});n.unlock(r)};r.createSyncAsyncDocument=async function e(t,i){let o;const r=this.getGlobalUIModel();const s=this.getInternalRouting();n.lock(r);const a=this.getTransactionHelper().createDocument(i,{...t,...{parentControl:this.getView(),beforeCreateCallBack:this.base.editFlow.onBeforeCreate,skipParameterDialog:this.getAppComponent().getStartupMode()===$e.AutoCreate}},this.getAppComponent(),this.getMessageHandler(),false);if(t.bFromDeferred!==true&&!t.skipSideEffects){this.handleSideEffects(i,a)}if(t.creationMode===He.Async){o=s.navigateForwardToContext(i,{createOnNavigateParameters:{mode:"Async",createContextPromise:a},editable:true,forceFocus:true})}else{o=a.then(e=>{if(!e){const e=D.getLibraryResourceBundle("sap.fe.core");return s.navigateToMessagePage(e.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"),{title:e.getText("C_COMMON_SAPFE_ERROR"),description:e.getText("C_EDITFLOW_SAPFE_CREATION_FAILED_DESCRIPTION")})}else{const n={editable:true,forceFocus:true,reason:I.EditFlowAction,transient:this.getProgrammingModel(i)==Ne.Sticky||t.createAction?true:undefined};return t.bFromDeferred?s.navigateToContext(e,n):s.navigateForwardToContext(e,n)}})}try{await this.postDocumentCreation(Promise.all([a,o]),i)}catch(e){if([je.CancelActionDialog,je.ActionExecutionFailed,je.CreationFailed].includes(e)){this.getInternalRouting().navigateBackFromTransientState()}throw e}finally{n.unlock(r)}};r.createExternalDocument=async function e(t,i){if(i){if(typeof t!=="string"&&this.getTransactionHelper().isListBindingHierarchical(t)){throw new Error(`Unhandled creationMode "External" with a TreeTable`)}await this.syncTask();const e=this.getView().getController();const n=h.getAbsoluteMetaPathForListBinding(this.base.getView(),t);e._intentBasedNavigation.onChevronPressNavigateOutBound(e,i,undefined,n)}};r.validateDocument=function e(t,i){return this.getTransactionHelper().validateDocument(t,i,this.getView())};r.getCreationRowValidationFunction=function e(t){const i=t===null||t===void 0?void 0:t.getCreationRow();if(i&&t){return async()=>{const e=i.getBindingContext().getObject();delete e["@$ui5.context.isTransient"];return this.validateDocument(t.getBindingContext(),{data:e,customValidationFunction:t.getCreationRow().data("customValidationFunction")})}}return async()=>Promise.resolve()};r.createMultipleDocuments=async function i(o,r,a,c,l){let d=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;let g=arguments.length>6?arguments[6]:undefined;const u=this.getTransactionHelper();const f=this.getGlobalUIModel();const h=o;g=g!==false;if(!d){n.lock(f)}try{await this.syncTask();if(l){await l({contextPath:h.getPath()})}const e=h.getModel().getMetaModel();let i;if(h.getContext()){i=e.getMetaPath(`${h.getContext().getPath()}/${h.getPath()}`)}else{i=e.getMetaPath(h.getPath())}this.handleCreateEvents(h);const n=r.map(t=>{const n={data:{}};n.keepTransientContextOnFailed=false;n.creationMode=He.CreationRow;n.createAtEnd=a;n.inactive=d;for(const o in t){const r=e.getObject(`${i}/${o}`);if(r&&r.$kind!=="NavigationProperty"&&!o.includes("/")&&t[o]){n.data[o]=t[o]}}return u.createDocument(h,n,this.getAppComponent(),this.getMessageHandler(),c)});const o=await Promise.all(n);if(!d){this.setDocumentModifiedOnCreate(h)}const f=o.filter(e=>!e.isInactive());await Promise.all(f.map(e=>e.created()));const p=this.getView().getBindingContext();if(g&&!t.hasTransientContext(h)){this.getAppComponent().getSideEffectsService().requestSideEffectsForNavigationProperty(h.getPath(),p)}if(s.isConnected(this.getView())&&f.length>0){this._sendActivity(Re.Create,f)}return o}catch(t){e.error("Error while creating multiple documents.");throw t}finally{if(!d){n.unlock(f)}}};r.onBeforeSave=function e(t){return Promise.resolve()};r.onBeforeCreate=function e(t){return Promise.resolve()};r.onBeforeEdit=function e(t){return Promise.resolve()};r.onBeforeDiscard=function e(t){return Promise.resolve()};r.onBeforeDelete=function e(t){return Promise.resolve()};r.onAfterSave=async function e(t){return Promise.resolve()};r.onAfterCreate=async function e(t){return Promise.resolve()};r.onAfterEdit=async function e(t){return Promise.resolve()};r.onAfterDiscard=async function e(t){return Promise.resolve()};r.onAfterDelete=async function e(t){return Promise.resolve()};r.saveDocument=async function t(i,n){n=n||{};const o=n.bExecuteSideEffectsOnError||undefined;const r=this.getTransactionHelper();const a=n.bindings;try{await this.syncTask();this.getMessageHandler().removeTransitionMessages();if(n.mergePatchDraft!==true){await this._submitOpenChanges(i)}await this._checkForValidationErrors();if(this.base.recommendations.checkIfRecommendationsExist()){const e=await this.showConfirmRecommendationsDialog(true);if(e===false){return await Promise.reject("Cancel")}}await this.base.editFlow.onBeforeSave({context:i});const e=this.getProgrammingModel(i);const t=this._getRootViewController();let c;if((e===Ne.Sticky||i.getProperty("HasActiveEntity"))&&t.isFclEnabled()){c=await this._computeSiblingInformation(i,t.getRightmostContext(),e,true)}if(i.getModel().hasPendingChanges("$auto")&&n.mergePatchDraft){i.getModel().submitBatch("$auto")}const l=await r.saveDocument(i,this.getAppComponent(),this._getResourceModel(),o,a,this.getMessageHandler(),this.getCreationMode());this._removeStickySessionInternalProperties(e);await this.base.editFlow.onAfterSave({context:l});this._sendActivity(Re.Activate,l);s.disconnect(this.getView());this._triggerConfiguredSurvey(Fe.save,Oe.standardAction);this.setDocumentModified(false);this.setEditMode(Ge.Display,false);this.getMessageHandler().showMessageDialog();if(l!==i){let e=l;c=c??this._createSiblingInfo(i,l);this._updatePathsInHistory(c.pathMapping);if(t.isFclEnabled()){if(c.targetContext.getPath()!==l.getPath()){e=c.targetContext}}await this._handleNewContext(e,{editable:false,recreateContext:false,forceFocus:true})}}catch(t){if(!(t&&t.canceled)){e.error("Error while saving the document",t)}throw t}};r.toggleDraftActive=async function e(t){const i=t.getObject();let n;const o=t&&this.getProgrammingModel(t)===Ne.Draft;if(!o||!(!i.IsActiveEntity&&i.HasActiveEntity||i.IsActiveEntity&&i.HasDraftEntity)){return}if(!i.IsActiveEntity&&i.HasActiveEntity){n=false}else{n=true}try{const e=this._getRootViewController();const i=e.isFclEnabled()?e.getRightmostContext():t;let o=await this._computeSiblingInformation(t,i,Ne.Draft,false);if(!o&&t!==i){o=await this._computeSiblingInformation(t,t,Ne.Draft,false)}if(o){this.setEditMode(n?Ge.Editable:Ge.Display,false);if(e.isFclEnabled()){const e=this._getSemanticMapping();if((e===null||e===void 0?void 0:e.technicalPath)===t.getPath()){const t=o.pathMapping[o.pathMapping.length-1].newPath;o.pathMapping.push({oldPath:e.semanticPath,newPath:t})}}this._updatePathsInHistory(o.pathMapping);await this._handleNewContext(o.targetContext,{editable:n,recreateContext:true,forceFocus:true})}else{throw new Error("Error in EditFlow.toggleDraftActive - Cannot find sibling")}}catch(e){throw new Error(`Error in EditFlow.toggleDraftActive:${e}`)}};r.cancelDocument=async function t(i,n){const o=this.getTransactionHelper();const r=n;let a;let c=false;r.cancelButton=n.control||r.cancelButton;r.beforeCancelCallBack=this.base.editFlow.onBeforeDiscard;try{await this.syncTask();const e=this.getProgrammingModel(i);if((e===Ne.Sticky||i.getProperty("HasActiveEntity"))&&this._isFclEnabled()){const t=this._getRootViewController();a=await this._computeSiblingInformation(i,t.getRightmostContext(),e,true)}const t=await o.cancelDocument(i,r,this.getAppComponent(),this._getResourceModel(),this.getMessageHandler(),this.getCreationMode(),this.isDocumentModified());this._getRootViewController().getInstancedViews().forEach(e=>{const t=e.getBindingContext();if(t&&t.isKeepAlive()){t.setKeepAlive(false)}});this._removeStickySessionInternalProperties(e);this.setEditMode(Ge.Display,false);this.setDocumentModified(false);this.setDraftStatus(Le.Clear);await this.base.editFlow.onAfterDiscard({context:typeof t==="boolean"||t===null?undefined:t});f.setEditStateDirty();if(!t){this._sendActivity(Re.Discard,undefined);s.disconnect(this.getView());if(!r.skipBackNavigation){await this.getInternalRouting().navigateBackFromContext(i);c=true}}else{const n=t;this._sendActivity(Re.Discard,n);s.disconnect(this.getView());let o=n;a=a??this._createSiblingInfo(i,n);this._updatePathsInHistory(a.pathMapping);if(this._isFclEnabled()){if(a.targetContext.getPath()!==n.getPath()){o=a.targetContext}}if(e===Ne.Draft){await this._fetchSemanticKeyValues(n);if(!r.skipBindingToView){await this._handleNewContext(o,{editable:false,recreateContext:true,forceFocus:true})}else{return n}}else{await this._handleNewContext(o,{editable:false,recreateContext:false,forceFocus:true})}}if(e===Ne.Draft){this.showDocumentDiscardMessage(c)}}catch(t){e.error("Error while discarding the document",t)}};r.showDocumentDiscardMessage=function e(t){const i=this._getResourceModel();const n=i.getText("C_TRANSACTION_HELPER_DISCARD_DRAFT_TOAST");if(t==true){const e=this.getAppComponent();e.getRoutingService().attachAfterRouteMatched(this.showMessageWhenNoContext,this)}else{C.show(n)}};r.showMessageWhenNoContext=function e(){const t=this._getResourceModel();const i=t.getText("C_TRANSACTION_HELPER_DISCARD_DRAFT_TOAST");const n=this.getAppComponent();C.show(i);n.getRoutingService().detachAfterRouteMatched(this.showMessageWhenNoContext,this)};r.isDraftRoot=function e(t){const i=t.getModel().getMetaModel();const n=i.getMetaContext(t.getPath());return h.isDraftRoot(Ae(n).targetEntitySet)};r.deleteDocument=async function t(i,n){const o=this.getAppComponent();let r=n;if(!r){r={bFindActiveContexts:false}}else{r.bFindActiveContexts=false}r.beforeDeleteCallBack=this.base.editFlow.onBeforeDelete;try{if(this._isFclEnabled()&&this.isDraftRoot(i)&&i.getIndex()===undefined&&i.getProperty("IsActiveEntity")===true&&i.getProperty("HasDraftEntity")===true){r.beforeDeleteCallBack=async t=>{await this.base.editFlow.onBeforeDelete(t);try{const e=i.getModel();const t=e.bindContext(`${i.getPath()}/SiblingEntity`).getBoundContext();const n=await t.requestCanonicalPath();const o=e.getKeepAliveContext(n);o.replaceWith(i)}catch(t){e.error("Error while replacing the draft instance in the LR ODLB",t)}}}if(this.getProgrammingModel(i)===Ne.Sticky){this.setDocumentModified(true)}await this.deleteDocumentTransaction(i,r);if(!this._isFclEnabled()){f.setEditStateDirty()}this._sendActivity(Re.Delete,i);if(o){o.getShellServices().setBackNavigation()}await this.base.editFlow.onAfterDelete({contexts:[i]});if((o===null||o===void 0?void 0:o.getStartupMode())===$e.Deeplink&&!this._isFclEnabled()){o.getRouterProxy().exitFromApp()}else{this.getInternalRouting().navigateBackFromContext(i)}}catch(t){e.error("Error while deleting the document",t)}};r.applyDocument=async function e(t){const i=this.getGlobalUIModel();try{await this.syncTask();if(t.getModel().hasPendingChanges("$auto")){n.lock(i);await this._submitOpenChanges(t)}if(this.base.recommendations.checkIfRecommendationsExist()){const e=await this.showConfirmRecommendationsDialog(false);if(e===false){return}}await this._checkForValidationErrors();await this.getMessageHandler().showMessageDialog();await this.getInternalRouting().navigateBackFromContext(t)}finally{if(n.isLocked(i)){n.unlock(i)}}};r.invokeAction=async function t(i,n,o){var r;let a;const c=this.getTransactionHelper();let l;let d;let g;const u=this.base.getView();let h=n||{};if(h.isA&&h.isA("sap.ui.model.odata.v4.Context")||Array.isArray(h)||o!==undefined){const e=h;h=o||{};if(e){h.contexts=e}else{h.model=this.getView().getModel()}}h.isNavigable=h.requiresNavigation||h.isNavigable;const p=xe((r=this.getView().getModel())===null||r===void 0?void 0:r.getMetaModel());if(i.includes(""+p.entityContainer.name)){h.isBound=false}else{h.isBound=true}if(!h.parentControl){h.parentControl=this.getView()}if(!h.entitySetName&&h.contexts&&h.model){h.entitySetName=h.model.getMetaModel().getMetaContext(h.contexts.getPath()).getObject("@sapui.name")}if(h.controlId){a=this.getView().byId(h.controlId);if(a){h.internalModelContext=a.getBindingContext("internal")}}else{h.internalModelContext=u.getBindingContext("internal")}if(i&&i.includes("(")){l=i.split("(");i=l[0];d=l[l.length-1].replaceAll(")","")}if(h.bStaticAction){if(a.isTableBound()){var y;h.contexts=((y=this.getView().getModel())===null||y===void 0?void 0:y.bindList(a.getRowBinding().getHeaderContext().getPath())).getHeaderContext()}else{const e=a.data("rowsBindingInfo").path,t=new x(this.getView().getModel(),e);h.contexts=t.getHeaderContext()}if(d&&a.getBindingContext()){h.contexts=this._getActionOverloadContextFromMetadataPath(a.getBindingContext(),a.getRowBinding(),d)}if(h.enableAutoScroll){g=this.createActionPromise(i,a.sId)}}h.bGetBoundContext=this._getBoundContext(u,h);h.bObjectPage=u.getViewData().converterType==="ObjectPage";try{await this.syncTask();const t=await c.callAction(i,h,this.getView(),this.getAppComponent(),this.getMessageHandler());let n;if(h.contexts&&h.isBound===true){n=await this._refreshListIfRequired(this.getActionResponseDataAndKeys(i,t),h.contexts[0])}if(s.isConnected(this.getView())){let e=[];if(t){e=Array.isArray(t)?Object.keys(t[0].value.getObject()):Object.keys(t.getObject())}this._sendActivity(Re.Action,h.contexts,i,n,e)}this._triggerConfiguredSurvey(i,Oe.action);if(g){g.fResolver(t)}if(h.contexts){if(!this._isFclEnabled()){f.setEditStateDirty()}this.getInternalModel().setProperty("/lastInvokedAction",i)}if(h.isNavigable){let i=t;if(Array.isArray(i)&&i.length===1){i=i[0].value}if(i&&!Array.isArray(i)){const t=u.getModel().getMetaModel();const n=t.getMetaPath(i.getPath());const o=(e,t)=>e.filter(e=>{if(t){return t.indexOf(e)>-1}return true});const r=Array.isArray(h.contexts)?o(h.contexts,h.applicableContexts)[0]:h.contexts;const s=r&&t.getMetaPath(r.getPath());if(n!=undefined&&n===s){if(r.getPath()!==i.getPath()){this.getInternalRouting().navigateForwardToContext(i,{checkNoHashChange:true})}else{e.info("Navigation to the same context is not allowed")}}}}this.base.editFlow.onAfterActionExecution(i);return t}catch(e){if(g){g.fRejector()}if(e===je.CancelActionDialog){throw new Error("Dialog cancelled")}else if(!(e&&(e.canceled||e.rejectedItems&&e.rejectedItems[0].canceled))){throw new Error(`Error in EditFlow.invokeAction:${e}`)}}};r.onAfterActionExecution=async function e(t){};r.securedExecution=function e(t,i){var o,r;const s=(i===null||i===void 0?void 0:(o=i.busy)===null||o===void 0?void 0:o.set)??true,a=(i===null||i===void 0?void 0:(r=i.busy)===null||r===void 0?void 0:r.check)??true,c=(i===null||i===void 0?void 0:i.updatesDocument)??false,l=this.getGlobalUIModel(),d=this.getView().getBindingContext(),g=d&&this.getProgrammingModel(d)===Ne.Draft;if(a&&n.isLocked(l)){return Promise.reject("Application already busy therefore execution rejected")}if(s){n.lock(l)}if(c&&g){this.setDraftStatus(Le.Saving)}this.getMessageHandler().removeTransitionMessages();return this.syncTask(t).then(()=>{if(c){this.setDocumentModified(true);if(!this._isFclEnabled()){f.setEditStateDirty()}if(g){this.setDraftStatus(Le.Saved)}}}).catch(e=>{if(c&&g){this.setDraftStatus(Le.Clear)}return Promise.reject(e)}).finally(()=>{if(s){n.unlock(l)}this.getMessageHandler().showMessageDialog()})};r.handlePatchSent=function e(t){var i,n;const o=s.isConnected(this.getView());if(o){t.getSource().getModel().setIgnoreETag(true)}if(!((i=this.getView())!==null&&i!==void 0&&(n=i.getBindingContext("internal"))!==null&&n!==void 0&&n.getProperty("skipPatchHandlers"))){const e=t.getSource();const i=new Promise((i,n)=>{t.getSource().attachEventOnce("patchCompleted",r=>{if(o){t.getSource().getModel().setIgnoreETag(false)}if(t.getSource().isA("sap.ui.model.odata.v4.ODataListBinding")){var s;k.setActionEnablementAfterPatch(this.getView(),e,(s=this.getView())===null||s===void 0?void 0:s.getBindingContext("internal"))}const a=r.getParameter("success");if(a){i()}else{n()}})});this.updateDocument(e,i)}};r.syncTask=function e(t){if(t){if(typeof t==="function"){this.syncTasks=this.syncTasks.then(t).catch(function(){return Promise.resolve()})}else{this.syncTasks=this.syncTasks.then(()=>t).catch(function(){return Promise.resolve()})}}return this.syncTasks};r.computeEditMode=async function t(i){const n=this.getProgrammingModel(i);if(n===Ne.Draft){try{this.setDraftStatus(Le.Clear);const e=this.getGlobalUIModel();e.setProperty("/isEditablePending",true,undefined,true);const t=await i.requestObject("IsActiveEntity");if(t===false){this.setEditMode(Ge.Editable);const e=await i.requestObject("HasActiveEntity");this.setEditMode(undefined,!e)}else{this.setEditMode(Ge.Display,false)}e.setProperty("/isEditablePending",false,undefined,true)}catch(t){e.error("Error while determining the editMode for draft",t);throw t}}else if(n===Ne.Sticky){const e=this.getInternalModel().getProperty("/lastInvokedAction");if(e&&this.isNewActionForSticky(e,i)){this.setEditMode(Ge.Editable,true);if(!this.getAppComponent()._isFclEnabled()){f.setEditStateDirty()}this.handleStickyOn(i);this._setStickySessionInternalProperties(this.getProgrammingModel(i),i.getModel());this.getInternalModel().setProperty("/lastInvokedAction",undefined)}}};r.deleteDocumentTransaction=async function e(t,i){var n;const o=this._getResourceModel();const r=this.getTransactionHelper();i.internalModelContext=i.controlId?(n=sap.ui.getCore().byId(i.controlId))===null||n===void 0?void 0:n.getBindingContext("internal"):null;await this.syncTask();await r.deleteDocument(t,i,this.getAppComponent(),o,this.getMessageHandler())};r._getResourceModel=function e(){return De(this.getView())};r.getTransactionHelper=function e(){return c};r.getMessageHandler=function e(){if(this.base.messageHandler){return this.base.messageHandler}else{throw new Error("Edit Flow works only with a given message handler")}};r.getInternalModel=function e(){return this.getView().getModel("internal")};r.getGlobalUIModel=function e(){return this.getView().getModel("ui")};r.setCreationMode=function e(t){const i=this.getView().getBindingContext("ui");this.getGlobalUIModel().setProperty("createMode",t,i,true)};r.getCreationMode=function e(){const t=this.getView().getBindingContext("ui");return!!this.getGlobalUIModel().getProperty("createMode",t)};r.isDocumentModified=function e(){return!!this.getGlobalUIModel().getProperty("/isDocumentModified")};r.setDocumentModified=function e(t){this.getGlobalUIModel().setProperty("/isDocumentModified",t)};r.setDocumentModifiedOnCreate=function e(t){if(t.isRelative()){this.setDocumentModified(true)}};r.handleCreateEvents=function e(t){this.setDraftStatus(Le.Clear);const i=this.getProgrammingModel(t);t.attachEvent("createSent",()=>{if(i===Ne.Draft){this.setDraftStatus(Le.Saving)}});t.attachEvent("createCompleted",e=>{const t=e.getParameter("success");if(i===Ne.Draft){this.setDraftStatus(t?Le.Saved:Le.Clear)}this.getMessageHandler().showMessageDialog()})};r.setDraftStatus=function e(t){this.getView().getModel("ui").setProperty("/draftStatus",t,undefined,true)};r.getProgrammingModel=function e(t){return this.getTransactionHelper().getProgrammingModel(t)};r.setEditMode=function e(t,i){const n=this.getGlobalUIModel();if(t){n.setProperty("/isEditable",t==="Editable",undefined,true)}if(i!==undefined){this.setCreationMode(i)}};r.isNewActionForSticky=function t(i,n){try{var o;const e=n.getModel().getMetaModel();const t=e.getMetaContext(n.getPath());const r=Ae(t).startingEntitySet;const s=(o=r.annotations.Session)===null||o===void 0?void 0:o.StickySessionSupported;if((s===null||s===void 0?void 0:s.NewAction)===i){return true}if(s!==null&&s!==void 0&&s.AdditionalNewActions&&s!==null&&s!==void 0&&s.AdditionalNewActions.includes(i)){return true}return false}catch(t){e.info(t);return false}};r.handleStickyOn=function t(i){const n=this.getAppComponent();try{if(n===undefined){throw new Error("undefined AppComponent for function handleStickyOn")}if(!n.getRouterProxy().hasNavigationGuard()){const e=n.getRouterProxy().getHash();const t=this.getInternalModel();setTimeout(function(){n.getRouterProxy().setNavigationGuard(i.getPath().substring(1))},0);n.getShellServices().setBackNavigation(this.onBackNavigationInSession.bind(this,i));this.dirtyStateProviderFunction=this.getDirtyStateProvider(n,t,e);n.getShellServices().registerDirtyStateProvider(this.dirtyStateProviderFunction);const o=this.base.getView().getModel("sap.fe.i18n");this.sessionTimeoutFunction=this.getSessionTimeoutFunction(i,o);this.getView().getModel().attachSessionTimeout(this.sessionTimeoutFunction);this.stickyDiscardAfterNavigationFunction=this.getRouteMatchedFunction(i,n);n.getRoutingService().attachRouteMatched(this.stickyDiscardAfterNavigationFunction)}}catch(t){e.info(t);return false}return true};r.handleStickyOff=function t(){const i=this.getAppComponent();try{if(i===undefined){throw new Error("undefined AppComponent for function handleStickyOff")}if(i.getRouterProxy){i.getRouterProxy().discardNavigationGuard()}if(this.dirtyStateProviderFunction){i.getShellServices().deregisterDirtyStateProvider(this.dirtyStateProviderFunction);this.dirtyStateProviderFunction=undefined}const e=this.getView().getModel();if(e&&this.sessionTimeoutFunction){e.detachSessionTimeout(this.sessionTimeoutFunction)}if(this.stickyDiscardAfterNavigationFunction){i.getRoutingService().detachRouteMatched(this.stickyDiscardAfterNavigationFunction)}this.stickyDiscardAfterNavigationFunction=undefined;this.setEditMode(Ge.Display,false);if(i.getShellServices){i.getShellServices().setBackNavigation()}}catch(t){e.info(t);return false}return true};r._setStickySessionInternalProperties=function e(t,i){if(t===Ne.Sticky){const e=this.getInternalModel();e.setProperty("/sessionOn",true);e.setProperty("/stickySessionToken",i.getHttpHeaders(true)["SAP-ContextId"])}};r.getDirtyStateProvider=function t(i,n,o){return t=>{try{if(t===undefined){throw new Error("Invalid input parameters for DirtyStateProvider function")}const e=t.innerAppRoute;const r=i.getRouterProxy();let s="";let a;const c=n.getProperty("/sessionOn");if(!c){return undefined}if(!r.isNavigationFinalized()){a=false;s=e}else if(o===e){a=true}else if(r.checkHashWithGuard(e)||r.isGuardCrossAllowedByUser()){s=e;a=false}else{a=true}if(a){setTimeout(function(){i.getShellServices().setDirtyFlag(false)},0)}else{o=s}return a}catch(t){e.info(t);return undefined}}};r.getSessionTimeoutFunction=function t(i,n){return()=>{try{if(i===undefined){throw new Error("Context missing for SessionTimeout function")}this.getMessageHandler().removeTransitionMessages();const e=new w({title:"{sap.fe.i18n>C_EDITFLOW_OBJECT_PAGE_SESSION_EXPIRED_DIALOG_TITLE}",state:"Warning",content:new M({text:"{sap.fe.i18n>C_EDITFLOW_OBJECT_PAGE_SESSION_EXPIRED_DIALOG_MESSAGE}"}),beginButton:new v({text:"{sap.fe.i18n>C_COMMON_DIALOG_OK}",type:"Emphasized",press:()=>{this.handleStickyOff();this.getInternalRouting().navigateBackFromContext(i)}}),afterClose:function(){e.destroy()}});e.addStyleClass("sapUiContentPadding");e.setModel(n,"sap.fe.i18n");this.getView().addDependent(e);e.open()}catch(t){e.info(t);return undefined}return true}};r.getRouteMatchedFunction=function e(t,i){return()=>{const e=i.getRouterProxy().getHash();if(!e||!i.getRouterProxy().checkHashWithGuard(e)){this.discardStickySession(t);t.getModel().clearSessionContext()}}};r.discardStickySession=async function e(t){const i=await d.discardDocument(t);if(i!==null&&i!==void 0&&i.hasPendingChanges()){i.getBinding().resetChanges()}if(!this.getCreationMode()){i===null||i===void 0?void 0:i.refresh()}this.handleStickyOff()};r.getInternalRouting=function e(){if(this.base._routing){return this.base._routing}else{throw new Error("Edit Flow works only with a given routing listener")}};r._getRootViewController=function e(){return this.getAppComponent().getRootViewController()};r._getSemanticMapping=function e(){return this.getAppComponent().getRoutingService().getLastSemanticMapping()};r.createActionPromise=function e(t,i){let n,o;this.actionPromise=new Promise((e,t)=>{n=e;o=t}).then(e=>Object.assign({controlId:i},this.getActionResponseDataAndKeys(t,e)));return{fResolver:n,fRejector:o}};r.getActionResponseDataAndKeys=function e(t,i){if(Array.isArray(i)){if(i.length===1){i=i[0].value}else{return null}}if(!i){return null}const n=this.base.getView();const o=n.getModel().getMetaModel().getData();const r=o&&o[t]&&o[t][0]&&o[t][0].$ReturnType?o[t][0].$ReturnType.$Type:null;const s=r&&o[r]?o[r].$Key:null;return{oData:i.getObject(),keys:s}};r.getCurrentActionPromise=function e(){return this.actionPromise};r.deleteCurrentActionPromise=function e(){this.actionPromise=undefined};r.showConfirmRecommendationsDialog=async function e(t){var i;if(!this.confirmRecommendationsDialog){this.confirmRecommendationsDialog=new R({view:this.getView()})}return(i=this.confirmRecommendationsDialog)===null||i===void 0?void 0:i.open(t)};r._scrollAndFocusOnInactiveRow=function e(t){const i=t.getRowBinding();const n=i.getCount()||0;if(t.data("tableType")!=="ResponsiveTable"){if(n>0){t.scrollToIndex(n-1)}t.focusRow(n,true)}else{const e=i.getContexts();if(!(e!==null&&e!==void 0&&e.length)){t.focusRow(n,true);return}let o=n,r=0;for(const t of e){if(t.isInactive()&&r<o){o=r}r++}if(o>0){t.scrollToIndex(o)}t.focusRow(o,true)}};r.createEmptyRowsAndFocus=async function e(t){var i,n,o;const r=t.getParent();if(r!==null&&r!==void 0&&(i=r.tableDefinition)!==null&&i!==void 0&&(n=i.control)!==null&&n!==void 0&&n.inlineCreationRowsHiddenInEditMode&&!((o=t.getBindingContext("ui"))!==null&&o!==void 0&&o.getProperty("createMode"))){await r.setUpEmptyRows(t,true)}this._scrollAndFocusOnInactiveRow(t)};r._sendActivity=function e(t,i,n,o,r){const a=Array.isArray(i)?i.map(e=>e.getPath()):i===null||i===void 0?void 0:i.getPath();s.send(this.getView(),{action:t,content:a,triggeredActionName:n,refreshListBinding:o,actionRequestedProperties:r})};r._triggerConfiguredSurvey=function e(t,i){_e(this.getView(),t,i)};r._submitOpenChanges=async function e(t){const i=t.getModel(),o=this.getGlobalUIModel();try{await i.submitBatch("$auto");await i.oRequestor.waitForRunningChangeRequests("$auto");if(i.hasPendingChanges("$auto")){throw new Error("submit of open changes failed")}}finally{if(n.isLocked(o)){n.unlock(o)}}};r._removeStickySessionInternalProperties=function e(t){if(t===Ne.Sticky){const e=this.getInternalModel();e.setProperty("/sessionOn",false);e.setProperty("/stickySessionToken",undefined);this.handleStickyOff()}};r.onBackNavigationInSession=function e(t){const i=this.base.getView();const n=this.getAppComponent().getRouterProxy();if(n.checkIfBackIsOutOfGuard()){d.processDataLossConfirmation(async()=>{await this.discardStickySession(t);this._removeStickySessionInternalProperties(Ne.Sticky);history.back()},i,Ne.Sticky);return}history.back()};r._handleNewContext=async function e(t,i){if(!this._isFclEnabled()){f.setEditStateDirty()}await this.getInternalRouting().navigateToContext(t,{checkNoHashChange:true,editable:i.editable,persistOPScroll:true,recreateContext:i.recreateContext,reason:I.EditFlowAction,showPlaceholder:false,forceFocus:i.forceFocus??false,keepCurrentLayout:true})};r._getBoundContext=function e(t,i){const n=t.getViewData().viewLevel;const o=n>1||n===1&&i.controlId;return!i.isNavigable||!!o};r._checkForValidationErrors=async function t(){return this.syncTask().then(()=>{const t=this.getView().getId();const i=D.getMessageManager().getMessageModel().getData();let n;let o;if(!i.length){e.info("No validation errors found");return}for(let e=0;e<i.length;e++){o=i[e];if(o.validation){n=D.byId(o.getControlId());while(n){if(n.getId()===t){throw"validation errors exist"}n=n.getParent()}}}})};r._refreshListIfRequired=function t(i,n){if(!n||!i||!i.oData||!i.keys){return Promise.resolve(undefined)}const o=n.getBinding();if(o&&o.isA("sap.ui.model.odata.v4.ODataListBinding")){const t=i.oData;const r=i.keys;const s=n.getObject();let a=true;if(Object.keys(t).length){a=r.every(function(e){return s[e]===t[e]});if(!a){return new Promise(t=>{if(o.isRoot()){o.attachEventOnce("dataReceived",function(){t(!a)});o.refresh()}else{const i=this.getAppComponent();i.getSideEffectsService().requestSideEffects([{$NavigationPropertyPath:o.getPath()}],o.getContext()).then(function(){t(!a)},function(){e.error("Error while refreshing the table");t(!a)}).catch(function(t){e.error("Error while refreshing the table",t)})}})}}}return Promise.resolve(undefined)};r._fetchSemanticKeyValues=function e(t){const i=t.getModel().getMetaModel(),n=i.getMetaContext(t.getPath()).getObject("@sapui.name"),o=y.getSemanticKeys(i,n);if(o&&o.length){const e=o.map(function(e){return t.requestObject(e.$PropertyPath)});return Promise.all(e)}else{return Promise.resolve()}};r._getActionOverloadContextFromMetadataPath=function e(t,i,n){const o=t.getModel();const r=o.getMetaModel();let s=i.getPath().split("/");let a=t;s.pop();if(s.length===0){s=[""]}if(s[0]!==""){s.unshift("")}const c=s.map(e=>{if(e!==""){a=o.bindContext(e,a).getBoundContext()}else{a=t}return a}).reverse();const l=c.find(e=>r.getMetaContext(e.getPath()).getObject("$Type")===n);return l||i.getHeaderContext()};r._createSiblingInfo=function e(t,i){return{targetContext:i,pathMapping:[{oldPath:t.getPath(),newPath:i.getPath()}]}};r._updatePathsInHistory=function e(t){const i=this.getAppComponent();i.getRouterProxy().setPathMapping(t);const n=this._getSemanticMapping();if(t.length&&(n===null||n===void 0?void 0:n.technicalPath)===t[t.length-1].oldPath){n.technicalPath=t[t.length-1].newPath}};r._getNavigationTargetForEdit=function e(t,i,n){let o;n=n??this._createSiblingInfo(t,i);this._updatePathsInHistory(n.pathMapping);if(n.targetContext.getPath()!=i.getPath()){o=n.targetContext}return o};r._computeSiblingInformation=async function t(i,n,o,r,s,a){n=n??i;if(!n.getPath().startsWith(i.getPath())){e.error("Cannot compute rightmost sibling context");throw new Error("Cannot compute rightmost sibling context")}if(r&&n.getPath()===i.getPath()){return Promise.resolve(undefined)}const c=i.getModel();if(o===Ne.Draft){return l.computeSiblingInformation(i,n,s,a)}else{return{targetContext:c.bindContext(n.getPath()).getBoundContext(),pathMapping:[]}}};r._isFclEnabled=function e(){return this.getAppComponent()._isFclEnabled()};return o}(i),Ve(Me.prototype,"editDocument",[O,F],Object.getOwnPropertyDescriptor(Me.prototype,"editDocument"),Me.prototype),Ve(Me.prototype,"updateDocument",[T,B],Object.getOwnPropertyDescriptor(Me.prototype,"updateDocument"),Me.prototype),Ve(Me.prototype,"createDocument",[V,H],Object.getOwnPropertyDescriptor(Me.prototype,"createDocument"),Me.prototype),Ve(Me.prototype,"onBeforeSave",[N,j],Object.getOwnPropertyDescriptor(Me.prototype,"onBeforeSave"),Me.prototype),Ve(Me.prototype,"onBeforeCreate",[L,G],Object.getOwnPropertyDescriptor(Me.prototype,"onBeforeCreate"),Me.prototype),Ve(Me.prototype,"onBeforeEdit",[$,U],Object.getOwnPropertyDescriptor(Me.prototype,"onBeforeEdit"),Me.prototype),Ve(Me.prototype,"onBeforeDiscard",[q,K],Object.getOwnPropertyDescriptor(Me.prototype,"onBeforeDiscard"),Me.prototype),Ve(Me.prototype,"onBeforeDelete",[W,z],Object.getOwnPropertyDescriptor(Me.prototype,"onBeforeDelete"),Me.prototype),Ve(Me.prototype,"onAfterSave",[J,Q,X],Object.getOwnPropertyDescriptor(Me.prototype,"onAfterSave"),Me.prototype),Ve(Me.prototype,"onAfterCreate",[Y,Z],Object.getOwnPropertyDescriptor(Me.prototype,"onAfterCreate"),Me.prototype),Ve(Me.prototype,"onAfterEdit",[ee,te],Object.getOwnPropertyDescriptor(Me.prototype,"onAfterEdit"),Me.prototype),Ve(Me.prototype,"onAfterDiscard",[ie,ne],Object.getOwnPropertyDescriptor(Me.prototype,"onAfterDiscard"),Me.prototype),Ve(Me.prototype,"onAfterDelete",[oe,re],Object.getOwnPropertyDescriptor(Me.prototype,"onAfterDelete"),Me.prototype),Ve(Me.prototype,"saveDocument",[se,ae],Object.getOwnPropertyDescriptor(Me.prototype,"saveDocument"),Me.prototype),Ve(Me.prototype,"cancelDocument",[ce,le],Object.getOwnPropertyDescriptor(Me.prototype,"cancelDocument"),Me.prototype),Ve(Me.prototype,"deleteDocument",[de,ge],Object.getOwnPropertyDescriptor(Me.prototype,"deleteDocument"),Me.prototype),Ve(Me.prototype,"applyDocument",[ue,fe],Object.getOwnPropertyDescriptor(Me.prototype,"applyDocument"),Me.prototype),Ve(Me.prototype,"invokeAction",[he,pe],Object.getOwnPropertyDescriptor(Me.prototype,"invokeAction"),Me.prototype),Ve(Me.prototype,"onAfterActionExecution",[ye,me],Object.getOwnPropertyDescriptor(Me.prototype,"onAfterActionExecution"),Me.prototype),Ve(Me.prototype,"securedExecution",[ve,we],Object.getOwnPropertyDescriptor(Me.prototype,"securedExecution"),Me.prototype),Me))||Ce);return qe},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Feedback", ["sap/ui/core/Core"],function(e){"use strict";var n={};let t;(function(e){e["action"]="actions";e["standardAction"]="standardActions"})(t||(t={}));n.TriggerType=t;let a;(function(e){e["save"]="save"})(a||(a={}));n.StandardActions=a;const i="sap.feedback";const o="inapp.feature";function r(n,t,a){const r={areaId:n,triggerName:t,payload:a};e.getEventBus().publish(i,o,r)}n.triggerSurvey=r;function d(e,n,t){var a,i,o;const d=(a=e.getViewData())===null||a===void 0?void 0:(i=a.content)===null||i===void 0?void 0:i.feedback;const c=d===null||d===void 0?void 0:(o=d[t])===null||o===void 0?void 0:o[n];if(c){r(c.areaId,c.triggerName,c.payload)}}n.triggerConfiguredSurvey=d;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/HookSupport", [],function(){"use strict";var t={};const n=[];const o=[];function e(t){return function(n,o,e){const r=n;const c=[];r[`attach${o.toString()}`]=function(t){c.push(t)};r[`detach${o.toString()}`]=function(t){const n=c.indexOf(t);if(n!==-1){c.splice(n,1)}};const i=e.value;e.value=function(){let n;if(t==="after"){n=i(...arguments)}for(const t of c){t(...arguments)}if(t==="before"){n=i(...arguments)}return n}}}t.hookable=e;function r(t,n){return!!t.find(t=>t.name===n.name&&t.method===n.method&&t.targetMethod===n.targetMethod)}function c(t,e){return function(c,i){const s={name:t,method:String(e),targetMethod:i};const f=n.indexOf(c.constructor);if(f!==-1&&!r(o[f],s)){o[f].push(s)}else{n.push(c.constructor);o.push([s])}}}t.controllerExtensionHandler=c;function i(t,e){const r=n.indexOf(t.constructor);if(r!==-1){const n=e;const c=t;for(const i of o[r]){const o=c[i.targetMethod].bind(t);n[i.name][`attach${String(i.method)}`](o);e.getView().attachBeforeExit(()=>{n[i.name][`detach${String(i.method)}`](o)})}}}t.initControllerExtensionHookHandlers=i;function s(t,n,o){const e=t;const r=e.getController();if(r){const t=e.findAggregatedObjects(true,t=>t.isA("sap.fe.macros.MacroAPI"));for(const n of t){i(n,r)}}}t.xmlViewPreprocessor=s;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/IntentBasedNavigation", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(t,e,n){"use strict";var i,r,o,a,p,u,c,l,s;var f={};var v=t.publicExtension;var d=t.finalExtension;var y=t.extensible;var g=t.defineUI5Class;function b(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;O(t,e)}function O(t,e){O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,n){e.__proto__=n;return e};return O(t,e)}function x(t,e,n,i,r){var o={};Object.keys(i).forEach(function(t){o[t]=i[t]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(t,e,o);o=null}return o}let C;(function(t){t["Default"]="default";t["Initiator"]="initiator"})(C||(C={}));f.ContextStrategy=C;let P=(i=g("sap.fe.core.controllerextensions.IntentBasedNavigation"),r=v(),o=y(n.After),a=v(),p=y(n.After),u=d(),c=v(),i(l=(s=function(t){b(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.adaptContextPreparationStrategy=function t(e){return C.Default};n.adaptNavigationContext=function t(e,n){};n.navigateOutbound=function t(e,n){var i,r;const o=(i=this.base)===null||i===void 0?void 0:i.getView().getBindingContext("internal");o.setProperty("externalNavigationContext",{page:false});(r=this.base)===null||r===void 0?void 0:r._intentBasedNavigation.navigateOutbound(e,n)};return e}(e),x(s.prototype,"adaptContextPreparationStrategy",[r,o],Object.getOwnPropertyDescriptor(s.prototype,"adaptContextPreparationStrategy"),s.prototype),x(s.prototype,"adaptNavigationContext",[a,p],Object.getOwnPropertyDescriptor(s.prototype,"adaptNavigationContext"),s.prototype),x(s.prototype,"navigateOutbound",[u,c],Object.getOwnPropertyDescriptor(s.prototype,"navigateOutbound"),s.prototype),s))||l);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/InternalIntentBasedNavigation", ["sap/base/Log","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/navigation/SelectionVariant","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../converters/helpers/Aggregation","./editFlow/NotApplicableContextDialog"],function(t,e,o,n,i,a,r,s,l,c,p,g,u,f,d,v){"use strict";var h,y,m,b,O,C,P,A,S,M,x,_,j,w,N,E,D,I,$,F,V;var B=d.AggregationHelper;var R=c.getResourceModel;var T=a.publicExtension;var H=a.privateExtension;var L=a.methodOverride;var k=a.finalExtension;var z=a.extensible;var W=a.defineUI5Class;var U=i.convertTypes;function J(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;q(t,e)}function q(t,e){q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,o){e.__proto__=o;return e};return q(t,e)}function G(t,e,o,n,i){var a={};Object.keys(n).forEach(function(t){a[t]=n[t]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=o.slice().reverse().reduce(function(o,n){return n(t,e,o)||o},a);if(i&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(i):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(t,e,a);a=null}return a}let K=(h=W("sap.fe.core.controllerextensions.InternalInternalBasedNavigation"),y=L(),m=T(),b=k(),O=T(),C=k(),P=T(),A=z(f.Instead),S=T(),M=k(),x=H(),_=T(),j=k(),w=T(),N=k(),E=T(),D=k(),I=T(),$=k(),h(F=(V=function(a){J(c,a);function c(){return a.apply(this,arguments)||this}var u=c.prototype;u.onInit=function t(){this._oAppComponent=this.base.getAppComponent();this._oMetaModel=this._oAppComponent.getModel().getMetaModel();this._oNavigationService=this._oAppComponent.getNavigationService();this._oView=this.base.getView()};u.navigate=function t(o,i,a){const r=t=>{const n=a&&a.navigationContexts,r=n&&!Array.isArray(n)?[n]:n,l=a&&a.semanticObjectMapping,c=a&&a.additionalNavigationParameters,u={semanticObject:o,action:i},f=this.base.getView(),d=f.getController();if(t){this._oView.setBindingContext(t)}if(o&&i){let t=[],n=new p;if(r&&r.length){r.forEach(e=>{if(e.isA&&e.isA("sap.ui.model.odata.v4.Context")){let o=e.getObject();const n=this._oMetaModel.getMetaPath(e.getPath());o=this.removeSensitiveData(o,n);const i=this.prepareContextForExternalNavigation(o,e);u["propertiesWithoutConflict"]=i.propertiesWithoutConflict;t.push(i.semanticAttributes)}else if(!(e&&Array.isArray(e.data))&&typeof e==="object"){t.push(this.removeSensitiveData(e.data,e.metaPath))}else if(e&&Array.isArray(e.data)){t=this.removeSensitiveData(e.data,e.metaPath)}})}if(t&&t.length){n=this._oNavigationService.mixAttributesAndSelectionVariant(t,n.toJSONString())}const v=this._oView.getModel(),h=this.getEntitySet(),y=h?this._oNavigationService.constructContextUrl(h,v):undefined;if(y){n.setFilterContextUrl(y)}if(c){this._applyOutboundParams(n,c)}d.intentBasedNavigation.adaptNavigationContext(n,u);if(l){this._applySemanticObjectMappings(n,l)}this._removeTechnicalParameters(n);const m=d._intentBasedNavigation.getNavigationMode();const b=a&&a.refreshStrategies||{},O=f.getModel("internal");if(O){if((f&&f.getViewData()).refreshStrategyOnAppRestore){const t=f.getViewData().refreshStrategyOnAppRestore||{};e(b,t)}const t=s.getRefreshStrategyForIntent(b,o,i);if(t){O.setProperty("/refreshStrategyOnAppRestore",t)}}const C=function(){sap.ui.require(["sap/m/MessageBox"],function(t){const e=g.getLibraryResourceBundle("sap.fe.core");t.error(e.getText("C_COMMON_HELPER_NAVIGATION_ERROR_MESSAGE"),{title:e.getText("C_COMMON_SAPFE_ERROR")})})};this._oNavigationService.navigate(o,i,n.toJSONString(),undefined,C,undefined,m)}else{throw new Error("Semantic Object/action is not provided")}};const c=this.base.getView().getBindingContext();const u=c&&c.getModel().getMetaModel();if(this.getView().getViewData().converterType==="ObjectPage"&&u&&!l.isStickySessionSupported(u)){n.processDataLossOrDraftDiscardConfirmation(r.bind(this),Function.prototype,this.base.getView().getBindingContext(),this.base.getView().getController(),true,n.NavigationType.ForwardNavigation)}else{r()}};u.prepareContextForExternalNavigation=function t(e,o){const n={},i=o.getPath(),a=o.getModel().getMetaModel(),r=a.getMetaPath(i),s=r.split("/").filter(Boolean);function l(t,e){for(const o in t){if(t[o]===null||typeof t[o]!=="object"){if(!n[o]){n[o]=[]}n[o].push(e)}else{const n=t[o];l(n,`${e}/${o}`)}}}l(e,r);const c=s[0],p=a.getObject(`/${c}/@sapui.name`),g={};let u,f,d;for(const t in n){const i=n[t];let s;if(i.length>1){for(let n=0;n<=i.length-1;n++){const s=i[n];let l=s.replace(s===r?r:`${r}/`,"");l=(l===""?l:`${l}/`)+t;const c=a.getObject(`${s}/@sapui.name`);if(c===p){u=l}if(s===r){f=l}d=l;e[`${r}/${l}`.split("/").filter(function(t){return t!=""}).join(".")]=o.getProperty(l)}s=u||f||d;e[t]=o.getProperty(s);u=undefined;f=undefined;d=undefined}else{const n=i[0];let a=n.replace(n===r?r:`${r}/`,"");a=(a===""?a:`${a}/`)+t;e[t]=o.getProperty(a);g[t]=`${r}/${a}`.split("/").filter(function(t){return t!=""}).join(".")}}for(const t in e){if(e[t]!==null&&typeof e[t]==="object"){delete e[t]}}return{semanticAttributes:e,propertiesWithoutConflict:g}};u.getNavigationMode=function t(){return undefined};u.navigateWithConfirmationDialog=async function t(e,o,n){var i;let a=true;if(n!==null&&n!==void 0&&n.notApplicableContexts&&((i=n.notApplicableContexts)===null||i===void 0?void 0:i.length)>=1){const t=this.base.getView().getModel().getMetaModel();const e=t.getMetaPath(n.notApplicableContexts[0].getPath());const o=U(t);const i=o.resolvePath(e).target;const r=new v({title:"",entityType:i.entityType,resourceModel:R(this.getView()),notApplicableContexts:n.notApplicableContexts});n.navigationContexts=n.applicableContexts;a=await r.open(this.getView())}if(a){this.navigate(e,o,n)}};u._removeTechnicalParameters=function t(e){e.removeSelectOption("@odata.context");e.removeSelectOption("@odata.metadataEtag");e.removeSelectOption("SAP__Messages")};u.getEntitySet=function t(){return this._oView.getViewData().entitySet};u.removeSensitiveData=function t(e,o){if(e){const{transAggregations:t,customAggregates:s}=this._getAggregates(o,this.base.getView(),this.base.getAppComponent().getDiagnostics());const l=Object.keys(e);if(l.length){delete e["@odata.context"];delete e["@odata.metadataEtag"];delete e["SAP__Messages"];for(const c of l){if(e[c]&&typeof e[c]==="object"){this.removeSensitiveData(e[c],`${o}/${c}`)}if(c.includes("@odata.type")){delete e[c];continue}this._deleteAggregates([...t,...s],c,e);const l=this._getPropertyAnnotations(c,o,e,this._oMetaModel);if(l){var n,i,a,r;if((n=l.PersonalData)!==null&&n!==void 0&&n.IsPotentiallySensitive||(i=l.UI)!==null&&i!==void 0&&i.ExcludeFromNavigationContext||(a=l.Analytics)!==null&&a!==void 0&&a.Measure){delete e[c]}else if((r=l.Common)!==null&&r!==void 0&&r.FieldControl){const t=l.Common.FieldControl;if(t["$EnumMember"]&&t["$EnumMember"].split("/")[1]==="Inapplicable"||t["$Path"]&&this._isFieldControlPathInapplicable(t["$Path"],e)){delete e[c]}}}}}}return e};u._deleteAggregates=function t(e,o,n){if(e&&e.includes(o)){delete n[o]}};u._getPropertyAnnotations=function t(e,o,n,a){if(n[e]&&o&&!o.includes("undefined")){var r;const t=a.createBindingContext(`${o}/${e}`);const n=i.getInvolvedDataModelObjects(t);return n===null||n===void 0?void 0:(r=n.targetObject)===null||r===void 0?void 0:r.annotations}return null};u._getAggregates=function t(e,o,n){const i=this._getConverterContext(e,o,n);const a=new B(i.getEntityType(),i);const r=a.isAnalyticsSupported();let s,l;if(r){var c,p;s=a.getTransAggregations();if((c=s)!==null&&c!==void 0&&c.length){s=s.map(t=>t.Name||t.Value)}l=a.getCustomAggregateDefinitions();if((p=l)!==null&&p!==void 0&&p.length){l=l.map(t=>t.qualifier)}}s=s?s:[];l=l?l:[];return{transAggregations:s,customAggregates:l}};u._getConverterContext=function t(e,n,i){const a=n.getViewData();let r=a.entitySet;const s=a.contextPath;if(s&&(!r||r.includes("/"))){r=a===null||a===void 0?void 0:a.fullContextPath.split("/")[1]}return o.getConverterContextForPath(e,n.getModel().getMetaModel(),r,i)};u._isFieldControlPathInapplicable=function t(e,o){let n=false;const i=e.split("/");if(i.length>1){n=o[i[0]]&&o[i[0]].hasOwnProperty(i[1])&&o[i[0]][i[1]]===0}else{n=o[e]===0}return n};u._applySemanticObjectMappings=function t(e,o){const n=typeof o==="string"?JSON.parse(o):o;for(let t=0;t<n.length;t++){const o=n[t]["LocalProperty"]&&n[t]["LocalProperty"]["$PropertyPath"]||n[t]["@com.sap.vocabularies.Common.v1.LocalProperty"]&&n[t]["@com.sap.vocabularies.Common.v1.LocalProperty"]["$Path"];const i=n[t]["SemanticObjectProperty"]||n[t]["@com.sap.vocabularies.Common.v1.SemanticObjectProperty"];const a=e.getSelectOption(o);if(a){e.removeSelectOption(o);e.massAddSelectOption(i,a)}}return e};u.storeFocusInfoInHistory=function t(){let e=null;const o=g.getCurrentFocusedControlId();const n=o?g.byId(o):undefined;const i=n&&r.getMdcTable(n);if(n!==null&&n!==void 0&&n.isA("sap.m.Button")){e={type:"Control",controlId:o}}else if(i){var a;e={type:"Row",tableId:i.getId(),contextPathFocus:(a=n.getBindingContext())===null||a===void 0?void 0:a.getPath()}}history.replaceState(Object.assign({},history.state,{focusInfo:e}),"")};u.navigateOutbound=function e(o,n){var i,a;this.storeFocusInfoInHistory();let r;const s=this.base.getAppComponent().getManifestEntry("sap.app"),l=(i=s.crossNavigation)===null||i===void 0?void 0:(a=i.outbounds)===null||a===void 0?void 0:a[o];if(!l){t.error("Outbound is not defined in manifest!!");return}const c=l.semanticObject,p=l.action,g=l.parameters&&this.getOutboundParams(l.parameters);if(n){r=[];Object.keys(n).forEach(function(t){let e;if(Array.isArray(n[t])){const i=n[t];for(let n=0;n<i.length;n++){var o;e={};e[t]=i[n];(o=r)===null||o===void 0?void 0:o.push(e)}}else{var i;e={};e[t]=n[t];(i=r)===null||i===void 0?void 0:i.push(e)}})}if(r||g){n={navigationContexts:{data:r||g}}}this.base._intentBasedNavigation.navigate(c,p,n)};u._applyOutboundParams=function t(e,o){const n=Object.keys(o);const i=e.getSelectOptionsPropertyNames();n.forEach(function(t){if(!i.includes(t)){e.addSelectOption(t,"I","EQ",o[t])}});return e};u.getOutboundParams=function t(e){const o={};if(e){const t=Object.keys(e)||[];if(t.length>0){t.forEach(function(t){const n=e[t];if(n.value&&n.value.value&&n.value.format==="plain"){if(!o[t]){o[t]=n.value.value}}})}}return o};u.onChevronPressNavigateOutBound=function t(e,o,n,i){const a=e.getAppComponent().getRoutingService().getOutbounds();const r=a[o];let s;if(r&&r.semanticObject&&r.action){const t={intents:{}};const o={};let a;if(n){if(n.isA&&n.isA("sap.ui.model.odata.v4.Context")){a=l.getMetaPathForContext(n);n=[n]}else{a=l.getMetaPathForContext(n[0])}o[a]="self";t["_feDefault"]=o}if(i){const e=`${r.semanticObject}-${r.action}`;t.intents[e]={};t.intents[e][i]="self"}if(r&&r.parameters){const t=r.parameters&&this.getOutboundParams(r.parameters);if(Object.keys(t).length>0){s=t}}e._intentBasedNavigation.navigate(r.semanticObject,r.action,{navigationContexts:n,refreshStrategies:t,additionalNavigationParameters:s});return Promise.resolve()}else{throw new Error(`outbound target ${o} not found in cross navigation definition of manifest`)}};return c}(u),G(V.prototype,"onInit",[y],Object.getOwnPropertyDescriptor(V.prototype,"onInit"),V.prototype),G(V.prototype,"navigate",[m,b],Object.getOwnPropertyDescriptor(V.prototype,"navigate"),V.prototype),G(V.prototype,"prepareContextForExternalNavigation",[O,C],Object.getOwnPropertyDescriptor(V.prototype,"prepareContextForExternalNavigation"),V.prototype),G(V.prototype,"getNavigationMode",[P,A],Object.getOwnPropertyDescriptor(V.prototype,"getNavigationMode"),V.prototype),G(V.prototype,"navigateWithConfirmationDialog",[S,M],Object.getOwnPropertyDescriptor(V.prototype,"navigateWithConfirmationDialog"),V.prototype),G(V.prototype,"getEntitySet",[x],Object.getOwnPropertyDescriptor(V.prototype,"getEntitySet"),V.prototype),G(V.prototype,"removeSensitiveData",[_,j],Object.getOwnPropertyDescriptor(V.prototype,"removeSensitiveData"),V.prototype),G(V.prototype,"navigateOutbound",[w,N],Object.getOwnPropertyDescriptor(V.prototype,"navigateOutbound"),V.prototype),G(V.prototype,"getOutboundParams",[E,D],Object.getOwnPropertyDescriptor(V.prototype,"getOutboundParams"),V.prototype),G(V.prototype,"onChevronPressNavigateOutBound",[I,$],Object.getOwnPropertyDescriptor(V.prototype,"onChevronPressNavigateOutBound"),V.prototype),V))||F);return K},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/InternalRouting", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/controllerextensions/routing/NavigationReason","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/EditState","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(t,e,o,n,i,r,a,s,c,l,g,u,p,h,d,f){"use strict";var v,C,P,y,_,m,x,b,w,B,O,R,E,A,S,D,T,M,F,I,V,$,L,N,j,H;var k=a.publicExtension;var K=a.methodOverride;var q=a.finalExtension;var z=a.extensible;var U=a.defineUI5Class;function W(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;Q(t,e)}function Q(t,e){Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,o){e.__proto__=o;return e};return Q(t,e)}function G(t,e,o,n,i){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=o.slice().reverse().reduce(function(o,n){return n(t,e,o)||o},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}let X=(v=U("sap.fe.core.controllerextensions.InternalRouting"),C=K(),P=K(),y=k(),_=z(h.After),m=k(),x=z(h.After),b=k(),w=z(h.After),B=k(),O=z(h.After),R=k(),E=k(),A=k(),S=q(),D=k(),T=q(),M=k(),F=q(),I=k(),V=k(),$=q(),L=k(),N=z(h.Before),v(j=(H=function(a){W(p,a);function p(){return a.apply(this,arguments)||this}var h=p.prototype;h.onExit=function t(){if(this._oRoutingService){this._oRoutingService.detachRouteMatched(this._fnRouteMatchedBound)}};h.onInit=function t(){this._oView=this.base.getView();this._oAppComponent=e.getAppComponent(this._oView);this._oPageComponent=g.getOwnerComponentFor(this._oView);this._oRouter=this._oAppComponent.getRouter();this._oRouterProxy=this._oAppComponent.getRouterProxy();if(!this._oAppComponent||!this._oPageComponent){throw new Error("Failed to initialize controler extension 'sap.fe.core.controllerextesions.InternalRouting")}if(this._oAppComponent===this._oPageComponent){this._oPageComponent=null}this._oAppComponent.getService("routingService").then(t=>{this._oRoutingService=t;this._fnRouteMatchedBound=this._onRouteMatched.bind(this);this._oRoutingService.attachRouteMatched(this._fnRouteMatchedBound);this._oTargetInformation=t.getTargetInformationFor(this._oPageComponent||this._oView)}).catch(function(){throw new Error("This controller extension cannot work without a 'routingService' on the main AppComponent")})};h.onRouteMatched=function t(){};h.onRouteMatchedFinished=function t(){};h.onBeforeBinding=function t(e,o){const n=this.base.getView().getController().routing;if(n&&n.onBeforeBinding){n.onBeforeBinding(e,o)}};h.onAfterBinding=function t(e,o){this._oAppComponent.getRootViewController().onContextBoundToView(e);const n=this.base.getView().getController().routing;if(n&&n.onAfterBinding){n.onAfterBinding(e,o)}};h.navigateToTarget=function t(e,o,n){const i=this._oPageComponent&&this._oPageComponent.getNavigationConfiguration&&this._oPageComponent.getNavigationConfiguration(o);if(i){const t=i.detail;const o=t.route;const r=t.parameters;this._oRoutingService.navigateTo(e,o,r,n)}else{this._oRoutingService.navigateTo(e,null,null,n)}this._oView.getViewData()};h.navigateToRoute=async function t(e,o){return this._oRoutingService.navigateToRoute(e,o)};h.navigateToContext=async function e(o){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(o.isA("sap.ui.model.odata.v4.ODataListBinding")){var i,r;if(((i=n.createOnNavigateParameters)===null||i===void 0?void 0:i.mode)==="Async"){this._oRouterProxy.activateRouteMatchSynchronization();n.createOnNavigateParameters.createContextPromise.then(async t=>this.navigateToContext(t,{checkNoHashChange:n.checkNoHashChange,editable:n.editable,persistOPScroll:n.persistOPScroll,updateFCLLevel:n.updateFCLLevel,forceFocus:n.forceFocus})).catch(function(e){t.error("Error with the async context",e)})}else if(((r=n.createOnNavigateParameters)===null||r===void 0?void 0:r.mode)!=="Deferred"){throw"navigation to a list binding is not yet supported"}}else if(n.callExtension){const t=this._oView.getModel("internal");t.setProperty("/paginatorCurrentContext",null);const e=this.base.getView().getController().routing.onBeforeNavigation({bindingContext:o});if(e){t.setProperty("/paginatorCurrentContext",o);return Promise.resolve(true)}}n.FCLLevel=this._getFCLLevel();return this._oRoutingService.navigateToContext(o,n,this._oView.getViewData(),this._oTargetInformation)};h.navigateBackFromContext=async function t(e){let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};o.updateFCLLevel=-1;return this.navigateToContext(e,o)};h.navigateForwardToContext=async function t(e){var o;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(((o=this._oView.getBindingContext("internal"))===null||o===void 0?void 0:o.getProperty("messageFooterContainsErrors"))===true){return Promise.resolve(true)}n.updateFCLLevel=1;return this.navigateToContext(e,n)};h.navigateBackFromTransientState=function t(){const e=this._oRouterProxy.getHash();if(e.includes("(...)")){this._oRouterProxy.navBack()}};h.navigateToMessagePage=function t(e,o){o=o||{};if(this._oRouterProxy.getHash().includes("i-action=create")||this._oRouterProxy.getHash().includes("i-action=autoCreate")){return this._oRouterProxy.navToHash(this._oRoutingService.getDefaultCreateHash())}else{o.FCLLevel=this._getFCLLevel();return this._oAppComponent.getRootViewController().displayErrorPage(e,o)}};h.isCurrentStateImpactedBy=function t(e){return this._oRoutingService.isCurrentStateImpactedBy(e)};h._isViewPartOfRoute=function t(e){const o=e===null||e===void 0?void 0:e.targets;if(!o||o.indexOf(this._oTargetInformation.targetName)===-1){if((this._oTargetInformation.viewLevel??0)>=((e===null||e===void 0?void 0:e.routeLevel)??0)){setTimeout(()=>{if((e===null||e===void 0?void 0:e.routeLevel)===0&&n.isConnected(this.getView())){n.disconnect(this.getView())}this._setBindingContext(null)},0)}return false}return true};h._buildBindingPath=function t(e,o,n){let i=o.replace(":?query:","");let r=false;for(const t in e){const a=e[t];if(typeof a!=="string"){continue}if(a==="..."&&o.includes(`{${t}}`)){r=true;n.bTargetEditable=true}i=i.replace(`{${t}}`,a)}if(e["?query"]&&e["?query"].hasOwnProperty("i-action")){n.bActionCreate=true}if(i&&i[0]!=="/"){i=`/${i}`}return{path:i,deferred:r}};h._onRouteMatched=function e(o){if(!this._isViewPartOfRoute(o.getParameter("routeInformation"))){return}let n;if(this._oPageComponent&&this._oPageComponent.getBindingContextPattern){n=this._oPageComponent.getBindingContextPattern()}n=n||this._oTargetInformation.contextPattern;if(n===null||n===undefined){n=o.getParameter("routePattern")}const i=o.getParameters().arguments;const r=o.getParameter("navigationInfo");const{path:a,deferred:s}=this._buildBindingPath(i,n,r);this.onRouteMatched();const c=this._oView.getModel();const l=s?this._bindDeferred(a,r):this._bindPage(a,c,r);l.finally(()=>{this.onRouteMatchedFinished()}).catch(e=>{t.error("Error during page binding "+e.toString())});this._oAppComponent.getRootViewController().updateUIStateForView(this._oView,this._getFCLLevel())};h._bindDeferred=async function t(e,o){this.onBeforeBinding(null,{editable:o.bTargetEditable});if(!o.createOnNavigateParameters||o.createOnNavigateParameters.mode==="Deferred"){if(this._oPageComponent&&this._oPageComponent.createDeferredContext){var n,i,r;this._oPageComponent.createDeferredContext(e,(n=o.createOnNavigateParameters)===null||n===void 0?void 0:n.listBinding,(i=o.createOnNavigateParameters)===null||i===void 0?void 0:i.parentContext,(r=o.createOnNavigateParameters)===null||r===void 0?void 0:r.data,!!o.bActionCreate)}}const a=this._getBindingContext();if(a!==null&&a!==void 0&&a.hasPendingChanges()){a.getBinding().resetChanges()}this._setBindingContext(null);this.onAfterBinding(null);return Promise.resolve()};h._bindPage=function t(e,o,n){if(e===""){return Promise.resolve(this._bindPageToContext(null,o,n))}return this.resolvePath(e,o,n).then(t=>{this._bindPageToPath(t,o,n)}).catch(t=>{const e=u.getLibraryResourceBundle("sap.fe.core");this.navigateToMessagePage(e.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"),{title:e.getText("C_COMMON_SAPFE_ERROR"),description:t.message})})};h.createFilterFromPath=function t(e,o,n){const i=function(t){if(t.indexOf("'")===0&&t.lastIndexOf("'")===t.length-1){t=decodeURIComponent(t.substring(1,t.length-1))}return t};const r=e.substring(e.indexOf("(")+1,e.length-1).split(",");let a=o;let s=r;if(o.includes("IsActiveEntity")){a=o.filter(t=>!t.includes("IsActiveEntity"));s=r.filter(t=>!t.startsWith("IsActiveEntity"))}if(a.length!=s.length){return null}const l=c.isFilteringCaseSensitive(n);let g;if(a.length===1){if(s[0].indexOf("=")>0){const t=s[0].split("=");s[0]=t[1]}const t=i(s[0]);g=[new d({path:a[0],operator:f.EQ,value1:t,caseSensitive:l})]}else{const t={};s.forEach(function(e){const o=e.split("="),n=i(o[1]);t[o[0]]=n});let e=false;g=a.map(function(o){const n=o,i=t[n];if(i!==undefined){return new d({path:n,operator:f.EQ,value1:i,caseSensitive:l})}else{e=true;return new d({path:"XX"})}});if(e){return null}}const u=new d({filters:[new d("IsActiveEntity","EQ",false),new d("SiblingEntity/IsActiveEntity","EQ",null)],and:false});g.push(u);return new d(g,true)};h.getTechnicalPathFromPath=async function t(e,o,n){var i;const r=o.getMetaModel();let a=r.getMetaContext(e).getPath();if(!n||n.length===0){return null}const s=this.createFilterFromPath(e,n,r);if(s===null){return null}if(!((i=a)!==null&&i!==void 0&&i.startsWith("/"))){a=`/${a}`}const c=o.bindList(a,undefined,undefined,s,{$$groupId:"$auto.Heroes"});const l=await c.requestContexts(0,2);if(l.length){return l[0].getPath()}else{return null}};h.refreshContext=async function t(e,o,n){const i=this._oAppComponent.getRootViewController();if(i.isFclEnabled()){const t=e.getKeepAliveContext(o);n.replaceWith(t)}else{s.setEditStateDirty()}};h.checkDraftAvailability=function t(e,o){const n=/^[/]?(\w+)\([^/]+\)$/.exec(e);if(!n){return false}const i=`/${n[1]}`;const r=o.getObject(`${i}@com.sap.vocabularies.Common.v1.DraftRoot`);return r?true:false};h.resolvePath=async function t(e,o,n){var i,a,s;const g=o.getMetaModel();const u=this._oRoutingService.getLastSemanticMapping();let p=this._oRouter.getHashChanger().getHash().split("?")[0];if(((i=p)===null||i===void 0?void 0:i.lastIndexOf("/"))===((a=p)===null||a===void 0?void 0:a.length)-1){p=p.substring(0,p.length-1)}let h=(s=p)===null||s===void 0?void 0:s.substring(0,p.indexOf("("));if(h.indexOf("/")===0){h=h.substring(1)}const d=this.checkDraftAvailability(p,g),f=d?l.getSemanticKeys(g,h):undefined,v=c.isCollaborationDraftSupported(g);if(d&&v&&n.reason===r.RowPress){var C;const t=((C=n.useContext)===null||C===void 0?void 0:C.getProperty("IsActiveEntity"))??true;if(!t){return this.resolveCollaborationPath(e,o,n,f,h)}}if(f===undefined){return e}if((u===null||u===void 0?void 0:u.semanticPath)===e){return u.technicalPath}const P=f.map(t=>t.$PropertyPath);const y=await this.getTechnicalPathFromPath(p,o,P);if(y&&y!==e){this._oRoutingService.setLastSemanticMapping({technicalPath:y,semanticPath:e});return y}return e};h.resolveCollaborationPath=async function t(e,o,n,i,r){const a=this._oRoutingService.getLastSemanticMapping();const s=o.getMetaModel();const c=this._oRouter.getHashChanger().getHash().split("?")[0];let l;const g=(a===null||a===void 0?void 0:a.technicalPath)??e;if(i){l=i.map(t=>t.$PropertyPath)}else{l=s.getObject(`/${r}/$Type/$Key`)}const u=await this.getTechnicalPathFromPath(c,o,l);if(u===null){return e}if(u!==g&&n.useContext){var p;if(a){this._oRoutingService.setLastSemanticMapping({technicalPath:u,semanticPath:e})}n.redirectedToNonDraft=((p=s.getObject(`/${r}/@com.sap.vocabularies.UI.v1.HeaderInfo`))===null||p===void 0?void 0:p.TypeName)??r;await this.refreshContext(o,u,n.useContext)}return u};h._bindPageToPath=function t(e,o,i){const a=this._getBindingContext(),l=a&&a.getPath(),g=i.useContext;if(g&&g.getPath()===e){if(g!==a){let t=false;const e=this._oAppComponent.getRootViewController();if(e.isFclEnabled()&&i.reason===r.RowPress){const e=g.getModel().getMetaModel();if(!g.getBinding().hasPendingChanges()){t=true}else if(n.isConnected(this.getView())||c.isDraftSupported(e,g.getPath())&&c.isCollaborationDraftSupported(e)){g.getBinding().resetChanges();t=true}}this._bindPageToContext(g,o,i);if(t){g.refresh()}}else if(i.reason===r.EditFlowAction){this.onBeforeBinding(g,{editable:i.bTargetEditable,listBinding:g.getBinding(),bPersistOPScroll:i.bPersistOPScroll,reason:i.reason,showPlaceholder:i.bShowPlaceholder});this.onAfterBinding(g,{redirectedToNonDraft:i===null||i===void 0?void 0:i.redirectedToNonDraft})}}else if(l!==e){this._bindPageToContext(this._createContext(e,o),o,i)}else if(i.reason!==r.AppStateChanged&&i.reason!==r.RestoreHistory&&s.isEditStateDirty()){this._refreshBindingContext(a)}};h._bindPageToContext=function e(o,n,i){if(!o){this.onBeforeBinding(null);this.onAfterBinding(null);return}const r=o.getBinding();const a=this._oAppComponent.getRootViewController();if(a.isFclEnabled()){if(!r||!r.isA("sap.ui.model.odata.v4.ODataListBinding")){o=this._createContext(o.getPath(),n)}try{this._setKeepAlive(o,true,()=>{if(o&&a.isContextUsedInPages(o)){this.navigateBackFromContext(o)}},true)}catch(e){t.error(`View for ${o.getPath()} won't be synchronized. Parent listBinding must have binding parameter $$ownRequest=true`)}}else if(!r||r.isA("sap.ui.model.odata.v4.ODataListBinding")){o=this._createContext(o.getPath(),n)}this.onBeforeBinding(o,{editable:i.bTargetEditable,listBinding:r,bPersistOPScroll:i.bPersistOPScroll,reason:i.reason,showPlaceholder:i.bShowPlaceholder});this._setBindingContext(o);this.onAfterBinding(o,{redirectedToNonDraft:i===null||i===void 0?void 0:i.redirectedToNonDraft})};h._createContext=function t(e,n){const i=this._oPageComponent,r=i&&i.getEntitySet&&i.getEntitySet(),a=i&&i.getContextPath&&i.getContextPath()||r&&`/${r}`,s=n.getMetaModel(),c={$$groupId:"$auto.Heroes",$$updateGroupId:"$auto",$$patchWithoutSideEffects:true};const l=s.getObject(`${a}@com.sap.vocabularies.Common.v1.DraftRoot`);const g=s.getObject(`${a}@com.sap.vocabularies.Common.v1.DraftNode`);const u=this._oAppComponent.getRootViewController();if(u.isFclEnabled()){const t=this._getKeepAliveContext(n,e,false,c);if(!t){throw new Error(`Cannot create keepAlive context ${e}`)}else if(l||g){if(t.getProperty("IsActiveEntity")===undefined){t.requestProperty(["HasActiveEntity","HasDraftEntity","IsActiveEntity"]);if(l){t.requestObject("DraftAdministrativeData")}}else{t.requestSideEffects(l?["HasActiveEntity","HasDraftEntity","IsActiveEntity","DraftAdministrativeData"]:["HasActiveEntity","HasDraftEntity","IsActiveEntity"])}}return t}else{if(r){const t=s.getObject(`${a}/@com.sap.vocabularies.Common.v1.Messages/$Path`);if(t){c.$select=t}}if(l||g){if(c.$select===undefined){c.$select="HasActiveEntity,HasDraftEntity,IsActiveEntity"}else{c.$select+=",HasActiveEntity,HasDraftEntity,IsActiveEntity"}}if(this._oView.getBindingContext()){var p;const t=(p=this._oView.getBindingContext())===null||p===void 0?void 0:p.getBinding();if(t){n.resetChanges(t.getUpdateGroupId());t.destroy()}}const t=n.bindContext(e,undefined,c);t.attachEventOnce("dataRequested",()=>{o.lock(this._oView)});t.attachEventOnce("dataReceived",this.onDataReceived.bind(this));return t.getBoundContext()}};h.onDataReceived=async function e(n){const i=n&&n.getParameter("error");if(o.isLocked(this._oView)){o.unlock(this._oView)}if(i){try{const t=await u.getLibraryResourceBundle("sap.fe.core",true);const e=this.base.messageHandler;let o={};if(i.status===503){o={isInitialLoad503Error:true,shellBack:true}}else if(i.status===400){o={title:t.getText("C_COMMON_SAPFE_ERROR"),description:t.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR_DESCRIPTION"),isDataReceivedError:true,shellBack:true}}else{o={title:t.getText("C_COMMON_SAPFE_ERROR"),description:i,isDataReceivedError:true,shellBack:true}}await e.showMessages(o)}catch(e){t.error("Error while getting the core resource bundle",e)}}};h._refreshBindingContext=function t(e){const o=this._oPageComponent;const n=this._oAppComponent.getSideEffectsService();const i=e.getPath();const r=o&&o.getEntitySet&&o.getEntitySet();const a=o&&o.getContextPath&&o.getContextPath()||r&&`/${r}`;const s=this._oView.getModel().getMetaModel();let c;const l=[];const g=[];const u={targetProperties:[],targetEntities:[]};function p(t){let e;const o=(t.getContext()&&t.getContext().getPath()||"").replace(i,"");const n=(o?`${o.slice(1)}/`:o)+t.getPath();if(t.isA("sap.ui.model.odata.v4.ODataContextBinding")){e=t.getDependentBindings();if(e){for(let t=0;t<e.length;t++){p(e[t])}}else if(!l.includes(n)){l.push(n)}}else if(t.isA("sap.ui.model.odata.v4.ODataListBinding")){if(!l.includes(n)){l.push(n)}}else if(t.isA("sap.ui.model.odata.v4.ODataPropertyBinding")){if(!g.includes(n)){g.push(n)}}}if(a){c=s.getObject(`${a}/@com.sap.vocabularies.Common.v1.Messages/$Path`)}p(e.getBinding());let h;for(h=0;h<l.length;h++){u.targetEntities.push({$NavigationPropertyPath:l[h]})}u.targetProperties=g;if(c){u.targetProperties.push(c)}u.targetProperties=u.targetProperties.reduce((t,e)=>{if(e){const o=e.indexOf("/");t.push(o>0?e.slice(0,o):e)}return t},[]);n.requestSideEffects([...u.targetEntities,...u.targetProperties],e)};h._getBindingContext=function t(){if(this._oPageComponent){return this._oPageComponent.getBindingContext()}else{return this._oView.getBindingContext()}};h._setBindingContext=function t(e){var o;let n,i;if(this._oPageComponent){n=this._oPageComponent.getBindingContext();i=this._oPageComponent}else{n=this._oView.getBindingContext();i=this._oView}i.setBindingContext(e);if((o=n)!==null&&o!==void 0&&o.isKeepAlive()&&n!==e){this._setKeepAlive(n,false)}};h._getFCLLevel=function t(){return this._oTargetInformation.FCLLevel};h._setKeepAlive=function t(e,o,n,i){if(e.getPath().endsWith(")")){const t=e.getModel().getMetaModel();const r=t.getMetaPath(e.getPath());const a=t.getObject(`${r}/@com.sap.vocabularies.Common.v1.Messages/$Path`);e.setKeepAlive(o,n,!!a&&i)}};h._getKeepAliveContext=function t(e,o,n,i){const r=o.split("/");const a=[];while(r.length&&!r[r.length-1].endsWith(")")){a.push(r.pop())}if(r.length===0){return undefined}const s=r.join("/");const c=e.getKeepAliveContext(s,n,i);if(a.length===0){return c}else{a.reverse();const t=a.join("/");return e.bindContext(t,c).getBoundContext()}};h.switchFullScreen=function e(){const o=this.base.getView();const n=o.getModel("fclhelper"),i=n.getProperty("/actionButtonsInfo/isFullScreen"),r=n.getProperty(i?"/actionButtonsInfo/exitFullScreen":"/actionButtonsInfo/fullScreen"),a=this._oAppComponent.getRootViewController();const s=a.getRightmostContext?a.getRightmostContext():o.getBindingContext();this.base._routing.navigateToContext(s,{layout:r}).catch(function(){t.warning("cannot switch between column and fullscreen")})};h.closeColumn=function t(){const e=this._oView.getViewData();const o=this._oView.getBindingContext();const n=o.getModel().getMetaModel();const r={noPreservationCache:true,sLayout:this._oView.getModel("fclhelper").getProperty("/actionButtonsInfo/closeColumn")};if((e===null||e===void 0?void 0:e.viewLevel)===1&&c.isDraftSupported(n,o.getPath())){i.processDataLossOrDraftDiscardConfirmation(()=>{this.navigateBackFromContext(o,r)},Function.prototype,o,this._oView.getController(),false,i.NavigationType.BackNavigation)}else{this.navigateBackFromContext(o,r)}};return p}(p),G(H.prototype,"onExit",[C],Object.getOwnPropertyDescriptor(H.prototype,"onExit"),H.prototype),G(H.prototype,"onInit",[P],Object.getOwnPropertyDescriptor(H.prototype,"onInit"),H.prototype),G(H.prototype,"onRouteMatched",[y,_],Object.getOwnPropertyDescriptor(H.prototype,"onRouteMatched"),H.prototype),G(H.prototype,"onRouteMatchedFinished",[m,x],Object.getOwnPropertyDescriptor(H.prototype,"onRouteMatchedFinished"),H.prototype),G(H.prototype,"onBeforeBinding",[b,w],Object.getOwnPropertyDescriptor(H.prototype,"onBeforeBinding"),H.prototype),G(H.prototype,"onAfterBinding",[B,O],Object.getOwnPropertyDescriptor(H.prototype,"onAfterBinding"),H.prototype),G(H.prototype,"navigateToTarget",[R],Object.getOwnPropertyDescriptor(H.prototype,"navigateToTarget"),H.prototype),G(H.prototype,"navigateToRoute",[E],Object.getOwnPropertyDescriptor(H.prototype,"navigateToRoute"),H.prototype),G(H.prototype,"navigateBackFromTransientState",[A,S],Object.getOwnPropertyDescriptor(H.prototype,"navigateBackFromTransientState"),H.prototype),G(H.prototype,"navigateToMessagePage",[D,T],Object.getOwnPropertyDescriptor(H.prototype,"navigateToMessagePage"),H.prototype),G(H.prototype,"isCurrentStateImpactedBy",[M,F],Object.getOwnPropertyDescriptor(H.prototype,"isCurrentStateImpactedBy"),H.prototype),G(H.prototype,"onDataReceived",[I],Object.getOwnPropertyDescriptor(H.prototype,"onDataReceived"),H.prototype),G(H.prototype,"switchFullScreen",[V,$],Object.getOwnPropertyDescriptor(H.prototype,"switchFullScreen"),H.prototype),G(H.prototype,"closeColumn",[L,N],Object.getOwnPropertyDescriptor(H.prototype,"closeColumn"),H.prototype),H))||j);return X},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/KPIManagement", ["sap/base/Log","sap/fe/core/formatters/TableFormatterTypes","sap/m/Popover","sap/ui/core/Core","sap/ui/core/Locale","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat","sap/ui/core/mvc/ControllerExtension","sap/ui/model/Filter","sap/ui/model/Sorter","sap/ui/model/json/JSONModel","../helpers/ClassSupport"],function(e,t,a,n,i,r,o,s,l,d,u,c){"use strict";var p,f,g,m,h,y;var P=c.publicExtension;var b=c.methodOverride;var v=c.defineUI5Class;var D=t.MessageType;function C(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;I(e,t)}function I(e,t){I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,a){t.__proto__=a;return t};return I(e,t)}function N(e,t,a,n,i){var r={};Object.keys(n).forEach(function(e){r[e]=n[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=a.slice().reverse().reduce(function(a,n){return n(e,t,a)||a},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}const $={1:D.Error,2:D.Warning,3:D.Success,5:D.Information};const T={Error:"Error",Warning:"Critical",Success:"Good",Information:"None",None:"None"};function S(e,t){let a;if(t[0]!==undefined&&t[0]!==null&&e<t[0]){a=D.Error}else if(t[1]!==undefined&&t[1]!==null&&e<t[1]){a=D.Warning}else if(t[2]!==undefined&&t[2]!==null&&e<t[2]){a=D.None}else if(t[5]!==undefined&&t[5]!==null&&e>t[5]){a=D.Error}else if(t[4]!==undefined&&t[4]!==null&&e>t[4]){a=D.Warning}else if(t[3]!==undefined&&t[3]!==null&&e>t[3]){a=D.None}else{a=D.Success}return a}function j(e,t){let a;if(t[2]!==undefined&&t[2]!==null&&e>t[2]){a=D.Error}else if(t[1]!==undefined&&t[1]!==null&&e>t[1]){a=D.Warning}else if(t[0]!==undefined&&t[0]!==null&&e>t[0]){a=D.None}else{a=D.Success}return a}function w(e,t){let a;if(t[0]!==undefined&&t[0]!==null&&e<t[0]){a=D.Error}else if(t[1]!==undefined&&t[1]!==null&&e<t[1]){a=D.Warning}else if(t[2]!==undefined&&t[2]!==null&&e<t[2]){a=D.None}else{a=D.Success}return a}function A(e){let t;switch(e){case 1:case"1":case 2:case"2":t="Up";break;case 4:case"4":case 5:case"5":t="Down";break;default:t="None"}return t}function x(e,t,a,n){let i;if(!n||a&&!t){return"None"}const r=a?(e-t)/t:e-t;if(n[0]!==undefined&&n[0]!==null&&r<=n[0]){i="Down"}else if(n[1]!==undefined&&n[1]!==null&&r<=n[1]){i="Down"}else if(n[3]!==undefined&&n[3]!==null&&r>=n[3]){i="Up"}else if(n[2]!==undefined&&n[2]!==null&&r>=n[2]){i="Up"}else{i="None"}return i}function F(e){if(e.ranges.length===0){return undefined}else if(e.ranges.length===1){return new l(e.propertyPath,e.ranges[0].operator,e.ranges[0].rangeLow,e.ranges[0].rangeHigh)}else{const t=e.ranges.map(t=>new l(e.propertyPath,t.operator,t.rangeLow,t.rangeHigh));return new l({filters:t,and:false})}}function V(e){const t=new i(sap.ui.getCore().getConfiguration().getLanguage());const a=n.getLibraryResourceBundle("sap.fe.core");const o=r.getDateInstance({style:"medium"},t);function s(t){const n=e.propertyType.indexOf("Edm.Date")===0?o.format(new Date(t.rangeLow)):t.rangeLow;const i=e.propertyType.indexOf("Edm.Date")===0?o.format(new Date(t.rangeHigh)):t.rangeHigh;switch(t.operator){case"BT":return`[${n} - ${i}]`;case"Contains":return`*${n}*`;case"GE":return`≥${n}`;case"GT":return`>${n}`;case"LE":return`≤${n}`;case"LT":return`<${n}`;case"NB":return a.getText("C_KPICARD_FILTERSTRING_NOT",[`[${n} - ${i}]`]);case"NE":return`≠${n}`;case"NotContains":return a.getText("C_KPICARD_FILTERSTRING_NOT",[`*${n}*`]);case"EQ":default:return n}}if(e.ranges.length===0){return""}else if(e.ranges.length===1){return s(e.ranges[0])}else{return`(${e.ranges.map(s).join(",")})`}}function O(e){const t=n.getLibraryResourceBundle("sap.fe.core");function a(e){if(e.length===0){return""}else if(e.length===1){return e[0].label}else{let a=e[0].label;for(let t=1;t<e.length-1;t++){a+=`, ${e[t].label}`}return t.getText("C_KPICARD_ITEMSLIST",[a,e[e.length-1].label])}}return t.getText("C_KPICARD_CHARTTITLE",[a(e.chart.measures),a(e.chart.dimensions)])}function E(e,t){switch(e.chartType){case"Donut":t.categoryAxis={title:{visible:false}};t.valueAxis={title:{visible:false},label:{formatString:"ShortFloat"}};t.plotArea.dataLabel={visible:true,type:"value",formatString:"ShortFloat_MFD2"};break;case"bubble":t.valueAxis={title:{visible:true},label:{formatString:"ShortFloat"}};t.valueAxis2={title:{visible:true},label:{formatString:"ShortFloat"}};t.legendGroup={layout:{position:"bottom",alignment:"topLeft"}};t.sizeLegend={visible:true};t.plotArea.dataLabel={visible:false};break;case"scatter":t.valueAxis={title:{visible:false},label:{formatString:"ShortFloat"}};t.valueAxis2={title:{visible:false},label:{formatString:"ShortFloat"}};t.plotArea.dataLabel={visible:false};break;default:t.categoryAxis={title:{visible:false}};t.valueAxis={title:{visible:false},label:{formatString:"ShortFloat"}};t.plotArea.dataLabel={visible:false}}}function L(e,t){if(t&&t.length){return e.filter(e=>t.includes(e.role)).map(e=>e.label)}else{return e.map(e=>e.label)}}function M(e){const t=L(e.measures,["Axis1"]);const a=L(e.measures,["Axis2"]);const n=L(e.measures,["Axis3"]);const i=L(e.measures,[undefined]);const r=L(e.dimensions,["Series"]);const o=e.dimensions.find(e=>e.role==="Category");const s=t.shift()||a.shift()||n.shift()||i.shift()||"";const l=a.shift()||t.shift()||n.shift()||i.shift()||"";const d=[{uid:"valueAxis",type:"Measure",values:[s]},{uid:"valueAxis2",type:"Measure",values:[l]}];if(e.chartType==="bubble"){const e=n.shift()||t.shift()||a.shift()||i.shift()||"";d.push({uid:"bubbleWidth",type:"Measure",values:[e]})}if(r.length){d.push({uid:"color",type:"Dimension",values:r})}if(o){d.push({uid:"shape",type:"Dimension",values:[o.label]})}return d}function R(e){let t;switch(e.chartType){case"Donut":t=[{uid:"size",type:"Measure",values:L(e.measures)},{uid:"color",type:"Dimension",values:L(e.dimensions)}];break;case"bubble":case"scatter":t=M(e);break;case"vertical_bullet":t=[{uid:"actualValues",type:"Measure",values:L(e.measures,[undefined,"Axis1"])},{uid:"targetValues",type:"Measure",values:L(e.measures,["Axis2"])},{uid:"categoryAxis",type:"Dimension",values:L(e.dimensions,[undefined,"Category"])},{uid:"color",type:"Dimension",values:L(e.dimensions,["Series"])}];break;default:t=[{uid:"valueAxis",type:"Measure",values:L(e.measures)},{uid:"categoryAxis",type:"Dimension",values:L(e.dimensions,[undefined,"Category"])},{uid:"color",type:"Dimension",values:L(e.dimensions,["Series"])}]}return t}function _(e,t){if(e.semanticObject){if(e.action){return t.getLinks({semanticObject:e.semanticObject,action:e.action}).then(t=>t.length?{semanticObject:e.semanticObject,action:e.action}:undefined)}else{return t.getPrimaryIntent(e.semanticObject).then(a=>{if(!a){return undefined}const n=t.parseShellHash(a.intent);return e.unavailableActions&&e.unavailableActions.includes(n.action)?undefined:{semanticObject:n.semanticObject,action:n.action}})}}else{return e.outboundNavigation?Promise.resolve({outbound:e.outboundNavigation}):Promise.resolve(undefined)}}let K=(p=v("sap.fe.core.controllerextensions.KPIManagement"),f=b(),g=b(),m=P(),p(h=(y=function(t){C(r,t);function r(){return t.apply(this,arguments)||this}var s=r.prototype;s.initCardManifest=function e(t,a){var i;const r={"sap.app":{id:"sap.fe",type:"card"},"sap.ui":{technology:"UI5"},"sap.card":{type:"Analytical",data:{json:{}},header:{type:"Numeric",title:t.datapoint.title,subTitle:t.datapoint.description,unitOfMeasurement:"{mainUnit}",mainIndicator:{number:"{mainValueNoScale}",unit:"{mainValueScale}",state:"{mainState}",trend:"{trend}"}},content:{minHeight:"25rem",chartProperties:{plotArea:{},title:{visible:true,alignment:"left"}},data:{path:"/chartData"}}}};if(t.datapoint.targetPath||t.datapoint.targetValue!==undefined){const e=n.getLibraryResourceBundle("sap.fe.core");r["sap.card"].header.sideIndicators=[{title:e.getText("C_KPICARD_INDICATOR_TARGET"),number:"{targetNumber}",unit:"{targetUnit}"},{title:e.getText("C_KPICARD_INDICATOR_DEVIATION"),number:"{deviationNumber}",unit:"%"}]}if((i=t.selectionVariantFilterDefinitions)!==null&&i!==void 0&&i.length){const e=[];t.selectionVariantFilterDefinitions.forEach(t=>{const a=V(t);if(a){e.push(a)}});if(e.length){r["sap.card"].header.details=e.join(", ")}}r["sap.card"].content.chartType=t.chart.chartType;E(t.chart,r["sap.card"].content.chartProperties);r["sap.card"].content.chartProperties.title.text=O(t);r["sap.card"].content.dimensions=t.chart.dimensions.map(e=>({label:e.label,value:`{${e.name}}`}));r["sap.card"].content.measures=t.chart.measures.map(e=>({label:e.label,value:`{${e.name}}`}));r["sap.card"].content.feeds=R(t.chart);a.setProperty(`/${t.id}`,{manifest:r})};s.initNavigationInfo=async function e(t,a,n){if(t.navigation){return _(t.navigation,n).then(e=>{if(e){a.setProperty(`/${t.id}/manifest/sap.card/header/actions`,[{type:"Navigation",parameters:e}])}})}else{return Promise.resolve()}};s.onInit=function t(){var a;this.aKPIDefinitions=(a=this.getView().getController()._getPageModel())===null||a===void 0?void 0:a.getProperty("/kpiDefinitions");if(this.aKPIDefinitions&&this.aKPIDefinitions.length){const t=this.getView();const a=t.getController().getAppComponent();const n=new u;t.setModel(n,"kpiModel");this.aKPIDefinitions.forEach(t=>{if(t.type==="Analytical"){this.initCardManifest(t,n);this.initNavigationInfo(t,n,a.getShellServices()).catch(function(t){e.error(t)});this.loadKPITagData(t,a.getModel(),n).catch(function(t){e.error(t)})}})}};s.onExit=function e(){const t=this.getView().getModel("kpiModel");if(t){t.destroy()}};s.updateDatapointValueAndCurrency=function e(t,a,n){var r,s,l;const d=new i(sap.ui.getCore().getConfiguration().getLanguage());const u=(r=t.datapoint.unit)!==null&&r!==void 0&&r.isPath?a.getProperty(t.datapoint.unit.value):(s=t.datapoint.unit)===null||s===void 0?void 0:s.value;const c=((l=t.datapoint.unit)===null||l===void 0?void 0:l.isCurrency)===false&&u==="%";const p=Number.parseFloat(a.getProperty(t.datapoint.propertyPath));const f=o.getFloatInstance({style:c?undefined:"short",minFractionDigits:0,maxFractionDigits:1,showScale:!c},d).format(p);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValue`,f);const g=o.getFloatInstance({maxFractionDigits:2,showScale:false,groupingEnabled:true},d).format(p);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueUnscaled`,g);const m=o.getFloatInstance({style:c?undefined:"short",minFractionDigits:0,maxFractionDigits:1,showScale:false},d).format(p);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueNoScale`,m);const h=o.getFloatInstance({style:c?undefined:"short",decimals:0,maxIntegerDigits:0,showScale:true},d).format(p);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueScale`,h);if(t.datapoint.unit&&u){if(t.datapoint.unit.isCurrency){n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainUnit`,u)}else{const e=o.getUnitInstance({showNumber:false},d).format(p,u);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainUnit`,e)}}};s.updateDatapointCriticality=function e(t,a,n){const i=Number.parseFloat(a.getProperty(t.datapoint.propertyPath));let r=D.None;if(t.datapoint.criticalityValue){r=t.datapoint.criticalityValue}else if(t.datapoint.criticalityPath){r=$[a.getProperty(t.datapoint.criticalityPath)]||D.None}else if(t.datapoint.criticalityCalculationThresholds&&t.datapoint.criticalityCalculationMode){switch(t.datapoint.criticalityCalculationMode){case"UI.ImprovementDirectionType/Target":r=S(i,t.datapoint.criticalityCalculationThresholds);break;case"UI.ImprovementDirectionType/Minimize":r=j(i,t.datapoint.criticalityCalculationThresholds);break;case"UI.ImprovementDirectionType/Maximize":default:r=w(i,t.datapoint.criticalityCalculationThresholds);break}}n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainCriticality`,r);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainState`,T[r]||"None")};s.updateDatapointTrend=function e(t,a,n){const i=Number.parseFloat(a.getProperty(t.datapoint.propertyPath));let r="None";if(t.datapoint.trendValue){r=t.datapoint.trendValue}else if(t.datapoint.trendPath){r=A(a.getProperty(t.datapoint.trendPath))}else if(t.datapoint.trendCalculationReferenceValue!==undefined||t.datapoint.trendCalculationReferencePath){let e;if(t.datapoint.trendCalculationReferenceValue!==undefined){e=t.datapoint.trendCalculationReferenceValue}else{e=Number.parseFloat(a.getProperty(t.datapoint.trendCalculationReferencePath||""))}r=x(i,e,!!t.datapoint.trendCalculationIsRelative,t.datapoint.trendCalculationTresholds)}n.setProperty(`/${t.id}/manifest/sap.card/data/json/trend`,r)};s.updateTargetValue=function e(t,a,n){if(t.datapoint.targetValue===undefined&&t.datapoint.targetPath===undefined){return}const r=Number.parseFloat(a.getProperty(t.datapoint.propertyPath));const s=new i(sap.ui.getCore().getConfiguration().getLanguage());let l;if(t.datapoint.targetValue!==undefined){l=t.datapoint.targetValue}else{l=Number.parseFloat(a.getProperty(t.datapoint.targetPath||""))}const d=l!==0?(r-l)/l*100:undefined;const u=o.getFloatInstance({style:"short",minFractionDigits:0,maxFractionDigits:1,showScale:false},s).format(l);const c=o.getFloatInstance({style:"short",decimals:0,maxIntegerDigits:0,showScale:true},s).format(l);n.setProperty(`/${t.id}/manifest/sap.card/data/json/targetNumber`,u);n.setProperty(`/${t.id}/manifest/sap.card/data/json/targetUnit`,c);if(d!==undefined){const e=o.getFloatInstance({minFractionDigits:0,maxFractionDigits:1,showScale:false},s).format(d);n.setProperty(`/${t.id}/manifest/sap.card/data/json/deviationNumber`,e)}else{n.setProperty(`/${t.id}/manifest/sap.card/data/json/deviationNumber`,"N/A")}};s.loadKPITagData=async function e(t,a,n,i){var r,o;const s=i?a.bindList(`/${t.entitySet}`,undefined,undefined,undefined,{$$groupId:"$auto.Workers"}):a.bindList(`/${t.entitySet}`,undefined,undefined,undefined,{$$groupId:"$auto.LongRunners"});const l={};if((r=t.datapoint.unit)!==null&&r!==void 0&&r.isPath){l[t.datapoint.propertyPath]={unit:t.datapoint.unit.value}}else{l[t.datapoint.propertyPath]={}}if(t.datapoint.criticalityPath){l[t.datapoint.criticalityPath]={}}if(i){if(t.datapoint.trendPath){l[t.datapoint.trendPath]={}}if(t.datapoint.trendCalculationReferencePath){l[t.datapoint.trendCalculationReferencePath]={}}if(t.datapoint.targetPath){l[t.datapoint.targetPath]={}}}s.setAggregation({aggregate:l});if((o=t.selectionVariantFilterDefinitions)!==null&&o!==void 0&&o.length){const e=t.selectionVariantFilterDefinitions.map(F).filter(e=>e!==undefined);s.filter(e)}return s.requestContexts(0,1).then(e=>{if(e.length){var a,r;const o=(a=t.datapoint.unit)!==null&&a!==void 0&&a.isPath?e[0].getProperty(t.datapoint.unit.value):(r=t.datapoint.unit)===null||r===void 0?void 0:r.value;if(t.datapoint.unit&&!o){n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValue`,"*");n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueUnscaled`,"*");n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueNoScale`,"*");n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainValueScale`,"");n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainUnit`,undefined);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainCriticality`,D.None);n.setProperty(`/${t.id}/manifest/sap.card/data/json/mainState`,"None");n.setProperty(`/${t.id}/manifest/sap.card/data/json/trend`,"None");n.setProperty(`/${t.id}/manifest/sap.card/data/json/targetNumber`,undefined);n.setProperty(`/${t.id}/manifest/sap.card/data/json/targetUnit`,undefined);n.setProperty(`/${t.id}/manifest/sap.card/data/json/deviationNumber`,undefined)}else{this.updateDatapointValueAndCurrency(t,e[0],n);this.updateDatapointCriticality(t,e[0],n);if(i){this.updateDatapointTrend(t,e[0],n);this.updateTargetValue(t,e[0],n)}}}})};s.loadKPICardData=async function e(t,a,n){var i;const r=a.bindList(`/${t.entitySet}`,undefined,undefined,undefined,{$$groupId:"$auto.Workers"});const o={};const s={};t.chart.dimensions.forEach(e=>{o[e.name]={}});t.chart.measures.forEach(e=>{s[e.name]={}});r.setAggregation({group:o,aggregate:s});if((i=t.selectionVariantFilterDefinitions)!==null&&i!==void 0&&i.length){const e=t.selectionVariantFilterDefinitions.map(F).filter(e=>e!==undefined);r.filter(e)}if(t.chart.sortOrder){r.sort(t.chart.sortOrder.map(e=>new d(e.name,e.descending)))}return r.requestContexts(0,t.chart.maxItems).then(e=>{const a=e.map(function(e){const a={};t.chart.dimensions.forEach(t=>{a[t.name]=e.getProperty(t.name)});t.chart.measures.forEach(t=>{a[t.name]=e.getProperty(t.name)});return a});n.setProperty(`/${t.id}/manifest/sap.card/data/json/chartData`,a)})};s.getPopover=function e(t){var i=this;if(!this.oPopover){return new Promise((e,r)=>{n.loadLibrary("sap/ui/integration",{async:true}).then(()=>{sap.ui.require(["sap/ui/integration/widgets/Card","sap/ui/integration/Host"],function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++){r[o]=arguments[o]}const s=r[0];const l=r[1];const d=new l;d.attachAction(e=>{const t=e.getParameter("type");const a=e.getParameter("parameters");if(t==="Navigation"){if(a.semanticObject){i.getView().getController()._intentBasedNavigation.navigate(a.semanticObject,a.action)}else{i.getView().getController()._intentBasedNavigation.navigateOutbound(a.outbound)}}});i.oCard=new s({width:"25rem",height:"auto"});i.oCard.setHost(d);i.oPopover=new a("kpi-Popover",{showHeader:false,placement:"Auto",content:[i.oCard]});t.addDependent(i.oPopover);e(i.oPopover)})}).catch(function(){r()})})}else{return Promise.resolve(this.oPopover)}};s.onKPIPressed=function t(a,n){const i=a.getModel("kpiModel");if(this.aKPIDefinitions&&this.aKPIDefinitions.length){const t=this.aKPIDefinitions.find(function(e){return e.id===n});if(t){const r=a.getModel();const o=[this.loadKPITagData(t,r,i,true),this.loadKPICardData(t,r,i),this.getPopover(a)];Promise.all(o).then(e=>{this.oCard.setManifest(i.getProperty(`/${n}/manifest`));this.oCard.refresh();const t=e[2];t.openBy(a,false)}).catch(t=>{e.error(t)})}}};return r}(s),N(y.prototype,"onInit",[f],Object.getOwnPropertyDescriptor(y.prototype,"onInit"),y.prototype),N(y.prototype,"onExit",[g],Object.getOwnPropertyDescriptor(y.prototype,"onExit"),y.prototype),N(y.prototype,"onKPIPressed",[m],Object.getOwnPropertyDescriptor(y.prototype,"onKPIPressed"),y.prototype),y))||h);return K},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/MassEdit", ["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/MassEditHelper","sap/fe/core/helpers/ModelHelper","sap/m/MessageBox","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../CommonUtils"],function(e,t,o,n,i,r,a,s){"use strict";var l,c,p,g,d,E,u,_,f;var M=t.publicExtension;var T=t.privateExtension;var C=t.finalExtension;var S=t.extensible;var A=t.defineUI5Class;function D(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return y(e,t)}function O(e,t,o,n,i){var r={};Object.keys(n).forEach(function(e){r[e]=n[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}let x=(l=A("sap.fe.core.controllerextensions.MassEdit"),c=M(),p=C(),g=M(),d=C(),E=T(),u=S(a.After),l(_=(f=function(t){D(r,t);function r(){return t.apply(this,arguments)||this}var a=r.prototype;a.getMessageDetailForNonEditable=function e(t,o,n){const i=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_HEADER"),r=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON",[n]),a=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON_DRAFT",[o]),s=t.getText("C_MASS_EDIT_CONFIRM_MESSAGE_DETAIL_REASON_NON_EDITABLE",[o]);return`<p><strong>${i}</strong></p>\n`+(!!r&&`<p>${r}</p>\n`+`<ul>`+(!!a&&`<li>${a}</li>`)+(!!s&&`<li>${s}</li>`)+`</ul>`)};a.getResourceText=function e(t,o){const n=t&&s.getTranslatedTextFromExpBindingString(t,o);return n&&n.toLocaleLowerCase()};a._openConfirmDialog=async function t(o,r,a){const s=(r||[]).length;const l=this.getView();return new Promise(t=>{l.getModel("sap.fe.i18n").getResourceBundle().then(c=>{const p=c.getText("C_MASS_EDIT_CONFIRM_BUTTON_TEXT"),g=c.getText("C_COMMON_OBJECT_PAGE_CANCEL"),d=a-s,E=o.data("entityType"),u=o.getModel().getMetaModel(),_=u.getObject(`${E}@com.sap.vocabularies.UI.v1.HeaderInfo`),f=_&&this.getResourceText(_.TypeName,l)||c.getText("C_MASS_EDIT_DIALOG_DEFAULT_TYPENAME"),M=_&&this.getResourceText(_.TypeNamePlural,l)||c.getText("C_MASS_EDIT_DIALOG_DEFAULT_TYPENAME_PLURAL"),T=c.getText("C_MASS_EDIT_CONFIRM_MESSAGE",[d,a,s,M]),C=o.data("targetCollectionPath"),S=o.getModel().getMetaModel(),A=n.isDraftSupported(S,C),D=o.data("displayModePropertyBinding")==="true",y=A&&D&&this.getMessageDetailForNonEditable(c,f,M);i.warning(T,{details:y,actions:[p,g],emphasizedAction:p,contentWidth:"100px",onClose:function(o){let n=[];if(o===p){e.info("Mass Edit: Confirmed to edit ",s.toString()," selections.");n=r}else if(o===g){e.info("Mass Edit: Cancelled.")}t(n)}})}).catch(function(t){e.error(t)})})};a.openMassEditDialog=async function t(n){try{const e=this.getView().getController(),t=await this.fetchContextsForEdit(n)??[],i=n.getBindingContext("internal").getProperty("numberOfSelectedContexts")||0,r=t.length&&t.length!==i?await this._openConfirmDialog(n,t,i):t,a=r!==null&&r!==void 0&&r.length?await o.createDialog(n,r,e):undefined;if(a){n.addDependent(a);a.open()}}catch(t){e.error("Mass Edit: Something went wrong in mass edit dialog creation.",t)}};a.fetchContextsForEdit=function e(t){const o=t.getBindingContext("internal"),n=o.getProperty("updatableContexts")||[];return Promise.resolve(n)};return r}(r),O(f.prototype,"getMessageDetailForNonEditable",[c,p],Object.getOwnPropertyDescriptor(f.prototype,"getMessageDetailForNonEditable"),f.prototype),O(f.prototype,"openMassEditDialog",[g,d],Object.getOwnPropertyDescriptor(f.prototype,"openMassEditDialog"),f.prototype),O(f.prototype,"fetchContextsForEdit",[E,u],Object.getOwnPropertyDescriptor(f.prototype,"fetchContextsForEdit"),f.prototype),f))||_);return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/MessageHandler", ["sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/ClassSupport","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(e,t,o,s,i,n){"use strict";var r,a,g,c,l,u,p,f,d,h;var v=o.publicExtension;var M=o.privateExtension;var y=o.finalExtension;var m=o.extensible;var b=o.defineUI5Class;function w(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}function T(e,t){T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return T(e,t)}function O(e,t,o,s,i){var n={};Object.keys(s).forEach(function(e){n[e]=s[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=o.slice().reverse().reduce(function(o,s){return s(e,t,o)||o},n);if(i&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(i):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}let D=(r=b("sap.fe.core.controllerextensions.MessageHandler"),a=M(),g=m(n.Instead),c=v(),l=y(),u=v(),p=v(),f=y(),r(d=(h=function(o){w(i,o);function i(){return o.apply(this,arguments)||this}var n=i.prototype;n.getShowBoundMessagesInMessageDialog=function e(){return true};n.showMessageDialog=function e(o){const s=o&&o.customMessages?o.customMessages:undefined,i=this.base.getView().getBindingContext("internal");const n=this.base.getView().getViewData().converterType;if(o&&o.isActionParameterDialogOpen&&i){i.setProperty("isActionParameterDialogOpen",true)}const r=this.getShowBoundMessagesInMessageDialog();const a=o&&o.context?o.context:this.getView().getBindingContext();if(i){i.setProperty("isActionParameterDialogOpen",false)}return new Promise(function(e,i){setTimeout(function(){t.showUnboundMessages(s,a,r,o===null||o===void 0?void 0:o.concurrentEditFlag,o===null||o===void 0?void 0:o.control,o===null||o===void 0?void 0:o.sActionName,undefined,o===null||o===void 0?void 0:o.onBeforeShowMessage,n).then(e).catch(i)},0)})};n.removeTransitionMessages=function e(o,s,i){if(!o){t.removeBoundTransitionMessages(i)}if(!s){t.removeUnboundTransitionMessages()}};n._checkNavigationToErrorPage=function o(s){const i=t.getMessages();const n=this.getShowBoundMessagesInMessageDialog();const r=n?t.getMessages(true,true):[];const a=s&&s.customMessages?s.customMessages:[];const g=e.isStickyEditMode(this.base.getView());let c;if(s&&s.isDataReceivedError){c={title:s.title,description:s.description,navigateBackToOrigin:true,errorType:"PageNotFound"}}else if(!g&&!r.length&&!a.length&&(i.length===1||s&&s.isInitialLoad503Error)){const e=i[0],o=e.getTechnicalDetails();let s;if(o&&o.httpStatus===503){if(o.retryAfter){const i=this._getSecondsBeforeRetryAfter(o.retryAfter);if(i>120){s=t.getRetryAfterMessage(e);c={description:s?`${s} ${e.getMessage()}`:e.getMessage(),navigateBackToOrigin:true,errorType:"UnableToLoad"}}}else{s=t.getRetryAfterMessage(e);c={description:s?`${s} ${e.getMessage()}`:e.getMessage(),navigateBackToOrigin:true,errorType:"UnableToLoad"}}}}return c};n._getSecondsBeforeRetryAfter=function e(t){const o=new Date,s=o.getTime(),i=t.getTime(),n=(i-s)/1e3;return n};n.showMessages=async function t(o){const i=e.getAppComponent(this.getView());let n;if(!i._isFclEnabled()){n=this._checkNavigationToErrorPage(o)}if(n){if(o&&o.messagePageNavigationCallback){o.messagePageNavigationCallback()}n.handleShellBack=!(o&&o.shellBack);this.removeTransitionMessages();const e=s.getLibraryResourceBundle("sap.fe.core");if(this.base._routing){return new Promise((t,s)=>{setTimeout(()=>{this.base._routing.navigateToMessagePage(o&&o.isDataReceivedError?e.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"):e.getText("C_MESSAGE_HANDLING_SAPFE_503_TITLE"),n).then(t).catch(s)},0)})}}else{return this.showMessageDialog(o)}};return i}(i),O(h.prototype,"getShowBoundMessagesInMessageDialog",[a,g],Object.getOwnPropertyDescriptor(h.prototype,"getShowBoundMessagesInMessageDialog"),h.prototype),O(h.prototype,"showMessageDialog",[c,l],Object.getOwnPropertyDescriptor(h.prototype,"showMessageDialog"),h.prototype),O(h.prototype,"removeTransitionMessages",[u],Object.getOwnPropertyDescriptor(h.prototype,"removeTransitionMessages"),h.prototype),O(h.prototype,"showMessages",[p,f],Object.getOwnPropertyDescriptor(h.prototype,"showMessages"),h.prototype),h))||d);return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/PageReady", ["sap/base/Log","sap/fe/core/controllerextensions/pageReady/DataQueryWatcher","sap/fe/core/services/TemplatedViewServiceFactory","sap/ui/base/EventProvider","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../CommonUtils","../helpers/ClassSupport"],function(e,t,i,o,r,n,a,s,c,h){"use strict";var p,d,u,g,l,y,f,v,b,R,m,P,E,O,w,D,_,C,T,A,x,W,B;var I=h.publicExtension;var j=h.privateExtension;var F=h.methodOverride;var k=h.finalExtension;var U=h.extensible;var S=h.defineUI5Class;function q(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;M(e,t)}function M(e,t){M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return M(e,t)}function z(e,t,i,o,r){var n={};Object.keys(o).forEach(function(e){n[e]=o[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=i.slice().reverse().reduce(function(i,o){return o(e,t,i)||i},n);if(r&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(r):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}let H=(p=S("sap.fe.core.controllerextensions.PageReady"),d=F(),u=F(),g=I(),l=k(),y=F("_routing"),f=F("_routing"),v=F("_routing"),b=I(),R=k(),m=I(),P=k(),E=I(),O=k(),w=I(),D=k(),_=I(),C=k(),T=j(),A=U(s.Instead),x=I(),p(W=(B=function(a){q(s,a);function s(){var e;for(var t=arguments.length,i=new Array(t),o=0;o<t;o++){i[o]=arguments[o]}e=a.call(this,...i)||this;e.pageReadyTimeoutDefault=7e3;return e}var h=s.prototype;h.onInit=function e(){var i,n,a;this._nbWaits=0;this._oEventProvider=this._oEventProvider?this._oEventProvider:new o;this.view=this.getView();this.appComponent=c.getAppComponent(this.view);this.pageComponent=r.getOwnerComponentFor(this.view);const s=this.appComponent.getManifest();this.pageReadyTimeout=((i=s["sap.ui5"])===null||i===void 0?void 0:i.pageReadyTimeout)??this.pageReadyTimeoutDefault;if((n=this.pageComponent)!==null&&n!==void 0&&n.attachContainerDefined){this.pageComponent.attachContainerDefined(e=>this.registerContainer(e.getParameter("container")))}else{this.registerContainer(this.view)}const h=this.appComponent.getRootControl().getController();const p=h===null||h===void 0?void 0:(a=h.getPlaceholder)===null||a===void 0?void 0:a.call(h);if(p!==null&&p!==void 0&&p.isPlaceholderDebugEnabled()){this.attachEvent("pageReady",null,()=>{p.getPlaceholderDebugStats().iPageReadyEventTimestamp=Date.now()},this);this.attachEvent("heroesBatchReceived",null,()=>{p.getPlaceholderDebugStats().iHeroesBatchReceivedEventTimestamp=Date.now()},this)}this.queryWatcher=new t(this._oEventProvider,this.checkPageReadyDebounced.bind(this))};h.onExit=function e(){delete this._oAppComponent;if(this._oContainer){this._oContainer.removeEventDelegate(this._fnContainerDelegate)}};h.waitFor=function e(t){this._nbWaits++;t.finally(()=>{setTimeout(()=>{this._nbWaits--},0)}).catch(null)};h.onRouteMatched=function e(){this._bIsPageReady=false};h.onRouteMatchedFinished=async function e(){await this.onAfterBindingPromise;this.checkPageReadyDebounced()};h.registerAggregatedControls=function e(t){if(t){const e=t.getBinding();this.queryWatcher.registerBinding(e)}const i=[];const o=this.getView().findAggregatedObjects(true);o.forEach(e=>{const t=e.getObjectBinding();if(t){this.queryWatcher.registerBinding(t)}else{const t=Object.keys(e.mBindingInfos);t.forEach(t=>{const i=e.mBindingInfos[t].binding;if(i&&i.isA("sap.ui.model.odata.v4.ODataListBinding")){this.queryWatcher.registerBinding(i)}})}if(e.isA("sap.ui.mdc.Table")||e.isA("sap.ui.mdc.Chart")){this.bTablesChartsLoaded=false;i.push(this.queryWatcher.registerTableOrChart(e))}else if(e.isA("sap.fe.core.controls.FilterBar")){this.queryWatcher.registerFilterBar(e)}});return i};h.onAfterBinding=function t(i){if(this.pageReadyTimeoutTimer){clearTimeout(this.pageReadyTimeoutTimer)}this.pageReadyTimeoutTimer=setTimeout(()=>{e.error(`The PageReady Event was not fired within the ${this.pageReadyTimeout} ms timeout . It has been forced. Please contact your application developer for further analysis`);this._oEventProvider.fireEvent("pageReady")},this.pageReadyTimeout);if(this.isContextExpected()&&!i){this.bHasContext=false;return}else{this.bHasContext=true}if(this._bAfterBindingAlreadyApplied){return}this._bAfterBindingAlreadyApplied=true;this.attachEventOnce("pageReady",null,()=>{clearTimeout(this.pageReadyTimeoutTimer);this.pageReadyTimeoutTimer=undefined;this._bAfterBindingAlreadyApplied=false;this.queryWatcher.reset()},null);this.onAfterBindingPromise=new Promise(async e=>{const t=this.registerAggregatedControls(i);if(t.length>0){await Promise.all(t);this.bTablesChartsLoaded=true;this.checkPageReadyDebounced();e()}else{this.checkPageReadyDebounced();e()}})};h.isPageReady=function e(){return this._bIsPageReady};h.waitPageReady=function e(){return new Promise(e=>{if(this.isPageReady()){e()}else{this.attachEventOnce("pageReady",null,()=>{e()},this)}})};h.attachEventOnce=function e(t,i,o,r){return this._oEventProvider.attachEventOnce(t,i,o,r)};h.attachEvent=function e(t,i,o,r){return this._oEventProvider.attachEvent(t,i,o,r)};h.detachEvent=function e(t,i){return this._oEventProvider.detachEvent(t,i)};h.registerContainer=function e(t){this._oContainer=t;this._fnContainerDelegate={onBeforeShow:()=>{this.bShown=false;this._bIsPageReady=false},onBeforeHide:()=>{this.bShown=false;this._bIsPageReady=false},onAfterShow:()=>{var e;this.bShown=true;(e=this.onAfterBindingPromise)===null||e===void 0?void 0:e.then(()=>{this.checkPageReadyDebounced(true)})}};this._oContainer.addEventDelegate(this._fnContainerDelegate,this)};h.isContextExpected=function e(){return false};h.checkPageReadyDebounced=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.pageReadyTimer){clearTimeout(this.pageReadyTimer)}this.pageReadyTimer=setTimeout(()=>{this._checkPageReady(t)},200)};h._checkPageReady=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const o=()=>{if(!n.getUIDirty()){n.detachEvent("UIUpdated",o);this._bWaitingForRefresh=false;this.checkPageReadyDebounced()}};const r=()=>{if(n.getUIDirty()){setTimeout(r,500)}else if(this._bWaitingForRefresh){this._bWaitingForRefresh=false;n.detachEvent("UIUpdated",o);this.checkPageReadyDebounced()}};if(this.bShown&&this.queryWatcher.isDataReceived()!==false&&this.bTablesChartsLoaded!==false&&(!this.isContextExpected()||this.bHasContext)){if(this.queryWatcher.isDataReceived()===true&&!t&&!this._bWaitingForRefresh&&n.getUIDirty()){this.queryWatcher.resetDataReceived();this._bWaitingForRefresh=true;n.attachEvent("UIUpdated",o);setTimeout(r,500)}else if(!this._bWaitingForRefresh&&n.getUIDirty()||this._nbWaits!==0||i.getNumberOfViewsInCreationState()>0||this.queryWatcher.isSearchPending()){this._bWaitingForRefresh=true;n.attachEvent("UIUpdated",o);setTimeout(r,500)}else if(!this._bWaitingForRefresh){this._bIsPageReady=true;this._oEventProvider.fireEvent("pageReady")}}};return s}(a),z(B.prototype,"onInit",[d],Object.getOwnPropertyDescriptor(B.prototype,"onInit"),B.prototype),z(B.prototype,"onExit",[u],Object.getOwnPropertyDescriptor(B.prototype,"onExit"),B.prototype),z(B.prototype,"waitFor",[g,l],Object.getOwnPropertyDescriptor(B.prototype,"waitFor"),B.prototype),z(B.prototype,"onRouteMatched",[y],Object.getOwnPropertyDescriptor(B.prototype,"onRouteMatched"),B.prototype),z(B.prototype,"onRouteMatchedFinished",[f],Object.getOwnPropertyDescriptor(B.prototype,"onRouteMatchedFinished"),B.prototype),z(B.prototype,"onAfterBinding",[v],Object.getOwnPropertyDescriptor(B.prototype,"onAfterBinding"),B.prototype),z(B.prototype,"isPageReady",[b,R],Object.getOwnPropertyDescriptor(B.prototype,"isPageReady"),B.prototype),z(B.prototype,"waitPageReady",[m,P],Object.getOwnPropertyDescriptor(B.prototype,"waitPageReady"),B.prototype),z(B.prototype,"attachEventOnce",[E,O],Object.getOwnPropertyDescriptor(B.prototype,"attachEventOnce"),B.prototype),z(B.prototype,"attachEvent",[w,D],Object.getOwnPropertyDescriptor(B.prototype,"attachEvent"),B.prototype),z(B.prototype,"detachEvent",[_,C],Object.getOwnPropertyDescriptor(B.prototype,"detachEvent"),B.prototype),z(B.prototype,"isContextExpected",[T,A],Object.getOwnPropertyDescriptor(B.prototype,"isContextExpected"),B.prototype),z(B.prototype,"checkPageReadyDebounced",[x],Object.getOwnPropertyDescriptor(B.prototype,"checkPageReadyDebounced"),B.prototype),B))||W);return H},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Paginator", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/model/json/JSONModel"],function(t,e,n,i){"use strict";var r,o,s,a,u,l,d,p,C,c,h,f;var x=t.publicExtension;var _=t.privateExtension;var g=t.methodOverride;var v=t.finalExtension;var b=t.extensible;var y=t.defineUI5Class;function I(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;B(t,e)}function B(t,e){B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,n){e.__proto__=n;return e};return B(t,e)}function E(t,e,n,i,r){var o={};Object.keys(i).forEach(function(t){o[t]=i[t]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=n.slice().reverse().reduce(function(n,i){return i(t,e,n)||n},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(t,e,o);o=null}return o}let P=(r=y("sap.fe.core.controllerextensions.Paginator"),o=g(),s=x(),a=v(),u=x(),l=v(),d=_(),p=b(n.After),C=_(),c=b(n.After),r(h=(f=function(t){I(e,t);function e(){var e;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++){i[r]=arguments[r]}e=t.call(this,...i)||this;e._iCurrentIndex=-1;return e}var n=e.prototype;n.onInit=function t(){this._oView=this.base.getView();this._oView.setModel(new i({navUpEnabled:false,navDownEnabled:false}),"paginator")};n.initialize=function t(e,n){if(e&&e.getAllCurrentContexts){this._oListBinding=e;e.attachEvent("change",this._updateCurrentIndexAndButtonEnablement.bind(this))}if(n){this._oCurrentContext=n}this._updateCurrentIndexAndButtonEnablement()};n._updateCurrentIndexAndButtonEnablement=function t(){if(this._oCurrentContext&&this._oListBinding){const t=this._oCurrentContext.getPath();this._iCurrentIndex=this._oListBinding.getAllCurrentContexts().findIndex(function(e){return e&&e.getPath()===t});const e=this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex];if(!this._iCurrentIndex&&this._iCurrentIndex!==0||!e||this._oCurrentContext.getPath()!==e.getPath()){this._updateCurrentIndex()}}this._handleButtonEnablement()};n._handleButtonEnablement=function t(){const e=this.base.getView().getModel("paginator");if(this._oListBinding&&this._oListBinding.getAllCurrentContexts().length>1&&this._iCurrentIndex>-1){if(this._iCurrentIndex===this._oListBinding.getAllCurrentContexts().length-1){e.setProperty("/navDownEnabled",false)}else if(this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex+1].isInactive()){e.setProperty("/navDownEnabled",false)}else{e.setProperty("/navDownEnabled",true)}if(this._iCurrentIndex===0){e.setProperty("/navUpEnabled",false)}else if(this._oListBinding.getAllCurrentContexts()[this._iCurrentIndex-1].isInactive()){e.setProperty("/navUpEnabled",false)}else{e.setProperty("/navUpEnabled",true)}}else{e.setProperty("/navUpEnabled",false);e.setProperty("/navDownEnabled",false)}};n._updateCurrentIndex=function t(){if(this._oCurrentContext&&this._oListBinding){const t=this._oCurrentContext.getPath();this._iCurrentIndex=this._oListBinding.getAllCurrentContexts().findIndex(function(e){return e&&e.getPath()===t})}};n.updateCurrentContext=async function t(e){var n,i;if(!this._oListBinding){return}const r=(n=this._oCurrentContext)!==null&&n!==void 0&&n.getModel?(i=this._oCurrentContext)===null||i===void 0?void 0:i.getModel():undefined;await(r===null||r===void 0?void 0:r.submitBatch("$auto"));const o=this._oListBinding.getAllCurrentContexts();const s=this._iCurrentIndex+e;const a=o[s];if(a){const t=this.onBeforeContextUpdate(this._oListBinding,this._iCurrentIndex,e);if(!t){this._iCurrentIndex=s;this._oCurrentContext=a}this.onContextUpdate(a)}this._handleButtonEnablement()};n.onBeforeContextUpdate=function t(e,n,i){return false};n.onContextUpdate=function t(e){};return e}(e),E(f.prototype,"onInit",[o],Object.getOwnPropertyDescriptor(f.prototype,"onInit"),f.prototype),E(f.prototype,"initialize",[s,a],Object.getOwnPropertyDescriptor(f.prototype,"initialize"),f.prototype),E(f.prototype,"updateCurrentContext",[u,l],Object.getOwnPropertyDescriptor(f.prototype,"updateCurrentContext"),f.prototype),E(f.prototype,"onBeforeContextUpdate",[d,p],Object.getOwnPropertyDescriptor(f.prototype,"onBeforeContextUpdate"),f.prototype),E(f.prototype,"onContextUpdate",[C,c],Object.getOwnPropertyDescriptor(f.prototype,"onContextUpdate"),f.prototype),f))||h);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Placeholder", ["sap/base/util/ObjectPath","sap/base/util/UriParameters","sap/fe/core/helpers/ClassSupport","sap/fe/placeholder/library","sap/ui/core/mvc/ControllerExtension","sap/ui/core/Placeholder"],function(e,t,o,r,a,i){"use strict";var n,l,c,s,p,h,u,d,f,b;var P=o.publicExtension;var g=o.defineUI5Class;function y(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;m(e,t)}function m(e,t){m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return m(e,t)}function O(e,t,o,r,a){var i={};Object.keys(r).forEach(function(e){i[e]=r[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=o.slice().reverse().reduce(function(o,r){return r(e,t,o)||o},i);if(a&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(a):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}let D=(n=g("sap.fe.core.controllerextensions.Placeholder"),l=P(),c=P(),s=P(),p=P(),h=P(),u=P(),d=P(),n(f=(b=function(o){y(r,o);function r(){return o.apply(this,arguments)||this}var a=r.prototype;a.attachHideCallback=function e(){if(this.isPlaceholderEnabled()){const e=this.base.getView();const o=e.getParent()&&e.getParent().oContainer;const r=o&&o.getParent();if(!r){return}const a={onAfterShow:function(e){if(e.isBackToPage){r.hidePlaceholder()}else if(t.fromQuery(window.location.hash.replace(/#.*\?/,"")).get("restoreHistory")==="true"){r.hidePlaceholder()}}};o.addEventDelegate(a);const i=e.getController().pageReady;const n=["pageReady"];if(e.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"){n.push("heroesBatchReceived")}n.forEach(function(e){i.attachEvent(e,null,function(){r.hidePlaceholder()},null)})}};a.attachRouteMatchers=function e(){this._init()};a._init=function e(){this.oAppComponent=this.base.getAppComponent();this.oRootContainer=this.oAppComponent.getRootContainer();this.oPlaceholders={};if(this.isPlaceholderEnabled()){i.registerProvider(function(e){switch(e.name){case"sap.fe.templates.ListReport":return{html:"sap/fe/placeholder/view/PlaceholderLR.fragment.html",autoClose:false};case"sap.fe.templates.ObjectPage":return{html:"sap/fe/placeholder/view/PlaceholderOP.fragment.html",autoClose:false};default:}})}if(this.isPlaceholderDebugEnabled()){this.initPlaceholderDebug()}};a.initPlaceholderDebug=function e(){this.resetPlaceholderDebugStats();const t={apply:e=>{if(this.oRootContainer._placeholder&&this.oRootContainer._placeholder.placeholder){this.debugStats.iHidePlaceholderTimestamp=Date.now()}return e.bind(this.oRootContainer)()}};const o=new Proxy(this.oRootContainer.hidePlaceholder,t);this.oRootContainer.hidePlaceholder=o};a.isPlaceholderDebugEnabled=function e(){if(t.fromQuery(window.location.search).get("sap-ui-xx-placeholder-debug")==="true"){return true}return false};a.resetPlaceholderDebugStats=function e(){this.debugStats={iHidePlaceholderTimestamp:0,iPageReadyEventTimestamp:0,iHeroesBatchReceivedEventTimestamp:0}};a.getPlaceholderDebugStats=function e(){return this.debugStats};a.isPlaceholderEnabled=function t(){const o=e.get("sap-ushell-config.apps.placeholder.enabled");if(o===false){return false}return i.isEnabled()};return r}(a),O(b.prototype,"attachHideCallback",[l],Object.getOwnPropertyDescriptor(b.prototype,"attachHideCallback"),b.prototype),O(b.prototype,"attachRouteMatchers",[c],Object.getOwnPropertyDescriptor(b.prototype,"attachRouteMatchers"),b.prototype),O(b.prototype,"initPlaceholderDebug",[s],Object.getOwnPropertyDescriptor(b.prototype,"initPlaceholderDebug"),b.prototype),O(b.prototype,"isPlaceholderDebugEnabled",[p],Object.getOwnPropertyDescriptor(b.prototype,"isPlaceholderDebugEnabled"),b.prototype),O(b.prototype,"resetPlaceholderDebugStats",[h],Object.getOwnPropertyDescriptor(b.prototype,"resetPlaceholderDebugStats"),b.prototype),O(b.prototype,"getPlaceholderDebugStats",[u],Object.getOwnPropertyDescriptor(b.prototype,"getPlaceholderDebugStats"),b.prototype),O(b.prototype,"isPlaceholderEnabled",[d],Object.getOwnPropertyDescriptor(b.prototype,"isPlaceholderEnabled"),b.prototype),b))||f);return D},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Recommendations", ["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/RecommendationHelper","sap/fe/core/helpers/StandardRecommendationHelper","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","../CommonUtils","./editFlow/TransactionHelper"],function(e,t,n,o,i,r,c,s){"use strict";var a,d,p,l,m,u,f,h,y,g,v,b,R,O,P,A;var w={};var x=o.standardRecommendationHelper;var C=n.recommendationHelper;var j=t.publicExtension;var E=t.methodOverride;var D=t.extensible;var I=t.defineUI5Class;function V(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;F(e,t)}function F(e,t){F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return F(e,t)}function B(e,t,n,o,i){var r={};Object.keys(o).forEach(function(e){r[e]=o[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}let M=(a=I("sap.fe.core.controllerextensions.Recommendations"),d=E(),p=E("_routing"),l=j(),m=j(),u=D(r.Instead),f=j(),h=D(r.Instead),y=j(),g=j(),v=j(),b=D("AfterAsync"),R=j(),O=D(r.Instead),a(P=(A=function(t){V(n,t);function n(){return t.apply(this,arguments)||this}w=n;var o=n.prototype;o.onInit=function e(){};o.onAfterBinding=async function e(t){const n=this.base.getView().getModel("internal");const o=n.getProperty("/isRecommendationEnabled");if(o===undefined&&t){const e=await this._getRootContext(t);if(e){this.recommendationEnabledPromise=this.base.recommendations.isEnabled(e)}}else if(o!==undefined){this.recommendationEnabledPromise=Promise.resolve(o)}};o._getRootContext=async function e(t){const n=s.getProgrammingModel(t);return c.createRootContext(n,this.base.getView(),this.base.getAppComponent())};o.clearRecommendations=function e(){const t=this.getView().getBindingContext();if(t){C.clearRecommendations(this.getView(),t)}};o.isEnabled=async function e(t){return Promise.resolve(false)};o.fetchRecommendations=async function e(t,n){return Promise.resolve([])};o.fetchAndApplyRecommendations=async function t(n){if(n&&n.length>0){const t=this.base.getView().getModel("internal");const o=await this.recommendationEnabledPromise;t.setProperty("/isRecommendationEnabled",o);if(o){try{const e=await this._getRootContext(n[0]);const t=await this.base.recommendations.fetchRecommendations(n,e);if(t!==null&&t!==void 0&&t.length){this.storeRecommendationContexts(n)}return this.applyRecommendation(t,n)}catch(t){e.error("There was an error fetching the recommendations",t)}}}return false};o.fetchAndApplyRecommendationsOnFieldChange=async function e(t,n){const o=this.base.getAppComponent();const i=o.getSideEffectsService().checkIfFieldIsRecommendationRelevant(t);if(i){return this.fetchAndApplyRecommendations(n)}else{return false}};o.onBeforeAcceptRecommendations=async function e(t){return Promise.resolve()};o.acceptRecommendations=async function e(t){return Promise.resolve(true)};o.applyRecommendation=function e(t,n){x.storeRecommendations(t,this.getView().getModel("internal"),n);return true};o.storeRecommendationContexts=function e(t){var n;let o=this.recommendationContexts||[];const i=[];t.forEach(e=>{i.push(e.getPath())});o=(n=o)===null||n===void 0?void 0:n.filter(e=>{if(e&&e!==null&&e!==void 0&&e.getModel()&&!i.includes(e.getPath())){return true}return false});this.recommendationContexts=[...o,...t]};o.fetchFilteredRecommendationContexts=function e(t){const n=[];const o=[];for(const e of t){const t=e.substring(0,e.lastIndexOf(")")+1);this.recommendationContexts.forEach(e=>{if(e.getPath()==t&&!n.includes(t)){n.push(t);o.push(e)}})}return o};o.fetchFilteredRecommendationData=function e(t){var n,o;const i={};const r=(n=this.getView())===null||n===void 0?void 0:(o=n.getModel("internal"))===null||o===void 0?void 0:o.getProperty("/recommendationsData");Object.keys(r).forEach(e=>{if(t.includes(e)){i[e]=Object.assign(r[e],{})}});return i};o.fetchTargets=function e(){var t,n;const o=(t=this.getView())===null||t===void 0?void 0:(n=t.getModel("internal"))===null||n===void 0?void 0:n.getProperty("/recommendationsData");if(o.version===null){return[]}return Object.keys(o).filter(e=>{var t,n;return e!=="version"&&e.includes((t=this.getView())===null||t===void 0?void 0:(n=t.getBindingContext())===null||n===void 0?void 0:n.getPath())})||[]};o.adjustAcceptAllParams=function e(t,n,o){o.recommendationData=[];for(const e in t){const i=e.substring(0,e.lastIndexOf(")")+1);const r=e.substring(e.lastIndexOf(")")+2);const c=n.filter(function(e){if(e.getPath()===i){return true}});if(x.isRecommendationFieldNull(c[0],e,r)){o.recommendationData.push({context:c[0],propertyPath:r,value:t[e].value,text:t[e].text})}}};o.fetchAcceptAllParams=async function e(){var t;const n=this.fetchTargets();const o=this.fetchFilteredRecommendationData(n);const i=this.fetchFilteredRecommendationContexts(n);const r={};this.adjustAcceptAllParams(o,i,r);await((t=this.getView())===null||t===void 0?void 0:t.getController()).recommendations.onBeforeAcceptRecommendations(r);return r};o.checkIfRecommendationsExist=function e(){var t,n;const o=((t=this.getView())===null||t===void 0?void 0:(n=t.getModel("internal"))===null||n===void 0?void 0:n.getProperty("/recommendationsData"))||{};return Object.keys(o).length!==0};return n}(i),B(A.prototype,"onInit",[d],Object.getOwnPropertyDescriptor(A.prototype,"onInit"),A.prototype),B(A.prototype,"onAfterBinding",[p],Object.getOwnPropertyDescriptor(A.prototype,"onAfterBinding"),A.prototype),B(A.prototype,"clearRecommendations",[l],Object.getOwnPropertyDescriptor(A.prototype,"clearRecommendations"),A.prototype),B(A.prototype,"isEnabled",[m,u],Object.getOwnPropertyDescriptor(A.prototype,"isEnabled"),A.prototype),B(A.prototype,"fetchRecommendations",[f,h],Object.getOwnPropertyDescriptor(A.prototype,"fetchRecommendations"),A.prototype),B(A.prototype,"fetchAndApplyRecommendations",[y],Object.getOwnPropertyDescriptor(A.prototype,"fetchAndApplyRecommendations"),A.prototype),B(A.prototype,"fetchAndApplyRecommendationsOnFieldChange",[g],Object.getOwnPropertyDescriptor(A.prototype,"fetchAndApplyRecommendationsOnFieldChange"),A.prototype),B(A.prototype,"onBeforeAcceptRecommendations",[v,b],Object.getOwnPropertyDescriptor(A.prototype,"onBeforeAcceptRecommendations"),A.prototype),B(A.prototype,"acceptRecommendations",[R,O],Object.getOwnPropertyDescriptor(A.prototype,"acceptRecommendations"),A.prototype),A))||P);w=M;return w},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Routing", ["sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ModelHelper","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(e,t,o,r){"use strict";var n,i,p,a,c,s,u,f,l,y,g,v,b;var d=e.publicExtension;var O=e.finalExtension;var B=e.extensible;var j=e.defineUI5Class;function h(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}function P(e,t){P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return P(e,t)}function x(e,t,o,r,n){var i={};Object.keys(r).forEach(function(e){i[e]=r[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=o.slice().reverse().reduce(function(o,r){return r(e,t,o)||o},i);if(n&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(n):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}let w=(n=j("sap.fe.core.controllerextensions.Routing"),i=d(),p=B(r.After),a=d(),c=O(),s=d(),u=B(r.After),f=d(),l=B(r.After),y=d(),g=O(),n(v=(b=function(e){h(o,e);function o(){return e.apply(this,arguments)||this}var r=o.prototype;r.onBeforeNavigation=function e(t){return false};r.navigate=function e(t){const o=this.base.getModel("internal");o.setProperty("/paginatorCurrentContext",null);this.base._routing.navigateToContext(t)};r.onBeforeBinding=function e(t){};r.onAfterBinding=function e(t){};r.navigateToRoute=async function e(o,r){const n=this.base.getModel().getMetaModel();const i=t.isStickySessionSupported(n);if(!r){r={}}r.bIsStickyMode=i;return this.base._routing.navigateToRoute(o,r)};return o}(o),x(b.prototype,"onBeforeNavigation",[i,p],Object.getOwnPropertyDescriptor(b.prototype,"onBeforeNavigation"),b.prototype),x(b.prototype,"navigate",[a,c],Object.getOwnPropertyDescriptor(b.prototype,"navigate"),b.prototype),x(b.prototype,"onBeforeBinding",[s,u],Object.getOwnPropertyDescriptor(b.prototype,"onBeforeBinding"),b.prototype),x(b.prototype,"onAfterBinding",[f,l],Object.getOwnPropertyDescriptor(b.prototype,"onAfterBinding"),b.prototype),x(b.prototype,"navigateToRoute",[y,g],Object.getOwnPropertyDescriptor(b.prototype,"navigateToRoute"),b.prototype),b))||v);return w},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/RoutingListener", ["sap/fe/core/controllerextensions/InternalRouting"],function(e){"use strict";return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/Share", ["sap/base/Log","sap/base/util/ObjectPath","sap/base/util/extend","sap/fe/core/helpers/ClassSupport","sap/m/library","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/XMLTemplateProcessor","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/core/routing/HashChanger","sap/ui/core/util/XMLPreprocessor","sap/ui/model/json/JSONModel"],function(e,t,o,i,r,a,n,l,s,c,p,u,d,h){"use strict";var g,f,m,y,S,v,b,w,_,T,O,D,E,M,P,A,C,I,j;var x=i.publicExtension;var H=i.methodOverride;var U=i.finalExtension;var L=i.extensible;var R=i.defineUI5Class;function F(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;J(e,t)}function J(e,t){J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return J(e,t)}function B(e,t,o,i,r){var a={};Object.keys(i).forEach(function(e){a[e]=i[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=o.slice().reverse().reduce(function(o,i){return i(e,t,o)||o},a);if(r&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(r):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}let V;let z=(g=R("sap.fe.core.controllerextensions.Share"),f=H(),m=H(),y=x(),S=U(),v=x(),b=L(p.After),w=x(),_=L(p.After),T=x(),O=U(),D=x(),E=U(),M=x(),P=U(),A=x(),C=U(),g(I=(j=function(i){F(c,i);function c(){return i.apply(this,arguments)||this}var p=c.prototype;p.onInit=function e(){const t=new h({saveAsTileClicked:false,collaborationInfo:{url:"",appTitle:"",subTitle:"",minifyUrlForChat:true,appId:""}});this.base.getView().setModel(t,"shareInfo")};p.onExit=function e(){var t,o;const i=(t=this.base)===null||t===void 0?void 0:(o=t.getView())===null||o===void 0?void 0:o.getModel("shareInfo");if(i){i.destroy()}};p.openShareSheet=function e(t){this._openShareSheetImpl(t)};p.getCardDefinition=function e(){return};p.adaptShareMetadata=function e(t){return t};p._openShareSheetImpl=async function t(i){let a;const c=u.getInstance().getHash(),p=u.getInstance().hrefForAppSpecificHash?u.getInstance().hrefForAppSpecificHash(""):"",g={url:window.location.origin+window.location.pathname+window.location.search+(c?p+c:window.location.hash),title:document.title,email:{url:"",title:""},jam:{url:"",title:""},tile:{url:"",title:"",subtitle:"",icon:"",queryUrl:""}};V=i;const f=function(e,t){const i=e.getModel("shareData");const r=o(i.getData(),t);i.setData(r)};try{var m,y,S,v,b,w,_;const t=await((m=this.base.getView().getController())===null||m===void 0?void 0:(y=m.share)===null||y===void 0?void 0:y.adaptShareMetadata(g));const c={shareEmailPressed:function(){const e=a.getModel("shareData");const t=e.getData();const o=n.getLibraryResourceBundle("sap.fe.core");const i=t.email.title?t.email.title:o.getText("T_SHARE_UTIL_HELPER_SAPFE_EMAIL_SUBJECT",[t.title]);r.URLHelper.triggerEmail(undefined,i,t.email.url?t.email.url:t.url)},shareMSTeamsPressed:function(){const e=a.getModel("shareData");const t=e.getData();const o=t.email.title?t.email.title:t.title;const i=t.email.url?t.email.url:t.url;const r=window.open("","ms-teams-share-popup","width=700,height=600");r.opener=null;r.location=`https://teams.microsoft.com/share?msgText=${encodeURIComponent(o)}&href=${encodeURIComponent(i)}`},onSaveTilePress:function(){setTimeout(function(){var e;(e=n.byId("bookmarkDialog"))===null||e===void 0?void 0:e.attachAfterClose(function(){V.focus()})},0)},shareJamPressed:()=>{var e,o;this._doOpenJamShareDialog(t!==null&&t!==void 0&&(e=t.jam)!==null&&e!==void 0&&e.title?t.jam.title:t.title,t!==null&&t!==void 0&&(o=t.jam)!==null&&o!==void 0&&o.url?t.jam.url:t.url)}};c.onCancelPressed=function(){a.close()};c.setShareSheet=function(e){i.shareSheet=e};const p=new h({});const u={bindingContexts:{this:p.createBindingContext("/")},models:{this:p}};const T={title:t!==null&&t!==void 0&&(S=t.tile)!==null&&S!==void 0&&S.title?t.tile.title:t.title,subtitle:t===null||t===void 0?void 0:(v=t.tile)===null||v===void 0?void 0:v.subtitle,icon:t===null||t===void 0?void 0:(b=t.tile)===null||b===void 0?void 0:b.icon,url:t!==null&&t!==void 0&&(w=t.tile)!==null&&w!==void 0&&w.url?t.tile.url:t.url.substring(t.url.indexOf("#")),queryUrl:t===null||t===void 0?void 0:(_=t.tile)===null||_===void 0?void 0:_.queryUrl};if(i.shareSheet){a=i.shareSheet;const e=a.getModel("share");this._setStaticShareData(e);const r=o(e.getData(),T);e.setData(r);f(a,t);a.openBy(i)}else{const r="sap.fe.macros.share.ShareSheet";const n=s.loadTemplate(r,"fragment");try{const e=await d.process(n,{name:r},u);a=await l.load({definition:e,controller:c});a.setModel(new h(T||{}),"share");const s=a.getModel("share");this._setStaticShareData(s);const p=o(s.getData(),T);s.setData(p);a.setModel(new h(t||{}),"shareData");f(a,t);i.addDependent(a);a.openBy(i);c.setShareSheet(a)}catch(t){e.error("Error while opening the share fragment",t)}}}catch(t){e.error("Error while fetching the share model data",t)}};p._setStaticShareData=function e(o){const i=n.getLibraryResourceBundle("sap.fe.core");o.setProperty("/jamButtonText",i.getText("T_COMMON_SAPFE_SHARE_JAM"));o.setProperty("/emailButtonText",i.getText("T_SEMANTIC_CONTROL_SEND_EMAIL"));o.setProperty("/msTeamsShareButtonText",i.getText("T_COMMON_SAPFE_SHARE_MSTEAMS"));if(t.get("sap-ushell-config.renderers.fiori2.componentData.config.sapHorizonEnabled")===true){o.setProperty("/msTeamsVisible",true)}else{o.setProperty("/msTeamsVisible",false)}const r=t.get("sap.ushell.Container.getUser");o.setProperty("/jamVisible",!!r&&r().isJamActive());o.setProperty("/saveAsTileVisible",!!(sap&&sap.ushell&&sap.ushell.Container))};p._doOpenJamShareDialog=function e(t,o){const i=a.create({name:"sap.collaboration.components.fiori.sharing.dialog",settings:{object:{id:o,share:t}}});i.open()};p._triggerEmail=async function e(){const t=await this._adaptShareMetadata();const o=n.getLibraryResourceBundle("sap.fe.core");const i=t.email.title?t.email.title:o.getText("T_SHARE_UTIL_HELPER_SAPFE_EMAIL_SUBJECT",[t.title]);r.URLHelper.triggerEmail(undefined,i,t.email.url?t.email.url:t.url)};p._triggerShareToJam=async function e(){const t=await this._adaptShareMetadata();this._doOpenJamShareDialog(t.jam.title?t.jam.title:t.title,t.jam.url?t.jam.url:window.location.origin+window.location.pathname+t.url)};p._saveAsTile=async function e(t){var o,i;const r=(o=this.base)===null||o===void 0?void 0:(i=o.getView())===null||i===void 0?void 0:i.getModel("shareInfo");if(r){r.setProperty("/saveAsTileClicked",true)}const a=await this._adaptShareMetadata(),n=t.getDependents()[0],l=u.getInstance().getHash(),s=u.getInstance().hrefForAppSpecificHash?u.getInstance().hrefForAppSpecificHash(""):"";a.url=l?s+l:window.location.hash;n.setTitle(a.tile.title?a.tile.title:a.title);n.setSubtitle(a.tile.subtitle);n.setTileIcon(a.tile.icon);n.setCustomUrl(a.tile.url?a.tile.url:a.url);n.setServiceUrl(a.tile.queryUrl);n.setDataSource({type:"OData",settings:{odataVersion:"4.0"}});if(r){r.setProperty("/saveAsTileClicked",false)}n.firePress()};p._adaptShareMetadata=function e(){const t=u.getInstance().getHash(),o=u.getInstance().hrefForAppSpecificHash?u.getInstance().hrefForAppSpecificHash(""):"",i={url:window.location.origin+window.location.pathname+window.location.search+(t?o+t:window.location.hash),title:document.title,email:{url:"",title:""},jam:{url:"",title:""},tile:{url:"",title:"",subtitle:"",icon:"",queryUrl:""}};return this.base.getView().getController().share.adaptShareMetadata(i)};return c}(c),B(j.prototype,"onInit",[f],Object.getOwnPropertyDescriptor(j.prototype,"onInit"),j.prototype),B(j.prototype,"onExit",[m],Object.getOwnPropertyDescriptor(j.prototype,"onExit"),j.prototype),B(j.prototype,"openShareSheet",[y,S],Object.getOwnPropertyDescriptor(j.prototype,"openShareSheet"),j.prototype),B(j.prototype,"getCardDefinition",[v,b],Object.getOwnPropertyDescriptor(j.prototype,"getCardDefinition"),j.prototype),B(j.prototype,"adaptShareMetadata",[w,_],Object.getOwnPropertyDescriptor(j.prototype,"adaptShareMetadata"),j.prototype),B(j.prototype,"_triggerEmail",[T,O],Object.getOwnPropertyDescriptor(j.prototype,"_triggerEmail"),j.prototype),B(j.prototype,"_triggerShareToJam",[D,E],Object.getOwnPropertyDescriptor(j.prototype,"_triggerShareToJam"),j.prototype),B(j.prototype,"_saveAsTile",[M,P],Object.getOwnPropertyDescriptor(j.prototype,"_saveAsTile"),j.prototype),B(j.prototype,"_adaptShareMetadata",[A,C],Object.getOwnPropertyDescriptor(j.prototype,"_adaptShareMetadata"),j.prototype),j))||I);return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/SideEffects", ["sap/base/Log","sap/ui/core/mvc/ControllerExtension","../CommonUtils","../helpers/ClassSupport"],function(e,t,i,r){"use strict";var o,s,n,f,d,c,p,a,l,u,g,y,E,h,F,S,v,m,_,O,P,G,b,x,C,w,j,M,D,I,q,$,A,T,R,V,B,N,k,z,Q,U;var L=r.publicExtension;var W=r.privateExtension;var H=r.methodOverride;var J=r.finalExtension;var K=r.defineUI5Class;function X(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Y(e,t)}function Y(e,t){Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return Y(e,t)}function Z(e,t,i,r,o){var s={};Object.keys(r).forEach(function(e){s[e]=r[e]});s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}const ee="$$ImmediateRequest";let te=(o=K("sap.fe.core.controllerextensions.SideEffects"),s=H(),n=L(),f=J(),d=L(),c=J(),p=L(),a=J(),l=L(),u=J(),g=L(),y=J(),E=L(),h=J(),F=L(),S=J(),v=L(),m=J(),_=L(),O=J(),P=L(),G=J(),b=L(),x=J(),C=L(),w=J(),j=L(),M=J(),D=W(),I=J(),q=L(),$=J(),A=L(),T=J(),R=W(),V=J(),B=W(),N=J(),k=L(),z=J(),o(Q=(U=function(t){X(r,t);function r(){return t.apply(this,arguments)||this}var o=r.prototype;o.onInit=function e(){this._view=this.base.getView();this._sideEffectsService=i.getAppComponent(this._view).getSideEffectsService();this._registeredFieldGroupMap={};this._fieldGroupInvalidity={};this._registeredFailedSideEffects={}};o.addControlSideEffects=function e(t,i){this._sideEffectsService.addControlSideEffects(t,i)};o.removeControlSideEffects=function e(t){var i;const r=((i=t.isA)===null||i===void 0?void 0:i.call(t,"sap.ui.base.ManagedObject"))&&t.getId();if(r){this._sideEffectsService.removeControlSideEffects(r)}};o.getContextForSideEffects=function e(t,i){let r=t,o=this._sideEffectsService.getEntityTypeFromContext(t);if(i!==o){r=t.getBinding().getContext();if(r){o=this._sideEffectsService.getEntityTypeFromContext(r);if(i!==o){r=r.getBinding().getContext();if(r){o=this._sideEffectsService.getEntityTypeFromContext(r);if(i!==o){return undefined}}}}}return r||undefined};o.getFieldSideEffectsMap=function e(t){let i={};const r=t.getFieldGroupIds(),o=this._view.getViewData().entitySet,s=this._sideEffectsService.getConvertedMetaModel().entitySets.find(e=>e.name===o);i=this.getSideEffectsMapForFieldGroups(r,t.getBindingContext());if(o&&s){const e=s.entityType.fullyQualifiedName,r=this.getTargetProperty(t),o=this.getContextForSideEffects(t.getBindingContext(),e);if(r&&o){const t=this._sideEffectsService.getControlEntitySideEffects(e);Object.keys(t).forEach(s=>{const n=t[s];if(n.sourceProperties.includes(r)){const t=`${s}::${e}`;i[t]={name:t,immediate:true,sideEffects:n,context:o}}})}}return i};o.getSideEffectsMapForFieldGroups=function e(t,i){const r={};t.forEach(e=>{const{name:t,immediate:o,sideEffects:s,sideEffectEntityType:n}=this._getSideEffectsPropertyForFieldGroup(e);const f=i?this.getContextForSideEffects(i,n):undefined;if(s&&(!i||i&&f)){r[t]={name:t,immediate:o,sideEffects:s};if(i){r[t].context=f}}});return r};o.clearFieldGroupsValidity=function e(){this._fieldGroupInvalidity={}};o.isFieldGroupValid=function e(t,i){const r=this._getFieldGroupIndex(t,i);return Object.keys(this._fieldGroupInvalidity[r]??{}).length===0};o.getTargetProperty=function e(t){var i;const r=t.data("sourcePath");const o=this._view.getModel().getMetaModel();const s=(i=this._view.getBindingContext())===null||i===void 0?void 0:i.getPath();const n=s?`${o.getMetaPath(s)}/`:"";return r===null||r===void 0?void 0:r.replace(n,"")};o.prepareSideEffectsForField=function e(t,i,r){const o=t.getSource();this._saveFieldPropertiesStatus(o,i);if(!i){return}const s=this.getFieldSideEffectsMap(o);Object.keys(s).filter(e=>s[e].immediate!==true).forEach(e=>{const t=s[e];this.registerFieldGroupSideEffects(t,r)})};o.handleFieldChange=async function e(t,i,r){const o=t.getSource();this.prepareSideEffectsForField(t,i,r);return this._manageSideEffectsFromField(o)};o.handleFieldGroupChange=async function t(i){const r=i.getSource(),o=i.getParameter("fieldGroupIds")??[],s=o.reduce((e,t)=>e.concat(this.getRegisteredSideEffectsForFieldGroup(t)),[]);return Promise.all(s.map(e=>this._requestFieldGroupSideEffects(e))).catch(t=>{var i;const o=(i=r.getBindingContext())===null||i===void 0?void 0:i.getPath();e.debug(`Error while processing FieldGroup SideEffects on context ${o}`,t)})};o.requestSideEffects=async function e(t,i,r,o){let s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let n,f;if(o){const e=await o(t);n=e["aTargets"];f=e["TriggerAction"]}else{n=[...t.targetEntities??[],...t.targetProperties??[]];f=t.triggerAction}if(f&&!s){this._sideEffectsService.executeAction(f,i,r)}if(n.length){return this._sideEffectsService.requestSideEffects(n,i,r).catch(e=>{this.registerFailedSideEffects([t],i);throw e})}};o.requestMultipleSideEffects=async function e(t,i,r){let o=new Set;let s=new Set;const n=t.reduce((e,t)=>{const i=t.triggerAction;if(i){e.push(i)}return e},[]);for(const e of n){this._sideEffectsService.executeAction(e,i,r)}for(const e of t){o=(e.targetProperties??[]).reduce((e,t)=>e.add(t),o);s=(e.targetEntities??[]).reduce((e,t)=>e.add(t.$NavigationPropertyPath),s)}return this._sideEffectsService.requestSideEffects([...Array.from(o),...Array.from(s).map(e=>({$NavigationPropertyPath:e}))],i,r).catch(e=>{this.registerFailedSideEffects(t,i);throw e})};o.getRegisteredFailedRequests=function e(){return this._registeredFailedSideEffects};o.registerFailedSideEffects=function e(t,i){const r=i.getPath();this._registeredFailedSideEffects[r]=this._registeredFailedSideEffects[r]??[];for(const e of t){const t=this._registeredFailedSideEffects[r].every(t=>e.fullyQualifiedName!==t.fullyQualifiedName);if(t){this._registeredFailedSideEffects[r].push(e)}}};o.unregisterFailedSideEffectsForAContext=function e(t){delete this._registeredFailedSideEffects[t]};o.unregisterFailedSideEffects=function e(t,i){var r;const o=i.getPath();if((r=this._registeredFailedSideEffects[o])!==null&&r!==void 0&&r.length){this._registeredFailedSideEffects[o]=this._registeredFailedSideEffects[o].filter(e=>e.fullyQualifiedName!==t)}};o.registerFieldGroupSideEffects=function e(t,i){const r=this._getFieldGroupIndex(t.name,t.context);if(!this._registeredFieldGroupMap[r]){this._registeredFieldGroupMap[r]={promise:i??Promise.resolve(),sideEffectProperty:t}}};o.unregisterFieldGroupSideEffects=function e(t){const{context:i,name:r}=t;const o=this._getFieldGroupIndex(r,i);delete this._registeredFieldGroupMap[o]};o.getRegisteredSideEffectsForFieldGroup=function e(t){const i=[];for(const e of Object.keys(this._registeredFieldGroupMap)){if(e.startsWith(`${t}_`)){i.push(this._registeredFieldGroupMap[e])}}return i};o._getFieldGroupIndex=function e(t,i){return`${t}_${i.getPath()}`};o._getSideEffectsPropertyForFieldGroup=function e(t){var i;const r=t.includes(ee),o=t.replace(ee,""),s=o.split("#"),n=s[0],f=`${n}@com.sap.vocabularies.Common.v1.SideEffects${s.length===2?`#${s[1]}`:""}`,d=(i=this._sideEffectsService.getODataEntitySideEffects(n))===null||i===void 0?void 0:i[f];return{name:o,immediate:r,sideEffects:d,sideEffectEntityType:n}};o._manageSideEffectsFromField=async function t(i){const r=this.getFieldSideEffectsMap(i);try{const e={};const t=(t,i)=>{const r=t.getPath();if(e[r]){e[r].sideEffects.push(i)}else{e[r]={context:t,sideEffects:[i]}}};for(const e of Object.values(r).filter(e=>e.immediate===true)){this.unregisterFailedSideEffects(e.sideEffects.fullyQualifiedName,e.context);t(e.context,e.sideEffects)}for(const e of[i.getBindingContext(),this._view.getBindingContext()].filter(e=>!!e)){const i=e.getPath();const r=this._registeredFailedSideEffects[i]??[];this.unregisterFailedSideEffectsForAContext(i);for(const i of r){t(e,i)}}await Promise.all(Object.values(e).map(async e=>e.sideEffects.length===1?this.requestSideEffects(e.sideEffects[0],e.context):this.requestMultipleSideEffects(e.sideEffects,e.context)))}catch(t){e.debug(`Error while managing Field SideEffects`,t)}};o._requestFieldGroupSideEffects=async function t(i){this.unregisterFieldGroupSideEffects(i.sideEffectProperty);try{await i.promise}catch(t){e.debug(`Error while processing FieldGroup SideEffects`,t);return}try{const{sideEffects:e,context:t,name:r}=i.sideEffectProperty;if(this.isFieldGroupValid(r,t)){await this.requestSideEffects(e,t)}}catch(t){e.debug(`Error while executing FieldGroup SideEffects`,t)}};o._saveFieldPropertiesStatus=function e(t,i){const r=this.getFieldSideEffectsMap(t);Object.keys(r).forEach(e=>{const{name:o,immediate:s,context:n}=r[e];if(!s){const e=this._getFieldGroupIndex(o,n);if(i){var f;(f=this._fieldGroupInvalidity[e])===null||f===void 0?true:delete f[t.getId()]}else{this._fieldGroupInvalidity[e]={...this._fieldGroupInvalidity[e],...{[t.getId()]:true}}}}})};return r}(t),Z(U.prototype,"onInit",[s],Object.getOwnPropertyDescriptor(U.prototype,"onInit"),U.prototype),Z(U.prototype,"addControlSideEffects",[n,f],Object.getOwnPropertyDescriptor(U.prototype,"addControlSideEffects"),U.prototype),Z(U.prototype,"removeControlSideEffects",[d,c],Object.getOwnPropertyDescriptor(U.prototype,"removeControlSideEffects"),U.prototype),Z(U.prototype,"getContextForSideEffects",[p,a],Object.getOwnPropertyDescriptor(U.prototype,"getContextForSideEffects"),U.prototype),Z(U.prototype,"getFieldSideEffectsMap",[l,u],Object.getOwnPropertyDescriptor(U.prototype,"getFieldSideEffectsMap"),U.prototype),Z(U.prototype,"getSideEffectsMapForFieldGroups",[g,y],Object.getOwnPropertyDescriptor(U.prototype,"getSideEffectsMapForFieldGroups"),U.prototype),Z(U.prototype,"clearFieldGroupsValidity",[E,h],Object.getOwnPropertyDescriptor(U.prototype,"clearFieldGroupsValidity"),U.prototype),Z(U.prototype,"isFieldGroupValid",[F,S],Object.getOwnPropertyDescriptor(U.prototype,"isFieldGroupValid"),U.prototype),Z(U.prototype,"getTargetProperty",[v,m],Object.getOwnPropertyDescriptor(U.prototype,"getTargetProperty"),U.prototype),Z(U.prototype,"prepareSideEffectsForField",[_,O],Object.getOwnPropertyDescriptor(U.prototype,"prepareSideEffectsForField"),U.prototype),Z(U.prototype,"handleFieldChange",[P,G],Object.getOwnPropertyDescriptor(U.prototype,"handleFieldChange"),U.prototype),Z(U.prototype,"handleFieldGroupChange",[b,x],Object.getOwnPropertyDescriptor(U.prototype,"handleFieldGroupChange"),U.prototype),Z(U.prototype,"requestSideEffects",[C,w],Object.getOwnPropertyDescriptor(U.prototype,"requestSideEffects"),U.prototype),Z(U.prototype,"getRegisteredFailedRequests",[j,M],Object.getOwnPropertyDescriptor(U.prototype,"getRegisteredFailedRequests"),U.prototype),Z(U.prototype,"registerFailedSideEffects",[D,I],Object.getOwnPropertyDescriptor(U.prototype,"registerFailedSideEffects"),U.prototype),Z(U.prototype,"unregisterFailedSideEffectsForAContext",[q,$],Object.getOwnPropertyDescriptor(U.prototype,"unregisterFailedSideEffectsForAContext"),U.prototype),Z(U.prototype,"unregisterFailedSideEffects",[A,T],Object.getOwnPropertyDescriptor(U.prototype,"unregisterFailedSideEffects"),U.prototype),Z(U.prototype,"registerFieldGroupSideEffects",[R,V],Object.getOwnPropertyDescriptor(U.prototype,"registerFieldGroupSideEffects"),U.prototype),Z(U.prototype,"unregisterFieldGroupSideEffects",[B,N],Object.getOwnPropertyDescriptor(U.prototype,"unregisterFieldGroupSideEffects"),U.prototype),Z(U.prototype,"getRegisteredSideEffectsForFieldGroup",[k,z],Object.getOwnPropertyDescriptor(U.prototype,"getRegisteredSideEffectsForFieldGroup"),U.prototype),U))||Q);return te},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/ViewState", ["sap/base/Log","sap/base/util/merge","sap/fe/core/CommonUtils","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/fe/core/helpers/ModelHelper","sap/fe/navigation/library","sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/ui/mdc/p13n/StateUtil"],function(t,e,i,r,n,a,o,l,p,s,c){"use strict";var f,d,u,y,g,S,h,v,b,w,C,A,O,I,m,P,_,R,E,j,B,V,D,K,x,H,M,F,T,N,k,$,z,L,U,q,G,W,Y,J,Q,X,Z,tt,et,it,rt,nt,at;var ot=r.publicExtension;var lt=r.privateExtension;var pt=r.finalExtension;var st=r.extensible;var ct=r.defineUI5Class;function ft(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;dt(t,e)}function dt(t,e){dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return dt(t,e)}function ut(t,e,i,r,n){var a={};Object.keys(r).forEach(function(t){a[t]=r[t]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=i.slice().reverse().reduce(function(i,r){return r(t,e,i)||i},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(t,e,a);a=null}return a}const yt=o.NavType;const gt="#additionalStates";const St={"sap.ui.fl.variants.VariantManagement":{retrieve:function(t){return{variantId:t.getCurrentVariantKey()}},apply:async function(e,i){try{if(i&&i.variantId!==undefined&&i.variantId!==e.getCurrentVariantKey()){const r=this._checkIfVariantIdIsAvailable(e,i.variantId);let n;if(r){n=i.variantId}else{n=e.getStandardVariantKey();this.controlsVariantIdUnavailable.push(...e.getFor())}try{await s.activateVariant({element:e,variantReference:n});await this._setInitialStatesForDeltaCompute(e)}catch(i){t.error(i);this.invalidateInitialStateForApply.push(...e.getFor());await this._setInitialStatesForDeltaCompute(e)}}else{this._setInitialStatesForDeltaCompute(e)}}catch(e){t.error(e)}}},"sap.m.IconTabBar":{retrieve:function(t){return{selectedKey:t.getSelectedKey()}},apply:function(t,e){if(e&&e.selectedKey){const i=t.getItems().find(function(t){return t.getKey()===e.selectedKey});if(i){t.setSelectedItem(i)}}}},"sap.ui.mdc.FilterBar":{retrieve:async function(t){const e=this.getStateKey(t);const i=await c.retrieveExternalState(t);const r=t.getPropertyInfoSet();const n=i.filter||{};r.filter(function(t){return Object.keys(n).length>0&&t.path&&n[t.path]&&(t.removeFromAppState||n[t.path].length===0)}).forEach(function(t){if(t.path){delete n[t.path]}});return this._getControlState(e,i)},apply:async function(e,i,r,n){try{if(i){const t=this._isInitialStatesApplicable(i===null||i===void 0?void 0:i.initialState,e,n);const a=r.navigationType;if(a===yt.hybrid&&i.fullState!==undefined){const t=e.getParent(),n=await t.convertSelectionVariantToStateFilters(r.selectionVariant);const a={...i.fullState,filter:{...i.fullState.filter,...n}};await e.getParent()._clearFilterValuesWithOptions(e,{clearEditFilter:true});return c.applyExternalState(e,a)}if(t){const t=await c.diffState(e,i.initialState,i.fullState);return c.applyExternalState(e,t)}else if(n){await e.getParent()._clearFilterValuesWithOptions(e,{clearEditFilter:true})}return c.applyExternalState(e,(i===null||i===void 0?void 0:i.fullState)??i)}}catch(e){t.error(e)}}},"sap.ui.mdc.Table":{retrieve:async function(t){const e=this.getStateKey(t);const i=await c.retrieveExternalState(t);return this._getControlState(e,i)},apply:async function(e,i,r,n){try{if(i){const t=this._isInitialStatesApplicable(i===null||i===void 0?void 0:i.initialState,e,n,r.navigationType!==yt.hybrid);if(t){var a;if(i.initialState&&!((a=i.initialState)!==null&&a!==void 0&&a.supplementaryConfig)){i.initialState.supplementaryConfig={}}const t=await c.diffState(e,i.initialState,i.fullState);return c.applyExternalState(e,t)}else{if(!i.supplementaryConfig){i.supplementaryConfig={}}return c.applyExternalState(e,(i===null||i===void 0?void 0:i.fullState)??i)}}}catch(e){t.error(e)}},refreshBinding:function(e){const i=e.getRowBinding();if(i){const t=i.getRootBinding();if(t===i){i.refresh()}else{const t=i.getHeaderContext();const e=i.getGroupId();if(t){t.requestSideEffects([{$NavigationPropertyPath:""}],e)}}}else{t.info(`Table: ${e.getId()} was not refreshed. No binding found!`)}}},"sap.ui.mdc.Chart":{retrieve:function(t){return c.retrieveExternalState(t)},apply:function(t,e){if(e){return c.applyExternalState(t,e)}}},"sap.uxap.ObjectPageLayout":{retrieve:function(t){return{selectedSection:t.getSelectedSection()}},apply:function(t,e){if(e){t.setSelectedSection(e.selectedSection)}},refreshBinding:function(e){const r=e.getBindingContext();const o=r&&r.getBinding();if(o){const t=a.getMetaPathForContext(r);const l=n.getControlRefreshStrategyForContextPath(e,t);if(l==="self"){const e=r.getModel(),n=e.getMetaModel(),a=i.getContextPathProperties(n,t,{$kind:"NavigationProperty"})||{},l=Object.keys(a).reduce(function(t,e){if(a[e].$isCollection!==true){t.push({$NavigationPropertyPath:e})}return t},[]),p=[{$PropertyPath:"*"}],s=o.getGroupId();r.requestSideEffects(p.concat(l),s)}else if(l==="includingDependents"){o.refresh()}}else{t.info(`ObjectPage: ${e.getId()} was not refreshed. No binding found!`)}}},"sap.m.SegmentedButton":{retrieve:function(t){return{selectedKey:t.getSelectedKey()}},apply:function(t,e){if(e!==null&&e!==void 0&&e.selectedKey&&e.selectedKey!==t.getSelectedKey()){var i;t.setSelectedKey(e.selectedKey);if((i=t.getParent())!==null&&i!==void 0&&i.isA("sap.ui.mdc.ActionToolbar")){t.fireEvent("selectionChange")}}}},"sap.m.Select":{retrieve:function(t){return{selectedKey:t.getSelectedKey()}},apply:function(t,e){if(e!==null&&e!==void 0&&e.selectedKey&&e.selectedKey!==t.getSelectedKey()){var i;t.setSelectedKey(e.selectedKey);if((i=t.getParent())!==null&&i!==void 0&&i.isA("sap.ui.mdc.ActionToolbar")){t.fireEvent("change")}}}},"sap.f.DynamicPage":{retrieve:function(t){return{headerExpanded:t.getHeaderExpanded()}},apply:function(t,e){if(e){t.setHeaderExpanded(e.headerExpanded)}}},"sap.ui.core.mvc.View":{retrieve:function(t){const e=t.getController();if(e&&e.viewState){return e.viewState.retrieveViewState(e.viewState)}return{}},apply:function(t,e,i,r){const n=t.getController();if(n&&n.viewState){return n.viewState.applyViewState(e,i,r)}},refreshBinding:function(t){const e=t.getController();if(e&&e.viewState){return e.viewState.refreshViewBindings()}}},"sap.ui.core.ComponentContainer":{retrieve:function(t){const e=t.getComponentInstance();if(e){return this.retrieveControlState(e.getRootControl())}return{}},apply:function(t,e,i){const r=t.getComponentInstance();if(r){return this.applyControlState(r.getRootControl(),e,i)}}},"sap.sac.df.changeHandler.MultiDimModelChangeHandler":{retrieve:function(t){return t._getMultiDimModel().serialize("INA_REPOSITORY_DELTA")},apply:function(t,e){if(e){return t._getMultiDimModel().deserialize(e,"INA_REPOSITORY_DELTA")}}}};let ht=(f=ct("sap.fe.core.controllerextensions.ViewState"),d=ot(),u=pt(),y=ot(),g=st(p.After),S=lt(),h=pt(),v=lt(),b=pt(),w=ot(),C=st(p.After),A=ot(),O=st(p.After),I=ot(),m=st(p.After),P=lt(),_=pt(),R=ot(),E=st(p.After),j=lt(),B=pt(),V=ot(),D=st(p.After),K=ot(),x=pt(),H=ot(),M=pt(),F=ot(),T=st(p.After),N=lt(),k=pt(),$=ot(),z=st(p.Instead),L=ot(),U=pt(),q=lt(),G=ot(),W=st(p.After),Y=ot(),J=st(p.After),Q=ot(),X=st(p.After),Z=lt(),tt=ot(),et=st(p.After),it=lt(),rt=pt(),f(nt=(at=function(i){ft(r,i);function r(){var e;e=i.call(this)||this;e.initialControlStatesMapper={};e.controlsVariantIdUnavailable=[];e.invalidateInitialStateForApply=[];e.viewStateControls=[];e._setInitialStatesForDeltaCompute=async i=>{try{const t=e.viewStateControls;const r=[];const n=[];let a=[];const o=(i===null||i===void 0?void 0:i.getFor())??[];t.filter(function(t){return t&&(!i||o.includes(t.getId()))&&(t.isA("sap.ui.mdc.Table")||t.isA("sap.ui.mdc.FilterBar")||t.isA("sap.ui.mdc.Chart"))}).forEach(t=>{if(i){e._addEventListenersToVariantManagement(i,o)}const a=c.retrieveExternalState(t);r.push(a);n.push(e.getStateKey(t))});a=await Promise.all(r);a.forEach((t,i)=>{e.initialControlStatesMapper[n[i]]=t})}catch(e){t.error(e)}};e._iRetrievingStateCounter=0;e._pInitialStateApplied=new Promise(t=>{e._pInitialStateAppliedResolve=t});return e}var n=r.prototype;n.refreshViewBindings=async function t(){const e=await this.collectResults(this.base.viewState.adaptBindingRefreshControls);let i=Promise.resolve();e.filter(t=>t&&t.isA&&t.isA("sap.ui.base.ManagedObject")).forEach(t=>{i=i.then(this.refreshControlBinding.bind(this,t))});return i};n.adaptBindingRefreshControls=function t(e){};n.refreshControlBinding=function e(i){const r=this.getControlRefreshBindingHandler(i);let n=Promise.resolve();if(typeof r.refreshBinding!=="function"){t.info(`refreshBinding handler for control: ${i.getMetadata().getName()} is not provided`)}else{n=n.then(r.refreshBinding.bind(this,i))}return n};n.getControlRefreshBindingHandler=function t(e){const i={};if(e){for(const t in St){if(e.isA(t)){i["refreshBinding"]=St[t].refreshBinding||{};break}}}this.base.viewState.adaptBindingRefreshHandler(e,i);return i};n.adaptBindingRefreshHandler=function t(e,i){};n.onSuspend=function t(){};n.onRestore=function t(){};n.destroy=function t(){delete this._pInitialStateAppliedResolve;i.prototype.destroy.call(this)};n.collectResults=function t(e){const i=[];for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++){n[a-1]=arguments[a]}n.push(i);e.apply(this,n);return Promise.all(i)};n.adaptControlStateHandler=function t(e,i){};n.getControlStateHandler=function t(e){const i=[],r=[];if(e){for(const t in St){if(e.isA(t)){i.push(Object.assign({},St[t]));break}}}this.base.viewState.adaptControlStateHandler(e,r);return i.concat(r)};n.adaptStateControls=function t(e){};n.getStateKey=function t(e){return this.getView().getLocalId(e.getId())||e.getId()};n.retrieveViewState=async function t(){++this._iRetrievingStateCounter;let i;try{await this._pInitialStateApplied;const t=await this.collectResults(this.base.viewState.adaptStateControls);const r=await Promise.all(t.filter(function(t){return t&&t.isA&&t.isA("sap.ui.base.ManagedObject")}).map(t=>this.retrieveControlState(t).then(e=>({key:this.getStateKey(t),value:e}))));i=r.reduce(function(t,i){const r={};r[i.key]=i.value;return e(t,r)},{});const n=await Promise.resolve(this._retrieveAdditionalStates());if(n&&Object.keys(n).length){i[gt]=n}}finally{--this._iRetrievingStateCounter}return this._iRetrievingStateCounter===0?i:undefined};n.retrieveAdditionalStates=function t(e){};n._retrieveAdditionalStates=function t(){const e={};this.base.viewState.retrieveAdditionalStates(e);return e};n.retrieveControlState=function t(i){const r=this.getControlStateHandler(i);return Promise.all(r.map(t=>{if(typeof t.retrieve!=="function"){throw new Error(`controlStateHandler.retrieve is not a function for control: ${i.getMetadata().getName()}`)}return t.retrieve.call(this,i)})).then(t=>t.reduce(function(t,i){return e(t,i)},{}))};n.applyInitialStateOnly=function t(){return true};n.applyViewState=async function e(i,r,n){if(this.base.viewState.applyInitialStateOnly()&&this._getInitialStateApplied()){return}try{await this.collectResults(this.base.viewState.onBeforeStateApplied,[],r.navigationType);const t=await this.collectResults(this.base.viewState.adaptStateControls);this.viewStateControls=t;let e=Promise.resolve();let a=false;const o=t.reduce((t,e)=>{if(!e){return t}const i=e.isA("sap.ui.fl.variants.VariantManagement");if(!a){a=i}t=i?[e,...t]:[...t,e];return t},[]);if(!a){this._setInitialStatesForDeltaCompute()}o.filter(function(t){return t.isA("sap.ui.base.ManagedObject")}).forEach(t=>{const a=this.getStateKey(t);e=e.then(this.applyControlState.bind(this,t,i?i[a]:undefined,r,n??false))});await e;if(r.navigationType===yt.iAppState||r.navigationType===yt.hybrid){await this.collectResults(this.base.viewState.applyAdditionalStates,i?i[gt]:undefined)}else{await this.collectResults(this.base.viewState.applyNavigationParameters,r);await this.collectResults(this.base.viewState._applyNavigationParametersToFilterbar,r)}}finally{try{await this.collectResults(this.base.viewState.onAfterStateApplied);this._setInitialStateApplied()}catch(e){t.error(e)}}};n._checkIfVariantIdIsAvailable=function t(e,i){const r=e.getVariants();let n=false;r.forEach(function(t){if(t.key===i){n=true}});return n};n._setInitialStateApplied=function t(){if(this._pInitialStateAppliedResolve){const t=this._pInitialStateAppliedResolve;delete this._pInitialStateAppliedResolve;t()}};n._getInitialStateApplied=function t(){return!this._pInitialStateAppliedResolve};n.onBeforeStateApplied=function t(e,i){};n.onAfterStateApplied=function t(e){};n.applyAdditionalStates=function t(e,i){};n._applyNavigationParametersToFilterbar=function t(e,i){};n.applyNavigationParameters=function t(e,i){};n.applyControlState=async function t(e,i,r,n){const a=this.getControlStateHandler(e);let o=Promise.resolve();a.forEach(t=>{if(typeof t.apply!=="function"){throw new Error(`controlStateHandler.apply is not a function for control: ${e.getMetadata().getName()}`)}o=o.then(t.apply.bind(this,e,i,r,n))});return o};n.getInterface=function t(){return this};n._getControlState=function t(e,i){const r=this.initialControlStatesMapper;if(Object.keys(r).length>0&&r[e]){if(Object.keys(r[e]).length===0){r[e]={...i}}return{fullState:i,initialState:r[e]}}return i};n._addEventListenersToVariantManagement=function t(e,i){const r={variantManagedControls:i};const n=()=>{this._updateInitialStatesOnVariantChange(i)};e.attachSave(r,n,{});e.attachSelect(r,n,{})};n._updateInitialStatesOnVariantChange=function t(e){const i=this.initialControlStatesMapper;Object.keys(i).forEach(t=>{for(const r of e){if(r.includes(t)){i[t]={}}}})};n._isInitialStatesApplicable=function t(e,i,r,n){return e&&!this.invalidateInitialStateForApply.includes(i.getId())&&!this.controlsVariantIdUnavailable.includes(i.getId())&&(n??true)&&r!==true};return r}(l),ut(at.prototype,"refreshViewBindings",[d,u],Object.getOwnPropertyDescriptor(at.prototype,"refreshViewBindings"),at.prototype),ut(at.prototype,"adaptBindingRefreshControls",[y,g],Object.getOwnPropertyDescriptor(at.prototype,"adaptBindingRefreshControls"),at.prototype),ut(at.prototype,"refreshControlBinding",[S,h],Object.getOwnPropertyDescriptor(at.prototype,"refreshControlBinding"),at.prototype),ut(at.prototype,"getControlRefreshBindingHandler",[v,b],Object.getOwnPropertyDescriptor(at.prototype,"getControlRefreshBindingHandler"),at.prototype),ut(at.prototype,"adaptBindingRefreshHandler",[w,C],Object.getOwnPropertyDescriptor(at.prototype,"adaptBindingRefreshHandler"),at.prototype),ut(at.prototype,"onSuspend",[A,O],Object.getOwnPropertyDescriptor(at.prototype,"onSuspend"),at.prototype),ut(at.prototype,"onRestore",[I,m],Object.getOwnPropertyDescriptor(at.prototype,"onRestore"),at.prototype),ut(at.prototype,"collectResults",[P,_],Object.getOwnPropertyDescriptor(at.prototype,"collectResults"),at.prototype),ut(at.prototype,"adaptControlStateHandler",[R,E],Object.getOwnPropertyDescriptor(at.prototype,"adaptControlStateHandler"),at.prototype),ut(at.prototype,"getControlStateHandler",[j,B],Object.getOwnPropertyDescriptor(at.prototype,"getControlStateHandler"),at.prototype),ut(at.prototype,"adaptStateControls",[V,D],Object.getOwnPropertyDescriptor(at.prototype,"adaptStateControls"),at.prototype),ut(at.prototype,"getStateKey",[K,x],Object.getOwnPropertyDescriptor(at.prototype,"getStateKey"),at.prototype),ut(at.prototype,"retrieveViewState",[H,M],Object.getOwnPropertyDescriptor(at.prototype,"retrieveViewState"),at.prototype),ut(at.prototype,"retrieveAdditionalStates",[F,T],Object.getOwnPropertyDescriptor(at.prototype,"retrieveAdditionalStates"),at.prototype),ut(at.prototype,"retrieveControlState",[N,k],Object.getOwnPropertyDescriptor(at.prototype,"retrieveControlState"),at.prototype),ut(at.prototype,"applyInitialStateOnly",[$,z],Object.getOwnPropertyDescriptor(at.prototype,"applyInitialStateOnly"),at.prototype),ut(at.prototype,"applyViewState",[L,U],Object.getOwnPropertyDescriptor(at.prototype,"applyViewState"),at.prototype),ut(at.prototype,"_checkIfVariantIdIsAvailable",[q],Object.getOwnPropertyDescriptor(at.prototype,"_checkIfVariantIdIsAvailable"),at.prototype),ut(at.prototype,"onBeforeStateApplied",[G,W],Object.getOwnPropertyDescriptor(at.prototype,"onBeforeStateApplied"),at.prototype),ut(at.prototype,"onAfterStateApplied",[Y,J],Object.getOwnPropertyDescriptor(at.prototype,"onAfterStateApplied"),at.prototype),ut(at.prototype,"applyAdditionalStates",[Q,X],Object.getOwnPropertyDescriptor(at.prototype,"applyAdditionalStates"),at.prototype),ut(at.prototype,"_applyNavigationParametersToFilterbar",[Z],Object.getOwnPropertyDescriptor(at.prototype,"_applyNavigationParametersToFilterbar"),at.prototype),ut(at.prototype,"applyNavigationParameters",[tt,et],Object.getOwnPropertyDescriptor(at.prototype,"applyNavigationParameters"),at.prototype),ut(at.prototype,"applyControlState",[it,rt],Object.getOwnPropertyDescriptor(at.prototype,"applyControlState"),at.prototype),at))||nt);return ht},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/cards/CollaborationManager", ["sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/HookSupport","sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/ControllerExtension"],function(e,t,o,r){"use strict";var i,n,a,p,c,s,l;var u={};var f=o.publicExtension;var b=o.methodOverride;var d=o.defineUI5Class;var v=t.hookable;function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return y(e,t)}function C(e,t,o,r,i){var n={};Object.keys(r).forEach(function(e){n[e]=r[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=o.slice().reverse().reduce(function(o,r){return r(e,t,o)||o},n);if(i&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(i):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}let m=(i=d("sap.fe.core.controllerextensions.cards.CollaborationManager"),n=b(),a=b(),p=f(),c=v("before"),i(s=(l=function(t){g(o,t);function o(){var e;e=t.call(this)||this;h(e).init();return e}u=o;var r=o.prototype;r.onInit=async function t(){this.feView=this.base.getView();this.appComponent=e.getAppComponent(this.feView);const o=await this.appComponent.getService("environmentCapabilities");if(!this.appComponent["isCollaborationManagerServiceEnabled"]()||!o.getCapabilities().InsightsSupported){return}await this.getService().connect(this.appComponent.getId(),async()=>{const e=this.collectAvailableCards([]);const t=await Promise.all(e);const o=t.reduce((e,t)=>{e[t.card["sap.app"].id]=t;return e},{});const r=this.appComponent.getId();this.getService().addCardsToCollaborationManager(o,r)})};r.onExit=function e(){this.getService().unregisterProvider()};r.getService=function e(){return this.appComponent.getCollaborationManagerService()};r.collectAvailableCards=function e(t){return t};return o}(r),C(l.prototype,"onInit",[n],Object.getOwnPropertyDescriptor(l.prototype,"onInit"),l.prototype),C(l.prototype,"onExit",[a],Object.getOwnPropertyDescriptor(l.prototype,"onExit"),l.prototype),C(l.prototype,"collectAvailableCards",[p,c],Object.getOwnPropertyDescriptor(l.prototype,"collectAvailableCards"),l.prototype),l))||s);u=m;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/ActivityBase", ["sap/base/util/UriParameters","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/helpers/ResourceModelHelper","sap/m/MessageBox","sap/ui/core/ws/SapPcpWebSocket"],function(e,t,o,n,r){"use strict";var s={};var i=r.SUPPORTED_PROTOCOLS;var a=o.getResourceModel;var c=t.Activity;const l="/collaboration";const C="/collaboration/connection";const u="/collaboration/DraftID";const p="/collaboration/websocket_status";let f;(function(e){e[e["CLOSED"]=0]="CLOSED";e[e["CLOSING"]=1]="CLOSING";e[e["CONNECTING"]=2]="CONNECTING";e[e["CONNECTED"]=3]="CONNECTED";e[e["ERROR"]=4]="ERROR"})(f||(f={}));s.WEBSOCKET_STATUS=f;function N(e){return e.getProperty(p)===f.CONNECTED}s.isCollaborationConnected=N;function O(t,o,r,s,i,c,N){let O=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;if(i.getProperty(C)){if(i.getProperty(u)===r){return false}else{E(i)}}const d=[t];i.setProperty(l,{activeUsers:d,activities:{}});O=O||e.fromQuery(window.location.search).get("useFLPUser")==="true";const g=P(t,o,r,s,O);i.setProperty(p,f.CONNECTING);i.setProperty(C,g);i.setProperty(u,r);g.attachMessage(function(e){const t=e.getParameter("pcpFields");if(t){c(t)}});g.attachOpen(function(){i.setProperty(p,f.CONNECTED)});g.attachError(function(){if([f.CONNECTING,f.CONNECTED].includes(i.getProperty(p))){const e=a(N);const t=e.getText("C_COLLABORATIONDRAFT_CONNECTION_LOST");n.warning(t,{actions:[n.Action.OK],emphasizedAction:n.Action.OK})}i.setProperty(p,f.ERROR)});g.attachClose(function(){i.setProperty(p,f.CLOSED)});return true}s.initializeCollaboration=O;function d(e,t,o,n,r,s){if(N(o)){const i=o.getProperty(C);i.send("",{clientAction:e,clientContent:t,clientTriggeredActionName:n,clientRefreshListBinding:r,clientRequestedProperties:s});if(e===c.Activate||e===c.Discard){E(o)}}}s.broadcastCollaborationMessage=d;function E(e){const t=e.getProperty(C);e.setProperty(l,{});e.setProperty(p,f.CLOSING);t===null||t===void 0?void 0:t.close()}s.endCollaboration=E;function P(t,o,n,s){let a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;const c=window.location;let l;const C=e.fromQuery(window.location.search).get("useBackendUrl");if(C){l=C.replace("https","wss")}else{l=c.protocol==="https:"?"wss:":"ws:";l+=`//${c.host}`}l+=`${(o.startsWith("/")?"":"/")+o}?draft=${n}&relatedService=${s}`;if(a){l+=`&userID=${encodeURI(t.id)}&userName=${encodeURI(t.initialName||"")}`}return new r(l,[i.v10])}return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/ActivitySync", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/collaboration/ActivityBase","sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/fe/core/converters/MetaModelConverter","sap/m/MessageBox"],function(t,e,n,o,i,s){"use strict";var r={};var c=o.getActivityKeyFromPath;var a=o.CollaborationUtils;var l=o.Activity;var d=n.isCollaborationConnected;var u=n.initializeCollaboration;var g=n.endCollaboration;var f=n.broadcastCollaborationMessage;const p="/collaboration/myActivities";const y="/collaboration/activeUsers";const h="/collaboration/activities";const C="/collaboration/asyncMsgQueue";const P="/collaboration/retainedMessages";const v="/collaboration/asyncMsgTimerId";const A="$auto.sync";const M=500;function m(t,e){const n=t.getProperty(p);if(!n){return false}else{return n.includes(e)}}function b(t,e){const n=t.getProperty(p)??[];if(!n.includes(e)){n.push(e)}t.setProperty(p,n)}function x(t,e){const n=t.getProperty(p);if(!n||e===undefined){return false}const o=Array.isArray(e)?e:[e];const i=n.filter(t=>!o.includes(t));t.setProperty(p,i);return i.length!==n.length}function E(t){const e=t.getProperty(p);if(!e){return undefined}else{return e.join("|")}}function B(t,e,n){if(!I(t)){return}const o=t.getModel("internal");const i=o.getProperty(C);i.forEach(t=>{if(t.path.startsWith(e)){t.path=t.path.replace(e,n)}});const s=o.getProperty(p);if(s){const i=[];const r=[];s.forEach(t=>{if(t.startsWith(e)){const o=t.replace(e,n);i.push(o)}else{r.push(t)}});o.setProperty(p,r);if(i.length!==0){L(t,{action:l.Lock,content:i})}}}r.updateLocksForContextPath=B;function D(t){let e=t.getProperty(v);if(e!==undefined){clearTimeout(e)}e=setTimeout(()=>{const e=t.getProperty(C);const n=[];const o=t.getProperty(P)??[];if(!e){return}e.forEach(e=>{if(o.includes(e.path)){n.push(e)}else{F(t,e.action,e.path)}});t.setProperty(C,n);t.setProperty(v,undefined);if(n.length){D(t)}},M);t.setProperty(v,e)}function k(t,e){const n=t.getModel("internal");const o=Array.isArray(e)?e:[e];const i=n.getProperty(P);o.forEach(t=>{if(!i.includes(t)){i.push(t)}})}r.retainAsyncMessages=k;function O(t,e){const n=t.getModel("internal");const o=n.getProperty(P);const i=Array.isArray(e)?e:[e];n.setProperty(P,o.filter(t=>!i.includes(t)))}r.releaseAsyncMessages=O;const I=function(t){const e=t.getModel("internal");return d(e)};r.isConnected=I;const L=function(t,e){if(I(t)){const n=t.getModel("internal");if(e.action===l.Lock||e.action===l.Unlock){T(n,e.action,e.content)}else{F(n,e.action,e.content,e.triggeredActionName,e.refreshListBinding,e.actionRequestedProperties)}}};r.send=L;function F(t,e,n,o,i,s){const r=(Array.isArray(n)?n.join("|"):n)??"";const c=s===null||s===void 0?void 0:s.join("|");if(e===l.Lock){const e=(Array.isArray(n)?n[0]:n)??"";if(m(t,e)){return}else{b(t,e)}}else if(e===l.Unlock){const e=x(t,n);if(!e){return}}f(e,r,t,o,i,c)}function T(t,e,n){if(n===undefined){return}const o=t.getProperty(C);const i=Array.isArray(n)?n:[n];const s=o.filter(t=>!i.includes(t.path));i.forEach(t=>{s.push({path:t,action:e})});t.setProperty(C,s);D(t)}const S=function(t){return t.getModel().getMetaModel().getObject("/@com.sap.vocabularies.Common.v1.WebSocketBaseURL")};const w=function(t){const e=(t===null||t===void 0?void 0:t.getBindingContext)&&t.getBindingContext();return!!(e&&S(e))};r.isCollaborationEnabled=w;const R=async function(t){const e=t.getModel("internal");const n=a.getMe(t);if(!n){return}const o=t.getBindingContext();const i=S(o);const s=o.getModel().getServiceUrl();if(!i){return}const r=await o.requestProperty("DraftAdministrativeData/DraftUUID");if(!r){return}const c=u(n,i,r,s,e,e=>{q(e,t)},t);if(c){e.setProperty(p,[]);e.setProperty(C,[]);e.setProperty(P,[])}};r.connect=R;const U=function(t){const e=t.getModel("internal");g(e)};r.disconnect=U;function q(t,e){var n,o;const i=e.getModel("internal");let s=i.getProperty(y);let r;let d;const u=H(e,t.clientContent);t.userAction=t.userAction||t.clientAction;const g={id:t.userID,name:t.userDescription,initials:a.formatInitials(t.userDescription),color:a.getUserColor(t.userID,s,[])};let p=g;switch(t.userAction){case l.Join:case l.JoinEcho:if(s.findIndex(t=>t.id===g.id)===-1){s.unshift(g);i.setProperty(y,s)}if(t.userAction===l.Join){f(l.JoinEcho,E(i),i)}if(t.userAction===l.JoinEcho){if(t.clientContent){t.userAction=l.Lock;q(t,e)}}break;case l.Leave:s=s.filter(t=>t.id!==g.id||t.me);i.setProperty(y,s);const C=i.getProperty(h)||{};const P=function(t){if(Array.isArray(t)){return t.filter(t=>t.id!==g.id)}else{for(const e in t){t[e]=P(t[e])}return t}};P(C);i.setProperty(h,C);break;case l.Change:j(e,t);break;case l.Create:W(e,t);break;case l.Delete:J(e,t);break;case l.Activate:_(e,t.clientContent,a.getText("C_COLLABORATIONDRAFT_ACTIVATE",g.name));break;case l.Discard:_(e,t.clientContent,a.getText("C_COLLABORATIONDRAFT_DISCARD",g.name));break;case l.Action:Q(e,t);break;case l.Lock:p=g;p.key=c(t.clientContent);let v="";const A=u.split("/");for(let t=1;t<A.length-1;t++){v+=`/${A[t]}`;if(!i.getProperty(h+v)){i.setProperty(h+v,{})}}r=i.getProperty(h+u);r=(n=r)!==null&&n!==void 0&&n.slice?r.slice():[];r.push(p);i.setProperty(h+u,r);break;case l.Unlock:r=i.getProperty(h+u);d=c(t.clientContent);i.setProperty(h+u,(o=r)===null||o===void 0?void 0:o.filter(t=>t.key!==d));break}}function _(e,n,o){U(e);s.information(o);e.getBindingContext().getBinding().resetChanges().then(function(){V(n,e)}).catch(function(){t.error("Pending Changes could not be reset - still navigating to active instance");V(n,e)})}function j(t,e){const n=e.clientContent.split("|");const o=t.getModel().getMetaModel();const i=t.getModel("internal");const s=z(t);const r=s.getBindingContext();const c=n.map(async e=>N(t,e));s.getController().editFlow.updateDocument(r,Promise.all(c))}async function N(e,n){const o=e.getModel().getMetaModel();const s=o.getMetaContext(n);const r=i.getInvolvedDataModelObjects(s);const c=n.substring(0,n.lastIndexOf("/"));const l=G(e,c);const d=c.substring(0,c.lastIndexOf("("));const u=d.substring(0,d.lastIndexOf("/"));const g=u?G(e,u):undefined;if(!l&&!g){return}try{const t=[];const i=a.getAppComponent(e).getSideEffectsService();if(l){const e=o.getMetaPath(l.getPath());const s=o.getMetaPath(n).replace(e,"").slice(1);t.push(i.requestSideEffects([s],l,A))}const s=i.computeFieldGroupIds(r.targetEntityType.fullyQualifiedName,r.targetObject.fullyQualifiedName);if(s.length){const n=e.getController();const o=n._sideEffects.getSideEffectsMapForFieldGroups(s,l||g);Object.keys(o).forEach(e=>{const i=o[e];t.push(n._sideEffects.requestSideEffects(i.sideEffects,i.context,A,undefined,true))})}await Promise.all(t)}catch(e){t.error("Failed to update data after change:"+e);throw e}}function J(t,e){const n=z(t);const o=n.getBindingContext();const i=o.getPath();const r=e.clientContent.split("|");const c=r.find(t=>i.startsWith(t));if(c){s.information(a.getText("C_COLLABORATIONDRAFT_DELETE",e.userDescription),{onClose:()=>{const e=o.getModel().getKeepAliveContext(c);e.setKeepAlive(false);const i=K(t,r[0]);n.getController().editFlow.updateDocument(n.getBindingContext(),i);n.getController()._routing.navigateBackFromContext(e)}})}else{const e=K(t,r[0]);n.getController().editFlow.updateDocument(n.getBindingContext(),e)}}function W(t,e){const n=z(t);const o=e.clientContent.split("|");const i=K(t,o[0]);n.getController().editFlow.updateDocument(n.getBindingContext(),i)}async function K(e,n){const o=a.getAppComponent(e);const i=n.substring(0,n.lastIndexOf("/"));const s=G(e,i);if(s){try{const t=[];const e=s.getModel().getMetaModel();const i=e.getMetaPath(n);const r=e.getMetaPath(s.getPath());const c=i.replace(`${r}/`,"");const a=o.getSideEffectsService();t.push(a.requestSideEffects([c],s,A));t.push(a.requestSideEffectsForNavigationProperty(c,s,A,true));await Promise.all(t)}catch(e){t.error("Failed to update data after collection update:"+e)}}}function Q(t,e){var n;const o=z(t);const i=e.clientContent.split("|");const s=e.clientTriggeredActionName||"";const r=(n=e.clientRequestedProperties)===null||n===void 0?void 0:n.split("|");const c=e.clientRefreshListBinding==="true";let a=[];if(c){a.push(K(t,i[0]))}else{a=i.map(e=>$(t,e,s,r))}o.getController().editFlow.updateDocument(o.getBindingContext(),Promise.all(a))}async function $(t,e,n,o){const s=G(t,e);if(!s){return}const r=a.getAppComponent(t);const c=r.getSideEffectsService();const l=c.getODataActionSideEffects(n,s);const d=[];if(l){var u;if((u=l.pathExpressions)!==null&&u!==void 0&&u.length){d.push(c.requestSideEffects(l.pathExpressions,s,A))}}if(o&&o.length>0){const n=t.getModel().getMetaModel();const r=H(t,e);const a=i.getInvolvedDataModelObjects(n.getContext(r));const l=a.targetEntityType.entityProperties.map(t=>t.name).filter(t=>o.includes(t));if(l.length>0){d.push(c.requestSideEffects(l,s,A))}}await Promise.all(d)}function G(t,e){if(!e){return undefined}const n=[];while(!e.endsWith(")")){n.unshift(e);e=e.substring(0,e.lastIndexOf("/"))}n.unshift(e);const o=e.substring(0,e.lastIndexOf("("));let i;let s=z(t).getBindingContext();while(s&&!i){var r;if(n.includes(s.getPath())){i=s}s=(r=s.getBinding())===null||r===void 0?void 0:r.getContext()}if(i){return i}const c=z(t).getBindingContext().getModel();const a=c.getAllBindings().find(t=>{const e=t.isRelative()?t.getResolvedPath():t.getPath();return t.isA("sap.ui.model.odata.v4.ODataListBinding")&&e===o});i=a===null||a===void 0?void 0:a.getAllCurrentContexts().find(t=>n.includes(t.getPath()));return i}function V(t,e){const n=z(e);const o=e.getModel().bindContext(t).getBoundContext();n.getController().routing.navigate(o)}function z(t){const n=a.getAppComponent(t);return e.getCurrentPageView(n)}function H(t,e){let n="";if(e){const o=e.split("|")[0];n=t.getModel().getMetaModel().getMetaPath(o)}return n}return{connect:R,disconnect:U,isConnected:I,isCollaborationEnabled:w,send:L,retainAsyncMessages:k,releaseAsyncMessages:O,updateLocksForContextPath:B}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/collaboration/CollaborationCommon", ["sap/ui/core/Component","sap/ui/core/Core"],function(e,t){"use strict";var n={};let o;(function(e){e[e["NotYetInvited"]=0]="NotYetInvited";e[e["NoChangesMade"]=1]="NoChangesMade";e[e["ChangesMade"]=2]="ChangesMade";e[e["CurrentlyEditing"]=3]="CurrentlyEditing"})(o||(o={}));n.UserStatus=o;let r;(function(e){e["NoChanges"]="N";e["InProgress"]="P"})(r||(r={}));n.UserEditingState=r;let i;(function(e){e["Join"]="JOIN";e["JoinEcho"]="JOINECHO";e["Leave"]="LEAVE";e["Change"]="CHANGE";e["Create"]="CREATE";e["Delete"]="DELETE";e["Action"]="ACTION";e["Lock"]="LOCK";e["Activate"]="ACTIVATE";e["Discard"]="DISCARD";e["Unlock"]="UNLOCK"})(i||(i={}));n.Activity=i;function a(e){const t=["Dr.","Prof.","Prof. Dr.","B.A.","MBA","Ph.D."];t.forEach(function(t){e=e.replace(t,"")});let n;const o=e.trimStart().split(" ");if(o.length>1){var r,i;n=((o===null||o===void 0?void 0:(r=o.shift())===null||r===void 0?void 0:r.charAt(0))||"")+((i=o.pop())===null||i===void 0?void 0:i.charAt(0))}else{n=e.substring(0,2)}return n.toUpperCase()}function s(e,t,n){const o=t.find(t=>t.id===e);if(o){return o.color}else{for(let e=1;e<=10;e++){if(t.findIndex(t=>t.color===`Accent${e}`)===-1&&n.findIndex(t=>t.color===`Accent${e}`)===-1){return`Accent${e}`}}return"Accent10"}}function c(t){if(t.isA("sap.fe.core.AppComponent")){return t}const n=e.getOwnerComponentFor(t);if(!n){return t}else{return c(n)}}function l(e){const t=c(e).getShellServices();if(!t||!t.hasUShell()){throw"No Shell... No User"}return{initials:t.getUser().getInitials(),id:t.getUser().getId(),name:`${t.getUser().getFullName()} (${u("C_COLLABORATIONDRAFT_YOU")})`,initialName:t.getUser().getFullName(),color:"Accent6",me:true,status:o.CurrentlyEditing}}function u(e){const n=t.getLibraryResourceBundle("sap.fe.core");for(var o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++){r[i-1]=arguments[i]}return n.getText(e,r)}n.getText=u;const f={formatInitials:a,getUserColor:s,getMe:l,getAppComponent:c,getText:u};n.CollaborationUtils=f;function g(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];const n=e.getModel();const o=n.getMetaModel();const r=o.getMetaPath(e);const i=o.getObject(`${r}@com.sap.vocabularies.Common.v1.DraftRoot/ShareAction`);const a=n.bindContext(`${i}(...)`,e);a.setParameter("Users",t);a.setParameter("ShareAll",true);return a.execute()}n.shareObject=g;function d(e){return e.substring(e.lastIndexOf("(")+1,e.lastIndexOf(")"))}n.getActivityKeyFromPath=d;const C="_CollaborationDraft_";n.CollaborationFieldGroupPrefix=C;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/dialog/OperationsDialog.block", ["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/helpers/ClassSupport","sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/Title","sap/ui/core/Core","sap/fe/core/jsx-runtime/jsx"],function(e,t,i,r,n,l,o,a,s){"use strict";var u,c,p,g,d,f,b,h,m,y,v,w,z,B,H,j,M,x,D,O,E,q,P,T,U,k,C,I,S,N,R,W,_,G,A;var L={};var F=i.defineReference;var V=e.defineBuildingBlock;var J=e.blockAttribute;function K(e,t,i,r){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function Q(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function X(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;Y(e,t)}function Y(e,t){Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return Y(e,t)}function Z(e,t,i,r,n){var l={};Object.keys(r).forEach(function(e){l[e]=r[e]});l.enumerable=!!l.enumerable;l.configurable=!!l.configurable;if("value"in l||l.initializer){l.writable=true}l=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},l);if(n&&l.initializer!==void 0){l.value=l.initializer?l.initializer.call(n):void 0;l.initializer=undefined}if(l.initializer===void 0){Object.defineProperty(e,t,l);l=null}return l}function $(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const ee=a.getLibraryResourceBundle("sap.fe.macros");let te=(u=V({name:"OperationsDialog",namespace:"sap.fe.core.controllerextensions"}),c=J({type:"string",isPublic:true,required:true}),p=J({type:"string"}),g=J({type:"object",required:true}),d=F(),f=J({type:"boolean",required:true}),b=J({type:"function"}),h=J({type:"object",required:true}),m=J({type:"string",required:true}),y=J({type:"string",required:true}),v=J({type:"string",required:true}),w=J({type:"object",required:true}),z=J({type:"object"}),B=J({type:"object"}),H=J({type:"object",required:true}),j=J({type:"boolean"}),M=J({type:"function"}),u(x=(D=function(e){X(t,e);function t(t){var i;i=e.call(this,t)||this;K(i,"id",O,Q(i));K(i,"title",E,Q(i));K(i,"messageObject",q,Q(i));K(i,"operationsDialog",P,Q(i));K(i,"isMultiContext412",T,Q(i));K(i,"resolve",U,Q(i));K(i,"model",k,Q(i));K(i,"groupId",C,Q(i));K(i,"actionName",I,Q(i));K(i,"cancelButtonTxt",S,Q(i));K(i,"strictHandlingPromises",N,Q(i));K(i,"strictHandlingUtilities",R,Q(i));K(i,"messageHandler",W,Q(i));K(i,"messageDialogModel",_,Q(i));K(i,"isGrouped",G,Q(i));K(i,"showMessageInfo",A,Q(i));return i}L=t;var i=t.prototype;i.open=function e(){var t;this.getContent();(t=this.operationsDialog.current)===null||t===void 0?void 0:t.open()};i.getBeginButton=function e(){return new n({press:()=>{if(!(this.isMultiContext412??false)){var e;(e=this.resolve)===null||e===void 0?void 0:e.call(this,true);this.model.submitBatch(this.groupId)}else{var t;this.strictHandlingPromises.forEach(e=>{e.resolve(true);this.model.submitBatch(e.groupId);if(e.requestSideEffects){e.requestSideEffects()}});const e=(t=this.strictHandlingUtilities)===null||t===void 0?void 0:t.strictHandlingTransitionFails;if(e&&e.length>0){var i;(i=this.messageHandler)===null||i===void 0?void 0:i.removeTransitionMessages()}if(this.strictHandlingUtilities){this.strictHandlingUtilities.strictHandlingWarningMessages=[]}}if(this.strictHandlingUtilities){this.strictHandlingUtilities.is412Executed=true}this.messageDialogModel.setData({});this.close()},type:"Emphasized",text:this.actionName})};i.close=function e(){var t;(t=this.operationsDialog.current)===null||t===void 0?void 0:t.close()};i.getTitle=function e(){const t=ee.getText("M_WARNINGS");return new o({text:t})};i.getEndButton=function e(){return new n({press:()=>{if(this.strictHandlingUtilities){this.strictHandlingUtilities.strictHandlingWarningMessages=[];this.strictHandlingUtilities.is412Executed=false}if(!(this.isMultiContext412??false)){this.resolve(false)}else{this.strictHandlingPromises.forEach(function(e){e.resolve(false)})}this.messageDialogModel.setData({});this.close();if(this.isGrouped??false){this.showMessageInfo()}},text:this.cancelButtonTxt})};i.getContent=function e(){return s(l,{id:this.id,ref:this.operationsDialog,resizable:true,content:this.messageObject.oMessageView,state:"Warning",customHeader:new r({contentLeft:[this.messageObject.oBackButton],contentMiddle:[this.getTitle()]}),contentHeight:"50%",contentWidth:"50%",verticalScrolling:false,beginButton:this.getBeginButton(),endButton:this.getEndButton()})};return t}(t),O=Z(D.prototype,"id",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),E=Z(D.prototype,"title",[p],{configurable:true,enumerable:true,writable:true,initializer:function(){return"Dialog Standard Title"}}),q=Z(D.prototype,"messageObject",[g],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),P=Z(D.prototype,"operationsDialog",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),T=Z(D.prototype,"isMultiContext412",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),U=Z(D.prototype,"resolve",[b],{configurable:true,enumerable:true,writable:true,initializer:null}),k=Z(D.prototype,"model",[h],{configurable:true,enumerable:true,writable:true,initializer:null}),C=Z(D.prototype,"groupId",[m],{configurable:true,enumerable:true,writable:true,initializer:null}),I=Z(D.prototype,"actionName",[y],{configurable:true,enumerable:true,writable:true,initializer:null}),S=Z(D.prototype,"cancelButtonTxt",[v],{configurable:true,enumerable:true,writable:true,initializer:null}),N=Z(D.prototype,"strictHandlingPromises",[w],{configurable:true,enumerable:true,writable:true,initializer:null}),R=Z(D.prototype,"strictHandlingUtilities",[z],{configurable:true,enumerable:true,writable:true,initializer:null}),W=Z(D.prototype,"messageHandler",[B],{configurable:true,enumerable:true,writable:true,initializer:null}),_=Z(D.prototype,"messageDialogModel",[H],{configurable:true,enumerable:true,writable:true,initializer:null}),G=Z(D.prototype,"isGrouped",[j],{configurable:true,enumerable:true,writable:true,initializer:null}),A=Z(D.prototype,"showMessageInfo",[M],{configurable:true,enumerable:true,writable:true,initializer:null}),D))||x);L=te;return L},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/NotApplicableContextDialog", ["sap/fe/core/templating/EntityTypeHelper","sap/m/Button","sap/m/CustomListItem","sap/m/Dialog","sap/m/HBox","sap/m/List","sap/m/Text","sap/m/VBox","sap/fe/core/jsx-runtime/jsx","sap/fe/core/jsx-runtime/Fragment","sap/fe/core/jsx-runtime/jsxs"],function(t,e,i,n,s,o,r,a,l,h,p){"use strict";var c={};var u=t.getTitleExpression;let d=function(){function t(t){this.totalContextCount=0;this.title=t.title;this.resourceModel=t.resourceModel;this.entityType=t.entityType;this.notApplicableContexts=t.notApplicableContexts;this._shouldContinue=false;this._dialog=this.createDialog();this._processingPromise=new Promise(t=>{this._fnResolve=t})}c=t;var d=t.prototype;d.onAfterClose=function t(){this._fnResolve(this._shouldContinue);this._dialog.destroy()};d.onContinue=function t(){this._shouldContinue=true;this._dialog.close()};d.open=async function t(e){e.addDependent(this._dialog);this._dialog.open();return this._processingPromise};d.getDialog=function t(){return this._dialog};d.createDialog=function t(){var c,d;return l(n,{state:"Warning",showHeader:true,contentWidth:"20rem",resizable:true,verticalScrolling:true,horizontalScrolling:true,class:"sapUiContentPadding",title:this.title,afterClose:this.onAfterClose.bind(this),children:{beginButton:l(e,{text:this.resourceModel.getText("C_ACTION_PARTIAL_FRAGMENT_SAPFE_CONTINUE_ANYWAY"),press:this.onContinue.bind(this),type:"Emphasized"}),endButton:l(e,{text:this.resourceModel.getText("C_COMMON_SAPFE_CLOSE"),press:()=>this._dialog.close()}),content:p(h,{children:[l(a,{children:l(r,{text:this.notApplicableContexts.length===1?this.resourceModel.getText("C_ACTION_PARTIAL_FRAGMENT_SAPFE_BOUND_ACTION"):this.resourceModel.getText("C_ACTION_PARTIAL_FRAGMENT_SAPFE_BOUND_ACTION_PLURAL",[this.notApplicableContexts.length]),class:"sapUiTinyMarginBegin sapUiTinyMarginTopBottom"})}),l(o,{headerText:(c=this.entityType.annotations.UI)===null||c===void 0?void 0:(d=c.HeaderInfo)===null||d===void 0?void 0:d.TypeNamePlural,showSeparators:"None",children:{items:this.notApplicableContexts.map(t=>{const e=u(this.entityType);const n=l(i,{children:l(s,{justifyContent:"Start",children:l(r,{text:e,class:"sapUiTinyMarginBegin sapUiTinyMarginTopBottom"})})});n.setBindingContext(t);return n})}})]})}})};return t}();c=d;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/TransactionHelper", ["sap/base/Log","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/editFlow/draft","sap/fe/core/controllerextensions/editFlow/operations","sap/fe/core/controllerextensions/editFlow/sticky","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/DeleteHelper","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/library","sap/m/Button","sap/m/Dialog","sap/m/MessageBox","sap/m/MessageToast","sap/m/Popover","sap/m/Text","sap/m/VBox","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/XMLTemplateProcessor","sap/ui/core/library","sap/ui/core/util/XMLPreprocessor","sap/ui/model/json/JSONModel","../../converters/annotations/DataField","../../helpers/MetaModelFunction","../../helpers/ToES6Promise","../../helpers/TypeGuards"],function(e,t,n,a,o,i,r,s,l,c,d,u,g,f,C,p,h,m,v,E,b,y,D,A,M,w,x,T,P,_,O,I){"use strict";var S=I.isNavigationProperty;var N=_.getRequiredPropertiesFromInsertRestrictions;var R=_.getNonComputedVisibleFields;var B=P.isDataFieldForAction;var L=f.generate;var k=g.getResourceModel;var F=l.getInvolvedDataModelObjects;const H=C.CreationMode;const U=C.ProgrammingModel;const j=c.DeleteOptionTypes;const $=c.DeleteDialogContentControl;function V(e){if(e&&e.getMetadata&&e.getMetadata().getName()==="sap.ui.base.Event"){e={}}return e||{}}let W=function(){function l(){}var g=l.prototype;g.busyLock=function e(t,n){a.lock(t.getModel("ui"),n)};g.busyUnlock=function e(t,n){a.unlock(t.getModel("ui"),n)};g.getProgrammingModel=function e(t){let n;if(t.isA("sap.ui.model.odata.v4.Context")){n=t.getPath()}else{n=(t.isRelative()?t.getResolvedPath():t.getPath())??""}const a=t.getModel().getMetaModel();if(u.isDraftSupported(a,n)){return U.Draft}else if(u.isStickySessionSupported(a)){return U.Sticky}else{return U.NonDraft}};g.validateDocument=function e(t,n,a){const o=n&&n.customValidationFunction;if(o){const e=o.substring(0,o.lastIndexOf(".")||-1).replace(/\./gi,"/"),i=o.substring(o.lastIndexOf(".")+1,o.length),r=n.data;delete r["@$ui5.context.isTransient"];return d.validationWrapper(e,i,r,a,t)}return Promise.resolve([])};g.getDataFromDefaultValueFunction=async function e(t){var n,a,o,r;const s=t.getModel();const l=s.getMetaModel();const c=l.getMetaContext(t.getResolvedPath());const d=F(c);const u=(n=d.targetObject.annotations.Common)===null||n===void 0?void 0:n.DefaultValuesFunction;const g=(a=d.targetEntitySet)===null||a===void 0?void 0:(o=a.annotations.Common)===null||o===void 0?void 0:o.DefaultValuesFunction;const f=u??g;if(!f){return undefined}const C=S(d.targetObject)&&u!==undefined;const p=C?t.getContext():t.getHeaderContext();if(!p){return undefined}const h=`${l.getMetaPath(p.getPath())}/${f}`;const m=F(l.getMetaContext(h));const v=(r=m.targetObject)!==null&&r!==void 0&&r.isBound?await i.callBoundFunction(f.toString(),p,s):await i.callFunctionImport(f.toString(),s);return v.getObject()};g.isListBindingHierarchical=function e(t){var n;return(n=t.getAggregation())!==null&&n!==void 0&&n.hierarchyQualifier?true:false};g.createContext=async function e(t,n,a){const o=n??{};if(this.isListBindingHierarchical(t)){var i;if(((i=a.parentContext)===null||i===void 0?void 0:i.isExpanded())===false){await t.expand(a.parentContext)}Object.assign(o,{"@$ui5.node.parent":a.parentContext});return t.create(o,true)}else{return t.create(o,true,a.createAtEnd,a.createInactive)}};g.getCreationParameters=function e(t,n,a){const o=t.getModel().getMetaModel();const i=o.getMetaPath(t.getHeaderContext().getPath());const r=R(o,i,a);return r.filter(e=>!(e in(n??{})))};g.createDocument=async function t(n,a,o,i,r){const s=n.getModel(),l=s.getMetaModel(),c=l.getMetaPath(n.getHeaderContext().getPath()),d=o.getRouterProxy().getHash(),u=o.getComponentData(),g=u&&u.startupParameters||{},f=!n.isRelative()?this._getNewAction(g,d,l,c):undefined;const p={$$patchWithoutSideEffects:true};const h=l.getObject(`${c}/@com.sap.vocabularies.Common.v1.Messages/$Path`);let m="/busy";let v;if(h){p["$select"]=h}const E=V(a);if(!n){throw new Error("Binding required for new document creation")}const b=this.getProgrammingModel(n);if(b!==U.Draft&&b!==U.Sticky){throw new Error("Create document only allowed for draft or sticky session supported services")}if(E.busyMode==="Local"){m=`/busyLocal/${E.busyId}`}E.beforeCreateCallBack=r?null:E.beforeCreateCallBack;if(!(a!==null&&a!==void 0&&a.inactive)){this.busyLock(o,m)}const y=D.getLibraryResourceBundle("sap.fe.core");let A;try{if(f){A=await this.callAction(f,{contexts:n.getHeaderContext(),showActionParameterDialog:true,label:this._getSpecificCreateActionDialogLabel(l,c,f,y),bindingParameters:p,parentControl:E.parentControl,bIsCreateAction:true,skipParameterDialog:E.skipParameterDialog},null,o,i)}else{try{const e=E.data;if(!r){const e=await this.getDataFromDefaultValueFunction(n);E.data=Object.assign({},e,E.data)}if(E.data){delete E.data["@odata.context"]}const t=E.creationMode!==H.CreationRow&&E.creationMode!==H.Inline;const a=t?this.getCreationParameters(n,e,o):[];if(a.length>0){A=await this._launchDialogWithKeyFields(n,a,s,E,o,i);v=A.newContext}else{if(E.beforeCreateCallBack){await O(E.beforeCreateCallBack({contextPath:n&&n.getPath()}))}v=await this.createContext(n,E.data,{createAtEnd:!!E.createAtEnd,createInactive:!!E.inactive,parentContext:E.parentContext});if(!E.inactive){A=await this.onAfterCreateCompletion(n,v,E)}}}catch(t){e.error("Error while creating the new document",t);throw t}}v=v||A;await i.showMessageDialog({control:E.parentControl});return v}catch(e){var M;await i.showMessageDialog({control:E.parentControl});if((e===C.Constants.ActionExecutionFailed||e===C.Constants.CancelActionDialog)&&(M=v)!==null&&M!==void 0&&M.isTransient()){v.delete("$direct")}throw e}finally{if(!(a!==null&&a!==void 0&&a.inactive)){this.busyUnlock(o,m)}}};g._isDraftEnabled=function e(t){const n=t[0];const a=this.getProgrammingModel(n);return a===U.Draft};g.deleteDocument=function e(t,n,a,o,i){this.busyLock(a);const r=Array.isArray(t)?[...t]:[t];return new Promise((e,t)=>{try{const l=this._isDraftEnabled(n.selectedContexts||r);const d=[];let u=[];let g;if(n){if(!n.numberOfSelectedContexts){if(l){const e=r.find(e=>{const t=e.getObject();return t.IsActiveEntity===true&&t.HasDraftEntity===true&&t.DraftAdministrativeData&&t.DraftAdministrativeData.InProcessByUser&&!t.DraftAdministrativeData.DraftIsCreatedByMe});if(e){const n=e.getObject().DraftAdministrativeData.InProcessByUser;m.show(o.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_SINGLE_OBJECT_LOCKED",[n]),{title:o.getText("C_COMMON_DELETE"),onClose:t});return}else{g=r.find(e=>{const{IsActiveEntity:t,HasDraftEntity:n,DraftAdministrativeData:a}=e.getObject()||{};return t===true&&n===true&&!!(a!==null&&a!==void 0&&a.InProcessByUser)})}}n=V(n);let e="";if(g){const t=g.getObject().DraftAdministrativeData.InProcessByUser;e=o.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_CHANGES",[t],n.entitySetName)}else if(n.title){if(n.description){e=o.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO",[n.title,n.description],n.entitySetName)}else{e=o.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_ONLY",[n.title],n.entitySetName)}}else{e=o.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,n.entitySetName)}u.push({type:j.deletableContexts,contexts:r,text:e,selected:true,control:$.TEXT})}else{let e=r.length;if(l){e+=n.draftsWithNonDeletableActive.length+n.draftsWithDeletableActive.length+n.unSavedContexts.length;c.updateDraftOptionsForDeletableTexts(n,r,e,o,d,u)}else{const t=c.getNonDeletableText(n,e,o);if(t){d.push(t)}}const t=c.getOptionsForDeletableTexts(n,r,o);u=[...u,...t]}}const f=(n.selectedContexts??r)[0].getBinding();const C=f.isA("sap.ui.model.odata.v4.ODataListBinding")&&this.isListBindingHierarchical(f);c.updateContentForDeleteDialog(u,d);const p=async()=>{s.removeBoundTransitionMessages();this.busyLock(a);try{await c.deleteConfirmHandler(u,n,i,o,a,l,C);e()}catch(e){t()}finally{this.busyUnlock(a)}};const h=this.createDeleteDialog(d,n,o,p,t);if(n.noDialog){p()}else{h.addStyleClass("sapUiContentPadding");h.open()}}finally{this.busyUnlock(a)}})};g.createDeleteDialog=function e(t,n,a,o,i){var r;let s=false;const l=new y({items:t});const c=D.getLibraryResourceBundle("sap.fe.core");let d;if((r=n.parentControl)!==null&&r!==void 0&&r.isA("sap.ui.mdc.Table")){d=a.getText("M_COMMON_TABLE_DELETE",undefined,n.entitySetName)}else{d=c.getText("C_COMMON_DELETE")}const u=new h({title:d,state:"Warning",content:[l],ariaLabelledBy:t,beginButton:new p({text:d,type:"Emphasized",press:function(){s=true;u.close();o()}}),endButton:new p({text:a.getText("C_COMMON_DIALOG_CANCEL"),press:function(){u.close()}}),afterClose:function(){u.destroy();if(!s){i()}}});return u};g.editDocument=async function e(t,n,a,i,s){const l=this.getProgrammingModel(t);if(!t){throw new Error("Binding context to active document is required")}if(l!==U.Draft&&l!==U.Sticky){throw new Error("Edit is only allowed for draft or sticky session supported services")}this.busyLock(a);i.removeTransitionMessages();try{const e=l===U.Draft?await o.createDraftFromActiveDocument(t,a,{bPreserveChanges:true,oView:n},s):await r.editDocumentInStickySession(t,a);await i.showMessageDialog();return e}catch(e){await i.showMessages({concurrentEditFlag:true});throw e}finally{this.busyUnlock(a)}};g.cancelDocument=async function e(t,n,a,i,s,l,c){if(!t){throw new Error("No context exists. Pass a meaningful context")}this.busyLock(a);const d=V(n);const u=t.getModel();const g=this.getProgrammingModel(t);if(g!==U.Draft&&g!==U.Sticky){throw new Error("Cancel document only allowed for draft or sticky session supported services")}try{let e=false;if(g===U.Draft&&!c){const e=u.bindContext(`${t.getPath()}/DraftAdministrativeData`).getBoundContext();const n=await e.requestObject();if(n){c=n.CreationDateTime!==n.LastChangeDateTime}}if(!d.skipDiscardPopover){await this._confirmDiscard(d.cancelButton,c,i)}if(t.isKeepAlive()){t.setKeepAlive(true,undefined)}if(d.beforeCancelCallBack){await d.beforeCancelCallBack({context:t})}if(g===U.Draft){if(l){if(t.hasPendingChanges()){t.getBinding().resetChanges()}e=await o.deleteDraft(t,a)}else{const n=u.bindContext(`${t.getPath()}/SiblingEntity`).getBoundContext();try{const a=await n.requestCanonicalPath();if(t.hasPendingChanges()){t.getBinding().resetChanges()}e=u.bindContext(a).getBoundContext()}finally{await o.deleteDraft(t,a)}}}else{const n=await r.discardDocument(t);if(n){if(n.hasPendingChanges()){n.getBinding().resetChanges()}if(!l){n.refresh();e=n}}}s.removeTransitionMessages();await s.showMessages();return e}catch(e){await s.showMessages();throw e}finally{this.busyUnlock(a)}};g.saveDocument=async function e(t,a,i,l,c,d,u){const g=this.getProgrammingModel(t);if(g!==U.Sticky&&g!==U.Draft){throw new Error("Save is only allowed for draft or sticky session supported services")}try{this.busyLock(a);const e=g===U.Draft?await o.activateDocument(t,a,{},d):await r.activateDocument(t,a);const n=s.getMessages().concat(s.getMessages(true,true));if(!(n.length===1&&n[0].type===w.MessageType.Success)){v.show(u?i.getText("C_TRANSACTION_HELPER_OBJECT_CREATED"):i.getText("C_TRANSACTION_HELPER_OBJECT_SAVED"))}return e}catch(e){if(l&&(c===null||c===void 0?void 0:c.length)>0){c.forEach(e=>{if(!n.hasTransientContext(e)){a.getSideEffectsService().requestSideEffectsForNavigationProperty(e.getPath(),t)}})}await d.showMessages();throw e}finally{this.busyUnlock(a)}};g.callAction=async function e(t,n,a,o,r,s){n=V(n);let l,c;const d=n.bindingParameters;if(!t){throw new Error("Provide name of action to be executed")}const u=t.split("/")[1];t=u||t;l=u?undefined:n.contexts;if(l&&(Array.isArray(l)&&l.length||!Array.isArray(l))){l=Array.isArray(l)?l[0]:l;c=l.getModel()}if(n.model){c=n.model}if(!c){throw new Error("Pass a context for a bound action or pass the model for an unbound action")}const g=o.getSideEffectsService().getODataActionSideEffects(t,l)||{};try{let e;if(l&&c){e=await i.callBoundAction(t,n.contexts,c,o,{parameterValues:n.parameterValues,invocationGrouping:n.invocationGrouping,label:n.label,skipParameterDialog:n.skipParameterDialog,mBindingParameters:d,entitySetName:n.entitySetName,additionalSideEffect:g,onSubmitted:()=>{r===null||r===void 0?void 0:r.removeTransitionMessages();this.busyLock(o)},onResponse:()=>{this.busyUnlock(o)},parentControl:n.parentControl,controlId:n.controlId,internalModelContext:n.internalModelContext,operationAvailableMap:n.operationAvailableMap,bIsCreateAction:n.bIsCreateAction,bGetBoundContext:n.bGetBoundContext,bObjectPage:n.bObjectPage,messageHandler:r,defaultValuesExtensionFunction:n.defaultValuesExtensionFunction,selectedItems:n.contexts,disableStrictHandling:s,groupId:n.groupId})}else{e=await i.callActionImport(t,c,o,{parameterValues:n.parameterValues,label:n.label,skipParameterDialog:n.skipParameterDialog,bindingParameters:d,entitySetName:n.entitySetName,onSubmitted:()=>{this.busyLock(o)},onResponse:()=>{this.busyUnlock(o)},parentControl:n.parentControl,internalModelContext:n.internalModelContext,operationAvailableMap:n.operationAvailableMap,messageHandler:r,bObjectPage:n.bObjectPage})}if(r){await this._handleActionResponse(r,n,t)}return e}catch(e){if(r){await this._handleActionResponse(r,n,t)}throw e}};g._handleActionResponse=function e(t,n,a){const o=s.getMessages(true,true);const i=n.label?n.label:a;if(o.length>0&&n&&n.internalModelContext){n.internalModelContext.setProperty("sActionName",n.label?n.label:a)}let r;if(n.controlId){r=n.parentControl.byId(n.controlId)}else{r=n.parentControl}return t.showMessages({sActionName:i,control:r})};g.handleValidationError=function e(){const t=D.getMessageManager(),n=t.getMessageModel().getData().filter(function(e){if(e.validation){return e}});t.removeMessages(n)};g._createPopover=function e(t){return new E(t)};g._confirmDiscard=function e(t,n,a){if(!n){this.handleValidationError();return Promise.resolve()}t.setEnabled(false);return new Promise((e,n)=>{const o=this._createPopover({showHeader:false,placement:"Top"});o.addStyleClass("sapUiContentPadding");const i=new b({text:a.getText("C_TRANSACTION_HELPER_DRAFT_DISCARD_MESSAGE")});const r=new p({text:a.getText("C_TRANSACTION_HELPER_DRAFT_DISCARD_BUTTON"),width:"100%",press:()=>{this.handleValidationError();o.data("continueDiscard",true);o.close()}});o.addContent(new y({items:[i,r]}));o.attachBeforeOpen(()=>{o.setInitialFocus(r)});o.attachAfterClose(()=>{t.setEnabled(true);if(o.data("continueDiscard")){e()}else{n()}});o.openBy(t,false)})};g._launchDialogWithKeyFields=function e(o,i,r,s,l,c){let d;const u=s.parentControl;const g=r.bindList(o.getPath(),o.getContext(),[],[],{$$updateGroupId:"submitLater"});g.refreshInternal=function(){};const f=g.create(s.data,true);return new Promise(async(e,p)=>{const m="sap/fe/core/controls/NonComputedVisibleKeyFieldsDialog";const v=M.loadTemplate(m,"fragment"),E=k(u),b=r.getMetaModel(),y=[],w=o.isRelative()?o.getResolvedPath():o.getPath(),P=b.createBindingContext(w),_=b.getMetaPath(w);for(const e in i){y.push(b.createBindingContext(`${_}/${i[e]}`))}const I=new T(y);const S=I.createBindingContext("/");const R=N(_,b);const B=new T(R);const F=B.createBindingContext("/");const H=await x.process(v,{name:m},{bindingContexts:{entitySet:P,fields:S,requiredProperties:F},models:{entitySet:P.getModel(),fields:S.getModel(),metaModel:b,requiredProperties:B}});let U=[];const j={};const $=D.getMessageManager();const V=e=>{const t=$.getMessageModel().getData();const n=t.filter(t=>t.getControlIds().some(t=>t.includes(e)));$.removeMessages(n)};let W;const G={handleChange:async e=>{const t=e.getParameter("id");const n=e.getSource();const a=W.find(e=>e.field===n);V(t);a.validationPromise=e.getParameter("promise");try{a.value=await a.validationPromise;a.hasError=false}catch(e){delete a.value;a.hasError=true}},handleLiveChange:e=>{const t=e.getParameter("id");V(t)}};const q=await A.load({definition:H,controller:G});let K;let J=false;d=new h(L(["CreateDialog",_]),{title:E.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE"),content:[q],beginButton:{text:E.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON"),type:"Emphasized",press:async e=>{if(!await t.validateProperties($,W,E)){return}a.lock(d);s.bIsCreateDialog=true;try{const e=await Promise.all(Object.keys(j).map(async function(e){const t=await j[e];const n={};n[e]=t;return n}));if(s.beforeCreateCallBack){await O(s.beforeCreateCallBack({contextPath:o&&o.getPath(),createParameters:e}))}const t=f.getObject();const n={};Object.keys(t).forEach(function(e){const a=b.getObject(`${_}/${e}`);if(a&&a.$kind==="NavigationProperty"){return}n[e]=t[e]});const a=await this.createContext(o,n,{createAtEnd:!!s.createAtEnd,createInactive:!!s.inactive,parentContext:s.parentContext});const i=this.onAfterCreateCompletion(o,a,s);let r=await i;if(!r||r&&r.bKeepDialogOpen!==true){r=r??{};d.setBindingContext(null);r.newContext=a;J=true;K={response:r};d.close()}}catch(e){if(e!==C.Constants.CreationFailed){K={error:e};d.close()}}finally{a.unlock(d);c.showMessages()}}},endButton:{text:E.getText("C_COMMON_ACTION_PARAMETER_DIALOG_CANCEL"),press:function(){K={error:C.Constants.CancelActionDialog};d.close()}},beforeClose:function(){var t;for(const e of W){const t=e.field.getId();V(t)}(t=d.getBindingContext("internal"))===null||t===void 0?void 0:t.setProperty("isCreateDialogOpen",false);d.destroy();g.destroy();if(J){e(K.response)}else{var n;p(((n=K)===null||n===void 0?void 0:n.error)??C.Constants.CancelActionDialog)}}});U=q===null||q===void 0?void 0:q.getAggregation("form").getAggregation("formContainers")[0].getAggregation("formElements");if(u&&u.addDependent){u.addDependent(d)}d.setBindingContext(f);try{await n.setUserDefaults(l,y,f,false,s.createAction,s.data);W=U.map(e=>{const t=e.getFields()[0];const n=t.isA("sap.ui.mdc.MultiValueField");return{parameter:e,isMultiValue:n,field:t,value:n?t.getItems():t.getValue(),validationPromise:undefined,hasError:false}});d.getBindingContext("internal").setProperty("isCreateDialogOpen",true);d.open()}catch(e){await c.showMessages();throw e}})};g.onAfterCreateCompletion=function t(n,a,o){let i;const r=new Promise(e=>{i=e});const s=e=>{const t=e.getParameter("context"),o=e.getParameter("success");if(t===a){n.detachCreateCompleted(s,this);i(o)}};const l=()=>{a.created().then(undefined,function(){e.trace("transient creation context deleted")}).catch(function(t){e.trace("transient creation context deletion error",t)})};n.attachCreateCompleted(s,this);return r.then(e=>{if(!e){if(!o.keepTransientContextOnFailed){l();n.resetChanges();n.getModel().resetChanges(n.getUpdateGroupId());throw C.Constants.CreationFailed}return{bKeepDialogOpen:true}}else{return a.created()}})};g._getNewAction=function e(t,n,a,o){let i;if(t&&t.preferredMode&&n.toUpperCase().includes("I-ACTION=CREATEWITH")){const e=t.preferredMode[0];i=e.toUpperCase().indexOf("CREATEWITH:")>-1?e.substr(e.lastIndexOf(":")+1):undefined}else if(t&&t.preferredMode&&n.toUpperCase().includes("I-ACTION=AUTOCREATEWITH")){const e=t.preferredMode[0];i=e.toUpperCase().indexOf("AUTOCREATEWITH:")>-1?e.substr(e.lastIndexOf(":")+1):undefined}else{i=a&&a.getObject!==undefined?a.getObject(`${o}@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction`)||a.getObject(`${o}@com.sap.vocabularies.Common.v1.DraftRoot/NewAction`):undefined}return i};g._getSpecificCreateActionDialogLabel=function e(t,n,a,o){var i;const r=t===null||t===void 0?void 0:t.getObject(`${n}/@com.sap.vocabularies.UI.v1.LineItem`);const s=r===null||r===void 0?void 0:(i=r.find(e=>B(e)&&e.Action.split("(",1)[0]===a))===null||i===void 0?void 0:i.Label;return s||(t===null||t===void 0?void 0:t.getObject(`${n}/${a}@com.sap.vocabularies.Common.v1.Label`))||(o===null||o===void 0?void 0:o.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE"))};return l}();const G=new W;return G},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/draft", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/ResourceModelHelper","sap/m/Button","sap/m/Dialog","sap/m/MessageBox","sap/m/Text","sap/ui/core/Core","../../helpers/ModelHelper","../../operationsHelper","./draftDataLossPopup"],function(e,t,n,o,r,i,a,s,c,u,d,l,f){"use strict";var g=r.getResourceModel;var h=o.getInvolvedDataModelObjects;const E={EDIT:"EditAction",ACTIVATION:"ActivationAction",DISCARD:"DiscardAction",PREPARE:"PreparationAction"};function P(e,t){const n=e.getModel(),o=n.getMetaModel(),r=o.getMetaPath(e.getPath());return o.getObject(`${r}@com.sap.vocabularies.Common.v1.DraftRoot/${t}`)}function p(e,t,n){const o=P(e,t);return e.getModel().bindContext(`${o}(...)`,e,n)}function m(e,t){const n=e.getModel(),o=n.getMetaModel(),r=o.getMetaPath(e.getPath());return o.getObject(`${r}@com.sap.vocabularies.Common.v1.DraftRoot/${t}/$ReturnType`)}function A(e){return!!P(e,E.PREPARE)}async function v(e,t,n,o,r){if(e.getProperty("IsActiveEntity")){const i={$$inheritExpandSelect:true};const a=R.createOperation(e,E.EDIT,i);a.setParameter("PreserveChanges",t);const s=g(n);const c=s.getText("C_COMMON_OBJECT_PAGE_EDIT");const u=a.execute(o,undefined,l.fnOnStrictHandlingFailed.bind(R,o,{label:c,model:e.getModel()},s,null,null,null,undefined,undefined),e.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding"));if(r){a.getModel().submitBatch(o)}return u}else{throw new Error("You cannot edit this draft document")}}async function D(t,n,o){if(R.getMessagesPath(t)&&R.hasPrepareAction(t)){try{if(!o){await t.getBinding().requestObject("")}const e=await R.executeDraftPreparationAction(t,t.getUpdateGroupId(),true,o);if(e&&!m(t,E.PREPARE)){b(t,n.getSideEffectsService())}return e}catch(t){e.error("Error while requesting messages",t)}}return undefined}async function C(t,n,o){const r=A(t);const i=r;if(!t.getProperty("IsActiveEntity")){const a=p(t,E.ACTIVATION,{$$inheritExpandSelect:true});const s=g(n);const c=s.getText("C_OP_OBJECT_PAGE_SAVE");try{return await a.execute(o,i,o?l.fnOnStrictHandlingFailed.bind(R,o,{label:c,model:t.getModel()},s,null,null,null,undefined,undefined):undefined,t.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding"))}catch(o){if(r){const o=P(t,E.PREPARE),r=n.getSideEffectsService(),i=r.getODataActionSideEffects(o,t),a=i&&i.pathExpressions;if(a&&a.length>0){try{await r.requestSideEffects(a,t)}catch(t){e.error("Error while requesting side effects",t)}}else{try{await b(t,r)}catch(t){e.error("Error while requesting messages",t)}}}throw o}}else{throw new Error("The activation action cannot be executed on an active document")}}function w(e){const t=e.getModel().getMetaModel();const n=t.getMetaPath(e.getPath());const o=m(e,E.PREPARE);return o?t.getObject(`${n}/@${"com.sap.vocabularies.Common.v1.Messages"}/$Path`):null}function M(t,n,o,r){if(!t.getProperty("IsActiveEntity")){const i=o?w(t):null;const a=p(t,E.PREPARE,i?{$select:i}:null);a.setParameter("SideEffectsQualifier","");const s=n||a.getGroupId();return a.execute(s,r).then(function(){return a}).catch(function(t){e.error("Error while executing the operation",t)})}else{throw new Error("The preparation action cannot be executed on an active document")}}function x(e){const t=e.getModel(),n=t.getMetaModel(),o=n.getMetaPath(e.getPath());return n.getObject(`${o}/@com.sap.vocabularies.Common.v1.Messages/$Path`)}function b(e,t){const n=R.getMessagesPath(e);if(n){return t.requestSideEffects([n],e)}return Promise.resolve()}async function y(e,t,n){if(!e.getProperty("IsActiveEntity")){const o=R.createOperation(e,E.DISCARD);const r=t&&g(t);const i="direct";const a=(r===null||r===void 0?void 0:r.getText("C_TRANSACTION_HELPER_DRAFT_DISCARD_BUTTON"))||"";const s=!n?o.execute(i):o.execute(i,undefined,l.fnOnStrictHandlingFailed.bind(R,i,{label:a,model:e.getModel()},r,null,null,null,undefined,undefined),false);e.getModel().submitBatch(i);return s}else{throw new Error("The discard action cannot be executed on an active document")}}async function T(t,n,o,r){if(!n.getPath().startsWith(t.getPath())){e.error("Cannot compute rightmost sibling context");throw new Error("Cannot compute rightmost sibling context")}if(n.getProperty("IsActiveEntity")===false&&n.getProperty("HasActiveEntity")===false){return undefined}const i=t.getModel();try{const e=n.getPath().replace(t.getPath(),"");const c=e?e.substring(1).split("/"):[];c.unshift(t.getPath().substring(1));const u=[];const d=[];let l="";const f=[...c];if(o!==null&&o!==void 0&&o.rootSiblingPathPromise){var a;f.shift();l="/"+(t===null||t===void 0?void 0:(a=t.getPath())===null||a===void 0?void 0:a.substring(1))}const g=f.map(e=>{l+=`/${e}`;u.unshift(l);if(l.endsWith(")")){const e=i.bindContext(`${l}/SiblingEntity`,undefined,r?{$$groupId:r}:undefined).getBoundContext();return e.requestCanonicalPath()}else{return Promise.resolve(undefined)}});const h=await Promise.all(g);if(o!==null&&o!==void 0&&o.rootSiblingPathPromise){var s;const e=(s=await o.rootSiblingPathPromise)===null||s===void 0?void 0:s.getPath();h.unshift(e);u.push(t.getPath())}let E="";h.forEach((e,t)=>{if(t!==0){if(c[t].endsWith(")")){const n=c[t].replace(/\(.*$/,"");const o=e.replace(/.*\(/,"(");E+=`/${n}${o}`}else{E+=`/${c[t]}`}}else{E=e}d.unshift(E)});return{targetContext:i.bindContext(E,undefined,{$$groupId:"$auto.Heroes"}).getBoundContext(),pathMapping:u.map((e,t)=>({oldPath:e,newPath:d[t]}))}}catch(e){return undefined}}async function O(e,o,r,i){const a=r||{},c=typeof a.bPreserveChanges==="undefined"||typeof a.bPreserveChanges==="boolean"&&a.bPreserveChanges;async function u(t){const o=e.getModel();const a=o.bindContext(`${e.getPath()}/DraftAdministrativeData`).getBoundContext();const c=g(r.oView);const u=await a.requestObject();if(u){n.removeUnboundTransitionMessages();let t=u.InProcessByUserDescription||u.InProcessByUser;const o=r.oView.getViewData().entitySet;if(t){const e=c.getText("C_DRAFT_OBJECT_PAGE_DRAFT_LOCKED_BY_USER",t,o);s.error(e);throw new Error(e)}else{t=u.CreatedByUserDescription||u.CreatedByUser;const n=c.getText("C_DRAFT_OBJECT_PAGE_DRAFT_UNSAVED_CHANGES",t,o);await R.showEditConfirmationMessageBox(n,e);return R.executeDraftEditAction(e,false,r.oView,i,true)}}else if(t!==null&&t!==void 0&&t.message){s.error(t.message)}throw new Error(`Draft creation aborted for document: ${e.getPath()}`)}if(!e){throw new Error("Binding context to active document is required")}let d;try{d=await R.executeDraftEditAction(e,c,r.oView,i)}catch(o){if(o.status===409||o.status===423){n.removeBoundTransitionMessages();n.removeUnboundTransitionMessages();const r=await R.computeSiblingInformation(e,e);if(r!==null&&r!==void 0&&r.targetContext){await t.waitForContextRequested(r.targetContext);return r.targetContext}else{d=await u(o)}}else if(!(o&&o.canceled)){throw new Error(o)}}if(d){var l;const e=R.getActionName(d,E.EDIT);const t=o.getSideEffectsService().getODataActionSideEffects(e,d);if(t!==null&&t!==void 0&&(l=t.triggerActions)!==null&&l!==void 0&&l.length){await o.getSideEffectsService().requestSideEffectsForODataAction(t,d);return d}else{return d}}else{return undefined}}async function S(e,t,n,o){const r=n||{};if(!e){throw new Error("Binding context to draft document is required")}const i=r.fnBeforeActivateDocument?await r.fnBeforeActivateDocument(e):true;if(!i){throw new Error(`Activation of the document was aborted by extension for document: ${e.getPath()}`)}let a;if(!A(e)){a=await C(e,t)}else{const n="$auto";const r=e.getModel().hasPendingChanges("$auto")?true:false;let i=R.executeDraftPreparationAction(e,n,undefined,r);e.getModel().submitBatch(n);const s=R.executeDraftActivationAction(e,t,n);try{const e=await Promise.all([i,s]);a=e[1]}catch(t){const r=w(e);if(r){i=R.executeDraftPreparationAction(e,n,true);e.getModel().submitBatch(n);await i;const t=await e.requestObject();if(t[r].length>0){o===null||o===void 0?void 0:o.removeTransitionMessages(false,false,e.getPath())}}throw t}}return r.fnAfterActivateDocument?r.fnAfterActivateDocument(e,a):a}function _(e,t){const n=u.getLibraryResourceBundle("sap.fe.core");return new Promise(function(o,r){const s=new a({title:n.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_WARNING"),state:"Warning",content:new c({text:e}),beginButton:new i({text:n.getText("C_COMMON_OBJECT_PAGE_EDIT"),type:"Emphasized",press:function(){s.close();o(true)}}),endButton:new i({text:n.getText("C_COMMON_OBJECT_PAGE_CANCEL"),press:function(){s.close();r(`Draft creation aborted for document: ${t.getPath()}`)}}),afterClose:function(){s.destroy()}});s.addStyleClass("sapUiContentPadding");s.open()})}function B(e,t,n){const o=P(e,E.DISCARD),r=e.getObject().IsActiveEntity;if(r||!r&&!o){if(e.hasPendingChanges()){return e.getBinding().resetChanges().then(function(){return e.delete()}).catch(function(e){return Promise.reject(e)})}else{var i;return!e.getProperty("IsActiveEntity")&&e.getProperty("HasActiveEntity")&&d.isDraftRoot((i=h(e.getModel().getMetaModel().getMetaContext(e.getPath())))===null||i===void 0?void 0:i.targetEntitySet)?e.getModel().delete(e):e.delete()}}else{return y(e,t,n)}}const R={createDraftFromActiveDocument:O,activateDocument:S,deleteDraft:B,executeDraftEditAction:v,executeDraftValidation:D,executeDraftPreparationAction:M,executeDraftActivationAction:C,hasPrepareAction:A,getMessagesPath:x,computeSiblingInformation:T,processDataLossOrDraftDiscardConfirmation:f.processDataLossOrDraftDiscardConfirmation,silentlyKeepDraftOnForwardNavigation:f.silentlyKeepDraftOnForwardNavigation,createOperation:p,executeDraftDiscardAction:y,NavigationType:f.NavigationType,getActionName:P,showEditConfirmationMessageBox:_};return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/draftDataLossPopup", ["sap/base/Log","sap/fe/core/controllerextensions/collaboration/ActivitySync","sap/fe/core/helpers/EditState","../../controls/DataLossOrDraftDiscard/DraftDataLossDialog.block"],function(e,t,a,n){"use strict";var i;(function(e){e["BackNavigation"]="BackNavigation";e["ForwardNavigation"]="ForwardNavigation"})(i||(i={}));var o;(function(e){e["Save"]="draftDataLossOptionSave";e["Keep"]="draftDataLossOptionKeep";e["Discard"]="draftDataLossOptionDiscard"})(o||(o={}));const r=new n({});function c(e){var t,a;let n=false;const i=e.getAppComponent().getManifest();n=(i===null||i===void 0?void 0:(t=i["sap.fe"])===null||t===void 0?void 0:(a=t.app)===null||a===void 0?void 0:a.silentlyKeepDraftOnForwardNavigation)||false;return n}async function s(e,t,a,n,i){if(e.CreationDateTime!==e.LastChangeDateTime){return r.open(a).then(e=>w.handleDialogSelection(e,n,t,a,i))}else{n()}}async function l(t,n,o,c,s,l,d){if(a.isEditStateDirty()){if(t.CreationDateTime===t.LastChangeDateTime&&s===i.BackNavigation){try{await w.discardDraft(o,d);c()}catch(t){e.error("Error while canceling the document",t)}}else if(s===i.ForwardNavigation&&l){c()}else{return r.open(o).then(e=>w.handleDialogSelection(e,c,n,o,d))}}else{c()}}async function d(t,a,n,o){if(o===i.BackNavigation){const i={skipDiscardPopover:true};try{await t.editFlow.cancelDocument(a,i);n()}catch(t){e.error("Error while canceling the document",t)}}else{n()}}async function f(e,t,a,n,o,c){if(n===i.ForwardNavigation&&o){a()}else{return r.open(e).then(n=>w.handleDialogSelection(n,a,t,e,c))}}async function g(e,n,o,r,g,u){let D=arguments.length>6&&arguments[6]!==undefined?arguments[6]:i.BackNavigation;const p=t.isConnected(g.getView());const v=!p?n:function(){t.disconnect(g.getView());for(var e=arguments.length,a=new Array(e),i=0;i<e;i++){a[i]=arguments[i]}n.apply(null,...a)};const w=c(g);if(e){if(g.getAppComponent().getRootViewController().isFclEnabled()){await s(e,o,g,v,u)}else if(!r.getObject().HasActiveEntity){l(e,o,g,v,D,w,u)}else if(e.CreationDateTime===e.LastChangeDateTime){d(g,r,v,D)}else if(a.isEditStateDirty()){f(g,o,v,D,w,u)}else{v()}}else{n()}}async function u(t,a,n,o,r){let c=arguments.length>5&&arguments[5]!==undefined?arguments[5]:i.BackNavigation;const s=o.getView();const l=n.getModel();const d=l.getMetaModel();const f=s.getViewData().entitySet??"";const u=f&&d.getObject("/"+f+"@com.sap.vocabularies.Common.v1.DraftRoot");const D=s.getModel("ui");const p=D.getProperty("/isEditable");const v=l.bindContext(`${n.getPath()}/DraftAdministrativeData`).getBoundContext();if(n&&(n.isDeleted()||n.getObject())&&(!u&&c===i.BackNavigation||!p)){t()}else{try{const e=await v.requestObject();await g(e,t,a,n,o,r,c)}catch(t){e.error("Cannot retrieve draftDataContext information",t)}}}async function D(e){const t=e.getView().getBindingContext();if(e.isA("sap.fe.templates.ObjectPage.ObjectPageController")){return e._saveDocument(t)}else{return e.editFlow.saveDocument(t,{})}}async function p(e,t){const a=e.getView().getBindingContext();const n={skipBackNavigation:true,skipDiscardPopover:true,skipBindingToView:t!==undefined?t:true};return e.editFlow.cancelDocument(a,n)}function v(t,a,n,i,c){switch(t){case o.Save:w.saveDocument(i).then(e=>a(e)).catch(function(t){if(t==="Cancel"){return n()}e.error("Error while saving document",t)});r.close();break;case o.Keep:a(i.getView().getBindingContext());r.close();break;case o.Discard:w.discardDraft(i,c).then(e=>a(e)).catch(function(t){e.error("Error while discarding draft",t)});r.close();break;default:n();r.close()}}const w={processDataLossOrDraftDiscardConfirmation:u,silentlyKeepDraftOnForwardNavigation:c,NavigationType:i,processFclMode:s,processNoActiveEntityMode:l,processEditingDraftForExistingEntity:d,processEditStateDirty:f,handleDialogSelection:v,saveDocument:D,discardDraft:p};return w},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations", ["./operations/facade"],function(e){"use strict";return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations/_internal", ["sap/ui/core/message/Message"],function(e){"use strict";var t={};async function a(t,a){t.addMessages(a.map(t=>{const a=t.actionParameterInfo.field.getBinding(t.actionParameterInfo.isMultiValue?"items":"value");return new e({message:t.message,type:"Error",processor:a===null||a===void 0?void 0:a.getModel(),persistent:true,target:a===null||a===void 0?void 0:a.getResolvedPath()})}))}t._addMessageForActionParameter=a;async function r(e,t,r){await Promise.allSettled(t.map(e=>e.validationPromise));const i=t.filter(e=>e.field.getRequired());const n=i.filter(e=>{if(e.isMultiValue){return e.value===undefined||!e.value.length}else{const t=e.field.getValue();return t===undefined||t===null||t===""}});a(e,n.map(e=>{var t;return{actionParameterInfo:e,message:r.getText("C_OPERATIONS_ACTION_PARAMETER_DIALOG_MISSING_MANDATORY_MSG",[((t=e.field.getParent())===null||t===void 0?void 0:t.getAggregation("label")).getText()])}}));const s=t.find(e=>e.hasError||e.field.getValueState()==="Error"||n.includes(e));if(s){s.field.focus();return false}else{return true}}t._validateProperties=r;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/operations/facade", ["sap/base/Log","sap/fe/core/ActionRuntime","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/helpers/FPMHelper","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/library","sap/m/Button","sap/m/Dialog","sap/m/MessageBox","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/XMLTemplateProcessor","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/core/util/XMLPreprocessor","sap/ui/model/json/JSONModel","../../../operationsHelper","./_internal"],function(e,t,n,i,o,s,a,r,l,c,d,u,g,f,p,m,h,M,E,v,P){"use strict";var C=P._validateProperties;var x=P._addMessageForActionParameter;var b=m.MessageType;var A=r.generate;var O=a.getResourceModel;const S=l.Constants,y=l.InvocationGrouping;const $=u.Action;function T(e,n,i,o,s,a){if(!a){a={is412Executed:false,strictHandlingTransitionFails:[],strictHandlingPromises:[],strictHandlingWarningMessages:[],delaySuccessMessages:[],processedMessageIds:[]}}if(!n||n.length===0){return Promise.reject("Bound actions always requires at least one context")}const r=Array.isArray(n);s.aContexts=r?n:[n];const l=i.getMetaModel(),c=`${l.getMetaPath(s.aContexts[0].getPath())}/${e}`,d=l.createBindingContext(`${c}/@$ui5.overload/0`);s.isCriticalAction=t.getIsActionCritical(l,c,s.aContexts);const u=function(e){if(e[0].status==="fulfilled"){return e[0].value}else{throw e[0].reason||e}};return B(e,i,d,o,s,a).then(e=>{if(r){return e}else{return u(e)}},e=>{if(r){throw e}else{return u(e)}})}function _(e,n,i,o,s){if(!n){return Promise.reject("Action expects a model/context for execution")}const a=n.getMetaModel(),r=n.bindContext(`/${e}`).getPath(),l=a.createBindingContext(`/${a.createBindingContext(r).getObject("$Action")}/0`);o.isCriticalAction=t.getIsActionCritical(a,`${r}/@$ui5.overload`);return B(e,n,l,i,o,s)}function w(e,t,n){if(!t){return Promise.reject("Bound functions always requires a context")}const i=n.getMetaModel(),o=`${i.getMetaPath(t.getPath())}/${e}`,s=i.createBindingContext(o);return I(e,n,s,t)}function N(e,t){if(!e){return Promise.resolve()}const n=t.getMetaModel(),i=t.bindContext(`/${e}`).getPath(),o=n.createBindingContext(`/${n.createBindingContext(i).getObject("$Function")}/0`);return I(e,t,o)}function I(e,t,n,i){let o;if(!n||!n.getObject()){return Promise.reject(new Error(`Function ${e} not found`))}if(i){n=t.bindContext(`${i.getPath()}/${e}(...)`);o="functionGroup"}else{n=t.bindContext(`/${e}(...)`);o="functionImport"}const s=n.execute(o);t.submitBatch(o);return s.then(function(){return n.getBoundContext()})}function B(e,t,n,i,o,s){if(!s){s={is412Executed:false,strictHandlingTransitionFails:[],strictHandlingPromises:[],strictHandlingWarningMessages:[],delaySuccessMessages:[],processedMessageIds:[]}}o.bGrouped=o.invocationGrouping===y.ChangeSet;return new Promise(async function(a,r){let l={};let c;let d;const u=o.label;const f=o.skipParameterDialog;const p=o.aContexts;const m=o.bIsCreateAction;const h=o.isCriticalAction;let M;let E;let v;let P;let C;let x;let b;const A=n.getObject();if(!n||!n.getObject()){return r(new Error(`Action ${e} not found`))}const O=j(n);const S=O.length>0&&!(O.length===1&&O[0].$Name==="ResultIsActiveEntity");const $=o.parameterValues;const T=i.getComponentData();const _=T&&T.startupParameters||{};if(S&&f){b=K(m,O,$,_)}c=null;if(S){if(!(f&&b)){c=F}}else if(h){c=H}l={fnOnSubmitted:o.onSubmitted,fnOnResponse:o.onResponse,actionName:e,model:t,aActionParameters:O,bGetBoundContext:o.bGetBoundContext,defaultValuesExtensionFunction:o.defaultValuesExtensionFunction,label:o.label,selectedItems:o.selectedItems};if(n.getObject("$IsBound")){var w,N;if(((w=o.additionalSideEffect)===null||w===void 0?void 0:(N=w.pathExpressions)===null||N===void 0?void 0:N.length)>0){M=t.getMetaModel();E=M.getMetaPath(p[0].getPath());v=M.getObject(`${E}/@com.sap.vocabularies.Common.v1.Messages/$Path`);if(v){P=o.additionalSideEffect.pathExpressions.findIndex(function(e){return typeof e==="string"&&e===v});x=n.getObject("$ReturnType");C=x&&!x.$isCollection&&n.getModel().getObject(E).$Type===x.$Type;if(P>-1||C){o.mBindingParameters=o.mBindingParameters||{};if(n.getObject(`$ReturnType/$Type/${v}`)&&(!o.mBindingParameters.$select||o.mBindingParameters.$select.split(",").indexOf(v)===-1)){o.mBindingParameters.$select=o.mBindingParameters.$select?`${o.mBindingParameters.$select},${v}`:v;if(P===-1){o.additionalSideEffect.pathExpressions.push("*")}if(o.additionalSideEffect.triggerActions.length===0&&P>-1){o.additionalSideEffect.pathExpressions.splice(P,1)}}}}}l.aContexts=p;l.mBindingParameters=o.mBindingParameters;l.additionalSideEffect=o.additionalSideEffect;l.bGrouped=o.invocationGrouping===y.ChangeSet;l.internalModelContext=o.internalModelContext;l.operationAvailableMap=o.operationAvailableMap;l.isCreateAction=m;l.bObjectPage=o.bObjectPage;l.disableStrictHandling=o.disableStrictHandling;l.groupId=o.groupId;if(o.controlId){l.control=o.parentControl.byId(o.controlId);o.control=l.control}else{l.control=o.parentControl;o.control=o.parentControl}}if(m){l.bIsCreateAction=m}const I=(A.$Parameter||[]).some(e=>(A.$EntitySetPath&&A.$EntitySetPath===e.$Name||A.$IsBound)&&e.$isCollection);l.isStatic=I;if(c){d=c(e,i,u,l,O,$,n,o.parentControl,o.entitySetName,o.messageHandler,s);return d.then(function(e){R(o,l,A);a(e)}).catch(function(e){r(e)})}else{if($){for(const e in l.aActionParameters){var B;l.aActionParameters[e].value=$===null||$===void 0?void 0:(B=$.find(t=>t.name===l.aActionParameters[e].$Name))===null||B===void 0?void 0:B.value}}else{for(const e in l.aActionParameters){var D;l.aActionParameters[e].value=(D=_[l.aActionParameters[e].$Name])===null||D===void 0?void 0:D[0]}}let e;try{e=await U(i,l,o.parentControl,o.messageHandler,s);const t=g.getMessageManager().getMessageModel().getData();if(s&&s.is412Executed&&s.strictHandlingTransitionFails.length){s.delaySuccessMessages=s.delaySuccessMessages.concat(t)}z.afterActionResolution(o,l,A);a(e)}catch{r(e)}finally{var L,V;if(s&&s.is412Executed&&s.strictHandlingTransitionFails.length&&o.aContexts.length>1){try{const e=s.strictHandlingTransitionFails;const t=[];e.forEach(function(e){t.push(e.oAction.getContext())});l.aContexts=t;const n=await U(i,l,o.parentControl,o.messageHandler,s);s.strictHandlingTransitionFails=[];g.getMessageManager().addMessages(s.delaySuccessMessages);R(o,l,A);a(n)}catch(e){r(e)}}let e=false;if(o.bGrouped&&s&&s.strictHandlingPromises.length||q(o.bGrouped)){e=true}o===null||o===void 0?void 0:(L=o.messageHandler)===null||L===void 0?void 0:L.showMessageDialog({control:(V=l)===null||V===void 0?void 0:V.control,onBeforeShowMessage:function(t,n){return G(o,p,undefined,t,n,e)},aSelectedContexts:o.aContexts,sActionName:u});if(s){s={is412Executed:false,strictHandlingTransitionFails:[],strictHandlingPromises:[],strictHandlingWarningMessages:[],delaySuccessMessages:[],processedMessageIds:[]}}}}})}function H(e,t,n,i,o,s,a,r,l,c){return new Promise((n,o)=>{let s=e?e:null;s=s.indexOf(".")>=0?s.split(".")[s.split(".").length-1]:s;const a=s&&l?`${l}|${s}`:"";const d=O(r);const g=d.getText("C_OPERATIONS_ACTION_CONFIRM_MESSAGE",undefined,a);u.confirm(g,{onClose:async function(e){if(e===$.OK){try{const e=await U(t,i,r,c);n(e)}catch(e){try{await c.showMessageDialog();o(e)}catch(t){o(e)}}}else{n(S.CancelActionDialog)}}})})}async function D(e,t,n,i,o,s,a,r){var l;const c=await U(e,t,n,i,r);if((l=t.aContexts)!==null&&l!==void 0&&l.length){if(c!==null&&c!==void 0&&c.some(e=>e.status==="rejected")){throw c}}const d=g.getMessageManager().getMessageModel().getData();if(r&&r.is412Executed&&r.strictHandlingTransitionFails.length){if(!a){r.delaySuccessMessages=r.delaySuccessMessages.concat(d)}else{g.getMessageManager().addMessages(r.delaySuccessMessages);let e=false;if(t.bGrouped&&r.strictHandlingPromises.length||q(t.bGrouped)){e=true}if(d.length){s.attachEventOnce("afterClose",function(){i.showMessageDialog({onBeforeShowMessage:function(n,i){return G(t,o,s,n,i,e)},control:t.control,aSelectedContexts:t.aContexts,sActionName:t.label})})}}}else if(d.length){let e=false;if(t.bGrouped&&r&&r.strictHandlingPromises.length||q(t.bGrouped)){e=true}s.attachEventOnce("afterClose",function(){i.showMessageDialog({isActionParameterDialogOpen:t===null||t===void 0?void 0:t.oDialog.isOpen(),onBeforeShowMessage:function(n,i){return G(t,o,s,n,i,e)},control:t.control,aSelectedContexts:t.aContexts,sActionName:t.label})})}return c}function R(e,n,i){if(n.internalModelContext&&n.operationAvailableMap&&n.aContexts&&n.aContexts.length&&i.$IsBound){const i=n.isStatic;if(!i){t.setActionEnablement(n.internalModelContext,JSON.parse(n.operationAvailableMap),e.selectedItems,"table")}else if(n.control){const e=n.control;if(e.isA("sap.ui.mdc.Table")){const i=e.getSelectedContexts();t.setActionEnablement(n.internalModelContext,JSON.parse(n.operationAvailableMap),i,"table")}}}}function G(e,t,n,i,s,a){let r=s.showMessageBox,l=s.showMessageDialog;const c=e.control;const d=g.getLibraryResourceBundle("sap.fe.core");const u=i.filter(function(e){var t;return((t=e.getTargets())===null||t===void 0?void 0:t[0])===""});const f=i.filter(function(t){var n,i;return t.getTargets&&((n=t.getTargets())===null||n===void 0?void 0:n[0].indexOf(e.actionName))!==-1&&(e===null||e===void 0?void 0:(i=e.aActionParameters)===null||i===void 0?void 0:i.some(function(e){var n;return((n=t.getTargets())===null||n===void 0?void 0:n[0].indexOf(e.$Name))!==-1}))});f===null||f===void 0?void 0:f.forEach(function(e){e.isAPDTarget=true});const p=f.length?true:false;let m=false;if(a&&!p){var M;m=true;let t=d.getText("C_COMMON_DIALOG_CANCEL_ERROR_MESSAGES_TEXT");let n=d.getText("C_COMMON_DIALOG_CANCEL_ERROR_MESSAGES_DETAIL_TEXT");const s=g.getMessageManager().getMessageModel();const a=s.getData();const u=o.getMessages(true);let f;const p=c&&c.getModel("ui").getProperty("/isEditable");const E=i.findIndex(function(e){return e.getType()==="Error"||e.getType()==="Warning"});const v=a.findIndex(function(e){return e.getType()==="Error"||e.getType()==="Warning"});if(E!==1&&v!==-1&&(e===null||e===void 0?void 0:(M=e.aContexts)===null||M===void 0?void 0:M.length)>1){if(a.length===1&&u.length===1){if(p===false){a[0].setMessage(d.getText("C_COMMON_DIALOG_CANCEL_SINGLE_ERROR_MESSAGE_TEXT")+"\n\n"+a[0].getMessage())}else{t=p?d.getText("C_COMMON_DIALOG_CANCEL_SINGLE_ERROR_MESSAGE_TEXT_EDIT"):d.getText("C_COMMON_DIALOG_CANCEL_SINGLE_ERROR_MESSAGE_TEXT");n="";f=new h({message:t,type:b.Error,target:"",persistent:true,description:n,code:"FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED"});i.unshift(f);if(i.length===1){r=true;l=false}else{l=true;r=false}}}else{f=new h({message:t,type:b.Error,target:"",persistent:true,description:n,code:"FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED"});i.unshift(f);if(i.length===1){r=true;l=false}else{l=true;r=false}}}}if(n&&n.isOpen()&&t.length!==0&&!e.isStatic){if(!e.bGrouped){if(t.length>1||!p){n.close();n.destroy()}}else if(!p){n.close();n.destroy()}}let E=[];const v=n&&n.isOpen();if(!m){var P,C;if(i.length===1&&i[0].getTargets&&((P=i[0].getTargets())===null||P===void 0?void 0:P[0])!==undefined&&((C=i[0].getTargets())===null||C===void 0?void 0:C[0])!==""){if(c&&c.getModel("ui").getProperty("/isEditable")===false||!c){r=!p;l=false}else if(c&&c.getModel("ui").getProperty("/isEditable")===true){r=false;l=false}}else if(c){if(c.getModel("ui").getProperty("/isEditable")===false){if(v&&p){l=false}}else if(c.getModel("ui").getProperty("/isEditable")===true){if(!v&&p){l=true;E=u.concat(f)}else if(!v&&u.length===0){l=false}}}}return{showMessageBox:r,showMessageDialog:l,filteredMessages:E.length?E:i,fnGetMessageSubtitle:c&&c.isA("sap.ui.mdc.Table")&&o.setMessageSubtitle.bind({},c,t),showChangeSetErrorDialog:e.bGrouped}}function F(t,o,a,r,l,m,h,v,P,b,y){const $=X(h,t),T=h.getModel().oModel.getMetaModel(),_=T.createBindingContext($),N=h.getObject("$IsBound")?h.getPath().split("/@$ui5.overload/0")[0]:h.getPath().split("/0")[0],I=T.createBindingContext(N),B=r.isCreateAction,H="sap/fe/core/controls/ActionParameterDialog";return new Promise(async function($,T){let N;const R=g.getMessageManager();const F=e=>{const t=R.getMessageModel().getData();const n=A(["APD_",e.$Name]);const i=t.filter(e=>e.getControlIds().some(e=>n.split("-").includes(e)));R.removeMessages(i)};const j={handleChange:async function(e){const t=e.getSource();const n=N.find(e=>e.field===t);F(n.parameter);n.validationPromise=e.getParameter("promise");try{n.value=await n.validationPromise;n.hasError=false}catch(e){delete n.value;n.hasError=true;x(R,[{actionParameterInfo:n,message:e.message}])}}};const V=p.loadTemplate(H,"fragment");const k=new E({$displayMode:{}});try{const p=await M.process(V,{name:H},{bindingContexts:{action:h,actionName:I,entitySet:_},models:{action:h.getModel(),actionName:I.getModel(),entitySet:_.getModel(),metaModel:_.getModel()}});const x=r.aContexts||[];const J=[];let z;await n.setUserDefaults(o,l,k,true);const Y=await f.load({definition:p,controller:j});N=l.map(e=>{const t=g.byId(A(["APD_",e.$Name]));const n=t.isA("sap.ui.mdc.MultiValueField");return{parameter:e,field:t,isMultiValue:n}});const Q=O(v);let Z={dialogCancelled:true,result:undefined};const ee=new d(A(["fe","APD_",t]),{title:a||Q.getText("C_OPERATIONS_ACTION_PARAMETER_DIALOG_TITLE"),content:[Y],escapeHandler:function(){ee.close()},beginButton:new c(A(["fe","APD_",t,"Action","Ok"]),{text:B?Q.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE_BUTTON"):L(Q,a,t,P),type:"Emphasized",press:async function(){try{if(!await C(R,N,Q)){return}i.lock(ee);let e=[];try{b.removeTransitionMessages();let t;const n=z&&z.getParameterContext();for(const e in l){if(l[e].$isCollection){const n=ee.getModel("mvfview").getProperty(`/${l[e].$Name}`),i=[];for(const e in n){i.push(n[e].Key)}t=i}else{t=n.getProperty(l[e].$Name)}l[e].value=t;t=undefined}const s=Object.assign({},r);s.label=a;try{const e=await D(o,s,v,b,x,ee,false,y);Z={dialogCancelled:false,result:e};ee.close()}catch(e){const t=sap.ui.getCore().getMessageManager().getMessageModel().getData();if(y&&y.is412Executed&&y.strictHandlingTransitionFails.length){y.delaySuccessMessages=y.delaySuccessMessages.concat(t)}throw e}finally{if(y&&y.is412Executed&&y.strictHandlingTransitionFails.length){try{e=y.strictHandlingTransitionFails.map(e=>e.oAction.getContext());s.aContexts=e;const t=await D(o,s,v,b,x,ee,true,y);y.strictHandlingTransitionFails=[];Z={dialogCancelled:false,result:t}}catch{if(y.is412Executed&&y.strictHandlingTransitionFails.length){g.getMessageManager().addMessages(y.delaySuccessMessages)}let e=false;if(r.bGrouped&&y.strictHandlingPromises.length||q(r.bGrouped)){e=true}await b.showMessageDialog({isActionParameterDialogOpen:ee.isOpen(),onBeforeShowMessage:function(t,n){return G(s,x,ee,t,n,e)},aSelectedContexts:undefined,sActionName:a})}}if(i.isLocked(ee)){i.unlock(ee)}}}catch(t){let n=true;let i=false;if(r.bGrouped&&y&&y.strictHandlingPromises.length||q(r.bGrouped)){i=true}await b.showMessages({context:e[0],isActionParameterDialogOpen:ee.isOpen(),messagePageNavigationCallback:function(){ee.close()},onBeforeShowMessage:function(e,t){const o=G(r,x,ee,e,t,i);n=o.showMessageDialog;return o},aSelectedContexts:undefined,sActionName:a,control:r.control});if(n){if(ee.isOpen()){}else{T(t)}}}}finally{if(y){y={is412Executed:false,strictHandlingTransitionFails:[],strictHandlingPromises:[],strictHandlingWarningMessages:[],delaySuccessMessages:[],processedMessageIds:[]}}if(i.isLocked(ee)){i.unlock(ee)}}}}),endButton:new c(A(["fe","APD_",t,"Action","Cancel"]),{text:Q.getText("C_COMMON_ACTION_PARAMETER_DIALOG_CANCEL"),press:function(){ee.close()}}),beforeOpen:async function(t){const i=Object.assign({},t);b.removeTransitionMessages();const o=function(){const e=ee.getModel().getMetaModel(),t=h.sPath&&h.sPath.split("/@")[0],n=e.getObject(`${t}@com.sap.vocabularies.Common.v1.DefaultValuesFunction`);return n};const a=async function(t){const a=o();const c=async function(i,o){if(o!==undefined){if(x.length>0&&o.$Path){try{let e=await n.requestSingletonProperty(o.$Path,z.getModel());if(e===null){e=await z.getParameterContext().requestProperty(o.$Path)}if(x.length>1){let n=o.$Path;if(n.indexOf(`${t}/`)===0){n=n.replace(`${t}/`,"")}for(let t=1;t<x.length;t++){if(x[t].getProperty(n)!==e){return{paramName:i,value:undefined,bNoPossibleValue:true}}}}return{paramName:i,value:e}}catch(t){e.error("Error while reading default action parameter",i,r.actionName);return{paramName:i,value:undefined,bLatePropertyError:true}}}else{return{paramName:i,value:o}}}else if(k&&k.oData[i]){return{paramName:i,value:k.oData[i]}}else{return{paramName:i,value:undefined}}};const d=function(e){const t=ee.getModel().getMetaModel(),i=n.getParameterPath(h.getPath(),e)+"@",o=t.getObject(i),s=o&&o["@com.sap.vocabularies.UI.v1.ParameterDefaultValue"];return s};const g=[];let f,p;for(const e in l){f=l[e].$Name;p=d(f);g.push(c(f,p))}if(h.getObject("$IsBound")&&x.length>0){if(a&&a.length>0&&typeof a==="string"){for(const e in x){J.push(w(a,x[e],r.model))}}}const M=Promise.all(g);let E=Promise.resolve([]);let v;if(J&&J.length>0){E=Promise.all(J)}if(r.defaultValuesExtensionFunction){const e=r.defaultValuesExtensionFunction.substring(0,r.defaultValuesExtensionFunction.lastIndexOf(".")||-1).replace(/\./gi,"/"),t=r.defaultValuesExtensionFunction.substring(r.defaultValuesExtensionFunction.lastIndexOf(".")+1,r.defaultValuesExtensionFunction.length);v=s.actionWrapper(i,e,t,{contexts:x})}try{const e=await Promise.all([M,E,v]);const t=e[0];const n=e[1];const i=e[2];let o;for(const e in l){var P;o=l[e].$Name;const s=m===null||m===void 0?void 0:(P=m.find(t=>t.name===l[e].$Name))===null||P===void 0?void 0:P.value;if(s){z.setParameter(l[e].$Name,s)}else if(i&&i.hasOwnProperty(o)){z.setParameter(l[e].$Name,i[o])}else if(t[e]&&t[e].value!==undefined){z.setParameter(l[e].$Name,t[e].value)}else if(a&&!t[e].bNoPossibleValue){if(x.length>1){let t=0;while(t<x.length-1){if(n[t]&&n[t+1]&&n[t].getObject(o)===n[t+1].getObject(o)){t++}else{break}}if(t===x.length-1){z.setParameter(l[e].$Name,n[t].getObject(o))}}else if(n[0]&&n[0].getObject(o)){z.setParameter(l[e].$Name,n[0].getObject(o))}}}const s=t.some(function(e){if(e.bLatePropertyError){return e.bLatePropertyError}});if(s){const e=Q.getText("C_APP_COMPONENT_SAPFE_ETAG_LATE_PROPERTY");u.warning(e,{contentWidth:"25em"})}}catch(t){e.error("Error while retrieving the parameter",t)}};const c=async function(){if(h.getObject("$IsBound")&&x.length>0){const t=h.getObject("$Parameter");const n=t[0]&&t[0].$Name;try{const e=await x[0].requestObject();if(e){z.setParameter(n,e)}await a(n)}catch(t){e.error("Error while retrieving the parameter",t)}}else{await a()}};await c();for(const e of N){const t=e.isMultiValue?e.field.getItems():e.field.getValue();e.value=t;e.validationPromise=Promise.resolve(t)}},afterClose:function(){l.forEach(F);ee.destroy();if(Z.dialogCancelled){T(S.CancelActionDialog)}else{$(Z.result)}}});r.oDialog=ee;ee.setModel(h.getModel().oModel);ee.setModel(k,"paramsModel");ee.bindElement({path:"/",model:"paramsModel"});const te=new E({});ee.setModel(te,"mvfview");for(const e of N){if(e.isMultiValue){var W,U;e===null||e===void 0?void 0:(W=e.field)===null||W===void 0?void 0:(U=W.getBinding("items"))===null||U===void 0?void 0:U.attachChange(()=>{F(e.parameter)})}else{var X,K;e===null||e===void 0?void 0:(X=e.field)===null||X===void 0?void 0:(K=X.getBinding("value"))===null||K===void 0?void 0:K.attachChange(()=>{F(e.parameter)})}}let ne=`${t}(...)`;if(!x.length){ne=`/${ne}`}ee.bindElement({path:ne});if(v){v.addDependent(ee)}if(x.length>0){ee.setBindingContext(x[0])}z=ee.getObjectBinding();ee.open()}catch(e){T(e)}})}function j(e){const t=e.getObject("$Parameter")||[];if(t&&t.length){if(e.getObject("$IsBound")){return t.slice(1,t.length)||[]}}return t}function L(e,t,n,i){let o=n?n:null;const s=o.split(".");o=o.indexOf(".")>=0?s[s.length-1]:o;const a=o&&i?`${i}|${o}`:"";const r="ACTION_PARAMETER_DIALOG_ACTION_NAME";const l=e.checkIfResourceKeyExists(`${r}|${a}`);if(t){if(l){return e.getText(r,undefined,a)}else if(e.checkIfResourceKeyExists(`${r}|${i}`)){return e.getText(r,undefined,`${i}`)}else if(e.checkIfResourceKeyExists(`${r}`)){return e.getText(r)}else{return t}}else{return e.getText("C_COMMON_DIALOG_OK")}}function V(e,t,n,i,o,s,a,r,l,c,d){let u,g=true;if(t){t.internalOperationsPromiseResolve=l}if(n){var f;const n=e.getBoundContext().getPath();const i=e.getModel().getMetaModel().getMetaPath(n);const o=e.getModel().getMetaModel().getObject(i);if(o&&((f=o[0])===null||f===void 0?void 0:f.$kind)!=="Action"){g=false}if(t.disableStrictHandling){g=false}}if(!g){u=e.execute(i).then(function(){l(e.getBoundContext());return e.getBoundContext()})}else{u=n?e.execute(i,undefined,v.fnOnStrictHandlingFailed.bind(z,i,t,o,r,e.getContext(),a,s,d)).then(function(){if(d&&!t.bGrouped){k(e,i,d,t)}l(e.getBoundContext());return e.getBoundContext()}).catch(function(){if(d&&!t.bGrouped){k(e,i,d,t)}c();throw S.ActionExecutionFailed}):e.execute(i,undefined,v.fnOnStrictHandlingFailed.bind(z,i,t,o,r,e.getContext(),a,s,d)).then(function(n){if(d&&!t.bGrouped){k(e,i,d,t)}l(n);return n}).catch(function(){if(d&&!t.bGrouped){k(e,i,d,t)}c();throw S.ActionExecutionFailed})}return u.catch(()=>{c();throw S.ActionExecutionFailed})}function k(e,t,n,i){const o=sap.ui.getCore().getMessageManager().getMessageModel().getData();const{processedMessageIds:s,delaySuccessMessages:a,strictHandlingTransitionFails:r}=n;const l=o.filter(function(e){const t=s.find(function(t){return e.id===t});if(!t){s.push(e.id);if(e.type===b.Success){a.push(e)}}return e.persistent===true&&e.type!==b.Success&&!t});if(l.length){if(i!==null&&i!==void 0&&i.internalModelContext){r.push({oAction:e,groupId:t})}}}function W(){let t=null,n=null;const i=new Promise(function(e,i){t=e;n=i}).catch(function(t){e.error("Error while executing action ",t)});return{oLocalActionPromise:i,internalOperationsPromiseResolve:t,internalOperationsPromiseReject:n}}function q(e){let t=[];if(e){const e=o.getMessages();const n=o.getMessages(true);t=[...e,...n]}return t.some(function(e){return e.getType()==="Error"||e.getType()==="Warning"})}function U(t,n,i,o,s){const a=n.aContexts||[];const r=n.model;const l=n.aActionParameters||[];const c=n.actionName;const d=n.fnOnSubmitted;const u=n.fnOnResponse;const f=O(i);let p;function m(){if(l&&l.length){for(let e=0;e<l.length;e++){if(!l[e].value){switch(l[e].$Type){case"Edm.String":l[e].value="";break;case"Edm.Boolean":l[e].value=false;break;case"Edm.Byte":case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":l[e].value=0;break;default:break}}p.setParameter(l[e].$Name,l[e].value)}}}if(a.length){return new Promise(function(i){const l=n.mBindingParameters;const u=n.bGrouped;const h=n.bGetBoundContext;const M=[];let E;let P;let C;const x=W();const b=function(e,i,a,r){m();const l=[];C=!u?`$auto.${i}`:e.getUpdateGroupId();n.requestSideEffects=J.bind(z,t,a,n,C,l);E=V(e,n,h,C,f,o,r,i,x.internalOperationsPromiseResolve,x.internalOperationsPromiseReject,s);M.push(E);l.push(x.oLocalActionPromise);J(t,a,n,C,l);return Promise.allSettled(l)};const A=function(e,i,a,l){const c=[];m();C=n.groupId||`apiMode${i}`;n.requestSideEffects=J.bind(z,t,a,n,C,c);E=V(e,n,h,C,f,o,l,i,x.internalOperationsPromiseResolve,x.internalOperationsPromiseReject,s);M.push(E);c.push(x.oLocalActionPromise);J(t,a,n,C,c);r.submitBatch(C);return Promise.allSettled(c)};async function O(){const t=[];for(P=0;P<a.length;P++){p=r.bindContext(`${c}(...)`,a[P],l);t.push(b(p,a.length<=1?null:P,{context:a[P],pathExpressions:n.additionalSideEffect&&n.additionalSideEffect.pathExpressions,triggerActions:n.additionalSideEffect&&n.additionalSideEffect.triggerActions},a.length))}(d||function e(){})(M);await Promise.allSettled(t);if(s&&s.strictHandlingPromises.length){try{if(!q(true)){await v.renderMessageView(n,f,o,s.strictHandlingWarningMessages,s,a.length>1)}else{s.strictHandlingPromises.forEach(function(e){e.resolve(false)});const e=g.getMessageManager().getMessageModel();const t=e.getData();e.setData(t.concat(s.strictHandlingWarningMessages))}}catch{e.error("Retriggering of strict handling actions failed")}}y()}async function S(e){(d||function e(){})(M);function t(e,t,i){var o,s,a;p=r.bindContext(`${c}(...)`,e,l);const d=(o=n.control)===null||o===void 0?void 0:(s=o.getRowBinding)===null||s===void 0?void 0:(a=s.call(o))===null||a===void 0?void 0:a.getHeaderContext();return A(p,t,{context:d&&d.getPath()===e.getPath()?d:e,pathExpressions:n.additionalSideEffect&&n.additionalSideEffect.pathExpressions,triggerActions:n.additionalSideEffect&&n.additionalSideEffect.triggerActions},i)}await e.reduce(async(e,n,i)=>{await e;await t(n,i+1,a.length)},Promise.resolve());if(s&&s.strictHandlingPromises.length){await v.renderMessageView(n,f,o,s.strictHandlingWarningMessages,s,a.length>1)}y()}if(!u){S(a)}else{O()}function y(){return Promise.allSettled(M).then(i)}}).finally(function(){(u||function e(){})()})}else{p=r.bindContext(`/${c}(...)`);m();const t="actionImport";const i=p.execute(t,undefined,v.fnOnStrictHandlingFailed.bind(z,t,{label:n.label,model:r},f,null,null,null,o,s));r.submitBatch(t);(d||function e(){})(i);return i.then(function(e){if(e){return e}else{var t,n,i;return(t=(n=p).getBoundContext)===null||t===void 0?void 0:(i=t.call(n))===null||i===void 0?void 0:i.getObject()}}).catch(function(t){e.error("Error while executing action "+c,t);throw t}).finally(function(){(u||function e(){})()})}}function X(e,t){let n=e.getPath();n=e.getObject("$IsBound")?n.split("@$ui5.overload")[0]:n.split("/0")[0];return n.split(`/${t}`)[0]}function K(e,t,n,i){if(n){for(const e of t){if(e.$Name!=="ResultIsActiveEntity"&&!(n!==null&&n!==void 0&&n.find(t=>t.name===e.$Name))){return false}}}else if(e&&i){for(const e of t){if(!i[e.$Name]){return false}}}return true}function J(n,i,o,s,a){const r=n.getSideEffectsService();let l;if(i&&i.triggerActions&&i.triggerActions.length){i.triggerActions.forEach(function(e){if(e){l=r.executeAction(e,i.context,s);if(a){a.push(l)}}})}if(i&&i.pathExpressions&&i.pathExpressions.length>0){l=r.requestSideEffects(i.pathExpressions,i.context,s);if(a){a.push(l)}l.then(function(){if(o.operationAvailableMap&&o.internalModelContext){t.setActionEnablement(o.internalModelContext,JSON.parse(o.operationAvailableMap),o.selectedItems,"table")}}).catch(function(t){e.error("Error while requesting side effects",t)})}}const z={callBoundAction:T,callActionImport:_,callBoundFunction:w,callFunctionImport:N,executeDependingOnSelectedContexts:V,createinternalOperationsPromiseForActionExecution:W,valuesProvidedForAllParameters:K,getActionParameterActionName:L,actionParameterShowMessageCallback:G,afterActionResolution:R,isChangeSetAndHasErrorsOrWarnings:q};return z},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/editFlow/sticky", ["sap/base/Log","sap/fe/core/helpers/ResourceModelHelper","sap/fe/core/library","sap/m/MessageBox","sap/ui/core/Core","../../operationsHelper"],function(e,t,n,o,i,c){"use strict";var s=t.getResourceModel;const r=n.ProgrammingModel;async function a(e,t){const n=e.getModel(),o=n.getMetaModel(),i=o.getMetaPath(e.getPath()),r=o.getObject(`${i}@com.sap.vocabularies.Session.v1.StickySessionSupported/EditAction`);if(!r){throw new Error(`Edit Action for Sticky Session not found for ${i}`)}const a=s(t);const d=a.getText("C_COMMON_OBJECT_PAGE_EDIT");const u=n.bindContext(`${r}(...)`,e,{$$inheritExpandSelect:true});const f="direct";const g=u.execute(f,undefined,c.fnOnStrictHandlingFailed.bind(l,f,{label:d,model:n},a,null,null,null,undefined,undefined));n.submitBatch(f);const S=await g;const M=t.getSideEffectsService().getODataActionSideEffects(r,S);if(M!==null&&M!==void 0&&M.triggerActions&&M.triggerActions.length){await t.getSideEffectsService().requestSideEffectsForODataAction(M,S)}return S}async function d(t,n){const o=t.getModel(),i=o.getMetaModel(),r=i.getMetaPath(t.getPath()),a=i.getObject(`${r}@com.sap.vocabularies.Session.v1.StickySessionSupported/SaveAction`);if(!a){throw new Error(`Save Action for Sticky Session not found for ${r}`)}const d=s(n);const u=d.getText("C_OP_OBJECT_PAGE_SAVE");const f=o.bindContext(`${a}(...)`,t,{$$inheritExpandSelect:true});const g="direct";const S=f.execute(g,undefined,c.fnOnStrictHandlingFailed.bind(l,g,{label:u,model:o},d,null,null,null,undefined,undefined));o.submitBatch(g);try{return await S}catch(o){const c=i.getObject(`${r}/@${"com.sap.vocabularies.Common.v1.Messages"}/$Path`);if(c){try{await n.getSideEffectsService().requestSideEffects([c],t)}catch(t){e.error("Error while requesting side effects",t)}}throw o}}function u(e){const t=e.getModel(),n=t.getMetaModel(),o=n.getMetaPath(e.getPath()),i=n.getObject(`${o}@com.sap.vocabularies.Session.v1.StickySessionSupported/DiscardAction`);if(!i){throw new Error(`Discard Action for Sticky Session not found for ${o}`)}const c=t.bindContext(`/${i}(...)`);return c.execute("$direct").then(function(){return e})}function f(t,n,c){const s=n.getModel("ui").getProperty("/isEditable"),a=i.getLibraryResourceBundle("sap.fe.templates"),d=a&&a.getText("T_COMMON_UTILS_NAVIGATION_AWAY_MSG"),u=a&&a.getText("T_COMMON_UTILS_NAVIGATION_AWAY_CONFIRM_BUTTON"),f=a&&a.getText("T_COMMON_UTILS_NAVIGATION_AWAY_CANCEL_BUTTON");if(c===r.Sticky&&s){return o.warning(d,{actions:[u,f],emphasizedAction:u,onClose:function(n){if(n===u){e.info("Navigation confirmed.");t()}else{e.info("Navigation rejected.")}}})}return t()}const l={editDocumentInStickySession:a,activateDocument:d,discardDocument:u,processDataLossConfirmation:f};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/messageHandler/messageHandling", ["sap/fe/core/helpers/ResourceModelHelper","sap/m/Bar","sap/m/Button","sap/m/Dialog","sap/m/FormattedText","sap/m/MessageBox","sap/m/MessageItem","sap/m/MessageToast","sap/m/MessageView","sap/m/Text","sap/ui/core/Core","sap/ui/core/IconPool","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter","sap/ui/model/json/JSONModel"],function(e,t,n,o,r,i,a,s,l,u,g,c,f,d,p,T,m,E,_){"use strict";var S=e.getResourceModel;const A=d.MessageType;let C=[];let h=[];let M=[];let b;let N;let I;function R(){let e;function t(e){return e.property?"( ${"+e.property+'} ? ("<p>'+e.property.substr(Math.max(e.property.lastIndexOf("/"),e.property.lastIndexOf("."))+1)+' : " + '+"${"+e.property+'} + "</p>") : "" )':""}function n(t){let n="";if(t.groupName&&t.property&&t.groupName!==e){n+="( ${"+t.property+'} ? "<br><h3>'+t.groupName+'</h3>" : "" ) + ';e=t.groupName}return n}function o(){const e="technicalDetails";return[{groupName:"",property:`${e}/status`},{groupName:"",property:`${e}/statusText`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ComponentId`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ServiceId`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ServiceRepository`},{groupName:"Application",property:`${e}/error/@SAP__common.Application/ServiceVersion`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ErrorResolution/Analysis`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ErrorResolution/Note`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ErrorResolution/DetailedNote`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.ExceptionCategory`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.TimeStamp`},{groupName:"ErrorResolution",property:`${e}/error/@SAP__common.TransactionId`},{groupName:"Messages",property:`${e}/error/code`},{groupName:"Messages",property:`${e}/error/message`}]}let r="Object.keys("+"${technicalDetails}"+').length > 0 ? "<h2>Technical Details</h2>" : "" ';o().forEach(function(e){r=`${r+n(e)}${t(e)} + `});return r}function P(){return"(${"+"description} ? (${"+'description}) : "")'}function O(e){let t=A.None;const n=e.length;const o={Error:0,Warning:0,Success:0,Information:0};for(let t=0;t<n;t++){++o[e[t].getType()]}if(o[A.Error]>0){t=A.Error}else if(o[A.Warning]>0){t=A.Warning}else if(o[A.Success]>0){t=A.Success}else if(o[A.Information]>0){t=A.Information}return t}function x(e,t,n){const o=e.getMessageModel().getObject("/");let r=false;let i="";o.forEach(function(a,s){const l=a.getTechnicalDetails&&a.getTechnicalDetails();if(l&&l.httpStatus===412&&l.isConcurrentModification){if(n){i=i||t.getText("C_APP_COMPONENT_SAPFE_ETAG_TECHNICAL_ISSUES_CONCURRENT_MODIFICATION")}else{i=i||t.getText("C_APP_COMPONENT_SAPFE_ETAG_TECHNICAL_ISSUES")}e.removeMessages(o[s]);a.setMessage(i);a.target="";e.addMessages(a);r=true}});return r}function y(){b.close();N.setVisible(false);C=[];const e=I.getModel();if(e){e.setData({})}X()}function v(e,t){const n=new Date;const o=e.getTechnicalDetails();const r=g.getLibraryResourceBundle("sap.fe.core");let i;if(o&&o.httpStatus===503&&o.retryAfter){const e=o.retryAfter;let a;if(n.getFullYear()!==e.getFullYear()){a=f.getDateTimeInstance({pattern:"MMMM dd, yyyy 'at' hh:mm a"});i=r.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR",[a.format(e)])}else if(n.getFullYear()==e.getFullYear()){if(t){i=`${r.getText("C_MESSAGE_HANDLING_SAPFE_503_TITLE")} ${r.getText("C_MESSAGE_HANDLING_SAPFE_503_DESC")}`}else if(n.getMonth()!==e.getMonth()||n.getDate()!==e.getDate()){a=f.getDateTimeInstance({pattern:"MMMM dd 'at' hh:mm a"});i=r.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR",[a.format(e)])}else{a=f.getDateTimeInstance({pattern:"hh:mm a"});i=r.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR_DAY",[a.format(e)])}}}if(o&&o.httpStatus===503&&!o.retryAfter){i=r.getText("C_MESSAGE_HANDLING_SAPFE_503_ERROR_NO_RETRY_AFTER")}return i}function G(e,t,o){let r;if(!t){const e='{= ${description} ? "<html><body>" + '+P()+' + "</html></body>" : "" }';const t='{= ${technicalDetails} ? "<html><body>" + '+R()+' + "</html></body>" : "" }';r=new a(undefined,{counter:{path:"counter"},title:"{message}",subtitle:"{additionalText}",longtextUrl:"{descriptionUrl}",type:{path:"type"},groupName:"{headerName}",description:e+t,markupDescription:true})}else if(o){r=new a(undefined,{counter:{path:"counter"},title:"{message}",subtitle:"{additionalText}",longtextUrl:"{descriptionUrl}",type:{path:"type"},description:"{description}",markupDescription:true})}else{r=new a({title:"{message}",type:{path:"type"},longtextUrl:"{descriptionUrl}"})}I=new l({showDetailsPageHeader:false,itemSelect:function(){N.setVisible(true)},items:{path:"/",template:r}});I.setGroupItems(true);N=N||new n({icon:c.getIconURI("nav-back"),visible:false,press:function(){I.navigateBack();this.setVisible(false)}});I.setModel(e);return{oMessageView:I,oBackButton:N}}function D(e,a,l,c,f,d,S,R,P){let x=this.getMessages();const D=g.getMessageManager();let $;let L;const w=[new T({path:"persistent",operator:m.NE,value1:false})];let B=false,U=false;if(l){x=x.concat(Z(true,true));w.push(new T({path:"persistent",operator:m.EQ,value1:true}));const e=function(e){let t=Infinity,n=g.byId(e[0]);const r=g.byId(e[0]);while(n){const e=n instanceof o?r.getParent().findElements(true).indexOf(r):Infinity;if(n instanceof o){if(t>e){t=e;r.focus()}return false}n=n.getParent()}return true};w.push(new T({path:"controlIds",test:e,caseSensitive:true}))}else{w.push(new T({path:"target",operator:m.EQ,value1:""}))}if(e&&e.length){e.forEach(function(e){const t=e.code?e.code:"";D.addMessages(new p({message:e.text,type:e.type,target:"",persistent:true,code:t}))})}const H=I&&I.getModel()||new _;const V=this.modifyETagMessagesOnly(D,g.getLibraryResourceBundle("sap.fe.core"),c);if(x.length===1&&x[0].getCode()==="503"){U=true}else if(x.length!==0){B=true}let j;let k=[];if(B||!U&&!R){const e=D.getMessageModel().bindList("/",undefined,undefined,w),t=e.getCurrentContexts();if(t&&t.length>0){B=true;const e=[];t.forEach(function(t){const n=t.getObject();e.push(n);h=e});let n=[];if(Array.isArray(H.getData())){n=H.getData()}const o={};k=h.concat(n).filter(function(e){return!o[e.id]&&(o[e.id]=true)});H.setData(k)}}if(R){j={showMessageBox:U,showMessageDialog:B};j=R(x,j);U=j.showMessageBox;B=j.showMessageDialog;if(B||j.showChangeSetErrorDialog){k=j.filteredMessages?j.filteredMessages:k}}if(x.length===0&&!e&&!V){return Promise.resolve(true)}else if(x.length===1&&x[0].getType()===A.Success&&!e){return new Promise(e=>{s.show(x[0].message);if(H){H.setData({})}D.removeMessages(x);e()})}else if(B&&k.length){ge.updateMessageObjectGroupName(k,f,d,P);H.setData(k);M=M||[];return new Promise(function(e,r){M.push(e);g.getLibraryResourceBundle("sap.fe.core",true).then(function(r){const i=false;if(j&&j.fnGetMessageSubtitle){H.getData().forEach(function(e){j.fnGetMessageSubtitle(e)})}const s=G(H,i);const l=new E("",undefined,undefined,(e,t)=>{const n=F(e);const o=F(t);if(n<o){return-1}if(n>o){return 1}return 0});s.oMessageView.getBinding("items").sort(l);b=b&&b.isOpen()?b:new o({resizable:true,endButton:new n({press:function(){y();D.removeMessages(k)},text:r.getText("C_COMMON_SAPFE_CLOSE")}),customHeader:new t({contentMiddle:[new u({text:r.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE")})],contentLeft:[N]}),contentWidth:"37.5em",contentHeight:"21.5em",verticalScrolling:false,closeOnNavigation:false,afterClose:function(){for(let e=0;e<M.length;e++){M[e].call()}M=[]}});b.removeAllContent();b.addContent(s.oMessageView);if(V){sap.ui.require(["sap/m/ButtonType"],function(e){b.setBeginButton(new n({press:function(){y();if(a.hasPendingChanges()){a.getBinding().resetChanges()}a.refresh()},text:r.getText("C_COMMON_SAPFE_REFRESH"),type:e.Emphasized}))})}else{b.destroyBeginButton()}$=O(I.getItems());L=Q($);b.setState($);b.getCustomHeader().getContentMiddle()[0].setText(L);I.navigateBack();b.open();if(S){e(b)}}).catch(r)})}else if(U){return new Promise(function(e){const t=x[0];if(t.technicalDetails&&!C.includes(t.technicalDetails.originalMessage.message)||j&&j.showChangeSetErrorDialog){if(!j||!j.showChangeSetErrorDialog){C.push(t.technicalDetails.originalMessage.message)}let n="<html><body>";const o=v(t,true);if(o){n=`<h6>${o}</h6><br>`}if(j&&j.fnGetMessageSubtitle){j.fnGetMessageSubtitle(t)}if(t.getCode()!=="503"&&t.getAdditionalText()!==undefined){n=`${n+t.getAdditionalText()}: ${t.getMessage()}</html></body>`}else{n=`${n+t.getMessage()}</html></body>`}const a=new r({htmlText:n});i.error(a,{onClose:function(){C=[];if(l){q()}X();e(true)}})}})}else{return Promise.resolve(true)}}function $(e,t,n,o){e.forEach(e=>{var r,i,a;e["headerName"]="";if(!((r=e.target)!==null&&r!==void 0&&r.length)&&((i=e.getCode)===null||i===void 0?void 0:i.call(e))!=="FE_CUSTOM_MESSAGE_CHANGESET_ALL_FAILED"){const t=g.getLibraryResourceBundle("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL");e["headerName"]=t}else if((a=e.target)!==null&&a!==void 0&&a.length){if(o==="ListReport"&&t!==null&&t!==void 0&&t.isA("sap.ui.mdc.Table")){ge.setGroupNameLRTable(t,e,n)}else if(o==="ObjectPage"){ge.setGroupNameOPDisplayMode(e,n,t)}else{e["headerName"]=ge.getLastActionTextAndActionName(n)}}})}function L(e,t,n){const o=e&&e.getRowBinding();if(o){var r;const i=`${e.getRowBinding().getPath()}`;if(((r=t.target)===null||r===void 0?void 0:r.indexOf(i))===0){const r=o.getCurrentContexts();r.forEach(o=>{var r;if((r=t.target)!==null&&r!==void 0&&r.includes(o.getPath())){const r=`${o.getPath()}/`;const i=e.getParent().getIdentifierColumn();const a=i&&o.getObject()[i];const s=ge.getTableColProperty(e,t,r);const{sTableTargetColName:l}=ge.getTableColInfo(e,s);if(s&&l){t["headerName"]=a?` ${a}`:e.getHeader()}else{t["headerName"]=ge.getLastActionTextAndActionName(n)}}})}}}function w(e,t,n){const o=n===null||n===void 0?void 0:n.getBindingContext();const r=(n===null||n===void 0?void 0:n.getContent)&&(n===null||n===void 0?void 0:n.getContent()[0]);let i=true;if(r){ge.getVisibleSectionsFromObjectPageLayout(r).forEach(function(n){const r=n.getSubSections();r.forEach(function(n){n.findElements(true).forEach(function(r){if(r.isA("sap.ui.mdc.Table")){const l=r.getRowBinding(),u=true;let c;r.findElements(true).forEach(e=>{if(e.isA("sap.m.Table")||e.isA("sap.ui.table.Table")){c=e}});if(l){var a,s;const f=`${o===null||o===void 0?void 0:o.getPath()}/${(a=r.getRowBinding())===null||a===void 0?void 0:a.getPath()}`;if(((s=e.target)===null||s===void 0?void 0:s.indexOf(f))===0){const o=ge.getTableColumnDataAndSetSubtile(e,r,c,l,t,u,U);const{oTargetTableInfo:a}=o;if(u){const t=r.getParent().getIdentifierColumn();if(t){const n=r.getRowBinding().getContexts();n.forEach(n=>{var o;if((o=e.target)!==null&&o!==void 0&&o.includes(n.getPath())){const o=t?n.getObject()[t]:undefined;e["additionalText"]=`${o}, ${a.sTableTargetColName}`}})}else{e["additionalText"]=`${a.sTableTargetColName}`}let o=r.getHeaderVisible()&&a.tableHeader;if(!o){o=n.getTitle()}else{const e=g.getLibraryResourceBundle("sap.fe.core");o=`${e.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${o}`}e["headerName"]=o;i=false}}}}})})})}if(i){var a;const n=`${o===null||o===void 0?void 0:o.getPath()}`;if(((a=e.target)===null||a===void 0?void 0:a.indexOf(n))===0){const n=ge.getLastActionTextAndActionName(t);e["headerName"]=n}else{const t=g.getLibraryResourceBundle("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL");e["headerName"]=t}}}function B(e){const t=g.getLibraryResourceBundle("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_LAST_ACTION");return e?`${t}: ${e}`:""}function F(e){var t,n;if((t=e.headerName)!==null&&t!==void 0&&t.toString().includes("Last Action")){return 1}else if((n=e.headerName)!==null&&n!==void 0&&n.toString().includes("General")){return 3}else{return 2}}const U=(e,t,n)=>{if(n){const t=g.getLibraryResourceBundle("sap.fe.core").getText("T_MESSAGE_BUTTON_SAPFE_MESSAGE_GROUP_GENERAL");e["headerName"]=t}else{e["headerName"]=ge.getLastActionTextAndActionName(t)}};function H(e,t,n,o,r,i,a){const s=ge.getTableAndTargetInfo(t,e,n,o);s.tableHeader=t.getHeader();let l,u;if(!s.oTableRowContext){l=e.getControlIds().find(function(e){return ge.isControlInTable(t,e)})}if(l){const e=g.byId(l);u=ge.isControlPartOfCreationRow(e)}if(!s.sTableTargetColName){if(e.persistent&&r){a(e,r);i=false}}const c=ge.getMessageSubtitle(e,s.oTableRowBindingContexts,s.oTableRowContext,s.sTableTargetColName,t,u);return{oTargetTableInfo:s,subTitle:c}}function V(e,t,n,o,r,i,a){let s;let l;const u=S(r);const g=r.getParent().getIdentifierColumn();const c=ge.fetchColumnInfo(e,r);if(i||n!==null&&n!==void 0&&n.isInactive()){s=u.getText("T_MESSAGE_ITEM_SUBTITLE",[u.getText("T_MESSAGE_ITEM_SUBTITLE_CREATION_ROW_INDICATOR"),o?o:c.label])}else{const e=ge.getTableFirstColBindingContextForTextAnnotation(r,n,g);const i=e?e.getObject("$Path"):undefined;const f=i&&e?e.getObject("@com.sap.vocabularies.UI.v1.TextArrangement/$EnumMember"):undefined;if(t.length>0){if(a){l=a.getValue()}else if(n&&g){l=ge.getTableFirstColValue(g,n,i,f)}else{l=undefined}const e=ge.determineColumnInfo(c,u);if(l&&o){s=u.getText("T_MESSAGE_ITEM_SUBTITLE",[l,o])}else if(l&&e.sColumnIndicator==="Hidden"){s=`${u.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW")}: ${l}, ${e.sColumnValue}`}else if(l&&e.sColumnIndicator==="Unknown"){s=u.getText("T_MESSAGE_ITEM_SUBTITLE",[l,e.sColumnValue])}else if(l&&e.sColumnIndicator==="undefined"){s=`${u.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW")}: ${l}`}else if(!l&&o){s=u.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")+": "+o}else if(!l&&e.sColumnIndicator==="Hidden"){s=e.sColumnValue}else{s=null}}else{s=null}}return s}function j(e,t,n){let o;if(t&&n){const r=e===null||e===void 0?void 0:e.getModel();const i=r===null||r===void 0?void 0:r.getMetaModel();const a=i===null||i===void 0?void 0:i.getMetaPath(t.getPath());if(i!==null&&i!==void 0&&i.getObject(`${a}/${n}@com.sap.vocabularies.Common.v1.Text/$Path`)){o=i.createBindingContext(`${a}/${n}@com.sap.vocabularies.Common.v1.Text`)}}return o}function k(e,t,n,o){const r=t.getValue(e);let i;let a=r;if(n){if(e.lastIndexOf("/")>0){e=e.slice(0,e.lastIndexOf("/")+1);e=e.concat(n)}else{e=n}i=t.getValue(e);if(i){if(o){const e=o.slice(o.indexOf("/")+1);switch(e){case"TextOnly":a=i;break;case"TextFirst":a=`${i} (${r})`;break;case"TextLast":a=`${r} (${i})`;break;case"TextSeparate":a=r;break;default:}}else{a=`${i} (${r})`}}}return a}function W(e,t){const n=e===null||e===void 0?void 0:e.getTargets()[0].split("/").pop();return t.getParent().getTableDefinition().columns.find(function(e){return e.key.split("::").pop()===n})}function Y(e,t){const n={sColumnIndicator:String,sColumnValue:String};if(e){if(e.availability==="Hidden"){n.sColumnValue=undefined;n.sColumnIndicator="undefined"}else{n.sColumnValue=`${t.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_COLUMN")} (${t.getText("T_COLUMN_INDICATOR_IN_TABLE_DEFINITION")}): ${e.label}`;n.sColumnIndicator="Hidden"}}else{n.sColumnValue=t.getText("T_MESSAGE_ITEM_SUBTITLE_INDICATOR_UNKNOWN");n.sColumnIndicator="Unknown"}return n}function K(e,t){const n=g.byId(t);if(n&&!n.isA("sap.ui.table.Table")&&!n.isA("sap.m.Table")){return e.findElements(true,function(e){return e.getId()===n})}return false}function z(e){let t=e===null||e===void 0?void 0:e.getParent();while(t&&!((n=t)!==null&&n!==void 0&&n.isA("sap.ui.table.Row"))&&!((o=t)!==null&&o!==void 0&&o.isA("sap.ui.table.CreationRow"))&&!((r=t)!==null&&r!==void 0&&r.isA("sap.m.ColumnListItem"))){var n,o,r;t=t.getParent()}return!!t&&t.isA("sap.ui.table.CreationRow")}function Q(e){const t=g.getLibraryResourceBundle("sap.fe.core");switch(e){case"Error":return t.getText("C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR");case"Information":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO");case"Success":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_SUCCESS");case"Warning":return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_WARNING");default:return t.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE")}}function X(){ee(false)}function q(e){ee(true,e)}function J(e,t){if(t===undefined){return e.getObject("/")}const n=e.bindList("/");n.filter(new T({path:"target",operator:m.StartsWith,value1:t}));return n.getCurrentContexts().map(function(e){return e.getObject()})}function Z(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=arguments.length>2?arguments[2]:undefined;let o;const r=g.getMessageManager(),i=r.getMessageModel(),a=g.getLibraryResourceBundle("sap.fe.core"),s=[];let l=[];if(e&&t&&n){l=J(i,n)}else{l=i.getObject("/")}for(o=0;o<l.length;o++){if((!t||l[o].persistent)&&(e&&l[o].target!==""||!e&&(!l[o].target||l[o].target===""))){s.push(l[o])}}for(o=0;o<s.length;o++){if(s[o].code==="503"&&s[o].message!==""&&s[o].message.indexOf(a.getText("C_MESSAGE_HANDLING_SAPFE_503_BACKEND_PREFIX"))===-1){s[o].message=`\n${a.getText("C_MESSAGE_HANDLING_SAPFE_503_BACKEND_PREFIX")}${s[o].message}`}}const u=[];for(o=0;o<s.length;o++){if(s[o].technicalDetails&&(s[o].technicalDetails.originalMessage!==undefined&&s[o].technicalDetails.originalMessage!==null||s[o].technicalDetails.httpStatus!==undefined&&s[o].technicalDetails.httpStatus!==null)||s[o].code){u.push(s[o])}}return u}function ee(e,t){const n=Z(e,true,t);if(n.length>0){g.getMessageManager().removeMessages(n)}}function te(e,t,n){if(n.additionalText===undefined){const o=e.getParent().getIdentifierColumn();const r=t.find(function(e){return n.getTargets()[0].includes(e.getPath())});n.additionalText=r?r.getObject()[o]:undefined}}function ne(e){return e.getSections().filter(function(e){return e.getVisible()})}function oe(e,t){return e.findElements(true,e=>se(t.getControlIds(),e)).sort(function(e,t){if(e.isA("sap.ui.mdc.Table")&&!t.isA("sap.ui.mdc.Table")){return-1}return 1})}function re(e,t,n){const o=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")};if(!n){var r;n=new RegExp(`${o(`${(r=e.getBindingContext())===null||r===void 0?void 0:r.getPath()}/${e.getRowBinding().getPath()}`)}\\(.*\\)/`)}return t.getTargets()[0].replace(n,"")}function ie(e,t){let n;let o=e.getColumns().find(function(e){return e.getDataProperty()==t});if(!o){const i=e.getControlDelegate().getColumnsFor(e).find(function(e){if(!!e.template&&e.propertyInfos){return e.propertyInfos[0]===t||e.propertyInfos[0].replace("Property::","")===t}else{return false}});if(i){var r;o=i;t=(r=o)===null||r===void 0?void 0:r.name;n=e.getColumns().find(function(e){return t===e.getDataProperty()}).getHeader()}else{const r=e.getControlDelegate().getColumnsFor(e);o=r.find(function(e){if(e.key.indexOf("::FieldGroup::")!==-1){var n;return(n=e.propertyInfos)===null||n===void 0?void 0:n.find(function(){return r.find(function(e){return e.relativePath===t})})}});let i=false;if(o&&o.label){i=e.getColumns().some(function(e){return e.getHeader()===o.label})}n=i&&o.label;t=i&&o.key}}else{n=o&&o.getHeader()}return{sTableTargetColName:n,sTableTargetColProperty:t}}function ae(e,t,n,o){const r={};r.sTableTargetColProperty=re(e,t);const i=ie(e,r.sTableTargetColProperty);r.oTableRowBindingContexts=n.isA("sap.ui.table.Table")?o.getContexts():o.getCurrentContexts();r.sTableTargetColName=i.sTableTargetColName;r.sTableTargetColProperty=i.sTableTargetColProperty;r.oTableRowContext=r.oTableRowBindingContexts.find(function(e){return e&&t.getTargets()[0].indexOf(e.getPath())===0});return r}function se(e,t){return e.some(function(e){if(e===t.getId()){return true}return false})}function le(e,t,n,o,r){return e.getTitle()+(t.getTitle()&&n?`, ${t.getTitle()}`:"")+(o?`, ${r.getText("T_MESSAGE_GROUP_TITLE_TABLE_DENOMINATOR")}: ${o.tableHeader}`:"")}function ue(e,t){return!t.some(function(t){let n=e.getParent();while(n&&n!==t){n=n.getParent()}return n?true:false})}const ge={getMessages:Z,showUnboundMessages:D,removeUnboundTransitionMessages:X,removeBoundTransitionMessages:q,modifyETagMessagesOnly:x,getRetryAfterMessage:v,prepareMessageViewForDialog:G,setMessageSubtitle:te,getVisibleSectionsFromObjectPageLayout:ne,getControlFromMessageRelatingToSubSection:oe,fnFilterUponIds:se,getTableAndTargetInfo:ae,createSectionGroupName:le,bIsOrphanElement:ue,getLastActionTextAndActionName:B,getTableColumnDataAndSetSubtile:H,getTableColInfo:ie,getTableColProperty:re,getMessageSubtitle:V,determineColumnInfo:Y,fetchColumnInfo:W,getTableFirstColBindingContextForTextAnnotation:j,getMessageRank:F,fnCallbackSetGroupName:U,getTableFirstColValue:k,setGroupNameOPDisplayMode:w,updateMessageObjectGroupName:$,setGroupNameLRTable:L,isControlInTable:K,isControlPartOfCreationRow:z};return ge},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/pageReady/DataQueryWatcher", ["sap/base/Log","sap/fe/macros/table/Utils"],function(e,t){"use strict";let i=function(){function i(e,t){this._aBindingRegistrations=[];this._aOtherEventSources=[];this._isSearchPending=false;this._aMDCTables=[];this._aMDCCharts=[];this._oEventProvider=e;this._fnOnFinished=t}var n=i.prototype;n.isSearchPending=function e(){return this._isSearchPending};n.isDataReceived=function e(){return this._isDataReceived};n.resetDataReceived=function e(){this._isDataReceived=undefined};n.reset=function e(){this._aBindingRegistrations.forEach(e=>{e.binding.detachEvent("dataRequested",this.onDataRequested,this);e.binding.detachEvent("dataReceived",this.onDataReceived,this)});this._aOtherEventSources.forEach(e=>{e.detachEvent("search",this.onSearch,this);e.detachEvent("bindingUpdated",this.register,this)});this._aBindingRegistrations=[];this._aOtherEventSources=[];this._aMDCTables=[];this._aMDCCharts=[];this._isSearchPending=false;this._isDataReceived=undefined};n.onDataReceived=function t(i,n){const r=i.getSource();const a=this._aBindingRegistrations.find(e=>e.binding===r);if(!a){e.error("PageReady - data received on an unregistered binding");return}switch(r.getGroupId()){case"$auto.Workers":this._oEventProvider.fireEvent("workersBatchReceived");break;case"$auto.Heroes":this._oEventProvider.fireEvent("heroesBatchReceived");break;default:}a.receivedCount++;if(a.receivedCount<a.requestedCount){r.attachEventOnce("dataReceived",{triggeredBySearch:n.triggeredBySearch},this.onDataReceived,this);return}const s=this._aBindingRegistrations.some(e=>e.requestedCount!==0)&&this._aBindingRegistrations.every(e=>e.requestedCount===0||e.receivedCount>=e.requestedCount);if(n.triggeredBySearch||a.receivedCount>=a.requestedCount){this._isSearchPending=false}if(s){this._isDataReceived=true;this._fnOnFinished()}};n.onDataRequested=function t(i,n){const r=i.getSource();const a=this._aBindingRegistrations.find(e=>e.binding===r);if(!a){e.error("PageReady - data requested on an unregistered binding");return}a.requestedCount++;this._isDataReceived=false;if(a.requestedCount-a.receivedCount===1){r.attachEventOnce("dataReceived",{triggeredBySearch:n.triggeredBySearch},this.onDataReceived,this)}};n.onSearch=function t(i){const n=this._aMDCTables.filter(e=>{var t;return i.getSource().sId===e.getFilter()&&e.getVisible()&&!((t=e.getParent())!==null&&t!==void 0&&t.getProperty("bindingSuspended"))});const r=this._aMDCCharts.filter(e=>i.getSource().sId===e.getFilter()&&e.getVisible());if(n.length>0||r.length>0){this._isSearchPending=true}n.forEach(e=>{this.registerTable(e,true)});r.forEach(async t=>{try{if(t.innerChartBoundPromise){await t.innerChartBoundPromise}this.registerChart(t,true)}catch(t){e.error("Cannot find a inner bound chart",t)}})};n.register=function e(t,i){var n,r;const a=i.binding||((n=i.table)===null||n===void 0?void 0:n.getRowBinding())||((r=i.chart)===null||r===void 0?void 0:r.getControlDelegate().getInnerChart(i.chart).getBinding("data"));const s=i.table||i.chart;if(!a){return}let d=this._aBindingRegistrations.find(e=>e.binding===a);if(d){if(s){d.boundControl=s}if(d.requestedCount>0){a.detachEvent("dataRequested",this.onDataRequested,this);a.attachEventOnce("dataRequested",{triggeredBySearch:i.triggeredBySearch},this.onDataRequested,this)}return}if(s){d=this._aBindingRegistrations.find(e=>e.boundControl===s);if(d&&d.binding!==a){d.binding=a;d.requestedCount=0;d.receivedCount=0}}if(!d){d={binding:a,boundControl:s,requestedCount:0,receivedCount:0};this._aBindingRegistrations.push(d)}a.detachEvent("dataRequested",this.onDataRequested,this);a.attachEventOnce("dataRequested",{triggeredBySearch:i.triggeredBySearch},this.onDataRequested,this)};n.registerBinding=function e(t){this.register(null,{binding:t,triggeredBySearch:false})};n.registerTable=function e(t){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!this._aMDCTables.includes(t)){this._aMDCTables.push(t)}const n=t.getRowBinding();if(n){this.register(null,{table:t,triggeredBySearch:i})}if(!this._aOtherEventSources.includes(t)){t.attachEvent("bindingUpdated",{table:t,triggeredBySearch:i},this.register,this);this._aOtherEventSources.push(t)}};n.registerChart=function e(t){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!this._aMDCCharts.includes(t)){this._aMDCCharts.push(t)}const n=t.getControlDelegate().getInnerChart(t);const r=n===null||n===void 0?void 0:n.getBinding("data");if(r){this.register(null,{chart:t,triggeredBySearch:i})}if(!this._aOtherEventSources.includes(t)){t.attachEvent("bindingUpdated",{chart:t,triggeredBySearch:i},this.register,this);this._aOtherEventSources.push(t)}};n.registerTableOrChart=async function i(n){if(!n.isA("sap.ui.mdc.Table")&&!n.isA("sap.ui.mdc.Chart")){return}try{await n.initialized();if(n.isA("sap.ui.mdc.Table")){this.registerTable(n);if(n.getAutoBindOnInit()&&n.getDomRef()){await t.whenBound(n)}}else{this.registerChart(n)}}catch(t){e.error("PageReady - Cannot register a table or a chart",t)}};n.registerFilterBar=function e(t){t.attachEvent("search",this.onSearch,this);this._aOtherEventSources.push(t)};return i}();return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/routing/NavigationReason", [],function(){"use strict";var t;(function(t){t["RowPress"]="RowPress";t["AppStateChanged"]="AppStateChanged";t["RestoreHistory"]="RestoreHistory";t["EditFlowAction"]="EditFlowAction"})(t||(t={}));return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controllerextensions/routing/RouterProxy", ["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/Synchronization","sap/ui/base/Object","sap/ui/core/Core","sap/ui/thirdparty/URI"],function(t,e,s,i,n,o){"use strict";var a,r;var h=e.defineUI5Class;function u(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;c(t,e)}function c(t,e){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,s){e.__proto__=s;return e};return c(t,e)}const l={EQUAL:0,COMPATIBLE:1,ANCESTOR:2,DIFFERENT:3};const f={LAYOUTPARAM:"layout",IAPPSTATEPARAM:"sap-iapp-state"};function d(t){return{_guardHash:t.replace(/\?[^?]*$/,""),check:function(t){return t.indexOf(this._guardHash)===0}}}function g(t){return t.replace(new RegExp(`[&?]*${f.IAPPSTATEPARAM}=[^&]*`),"")}let p=(a=h("sap.fe.core.RouterProxy"),a(r=function(e){u(i,e);function i(){var t;for(var s=arguments.length,i=new Array(s),n=0;n<s;n++){i[n]=arguments[n]}t=e.call(this,...i)||this;t.bIsRebuildHistoryRunning=false;t.bIsComputingTitleHierachy=false;t.bIsGuardCrossAllowed=false;t.sIAppStateKey=null;t._bActivateRouteMatchSynchro=false;t._bApplyRestore=false;t._bDelayedRebuild=false;t._pathMappings=[];t.restoreHistoryTriggered=false;return t}var a=i.prototype;a.init=function e(s,i){s.getService("shellServices").then(()=>{this._oShellServices=s.getShellServices();this.initRaw(s.getRouter());this.waitForRouteMatchBeforeNavigation();history.replaceState(Object.assign({feLevel:0},history.state),"",window.location);this.fclEnabled=i;this._fnBlockingNavFilter=this._blockingNavigationFilter.bind(this);this._oShellServices.registerNavigationFilter(this._fnBlockingNavFilter)}).catch(function(e){t.error("Cannot retrieve the shell services",e)});this._fnHashGuard=this.hashGuard.bind(this);window.addEventListener("popstate",this._fnHashGuard);this._bDisableOnHashChange=false;this._bIgnoreRestore=false;this._bForceFocus=true};a.destroy=function t(){if(this._oShellServices){this._oShellServices.unregisterNavigationFilter(this._fnBlockingNavFilter)}window.removeEventListener("popstate",this._fnHashGuard)};a.setAppStateInHash=function t(e,s){let i;if(e.includes(f.IAPPSTATEPARAM)){i=e.replace(new RegExp(`${f.IAPPSTATEPARAM}=[^&]*`),`${f.IAPPSTATEPARAM}=${s}`)}else{if(!e.includes("?")){i=`${e}?`}else{i=`${e}&`}i+=`${f.IAPPSTATEPARAM}=${s}`}return i};a.findAppStateInHash=function t(e){const s=e.match(new RegExp(`\\?.*${f.IAPPSTATEPARAM}=([^&]*)`));return s&&s.length>1?s[1]:null};a.initRaw=function t(e){this._oRouter=e;this._oManagedHistory=[];this._oNavigationGuard=null;const s=this.getHash();this._oManagedHistory.push(this._extractStateFromHash(s));this.sIAppStateKey=this.findAppStateInHash(s)};a.getHash=function t(){return this._oRouter.getHashChanger().getHash()};a.isFocusForced=function t(){return this._bForceFocus};a.setFocusForced=function t(e){this._bForceFocus=e};a.removeIAppStateKey=function t(){this.sIAppStateKey=null};a.navToHash=function t(e,s,i,n,o){if(o!==false){this._oShellServices.setBackNavigation()}if(this._oRouteMatchSynchronization){return this._oRouteMatchSynchronization.waitFor().then(()=>{this._oRouteMatchSynchronization=undefined;return this._internalNavToHash(e,s,i,n)})}else{if(this._bActivateRouteMatchSynchro){this.waitForRouteMatchBeforeNavigation()}return this._internalNavToHash(e,s,i,n)}};a._internalNavToHash=function t(e,s,i,o){if(this.fclEnabled&&this.sIAppStateKey&&!this.findAppStateInHash(e)){e=this.setAppStateInHash(e,this.sIAppStateKey)}if(!this.checkHashWithGuard(e)){if(!this.oResourceBundle){this.oResourceBundle=n.getLibraryResourceBundle("sap.fe.core")}if(!confirm(this.oResourceBundle.getText("C_ROUTER_PROXY_SAPFE_EXIT_NOTSAVED_MESSAGE"))){return Promise.resolve(false)}this.bIsGuardCrossAllowed=true}const a=this._extractStateFromHash(e);if(!this._bForceFocus){const t=this._extractEntitySetsFromHash(this.getHash());this._bForceFocus=o||t.length<a.keys.length&&t.every(function(t,e){return t===a.keys[e]})}const r=this._pushNewState(a,false,s,i);this.storeFocusInfoForCurrentHash();return this._rebuildBrowserHistory(r,false)};a.restoreHistory=function t(){if(this._bApplyRestore){this._bApplyRestore=false;let t=this.getHash();t=t.replace(/(\?|&)restoreHistory=true/,"");const e=this._extractStateFromHash(t);const s=this._pushNewState(e,true,false,true);this.restoreHistoryTriggered=true;return this._rebuildBrowserHistory(s,true)}else{return Promise.resolve()}};a.checkRestoreHistoryWasTriggered=function t(){return this.restoreHistoryTriggered};a.resetRestoreHistoryFlag=function t(){this.restoreHistoryTriggered=false};a.navBack=function t(){const e=this.getHash();let s;for(let t=this._oManagedHistory.length-1;t>0;t--){if(this._oManagedHistory[t].hash===e){s=this._oManagedHistory[t-1].hash;break}}if(s){return this.navToHash(s)}else{window.history.back();return Promise.resolve()}};a.navTo=function t(e,s){const i=this._oRouter.getURL(e,s);return this.navToHash(i,false,s.noPreservationCache,false,!s.bIsStickyMode)};a.exitFromApp=function t(){return this._oShellServices.backToPreviousApp()};a.isCurrentStateImpactedBy=function t(e){if(e[0]==="/"){e=e.substring(1)}const s=d(e);return s.check(this.getHash())};a.isNavigationFinalized=function t(){return!this.bIsRebuildHistoryRunning&&!this._bDelayedRebuild};a.setNavigationGuard=function t(e){this._oNavigationGuard=d(e);this.bIsGuardCrossAllowed=false};a.discardNavigationGuard=function t(){this._oNavigationGuard=null};a.hasNavigationGuard=function t(){return this._oNavigationGuard!==null};a.checkHashWithGuard=function t(e){return this._oNavigationGuard===null||this._oNavigationGuard.check(e)};a.isGuardCrossAllowedByUser=function t(){return this.bIsGuardCrossAllowed};a.activateRouteMatchSynchronization=function t(){this._bActivateRouteMatchSynchro=true};a.resolveRouteMatch=function t(){if(this._oRouteMatchSynchronization){this._oRouteMatchSynchronization.resolve()}};a.waitForRouteMatchBeforeNavigation=function t(){this._oRouteMatchSynchronization=new s;this._bActivateRouteMatchSynchro=false};a._extractEntitySetsFromHash=function t(e){if(e===undefined){e=""}const s=e.split("?")[0];const i=s.split("/");const n=[];i.forEach(t=>{if(t.length){n.push(t.split("(")[0])}});return n};a._extractStateFromHash=function t(e){if(e===undefined){e=""}const s={keys:this._extractEntitySetsFromHash(e)};const i=e.match(new RegExp(`\\?.*${f.LAYOUTPARAM}=([^&]*)`));s.sLayout=i&&i.length>1?i[1]:null;if(s.sLayout==="MidColumnFullScreen"){s.screenMode=1}else if(s.sLayout==="EndColumnFullScreen"){s.screenMode=2}else{s.screenMode=0}s.hash=e;return s};a._pushNewState=function t(e,s,i,n){const o=this.getHash();let a=this._oManagedHistory.length-1;let r=s?1:0;if(!s){while(a>=0&&this._oManagedHistory[a].hash!==o){this._oManagedHistory.pop();a--}if(this._oManagedHistory.length===0){this._oManagedHistory.push(this._extractStateFromHash(o));history.replaceState(Object.assign({feLevel:0},history.state),"")}}if(i&&!n){this._oManagedHistory[this._oManagedHistory.length-1].preserved=true}let h;while(this._oManagedHistory.length>0){const t=this._oManagedHistory[this._oManagedHistory.length-1];if((n||!t.preserved)&&this._compareCacheStates(t,e)!==l.ANCESTOR){h=this._oManagedHistory.pop();r++}else if(t.preserved&&g(t.hash)===g(e.hash)){h=this._oManagedHistory.pop();r++;e.preserved=true;break}else{break}}this.sIAppStateKey=this.findAppStateInHash(e.hash);if(!this.fclEnabled&&h){const t=this.findAppStateInHash(h.hash);const s=this._compareCacheStates(h,e);if(!this.sIAppStateKey&&t&&(s===l.EQUAL||s===l.COMPATIBLE)){e.hash=this.setAppStateInHash(e.hash,t)}}const u=h&&e.hash===h.hash;if(this._oManagedHistory.length===0||this._oManagedHistory[this._oManagedHistory.length-1].hash!==e.hash){this._oManagedHistory.push(e);if(h&&g(h.hash)===g(e.hash)){e.focusControlId=h.focusControlId;e.focusInfo=h.focusInfo}}if(r===0){return{type:"append"}}else if(r===1){return u?{type:"none"}:{type:"replace"}}else{return u?{type:"back",steps:r-1}:{type:"back-replace",steps:r-1}}};a._blockingNavigationFilter=function t(){return this._bDisableOnHashChange?"Custom":"Continue"};a._disableEventOnHashChange=function t(){this._bDisableOnHashChange=true;this._oRouter.stop()};a._enableEventOnHashChange=function t(e){this._bDisableOnHashChange=false;this._oRouter.initialize(e)};a._rebuildBrowserHistory=function t(e,s){const i=this;return new Promise(t=>{var n;this.bIsRebuildHistoryRunning=true;const o=this._oManagedHistory[this._oManagedHistory.length-1],a=this._oManagedHistory.length-1;function r(){if(!s){i._enableEventOnHashChange(true)}i._oRouter.getHashChanger().replaceHash(o.hash);history.replaceState(Object.assign({feLevel:a},history.state),"");if(s){setTimeout(function(){i._enableEventOnHashChange(true)},0)}i.bIsRebuildHistoryRunning=false;t(true)}function h(){window.removeEventListener("popstate",h);setTimeout(function(){r()},0)}function u(){window.removeEventListener("popstate",u);i.bIsRebuildHistoryRunning=false;t(true)}i._bIgnoreRestore=true;switch(e.type){case"replace":const s=(n=history.state)===null||n===void 0?void 0:n.focusInfo;i._oRouter.getHashChanger().replaceHash(o.hash);history.replaceState(Object.assign({feLevel:a,focusInfo:s},history.state),"");i.bIsRebuildHistoryRunning=false;t(true);break;case"append":i._oRouter.getHashChanger().setHash(o.hash);history.replaceState(Object.assign({feLevel:a},history.state),"");i.bIsRebuildHistoryRunning=false;t(true);break;case"back":window.addEventListener("popstate",u);history.go(-e.steps);break;case"back-replace":this._disableEventOnHashChange();window.addEventListener("popstate",h);history.go(-e.steps);break;default:this.bIsRebuildHistoryRunning=false;t(false)}})};a.getLastHistoryEntry=function t(){return this._oManagedHistory[this._oManagedHistory.length-1]};a.setPathMapping=function t(e){this._pathMappings=e.filter(t=>t.oldPath!==t.newPath)};a.hashGuard=function t(){let e=window.location.hash;if(e.includes("restoreHistory=true")){this._bApplyRestore=true}else if(!this.bIsRebuildHistoryRunning){const t=this._pathMappings.find(t=>e.includes(t.oldPath));if(t){e=e.replace(t.oldPath,t.newPath);history.replaceState(Object.assign({},history.state),"",e)}const s=e.split("&/");const i=s[1]?s[1]:"";if(this.checkHashWithGuard(i)){this._bDelayedRebuild=true;const t=this._extractStateFromHash(i);this._pushNewState(t,false,false,true);setTimeout(()=>{this._bDelayedRebuild=false},0)}}};a._compareCacheStates=function t(e,s){if(e.keys.length>s.keys.length){return l.DIFFERENT}let i=true;let n;for(n=0;i&&n<e.keys.length;n++){if(e.keys[n]!==s.keys[n]){i=false}}if(!i){return l.DIFFERENT}if(e.keys.length<s.keys.length||e.screenMode<s.screenMode){return l.ANCESTOR}if(e.screenMode>s.screenMode){return l.DIFFERENT}return e.sLayout===s.sLayout?l.EQUAL:l.COMPATIBLE};a.checkIfBackIsOutOfGuard=function t(e){let s;let i;if(e===undefined){const t=this._oShellServices.splitHash(window.location.hash);if(t&&t.appSpecificRoute){i=t.appSpecificRoute;if(i.indexOf("&/")===0){i=i.substring(2)}}else{i=window.location.hash.substring(1);if(i[0]==="/"){i=i.substring(1)}}}else{i=e}e=o.decode(i);if(this._oNavigationGuard){for(let t=this._oManagedHistory.length-1;t>0;t--){if(this._oManagedHistory[t].hash===e){s=this._oManagedHistory[t-1].hash;break}}return!s||!this.checkHashWithGuard(s)}return false};a.checkIfBackHasSameContext=function t(){if(this._oManagedHistory.length<2){return false}const e=this._oManagedHistory[this._oManagedHistory.length-1];const s=this._oManagedHistory[this._oManagedHistory.length-2];return e.hash.split("?")[0]===s.hash.split("?")[0]};a.restoreFocusForCurrentHash=function t(){const e=g(this.getHash());const s=this._oManagedHistory.find(t=>g(t.hash)===e);let i=false;if(s!==null&&s!==void 0&&s.focusControlId){const t=sap.ui.getCore().byId(s.focusControlId);t===null||t===void 0?void 0:t.focus(s.focusInfo);i=t!==undefined}return i};a.storeFocusInfoForCurrentHash=function t(){const e=g(this.getHash());const s=this._oManagedHistory.find(t=>g(t.hash)===e);if(s){const t=sap.ui.getCore().getCurrentFocusedControlId();const e=t?sap.ui.getCore().byId(t):undefined;s.focusControlId=t;s.focusInfo=e===null||e===void 0?void 0:e.getFocusInfo()}};a.findLayoutForHash=function t(e){var s;if(!this.fclEnabled){return undefined}const i=e.split("?")[0];let n;for(let t=this._oManagedHistory.length-1;t>=0&&n===undefined;t--){if(this._oManagedHistory[t].hash.split("?")[0]===i){n=this._oManagedHistory[t]}}return(s=n)===null||s===void 0?void 0:s.sLayout};return i}(i))||r);return p},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/Any", ["sap/ui/base/ManagedObject"],function(e){"use strict";const n=e.extend("sap.fe.core.controls.Any",{metadata:{properties:{any:"any",anyText:"string",anyBoolean:"boolean"}},updateProperty:function(e){if(e==="any"){this.setAny(this.getBindingInfo(e).binding.getExternalValue())}else{this.setAnyText(this.getBindingInfo(e).binding.getExternalValue())}}});return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/AnyElement", ["sap/ui/core/Element"],function(e){"use strict";const t=e.extend("sap.fe.core.controls.AnyElement",{metadata:{properties:{anyText:"string"}},updateProperty:function(e){if(e==="anyText"){this.setAnyText(this.getBindingInfo(e).binding.getExternalValue())}}});return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/CommandExecution", ["sap/base/Log","sap/fe/core/helpers/ClassSupport","sap/ui/core/CommandExecution","sap/ui/core/Component","sap/ui/core/Element","sap/ui/core/Shortcut"],function(t,e,o,r,n,i){"use strict";var s,a;var c={};var p=e.defineUI5Class;function u(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;f(t,e)}function f(t,e){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,o){e.__proto__=o;return e};return f(t,e)}let h=(s=p("sap.fe.core.controls.CommandExecution"),s(a=function(e){u(o,e);function o(t,o){return e.call(this,t,o)||this}c=o;var s=o.prototype;s.setParent=function t(o){e.prototype.setParent.call(this,o);const r=o.data("sap.ui.core.Shortcut");if(Array.isArray(r)&&r.length>0){const t=o.data("sap.ui.core.Shortcut")[r.length-1],e=t.shortcutSpec;if(e){for(const t in e){if(e[t]&&t!=="key"){return this}}}return this}};s.destroy=function t(e){const o=this.getParent();if(o){const t=this._getCommandInfo();if(t){i.unregister(this.getParent(),t.shortcut)}this._cleanupContext(o)}n.prototype.destroy.apply(this,[e])};s.setVisible=function o(n){let i,s=this.getParent(),a;if(!s){e.prototype.setVisible.call(this,n)}while(!a&&s){a=r.getOwnerComponentFor(s);s=s.getParent()}if(a){i=a.getCommand(this.getCommand());if(i){e.prototype.setVisible.call(this,n)}else{t.info("There is no shortcut definition registered in the manifest for the command : "+this.getCommand())}}return this};return o}(o))||a);c=h;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/DataLossOrDraftDiscard/DraftDataLossDialog.block", ["sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ResourceModelHelper","sap/m/Button","sap/m/CustomListItem","sap/m/Dialog","sap/m/Label","sap/m/List","sap/m/Text","sap/m/VBox","sap/ui/core/CustomData","sap/ui/core/library","sap/fe/core/jsx-runtime/jsx","sap/fe/core/jsx-runtime/jsxs","sap/fe/core/jsx-runtime/Fragment"],function(e,t,i,s,o,n,a,r,l,c,u,d,p,h,f,T){"use strict";var g,L,D,_,A,v,S;var R={};var m=p.ValueState;var O=s.getResourceModel;var y=i.defineReference;var b=e.defineBuildingBlock;function x(e,t,i,s){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(s):void 0})}function E(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function M(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;B(e,t)}function B(e,t){B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return B(e,t)}function C(e,t,i,s,o){var n={};Object.keys(s).forEach(function(e){n[e]=s[e]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=i.slice().reverse().reduce(function(i,s){return s(e,t,i)||i},n);if(o&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(o):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(e,t,n);n=null}return n}function F(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let w=(g=b({name:"DraftDataLossDialog",namespace:"sap.fe.core.controllerextensions"}),L=y(),D=y(),g(_=(A=function(e){M(t,e);function t(t){var i;i=e.call(this,t)||this;x(i,"dataLossDialog",v,E(i));x(i,"optionsList",S,E(i));return i}R=t;var i=t.prototype;i.open=async function e(t){var i,s;this.view=t.getView();this.dataLossResourceModel=O(this.view);this.getContent();const o=()=>this.handleDataLossOk();(i=this.optionsList.current)===null||i===void 0?void 0:i.addEventDelegate({onkeyup:function(e){if(e.key==="Enter"){o()}}});this.view.addDependent(this.dataLossDialog.current);(s=this.dataLossDialog.current)===null||s===void 0?void 0:s.open();this.selectAndFocusFirstEntry();return new Promise(e=>{this.promiseResolve=e})};i.close=function e(){var t,i;(t=this.dataLossDialog.current)===null||t===void 0?void 0:t.close();(i=this.dataLossDialog.current)===null||i===void 0?void 0:i.destroy()};i.handleDataLossOk=function e(){this.promiseResolve(this.getSelectedKey())};i.handleDataLossCancel=function e(){this.promiseResolve("cancel")};i.selectAndFocusFirstEntry=function e(){var t,i;const s=(t=this.optionsList.current)===null||t===void 0?void 0:t.getItems()[0];(i=this.optionsList.current)===null||i===void 0?void 0:i.setSelectedItem(s);s===null||s===void 0?void 0:s.focus()};i.getSelectedKey=function e(){const t=this.optionsList.current;return t.getSelectedItem().data("itemKey")};i.getConfirmButton=function e(){return h(o,{text:this.dataLossResourceModel.getText("C_COMMON_DIALOG_OK"),type:"Emphasized",press:()=>this.handleDataLossOk()})};i.getCancelButton=function e(){return h(o,{text:this.dataLossResourceModel.getText("C_COMMON_DIALOG_CANCEL"),press:()=>this.handleDataLossCancel()})};i.getContent=function e(){var t;const i=(t=this.view.getBindingContext())===null||t===void 0?void 0:t.getObject().HasActiveEntity;const s=i?this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_POPUP_MESSAGE_SAVE"):this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_POPUP_MESSAGE_CREATE");const o=i?this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_SAVE_DRAFT_RBL"):this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_CREATE_ENTITY_RBL");const p=i?this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_SAVE_DRAFT_TOL"):this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_CREATE_ENTITY_TOL");return h(a,{title:this.dataLossResourceModel.getText("WARNING"),state:m.Warning,type:"Message",contentWidth:"22rem",ref:this.dataLossDialog,children:{content:f(T,{children:[h(c,{text:s,class:"sapUiTinyMarginBegin sapUiTinyMarginTopBottom"}),f(l,{mode:"SingleSelectLeft",showSeparators:"None",includeItemInSelection:"true",backgroundDesign:"Transparent",class:"sapUiNoContentPadding",ref:this.optionsList,children:[h(n,{customData:[new d({key:"itemKey",value:"draftDataLossOptionSave"})],children:f(u,{class:"sapUiTinyMargin",children:[h(r,{text:o,design:"Bold"}),h(c,{text:p})]})}),h(n,{customData:[new d({key:"itemKey",value:"draftDataLossOptionKeep"})],children:f(u,{class:"sapUiTinyMargin",children:[h(r,{text:this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_KEEP_DRAFT_RBL"),design:"Bold"}),h(c,{text:this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_KEEP_DRAFT_TOL")})]})}),h(n,{customData:[new d({key:"itemKey",value:"draftDataLossOptionDiscard"})],children:f(u,{class:"sapUiTinyMargin",children:[h(r,{text:this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_DISCARD_DRAFT_RBL"),design:"Bold"}),h(c,{text:this.dataLossResourceModel.getText("ST_DRAFT_DATALOSS_DISCARD_DRAFT_TOL")})]})})]})]}),buttons:f(T,{children:["confirmButton = ",this.getConfirmButton(),"cancelButton = ",this.getCancelButton()]})}})};return t}(t),v=C(A.prototype,"dataLossDialog",[L],{configurable:true,enumerable:true,writable:true,initializer:null}),S=C(A.prototype,"optionsList",[D],{configurable:true,enumerable:true,writable:true,initializer:null}),A))||_);R=w;return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/EventDelegateHook", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/Element"],function(e,t){"use strict";var r,i,n,o,a;var l={};var u=e.property;var s=e.defineUI5Class;function c(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function f(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;b(e,t)}function b(e,t){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return b(e,t)}function d(e,t,r,i,n){var o={};Object.keys(i).forEach(function(e){o[e]=i[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function v(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let h=(r=s("sap.fe.core.controls.EventDelegateHook"),i=u({type:"boolean"}),r(n=(o=function(e){f(t,e);function t(t,r){var i;i=e.call(this,t,r)||this;c(i,"stopTapPropagation",a,p(i));return i}l=t;var r=t.prototype;r.setParent=function t(r){if(this.getParent()){this.getParent().removeEventDelegate(this)}r.addEventDelegate(this);e.prototype.setParent.call(this,r)};r.ontap=function e(t){if(this.stopTapPropagation){t.stopPropagation()}};return t}(t),a=d(o.prototype,"stopTapPropagation",[i],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),o))||n);l=h;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/FilterBar", ["sap/fe/core/controls/filterbar/FilterContainer","sap/fe/core/controls/filterbar/VisualFilterContainer","sap/fe/core/helpers/ClassSupport","sap/ui/core/Core","sap/ui/mdc/FilterBar","sap/ui/mdc/filterbar/aligned/FilterItemLayout"],function(t,e,i,r,o,n){"use strict";var a,l,s,u,c,d,f;var h=i.property;var g=i.defineUI5Class;var y=i.association;function p(t,e,i,r){if(!i)return;Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0})}function F(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function B(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;_(t,e)}function _(t,e){_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return _(t,e)}function b(t,e,i,r,o){var n={};Object.keys(r).forEach(function(t){n[t]=r[t]});n.enumerable=!!n.enumerable;n.configurable=!!n.configurable;if("value"in n||n.initializer){n.writable=true}n=i.slice().reverse().reduce(function(i,r){return r(t,e,i)||i},n);if(o&&n.initializer!==void 0){n.value=n.initializer?n.initializer.call(o):void 0;n.initializer=undefined}if(n.initializer===void 0){Object.defineProperty(t,e,n);n=null}return n}function m(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let L=(a=g("sap.fe.core.controls.FilterBar"),l=h({type:"string",defaultValue:"compact"}),s=y({type:"sap.m.SegmentedButton",multiple:false}),a(u=(c=function(i){B(o,i);function o(){var t;for(var e=arguments.length,r=new Array(e),o=0;o<e;o++){r[o]=arguments[o]}t=i.call(this,...r)||this;p(t,"initialLayout",d,F(t));p(t,"toggleControl",f,F(t));return t}var a=o.prototype;a.setToggleControl=function t(e){if(typeof e==="string"){this._oSegmentedButton=r.byId(e)}else{this._oSegmentedButton=e}if(this.toggleControl&&this._oSegmentedButton){this._oSegmentedButton.detachEvent("select",this._toggleLayout.bind(this))}if(this._oSegmentedButton){this._oSegmentedButton.attachEvent("select",this._toggleLayout.bind(this))}this.setAssociation("toggleControl",e,true)};a._toggleLayout=function t(){if(!this._oSecondaryFilterBarLayout){this._oSecondaryFilterBarLayout=new e}if(this._oSecondaryFilterBarLayout.isA("sap.fe.core.controls.filterbar.VisualFilterContainer")){this.setShowAdaptFiltersButton(false)}else{this.setShowAdaptFiltersButton(true)}const i=this._oFilterBarLayout;const r=this.getFilterItems();const o=i.getAllFilterFields();const n=this.getSortedFilterFields(r,o);const a=i.getAllButtons();const l=i.getAllVisualFilterFields&&i.getAllVisualFilterFields();if(this._oSecondaryFilterBarLayout.isA("sap.fe.core.controls.filterbar.VisualFilterContainer")){this._oSecondaryFilterBarLayout.setAllFilterFields(n,l)}this._oFilterBarLayout=this._oSecondaryFilterBarLayout;o.forEach((t,e)=>{i.removeFilterField(t);this._oFilterBarLayout.insertFilterField(t,e)});a.forEach(t=>{i.removeButton(t);this._oFilterBarLayout.addButton(t)});this._oSecondaryFilterBarLayout=i;this.setAggregation("layout",this._oFilterBarLayout,true);this._oFilterBarLayout.rerender()};a.getSortedFilterFields=function t(e,i){const r=[];e.forEach(function(t){r.push(t.getId())});i.sort(function(t,e){let i,o;t.getContent().forEach(function(t){if(t.isA("sap.ui.mdc.FilterField")){i=t.getId()}});e.getContent().forEach(function(t){if(t.isA("sap.ui.mdc.FilterField")){o=t.getId()}});return r.indexOf(i)-r.indexOf(o)});return i};a._createInnerLayout=function e(){this._oFilterBarLayout=new t;this._cLayoutItem=n;this._oFilterBarLayout.getInner().addStyleClass("sapUiMdcFilterBarBaseAFLayout");this._addButtons();const i=this._oFilterBarLayout.getInner();const r={onBeforeRendering:()=>{if(this.initialLayout==="visual"){this._toggleLayout()}i.removeEventDelegate(r)}};i.addEventDelegate(r);this.setAggregation("layout",this._oFilterBarLayout,true)};a.exit=function t(){i.prototype.exit.call(this);if(this._oSegmentedButton){this._oSegmentedButton.detachEvent("select",this._toggleLayout);delete this._oSegmentedButton}};a.getSegmentedButton=function t(){return this._oSegmentedButton};return o}(o),d=b(c.prototype,"initialLayout",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),f=b(c.prototype,"toggleControl",[s],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||u);return L},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/FormElementWrapper", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/Control"],function(e,t){"use strict";var r,i,n,o,l,a,u,s,c,p,f;var b=e.property;var d=e.implementInterface;var y=e.defineUI5Class;var m=e.aggregation;function h(e,t,r,i){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function v(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;w(e,t)}function w(e,t){w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return w(e,t)}function _(e,t,r,i,n){var o={};Object.keys(i).forEach(function(e){o[e]=i[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function z(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let j=(r=y("sap.fe.core.controls.FormElementWrapper"),i=d("sap.ui.core.IFormContent"),n=b({type:"sap.ui.core.CSSSize",defaultValue:null}),o=b({type:"boolean",defaultValue:false}),l=m({type:"sap.ui.core.Control",multiple:false,isDefault:true}),r(a=(u=function(e){g(t,e);function t(){var t;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}t=e.call(this,...i)||this;h(t,"__implements__sap_ui_core_IFormContent",s,v(t));h(t,"width",c,v(t));h(t,"formDoNotAdjustWidth",p,v(t));h(t,"content",f,v(t));return t}var r=t.prototype;r.getAccessibilityInfo=function e(){const t=this.content;return t&&t.getAccessibilityInfo?t.getAccessibilityInfo():{}};t.render=function e(t,r){t.openStart("div",r);t.style("min-height","1rem");t.style("width",r.width);t.openEnd();t.openStart("div");t.style("display","flex");t.style("box-sizing","border-box");t.style("justify-content","space-between");t.style("align-items","center");t.style("flex-wrap","wrap");t.style("align-content","stretch");t.style("width","100%");t.openEnd();t.renderControl(r.content);t.close("div");t.close("div")};return t}(t),s=_(u.prototype,"__implements__sap_ui_core_IFormContent",[i],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),c=_(u.prototype,"width",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),p=_(u.prototype,"formDoNotAdjustWidth",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),f=_(u.prototype,"content",[l],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||a);return j},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/MassEditSelect", ["sap/m/Select","sap/m/SelectRenderer"],function(e,t){"use strict";const r=e.extend("sap.fe.core.controls.MassEditSelect",{metadata:{properties:{showValueHelp:{type:"boolean"},valueHelpIconSrc:{type:"string"},selectValue:{type:"string"}},events:{valueHelpRequest:{}},interfaces:["sap.ui.core.IFormContent"]},renderer:{apiVersion:2,render:t.render}});return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/MultiValueParameterDelegate", ["sap/ui/mdc/field/MultiValueFieldDelegate"],function(t){"use strict";const n=Object.assign({},t,{_transformConditions:function(t,n,s){const e=[];for(let i=0;i<t.length;i++){const o={};const c=t[i];o[n]=c.values[0];if(s){o[s]=c.values[1]}e.push(o)}return e},updateItems:function(t,n,s){const e=s.getBinding("items");const i=s.getBindingInfo("items");const o=i.path;const c=i.template;const a=c.getBindingInfo("key");const r=a&&a.parts[0].path;const u=c.getBindingInfo("description");const d=u&&u.parts[0].path;const f=e.getModel();f.setProperty(o,this._transformConditions(n,r,d))}});return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/Recommendations/ConfirmRecommendationDialog.block", ["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockSupport","sap/fe/core/buildingBlocks/RuntimeBuildingBlock","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/ResourceModelHelper","sap/m/Button","sap/m/Column","sap/m/ColumnListItem","sap/m/Dialog","sap/m/FlexBox","sap/m/FlexItemData","sap/m/Table","sap/m/Text","sap/ui/core/library","../../formatters/ValueFormatter","../../helpers/StandardRecommendationHelper","sap/fe/core/jsx-runtime/jsx","sap/fe/core/jsx-runtime/Fragment","sap/fe/core/jsx-runtime/jsxs"],function(e,t,i,n,o,r,a,l,s,c,u,d,m,h,p,f,g,v,R){"use strict";var D,C,A,E,_;var b={};var x=f.standardRecommendationHelper;var O=h.ValueState;var I=o.getResourceModel;var M=n.defineReference;var T=t.defineBuildingBlock;function N(e,t,i,n){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function B(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;w(e,t)}function w(e,t){w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return w(e,t)}function L(e,t,i,n,o){var r={};Object.keys(n).forEach(function(e){r[e]=n[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},r);if(o&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(o):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}function P(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let S=(D=T({name:"ConfirmRecommendationDialog",namespace:"sap.fe.core.controllerextensions"}),C=M(),D(A=(E=function(t){B(i,t);function i(e){var i;i=t.call(this,e)||this;N(i,"confirmRecommendationDialog",_,y(i));i.view=e.view;i.confirmRecommendationDialogResourceModel=I(i.view);return i}b=i;var n=i.prototype;n.open=async function e(t){var i,n,o,r;this.acceptAllParams=await((i=this.view)===null||i===void 0?void 0:i.getController()).recommendations.fetchAcceptAllParams();if(!((n=this.acceptAllParams)!==null&&n!==void 0&&(o=n.recommendationData)!==null&&o!==void 0&&o.length)||!((r=this.getColumnListItems())!==null&&r!==void 0&&r.length)){return true}this.isSave=t;const a=this.getContent();a===null||a===void 0?void 0:a.setEscapeHandler(this.onContinueEditing.bind(this));this.view.addDependent(a);a===null||a===void 0?void 0:a.open();return new Promise((e,t)=>{this.promiseResolve=e;this.promiseReject=t})};n.close=function e(){var t,i;(t=this.confirmRecommendationDialog.current)===null||t===void 0?void 0:t.close();(i=this.confirmRecommendationDialog.current)===null||i===void 0?void 0:i.destroy()};n.onAcceptAndSave=async function t(){try{var i;const e=await((i=this.view)===null||i===void 0?void 0:i.getController()).recommendations.acceptRecommendations(this.acceptAllParams);if(!e){this.promiseReject("Accept Failed")}this.promiseResolve(true)}catch{e.error("Accept Recommendations Failed");this.promiseReject("Accept Failed")}finally{this.close()}};n.onIgnoreAndSave=function e(){this.promiseResolve(true);this.close()};n.onContinueEditing=function e(){this.promiseResolve(false);this.close()};n.getColumnListItems=function e(){const t=[];for(const e of((i=this.acceptAllParams)===null||i===void 0?void 0:i.recommendationData)||[]){var i;if(e.value||e.text){var n,o,r;const i=((n=e.context)===null||n===void 0?void 0:n.getPath())+"/"+e.propertyPath;t.push(this.getColumnListItem(e,this.getFieldName(i),x.getDisplayModeForTargetPath(i,(o=this.view)===null||o===void 0?void 0:(r=o.getBindingContext())===null||r===void 0?void 0:r.getModel())))}}return t};n.getColumnListItem=function e(t,i,n){return g(l,{vAlign:"Middle",children:{cells:R(v,{children:[g(m,{text:i}),g(m,{text:this.getText(t,n)})]})}})};n.getFieldName=function e(t){var i,n,o,r,a;const l=x.getInvolvedDataModelObjectsForTargetPath(t,(i=this.view)===null||i===void 0?void 0:(n=i.getBindingContext())===null||n===void 0?void 0:n.getModel());return(l===null||l===void 0?void 0:(o=l.targetObject)===null||o===void 0?void 0:(r=o.annotations)===null||r===void 0?void 0:(a=r.Common)===null||a===void 0?void 0:a.Label)||t.split("/")[t.split("/").length-1]};n.getText=function e(t,i){if(t.text&&t.value){switch(i){case"Description":return t.text;case"DescriptionValue":return p.formatWithBrackets(t.text,t.value);case"ValueDescription":return p.formatWithBrackets(t.value,t.text);case"Value":return t.value}}return t.value||""};n.getFlexBox=function e(){return g(c,{direction:"Column",alignItems:"Center",fitContainer:"true",children:{items:R(v,{children:[g(m,{text:this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_TEXT",[this.getColumnListItems().length]),class:"sapUiTinyMarginBegin sapUiTinyMarginTopBottom"}),this.getTable(),this.getButton(this.isSave?this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_ACCEPT_AND_SAVE"):this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_ACCEPT"),"Emphasized",this.onAcceptAndSave.bind(this)),this.getButton(this.isSave?this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_IGNORE_AND_SAVE"):this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_IGNORE"),"Default",this.onIgnoreAndSave.bind(this)),this.getButton(this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_CONTINUE_EDITING"),"Transparent",this.onContinueEditing.bind(this))]})}})};n.getButton=function e(t,i,n){return g(r,{text:t,type:i,width:"100%",press:n,children:{layoutData:g(v,{children:g(u,{minWidth:"100%"})})}})};n.getTable=function e(){return g(d,{children:{columns:R(v,{children:[g(a,{children:g(m,{text:this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_FIELD")})}),",",g(a,{children:g(m,{text:this.confirmRecommendationDialogResourceModel.getText("C_RECOMMENDATION_DIALOG_VALUE")})})]}),items:g(v,{children:this.getColumnListItems()})}})};n.getContent=function e(){return g(s,{title:this.confirmRecommendationDialogResourceModel.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO"),state:O.Information,type:"Message",ref:this.confirmRecommendationDialog,resizable:"true",contentWidth:"30rem",children:{content:g(v,{children:this.getFlexBox()})}})};return i}(i),_=L(E.prototype,"confirmRecommendationDialog",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),E))||A);b=S;return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/filterbar/FilterContainer", ["sap/fe/core/helpers/ClassSupport","sap/ui/mdc/filterbar/aligned/FilterContainer"],function(t,e){"use strict";var i,l;var n=t.defineUI5Class;function o(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;r(t,e)}function r(t,e){r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return r(t,e)}let s=(i=n("sap.fe.core.controls.filterbar.FilterContainer"),i(l=function(t){o(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;i.init=function e(){this.aAllFilterFields=[];this.aAllVisualFilters={};for(var i=arguments.length,l=new Array(i),n=0;n<i;n++){l[n]=arguments[n]}t.prototype.init.call(this,...l)};i.exit=function e(){for(var i=arguments.length,l=new Array(i),n=0;n<i;n++){l[n]=arguments[n]}t.prototype.exit.call(this,...l);this.aAllFilterFields.forEach(function(t){t.destroy()});Object.keys(this.aAllVisualFilters).forEach(t=>{this.aAllVisualFilters[t].destroy()})};i.insertFilterField=function e(i,l){const n={onBeforeRendering:function(){if(i._fnGetContentCopy){i.getContent=i._fnGetContentCopy}i.removeEventDelegate(n)}};i.addEventDelegate(n);i.getContent().forEach(t=>{const e=t.getContent&&t.getContent();if(t.isA("sap.ui.mdc.FilterField")&&e&&e.isA("sap.fe.core.controls.filterbar.VisualFilter")){const i=t.getId();this.aAllVisualFilters[i]=e;t.setContent(null)}});this.aAllFilterFields.push(i);t.prototype.insertFilterField.call(this,i,l)};i.removeFilterField=function e(i){const l=this.aAllFilterFields.findIndex(function(t){return t.getId()===i.getId()});i.getContent().forEach(t=>{if(t.isA("sap.ui.mdc.FilterField")&&!t.getContent()){const e=t.getId();if(this.aAllVisualFilters[e]){t.setContent(this.aAllVisualFilters[e])}}});this.aAllFilterFields.splice(l,1);t.prototype.removeFilterField.call(this,i)};i.removeAllFilterFields=function t(){this.aAllFilterFields=[];this.aAllVisualFilters={};this.oLayout.removeAllContent()};i.getAllButtons=function t(){var e,i,l;const n=this.oLayout.getEndContent();return n===null||n===void 0?void 0:(e=n[0])===null||e===void 0?void 0:(i=e.getContent())===null||i===void 0?void 0:(l=i[1])===null||l===void 0?void 0:l.getContent()};i.removeButton=function t(e){this.oLayout.removeEndContent(e)};i.getAllFilterFields=function t(){return this.aAllFilterFields.slice()};i.getAllVisualFilterFields=function t(){return this.aAllVisualFilters};i.setAllFilterFields=function t(e){this.aAllFilterFields=e};return e}(e))||l);return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/filterbar/VisualFilter", ["sap/fe/core/CommonUtils","sap/fe/core/controls/filterbar/utils/VisualFilterUtils","sap/fe/core/helpers/ClassSupport","sap/fe/macros/CommonHelper","sap/fe/macros/filter/FilterUtils","sap/m/VBox","sap/ui/core/Core","../../templating/FilterHelper"],function(e,t,r,n,i,a,o,s){"use strict";var l,c,u,p,f,g,d,h,m,_,I;var b=s.getFiltersConditionsFromSelectionVariant;var v=r.property;var y=r.implementInterface;var E=r.event;var P=r.defineUI5Class;function R(e,t,r,n){if(!r)return;Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function S(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function C(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;T(e,t)}function T(e,t){T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return T(e,t)}function O(e,t,r,n,i){var a={};Object.keys(n).forEach(function(e){a[e]=n[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a);if(i&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(i):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,t,a);a=null}return a}function F(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let L=(l=P("sap.fe.core.controls.filterbar.VisualFilter"),c=y("sap.ui.core.IFormContent"),u=v({type:"boolean"}),p=v({type:"string"}),f=E(),l(g=(d=function(r){C(a,r);function a(){var e;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++){n[i]=arguments[i]}e=r.call(this,...n)||this;R(e,"__implements__sap_ui_core_IFormContent",h,S(e));R(e,"showValueHelp",m,S(e));R(e,"valueHelpIconSrc",_,S(e));R(e,"valueHelpRequest",I,S(e));return e}var s=a.prototype;s.onAfterRendering=function e(){var r;let a;const s=this.getItems()[1].getItems()[0];const l=this.data("infoPath");const c=s.getBinding("segments")||s.getBinding("bars")||s.getBinding("points");const u=s.getBindingContext("internal");const p=o.getLibraryResourceBundle("sap.fe.macros");const f=s.data("showOverlayInitially");const g=s.data("selectionVariantAnnotation")?n.parseCustomData(s.data("selectionVariantAnnotation")):{SelectOptions:[]};const d=s.data("requiredProperties")?n.parseCustomData(s.data("requiredProperties")):[];const h=s.getModel().getMetaModel();const m=c?c.getPath():"";let _=(r=this.getParent())===null||r===void 0?void 0:r.getParent();if(_.getMetadata().getElementName()==="sap.ui.mdc.filterbar.p13n.AdaptationFilterBar"){var I;_=(I=_.getParent())===null||I===void 0?void 0:I.getParent()}let v={};let y=[];let E;if(_.getMetadata().getElementName()==="sap.fe.core.controls.FilterBar"){v=_.getConditions();y=_.getPropertyInfoSet();E=_.data("entityType").split("/")[1]}const P=s.data("parameters")?s.data("parameters").customData:[];const R=b(m,h,g,t.getCustomConditions.bind(t));const S=t.convertFilterCondions(R);const C={};Object.keys(v).forEach(function(e){if(v[e].length){C[e]=v[e]}});Object.keys(S).forEach(function(e){if(!C[e]){C[e]=S[e]}});if(f==="true"){if(!Object.keys(g).length){if(d.length>1){u.setProperty(l,{showError:true,errorMessageTitle:p.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:p.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF")})}else{a=h.getObject(`${m}/${d[0]}@com.sap.vocabularies.Common.v1.Label`)||d[0];u.setProperty(l,{showError:true,errorMessageTitle:p.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:p.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",a)})}}else{const e=[];const r=[];if(g.SelectOptions){g.SelectOptions.forEach(function(t){e.push(t.PropertyName.$PropertyPath)})}if(g.Parameters){g.Parameters.forEach(function(t){e.push(t.PropertyName.$PropertyPath)})}d.forEach(function(t){if(!e.includes(t)){r.push(t)}});const n=t.getErrorInfoForNoInitialOverlay(r,p,m,h);u.setProperty(l,n)}}if(!this._oChartBinding||this._oChartBinding!==c){if(this._oChartBinding){this.detachDataReceivedHandler(this._oChartBinding)}this.attachDataRecivedHandler(c);this._oChartBinding=c}const T=u.getProperty(l)&&u.getProperty(l).showError;const O=m!==""?m.split("/")[1].split("(")[0]:"";if(P&&P.length&&E===O){const e=i.getBindingPathForParameters(_,C,y,P);if(e){c.sPath=e}}if(c&&c.isSuspended()&&!T){c.resume()}};s.attachDataRecivedHandler=function e(t){if(t){t.attachEvent("dataReceived",this.onInternalDataReceived,this);this._oChartBinding=t}};s.detachDataReceivedHandler=function e(t){if(t){t.detachEvent("dataReceived",this.onInternalDataReceived,this);this._oChartBinding=undefined}};s.setShowValueHelp=function e(t){if(this.getItems().length>0){const e=this.getItems()[0].getItems()[0];e.getContent().some(function(e){if(e.isA("sap.m.Button")){e.setVisible(t)}});this.setProperty("showValueHelp",t)}};s.setValueHelpIconSrc=function e(t){if(this.getItems().length>0){const e=this.getItems()[0].getItems()[0];e.getContent().some(function(e){if(e.isA("sap.m.Button")){e.setIcon(t)}});this.setProperty("valueHelpIconSrc",t)}};s.onInternalDataReceived=function r(n){const i=this.getId();const a=e.getTargetView(this);const s=this.getItems()[1].getItems()[0];const l=this.data("infoPath");const c=s.getBindingContext("internal");const u=o.getLibraryResourceBundle("sap.fe.macros");const p=s.data("uom");t.updateChartScaleFactorTitle(s,a,i,l);if(n.getParameter("error")){const e=u.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");const r=u.getText("M_VISUAL_FILTERS_ERROR_DATA_TEXT");t.applyErrorMessageAndTitle(e,r,l,a)}else if(n.getParameter("data")){const e=n.getSource().getCurrentContexts();if(e&&e.length===0){t.setNoDataMessage(l,u,a)}else{c.setProperty(l,{})}t.setMultiUOMMessage(e,s,l,u,a)}if(p&&(p["ISOCurrency"]&&p["ISOCurrency"].$Path||p["Unit"]&&p["Unit"].$Path)){const e=n.getSource().getContexts();const r=e&&e[0].getObject();t.applyUOMToTitle(s,r,a,l)}};return a}(a),h=O(d.prototype,"__implements__sap_ui_core_IFormContent",[c],{configurable:true,enumerable:true,writable:true,initializer:function(){return true}}),m=O(d.prototype,"showValueHelp",[u],{configurable:true,enumerable:true,writable:true,initializer:null}),_=O(d.prototype,"valueHelpIconSrc",[p],{configurable:true,enumerable:true,writable:true,initializer:null}),I=O(d.prototype,"valueHelpRequest",[f],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||g);return L},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/filterbar/VisualFilterContainer", ["sap/fe/core/helpers/ClassSupport","sap/m/FlexBox","sap/m/HeaderContainer","sap/ui/core/library","sap/ui/Device","sap/ui/mdc/filterbar/IFilterContainer"],function(e,t,i,n,r,o){"use strict";var l,a,s,u,c;var f=e.defineUI5Class;var d=e.aggregation;function p(e,t,i,n){if(!i)return;Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function F(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;v(e,t)}function v(e,t){v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return v(e,t)}function b(e,t,i,n,r){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},o);if(r&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(r):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,t,o);o=null}return o}function m(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let y=(l=f("sap.fe.core.controls.filterbar.VisualFilterContainer"),a=d({type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}),l(s=(u=function(e){F(o,e);function o(){var t;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++){n[r]=arguments[r]}t=e.call(this,...n)||this;p(t,"_layout",c,h(t));return t}var l=o.prototype;l.init=function o(){for(var l=arguments.length,a=new Array(l),s=0;s<l;s++){a[s]=arguments[s]}e.prototype.init.call(this,...a);const u=n.Orientation;const c=r.system.phone?u.Vertical:undefined;const f=r.system.phone?"ColumnReverse":"Column";this.oHeaderContainer=new i({orientation:c});this.oButtonFlexBox=new t({alignItems:"End",justifyContent:"End"});this.oLayout=new t({direction:f,items:[this.oHeaderContainer,this.oButtonFlexBox]});this.aAllFilterFields=[];this.aVisualFilterFields={}};l.exit=function t(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++){n[r]=arguments[r]}e.prototype.exit.call(this,...n);const o=this.getAllFilterFields();o.forEach(function(e){e.destroy()});this.oHeaderContainer=null;this.oButtonFlexBox=null;this.aAllFilterFields=[]};l.insertFilterField=function e(t,i){const n={onBeforeRendering:function(){if(!t._fnGetContentCopy){t._fnGetContentCopy=t.getContent}t.getContent=function(){const e=[];e.push(t._oFilterField);return e};t.removeEventDelegate(n)}};t.addEventDelegate(n);const r=this.aVisualFilterFields;t.getContent().some(e=>{const n=e.getId();if(r[n]&&e.isA("sap.ui.mdc.FilterField")){e.setContent(r[n]);this.oHeaderContainer.insertContent(t,i)}})};l.removeFilterField=function e(t){this.oHeaderContainer.removeContent(t)};l.removeAllFilterFields=function e(){this.aAllFilterFields=[];this.aVisualFilterFields={};this.oHeaderContainer.removeAllContent()};l.getFilterFields=function e(){return this.oHeaderContainer.getContent()};l.addButton=function e(t){this.oButtonFlexBox.insertItem(t)};l.getAllButtons=function e(){return this.oButtonFlexBox.getItems().reverse()};l.removeButton=function e(t){this.oButtonFlexBox.removeItem(t)};l.getAllFilterFields=function e(){return this.aAllFilterFields.slice()};l.setAllFilterFields=function e(t,i){this.aAllFilterFields=t;this.aVisualFilterFields=i};return o}(o),c=b(u.prototype,"_layout",[a],{configurable:true,enumerable:true,writable:true,initializer:null}),u))||s);return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/filterbar/utils/VisualFilterUtils", ["sap/base/Log","sap/fe/core/templating/FilterHelper","sap/ui/core/format/NumberFormat","sap/ui/mdc/condition/Condition","sap/ui/model/odata/type/DateTimeOffset"],function(e,t,r,n,a){"use strict";var o=t.getTypeCompliantValue;var s=t.getRangeProperty;const i={applyMedianScaleToChartData:function(e,t,r,n){const a=[];const o=e.data("measure");const s=t.getBindingContext("internal");const i=e.getPoints&&e.getPoints()||e.getBars&&e.getBars()||e.getSegments&&e.getSegments();for(let e=0;e<i.length;e++){a.push(i[e].getBindingContext().getObject())}const l=this._getMedianScaleFactor(a,o);if(l&&l.iShortRefNumber&&l.scale){s.setProperty(`scalefactor/${n}`,l.scale);s.setProperty(`scalefactorNumber/${n}`,l.iShortRefNumber)}else{s.setProperty(`scalefactor/${n}`,"");s.setProperty(`scalefactorNumber/${n}`,"");const e=t.byId(`${r}::ScaleUoMTitle`);const a=t.byId(`${r}::MeasureDimensionTitle`);const o=e.getText();if(o===" | "){e.setText("");a.setTooltip(a.getText())}}},_getMedianScaleFactor:function(e,t){let n;let a;e.sort(function(e,r){if(Number(e[t])<Number(r[t])){return-1}if(Number(e[t])>Number(r[t])){return 1}return 0});if(e.length>0){const r=e.length/2,o=r%1===0?(parseFloat(e[r-1][t])+parseFloat(e[r][t]))/2:parseFloat(e[Math.floor(r)][t]),s=o;for(n=0;n<14;n++){a=Math.pow(10,n);if(Math.round(Math.abs(s)/a)<10){break}}}const o=r.getIntegerInstance({style:"short",showScale:false,shortRefNumber:a});for(n=0;n<e.length;n++){const r=e[n],s=o.format(r[t]),i=s.split(".");if(!i[1]&&parseInt(i[0],10)===0||i[1]&&parseInt(i[0],10)===0&&i[1].indexOf("0")===0||s/1e3>=1e3){a=undefined;break}}return{iShortRefNumber:a,scale:a?o.getScale():""}},getFormattedNumber:function(e,t,n,a){let o;e=typeof e==="string"?Number(e.replace(/,/g,"")):e;if(a){const t=r.getCurrencyInstance({showMeasure:false});return t.format(parseFloat(e),a)}else if(t){o=r.getFloatInstance({style:"short",showScale:false,shortRefNumber:t,shortDecimals:n});return o.format(parseFloat(e))}else{o=r.getFloatInstance({decimals:n});return o.format(parseFloat(e))}},applyUOMToTitle:function(e,t,r,n){const a=e.data("uom");let o;let s;if(a&&a["ISOCurrency"]){o=a["ISOCurrency"];s=o.$Path?t[o.$Path]:o}else if(a&&a["Unit"]){o=a["Unit"]}if(o){const e=o.$Path?t[o.$Path]:o;const a=r.getBindingContext("internal");a.setProperty(`uom/${n}`,e);if(s){a.setProperty(`currency/${n}`,e)}}},updateChartScaleFactorTitle:function(e,t,n,a){if(!e.data("scalefactor")){this.applyMedianScaleToChartData(e,t,n,a)}else{const n=r.getIntegerInstance({style:"short",showScale:false,shortRefNumber:e.data("scalefactor")});const o=t.getBindingContext("internal");const s=n.getScale()?n.getScale():"";o.setProperty(`scalefactor/${a}`,s)}},applyErrorMessageAndTitle:function(e,t,r,n){const a=n.getBindingContext("internal");a.setProperty(r,{});a.setProperty(r,{errorMessageTitle:e,errorMessage:t,showError:true})},checkMulitUnit:function(e,t){const r=[];if(e&&t){for(let n=0;n<e.length;n++){const a=e[n]&&e[n].getObject();r.push(a[t])}}return!!r.reduce(function(e,t){return e===t?e:NaN})},setMultiUOMMessage:function(t,r,n,a,o){const s=r.data("uom");const i=s&&s["ISOCurrency"]&&s["ISOCurrency"].$Path;const l=s&&s["Unit"]&&s["Unit"].$Path;const c=i||l;let u,f;if(c){if(!this.checkMulitUnit(t,c)){if(i){u=a.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");f=a.getText("M_VISUAL_FILTERS_MULTIPLE_CURRENCY",c);this.applyErrorMessageAndTitle(u,f,n,o);e.warning(`Filter is set for multiple Currency for${c}`)}else if(l){u=a.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");f=a.getText("M_VISUAL_FILTERS_MULTIPLE_UNIT",c);this.applyErrorMessageAndTitle(u,f,n,o);e.warning(`Filter is set for multiple UOMs for${c}`)}}}},setNoDataMessage:function(e,t,r){const n=t.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE");const a=t.getText("M_VISUAL_FILTER_NO_DATA_TEXT");this.applyErrorMessageAndTitle(n,a,e,r)},convertFilterCondions:function(e){const t={};Object.keys(e).forEach(function(r){const a=[];const o=e[r];for(let e=0;e<o.length;e++){const t=o[e].value2?[o[e].value1,o[e].value2]:[o[e].value1];a.push(n.createCondition(o[e].operator,t,null,null,"Validated"))}if(a.length){t[r]=a}});return t},getCustomConditions:function(e,t,r){let n,a;if(t.$Type==="Edm.DateTimeOffset"){n=this._parseDateTime(o(this._formatDateTime(e.Low),t.$Type,e.option));a=e.High?this._parseDateTime(o(this._formatDateTime(e.High),t.$Type,e.option)):null}else{n=e.Low;a=e.High?e.High:null}return{operator:e.Option?s(e.Option.$EnumMember||e.Option):null,value1:n,value2:a,path:r}},_parseDateTime:function(e){return this._getDateTimeTypeInstance().parseValue(e,"string")},_formatDateTime:function(e){return this._getDateTimeTypeInstance().formatValue(e,"string")},_getDateTimeTypeInstance:function(){return new a({pattern:"yyyy-MM-ddTHH:mm:ssZ",calendarType:"Gregorian"},{V4:true})},getErrorInfoForNoInitialOverlay:function(e,t,r,n){let a;if(e.length>1){a={showError:true,errorMessageTitle:t.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:t.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_MULTIPLEVF")}}else if(e.length===1){const o=n.getObject(`${r}/${e[0]}@com.sap.vocabularies.Common.v1.Label`)||e[0];a={showError:true,errorMessageTitle:t.getText("M_VISUAL_FILTERS_ERROR_MESSAGE_TITLE"),errorMessage:t.getText("M_VISUAL_FILTERS_PROVIDE_FILTER_VAL_SINGLEVF",[o])}}return a}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/controls/massEdit/MassEditHandlers", ["sap/base/Log","sap/fe/core/helpers/ModelHelper","sap/fe/macros/internal/valuehelp/ValueListHelper","sap/ui/core/Core"],function(e,t,n,a){"use strict";const l={contextPropertyChange:function(e,t,n){const s=a.byId(n);const o=s&&s.getBindingContext();const i=s&&s.getModel("fieldsInfo");const u=i.getProperty(`/values/${t}`)||i.getProperty(`/unitData/${t}`)||[];if(o&&(u.inputType==="InputWithValueHelp"||u.inputType==="InputWithUnit")&&!u.valueListInfo){l._setValueListInfo(o,s,i,t)}const r=i&&i.getProperty("/isOpen");if(!r||!s.getVisible()){return}l._updateSelectKey(s,t,e)},handleMDCFieldChange:function(t,n){const a=t&&t.getSource();const s=t&&t.getParameter("promise");const o=a.getContent();if(!o||!n){return}s.then(l._updateSelectKeyForMDCFieldChange.bind(l,a,n)).catch(t=>{e.warning(`VHD selection couldn't be populated in the mass edit field.${t}`)})},handleSelectionChange:function(e){const t=e&&e.getSource();const n=t.getSelectedKey();const a=t&&n&&n.split("/");let s;if(a[0]==="UseValueHelpValue"){const n=e.getParameter("previousSelectedItem");const o=n.getKey();s=a.slice(1).join("/");l._onVHSelect(t,s,o);return}const o=t&&t.getModel("fieldsInfo");s=l._getPropertyNameFromKey(n);l._updateSuggestionForFieldsWithInParameters(o,s,n.startsWith("Default/")||n.startsWith("ClearFieldValue/"),true);l._updateSuggestionForFieldsWithOutParameters(o,s,n.startsWith("Default/")||n.startsWith("ClearFieldValue/"),false);l._updateResults(t,a,true)},_updateSelectKeyForMDCFieldChange:function(e,t,n){const a=e&&e.getBindingContext();const s=e&&e.getModel("fieldsInfo");const o=s.getProperty(`/values/${t}`)||s.getProperty(`/unitData/${t}`)||[];if(a&&(o.inputType==="InputWithValueHelp"||o.inputType==="InputWithUnit")&&!o.valueListInfo){l._setValueListInfo(a,e,s,t)}l._updateSuggestionForFieldsWithOutParameters(s,t,false,true);l._updateSuggestionForFieldsWithInParameters(s,t,false,true);const i=e.getFormFormattedValue();l._updateSelectKey(e,t,n,i)},_updateSuggestionForFieldsWithInParameters:function(e,t,n,a){const s=e.getProperty("/values");const o=e.getProperty("/unitData");const i=Object.keys(s);const u=Object.keys(o);i.forEach(l._updateInParameterSuggetions.bind(l,e,"/values/",t,n,a));u.forEach(l._updateInParameterSuggetions.bind(l,e,"/unitData/",t,n,a))},_updateInParameterSuggetions:function(e,t,n,a,s,o){const i=e.getProperty(`${t+o}/valueListInfo`);if(i&&n!=o){const u=i.inParameters;if(u&&u.length>0&&u.includes(n)){l._updateFieldPathSuggestions(e,t+o,a,s)}}},_updateSuggestionForFieldsWithOutParameters:function(e,t,n,a){const s=e.getProperty(`/values/${t}/valueListInfo`)||e.getProperty(`/unitData/${t}/valueListInfo`);if(s&&s.outParameters){const o=s.outParameters;if(o.length&&o.length>0){l._updateOutParameterSuggetions(o,e,n,a);const s=e.getProperty(`/values/${t}`)&&`/values/${t}`||e.getProperty(`/unitData/${t}`)&&`/unitData/${t}`;if(s){l._updateFieldPathSuggestions(e,s,false,true)}}}},_updateOutParameterSuggetions:function(e,t,n,a){const s=t.getProperty("/values");const o=t.getProperty("/unitData");const i=Object.keys(s);const u=Object.keys(o);e.forEach(e=>{if(i.includes(e)){l._updateFieldPathSuggestions(t,`/values/${e}`,n,a)}else if(u.includes(e)){l._updateFieldPathSuggestions(t,`/unitData/${e}`,n,a)}})},_updateFieldPathSuggestions:function(e,t,n,a){const l=e.getProperty(t);const s=l.defaultOptions;const o=e.getProperty(`${t}/selectedKey`);const i=a&&l.find(e=>e.key===o);if(n){const e=l.selectOptions;l.length=0;s.forEach(e=>l.push(e));e.forEach(e=>l.push(e))}else{l.length=0;s.forEach(e=>l.push(e))}e.setProperty(t,l);if(i&&!l.includes(i)){l.push(i);e.setProperty(`${t}/selectedKey`,o)}},_setValueListInfo:function(e,t,n,a){const s=n.getProperty(`/values/${a}`)&&"/values/"||n.getProperty(`/unitData/${a}`)&&"/unitData/";if(n.getProperty(`${s}${a}/valueListInfo`)){return}const o=n.getProperty(`${s}${a}/valueListInfo`);if(!o){l._requestValueList(e,t,n,a)}},_requestValueList:function(a,s,o,i){var u;const r=t.getMetaPathForContext(a);const d=r&&`${r}/${i}`;const c=s===null||s===void 0?void 0:s.getDependents();const g=s===null||s===void 0?void 0:s.getValueHelp();const p=c===null||c===void 0?void 0:c.find(e=>e.getId()===g);const f=(u=p.getDelegate())===null||u===void 0?void 0:u.payload;if(!(p!==null&&p!==void 0&&p.getBindingContext())){p===null||p===void 0?void 0:p.setBindingContext(a)}const y=a.getModel().getMetaModel();n.createVHUIModel(p,d,y);const P=n.getValueListInfo(p,d,f,y);P.then(e=>{const t=e[0];const a=o.getProperty(`/values/${i}`)&&"/values/"||o.getProperty(`/unitData/${i}`)&&"/unitData/";const s={inParameters:t.vhParameters&&n.getInParameters(t.vhParameters).map(e=>e.helpPath),outParameters:t.vhParameters&&n.getOutParameters(t.vhParameters).map(e=>e.helpPath)};o.setProperty(`${a}${i}/valueListInfo`,s);if(s.outParameters.length>0){l._updateFieldPathSuggestions(o,`/values/${i}`,false,true)}}).catch(()=>{e.warning(`Mass Edit: Couldn't load valueList info for ${d}`)})},_getValueHelp:function(e,t){const n=t===null||t===void 0?void 0:t.getDependents();const a=t===null||t===void 0?void 0:t.getValueHelp();return n===null||n===void 0?void 0:n.find(e=>e.getId()===a)},_onVHSelect:function(e,t,n){const a=e&&e.getModel("fieldsInfo");const s=a.getProperty(`/values/${t}`)&&"/values/"||a.getProperty(`/unitData/${t}`)&&"/unitData/";const o=e.getBindingContext();const i=l._getValueHelp(o,e.getParent());if(!(i!==null&&i!==void 0&&i.getBindingContext())){i===null||i===void 0?void 0:i.setBindingContext(o)}e.fireValueHelpRequest();a.setProperty(`${s+t}/selectedKey`,n)},_getPropertyNameFromKey:function(e){let t="";if(e.startsWith("Default/")||e.startsWith("ClearFieldValue/")||e.startsWith("UseValueHelpValue/")){t=e.substring(e.indexOf("/")+1)}else{t=e.substring(0,e.lastIndexOf("/"))}return t},_updateSelectKey:function(e,t,n,a){const s=e.getContent();if(!s||!t){return}let o=s.getSelectedKey();if((o.startsWith("Default/")||o.startsWith("ClearFieldValue/"))&&!n){return}const i=l._valueExists(a)?a:n;const u=e&&e.getModel("fieldsInfo");const r=u.getProperty(`/values/${t}`)||u.getProperty(`/unitData/${t}`)||[];const d=u.getProperty(`/values/${t}`)&&"/values/"||u.getProperty(`/unitData/${t}`)&&"/unitData/";const c=r.find(e=>{var t;return(e===null||e===void 0?void 0:(t=e.textInfo)===null||t===void 0?void 0:t.value)===n||e.text===n});if(c){if(a&&c.textInfo&&c.textInfo.descriptionPath&&(c.text!=i||c.textInfo.fullText!=i)){c.text=i;c.textInfo.fullText=i;c.textInfo.description=e.getAdditionalValue()}if(c.key===o){u.setProperty(`${d+t}/selectedKey`,o);return}o=c.key}else if(![undefined,null,""].includes(n)){o=`${t}/${n}`;const a={text:i,key:o,textInfo:{description:e.getAdditionalValue(),descriptionPath:r&&r.textInfo&&r.textInfo.descriptionPath,fullText:i,textArrangement:e.getDisplay(),value:e.getValue(),valuePath:t}};r.push(a);r.selectOptions=r.selectOptions||[];r.selectOptions.push(a);u.setProperty(d+t,r)}else{o=`Default/${t}`}u.setProperty(`${d+t}/selectedKey`,o);l._updateResults(s)},_getValue:function(e){var t;return e.getMetadata().getName()==="sap.fe.core.controls.MassEditSelect"?(t=e.getSelectedItem())===null||t===void 0?void 0:t.getText():e.getValue()},_getValueOnEmpty:function(e,t,n,a){if(!n){const l=t.getProperty(`/values/${a}`)||t.getProperty(`/unitData/${a}`)||[];if(l.unitProperty){n=0;e.setValue(n)}else if(l.inputType==="CheckBox"){n=false}}return n},_valueExists:function(e){return e!=undefined&&e!=null},_updateResults:function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let n=arguments.length>2?arguments[2]:undefined;const a=e&&e.getModel("fieldsInfo");const s=a&&a.getData();let o=l._getValue(e);t=t.length>0?t:e&&e.getSelectedKey()&&e.getSelectedKey().split("/");let i;const u=e.data("fieldPath");const r=e.data("propertyFullyQualifiedName");if(t[0]==="Default"){i={keyValue:t[1],propertyFullyQualifiedName:r,value:t[0]}}else if(t[0]==="ClearFieldValue"){o="";o=l._getValueOnEmpty(e,a,o,u);i={keyValue:t[1],propertyFullyQualifiedName:r,value:o}}else if(!t){o=l._getValueOnEmpty(e,a,o,u);i={keyValue:u,propertyFullyQualifiedName:r,value:o}}else{const e=t.slice(0,-1).join("/");const n=a.getProperty(`/values/${e}`)||a.getProperty(`/unitData/${e}`)||[];const s=(n||[]).find(function(e){var t;return(e===null||e===void 0?void 0:(t=e.textInfo)===null||t===void 0?void 0:t.value)===o||e.text===o});i={keyValue:e,propertyFullyQualifiedName:r,value:s.textInfo&&l._valueExists(s.textInfo.value)?s.textInfo.value:s.text}}let d=-1;for(let e=0;e<s.results.length;e++){if(s.results[e].keyValue===i.keyValue){d=e}}if(d!==-1){s.results[d]=i}else{s.results.push(i)}if(n&&!i.keyValue.includes("/")){const n=e.getBindingContext();if(t[0]==="Default"||t[0]==="ClearFieldValue"){n.setProperty(i.keyValue,null)}else if(i){n.setProperty(i.keyValue,i.value)}}}};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/ConverterContext", ["sap/fe/core/converters/ManifestWrapper","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper"],function(t,e,n,i){"use strict";var a=i.getTargetObjectPath;var r=i.getContextRelativeTargetObjectPath;var o=i.enhanceDataModelPath;var s=n.isServiceObject;var u=e.getInvolvedDataModelObjectFromPath;var h=e.convertTypes;const l=function(t){return typeof t==="object"};const c=function(t,e){let n;let i;let a;let r;let o=[];const u=[];t.objectPath.forEach(t=>{var e;if(s(t)){switch(t._type){case"NavigationProperty":o.push(t.name);u.push(t);r=t.targetType;if(a&&a.navigationPropertyBinding.hasOwnProperty(o.join("/"))){i=a.navigationPropertyBinding[o.join("/")];a=i;o=[]}else{i=undefined}break;case"EntitySet":if(n===undefined){n=t}i=t;a=i;r=(e=i)===null||e===void 0?void 0:e.entityType;break;default:break}}});const h={startingEntitySet:n,targetEntityType:r,targetEntitySet:i,navigationProperties:u,contextLocation:undefined,targetObject:t.target,convertedTypes:e};h.contextLocation=h;return h};let f=function(){function e(e,n,i,r,o){this.convertedTypes=e;this.manifestSettings=n;this.diagnostics=i;this.mergeFn=r;this.targetDataModelPath=o;this.manifestWrapper=new t(this.manifestSettings,r);this.baseContextPath=a(this.targetDataModelPath)}var n=e.prototype;n._getEntityTypeFromFullyQualifiedName=function t(e){return this.convertedTypes.entityTypes.find(t=>{if(e.startsWith(t.fullyQualifiedName)){const n=e.replace(t.fullyQualifiedName,"");return n.startsWith("/")||n.startsWith("@")}return false})};n.getAnnotationEntityType=function t(e){if(e){const t=e.fullyQualifiedName;const n=this._getEntityTypeFromFullyQualifiedName(t);if(!n){throw new Error(`Cannot find Entity Type for ${e.fullyQualifiedName}`)}return n}else{return this.targetDataModelPath.targetEntityType}};n.getManifestControlConfiguration=function t(e){if(l(e)){return this.manifestWrapper.getControlConfiguration(e.fullyQualifiedName.replace(this.targetDataModelPath.targetEntityType.fullyQualifiedName,""))}const n=this.manifestWrapper.hasMultipleEntitySets()&&this.baseContextPath!==`/${this.manifestWrapper.getEntitySet()}`?`${this.baseContextPath}/${e}`:e;return this.manifestWrapper.getControlConfiguration(n)};n.getAbsoluteAnnotationPath=function t(e){if(!e){return e}if(e[0]==="/"){return e}return`${this.baseContextPath}/${e}`};n.getEntitySet=function t(){return this.targetDataModelPath.targetEntitySet};n.getContextPath=function t(){return this.baseContextPath};n.getDataModelObjectPath=function t(){return this.targetDataModelPath};n.getEntityContainer=function t(){return this.convertedTypes.entityContainer};n.getEntityType=function t(){return this.targetDataModelPath.targetEntityType};n.getParameterEntityType=function t(){var e,n;const i=this.targetDataModelPath.startingEntitySet.entityType;const a=!!((e=i.annotations)!==null&&e!==void 0&&(n=e.Common)!==null&&n!==void 0&&n.ResultContext);return a&&i};n.getEntityTypeAnnotation=function t(n){if(!n.includes("@")){throw new Error(`Not an annotation path: '${n}'`)}const i=n.startsWith("/");let a;if(i){a=n}else{const t=this.getContextPath().split("@",1)[0];a=t.endsWith("/")?t+n:`${t}/${n}`}const r=this.resolveAbsolutePath(a);const o=u({target:r.target,visitedObjects:r.objectPath},this.convertedTypes,i?undefined:this.targetDataModelPath.contextLocation,true);return{annotation:r.target,converterContext:new e(this.convertedTypes,this.manifestSettings,this.diagnostics,this.mergeFn,o)}};n.getTemplateType=function t(){return this.manifestWrapper.getTemplateType()};n.getConvertedTypes=function t(){return this.convertedTypes};n.getRelativeAnnotationPath=function t(e,n){return e.replace(n.fullyQualifiedName,"")};n.getEntitySetBasedAnnotationPath=function t(e){if(!e){return e}const n=this.targetDataModelPath.targetEntityType.fullyQualifiedName;if(this.targetDataModelPath.targetEntitySet||(this.baseContextPath.startsWith("/")&&this.baseContextPath.match(/\//g)||[]).length>1){let t=e.replace(n,"/");if(t.length>2&&t[0]==="/"&&t[1]==="/"){t=t.substring(1)}return this.baseContextPath+(t.startsWith("/")?t:`/${t}`)}else{return`/${e}`}};n.getManifestWrapper=function t(){return this.manifestWrapper};n.getDiagnostics=function t(){return this.diagnostics};n.resolveAbsolutePath=function t(e){return this.convertedTypes.resolvePath(e)};n.getConverterContextFor=function t(n){const i=this.convertedTypes.resolvePath(n);const a=c(i,this.convertedTypes);return new e(this.convertedTypes,this.manifestSettings,this.diagnostics,this.mergeFn,a)};n.getAnnotationsByTerm=function t(e,n){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[this.getEntityType()];let a=[];i.forEach(t=>{if(t){const i=(t===null||t===void 0?void 0:t.annotations[e])||{};if(i){a=Object.keys(i).filter(t=>i[t].term===n).reduce((t,e)=>{t.push(i[e]);return t},a)}}});return a};n.getRelativeModelPathFunction=function t(){const e=this.targetDataModelPath;return function(t){const n=o(e,t);return r(n,true)}};e.createConverterContextForMacro=function t(n,i,a,r,o){let s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};const u=i.isA("sap.ui.model.odata.v4.ODataMetaModel")?i:i.getModel();const l=h(u);let c=l.entitySets.find(t=>t.name===n);if(!c){c=l.singletons.find(t=>t.name===n)}if(!o||c!==o.startingEntitySet){o={startingEntitySet:c,navigationProperties:[],targetEntitySet:c,targetEntityType:c.entityType,targetObject:c,convertedTypes:l}}return new e(l,s,a,r,o)};return e}();return f},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/ManifestSettings", [],function(){"use strict";var e={};let t;(function(e){e["ListReport"]="ListReport";e["ObjectPage"]="ObjectPage";e["AnalyticalListPage"]="AnalyticalListPage";e["FreeStylePage"]="None"})(t||(t={}));e.TemplateType=t;let n;(function(e){e["DataFieldForAction"]="ForAction";e["DataFieldForIntentBasedNavigation"]="ForNavigation";e["Default"]="Default";e["Primary"]="Primary";e["Secondary"]="Secondary";e["SwitchToActiveObject"]="SwitchToActiveObject";e["SwitchToDraftObject"]="SwitchToDraftObject";e["DraftActions"]="DraftActions";e["CollaborationAvatars"]="CollaborationAvatars";e["DefaultApply"]="DefaultApply";e["Menu"]="Menu";e["ShowFormDetails"]="ShowFormDetails";e["Copy"]="Copy";e["Cut"]="Cut";e["Standard"]="Standard"})(n||(n={}));e.ActionType=n;let i;(function(e){e["Auto"]="Auto";e["None"]="None";e["Multi"]="Multi";e["Single"]="Single";e["ForceMulti"]="ForceMulti";e["ForceSingle"]="ForceSingle"})(i||(i={}));e.SelectionMode=i;let o;(function(e){e["Page"]="Page";e["Control"]="Control";e["None"]="None"})(o||(o={}));e.VariantManagementType=o;let a;(function(e){e["NewPage"]="NewPage";e["Inline"]="Inline";e["CreationRow"]="CreationRow";e["InlineCreationRows"]="InlineCreationRows";e["External"]="External"})(a||(a={}));e.CreationMode=a;let l;(function(e){e["Table"]="Table";e["Chart"]="Chart";e["MultiDimensionalGrid"]="MultiDimensionalGrid"})(l||(l={}));e.VisualizationType=l;let r;(function(e){e["High"]="High";e["Medium"]="Medium";e["Low"]="Low";e["None"]="None"})(r||(r={}));e.Importance=r;let c;(function(e){e["End"]="End";e["Begin"]="Begin";e["Center"]="Center"})(c||(c={}));e.HorizontalAlign=c;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/ManifestWrapper", ["sap/fe/core/converters/ManifestSettings","sap/ui/Device"],function(t,n){"use strict";var i=t.VariantManagementType;function e(t,n){const i=t===null||t===void 0?void 0:t[n];if(Array.isArray(i)){i.forEach(t=>e(t,"annotationPath"))}else if(i&&!i.includes("@")){t[n]="@"+i}}let o=function(){function t(t,n){var i;this.oManifestSettings=t;this.mergeFn=n;e(this.oManifestSettings,"defaultTemplateAnnotationPath");(i=this.oManifestSettings.views)===null||i===void 0?void 0:i.paths.forEach(t=>{e(t,"annotationPath");e(t,"primary");e(t,"secondary")});if(this.oManifestSettings.controlConfiguration){for(const t of Object.values(this.oManifestSettings.controlConfiguration)){var o;const n=(o=t.tableSettings)===null||o===void 0?void 0:o.quickVariantSelection;e(n,"paths")}}}var o=t.prototype;o.getTemplateType=function t(){return this.oManifestSettings.converterType};o.isFilterBarHidden=function t(){var n;return!!((n=this.oManifestSettings)!==null&&n!==void 0&&n.hideFilterBar)};o.useHiddenFilterBar=function t(){var n;return!!((n=this.oManifestSettings)!==null&&n!==void 0&&n.useHiddenFilterBar)};o.isDesktop=function t(){return!!this.oManifestSettings.isDesktop};o.isPhone=function t(){return!!this.oManifestSettings.isPhone};o.getFormContainer=function t(n){var i;return(i=this.oManifestSettings.controlConfiguration)===null||i===void 0?void 0:i[n]};o.getHeaderFacets=function t(){var n,i,e,o;return this.mergeFn({},(n=this.oManifestSettings.controlConfiguration)===null||n===void 0?void 0:(i=n["@com.sap.vocabularies.UI.v1.HeaderFacets"])===null||i===void 0?void 0:i.facets,(e=this.oManifestSettings.content)===null||e===void 0?void 0:(o=e.header)===null||o===void 0?void 0:o.facets)};o.getHeaderActions=function t(){var n,i;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.header)===null||i===void 0?void 0:i.actions)||{}};o.getFooterActions=function t(){var n,i;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.footer)===null||i===void 0?void 0:i.actions)||{}};o.getVariantManagement=function t(){return this.oManifestSettings.variantManagement||i.None};o.getDefaultTemplateAnnotationPath=function t(){return this.oManifestSettings.defaultTemplateAnnotationPath};o.getControlConfiguration=function t(n){var i,e;return((i=this.oManifestSettings)===null||i===void 0?void 0:(e=i.controlConfiguration)===null||e===void 0?void 0:e[n])||{}};o.getNavigationConfiguration=function t(n){var i,e;return((i=this.oManifestSettings)===null||i===void 0?void 0:(e=i.navigation)===null||e===void 0?void 0:e[n])||{}};o.getViewLevel=function t(){var n;return((n=this.oManifestSettings)===null||n===void 0?void 0:n.viewLevel)||-1};o.getContentDensities=function t(){var n;return((n=this.oManifestSettings)===null||n===void 0?void 0:n.contentDensities)||{cozy:false,compact:false}};o.isFclEnabled=function t(){var n;return!!((n=this.oManifestSettings)!==null&&n!==void 0&&n.fclEnabled)};o.isCondensedLayoutCompliant=function t(){var i,e;const o=((i=this.oManifestSettings)===null||i===void 0?void 0:i.contentDensities)||{cozy:false,compact:false};const s=((e=this.oManifestSettings)===null||e===void 0?void 0:e.shellContentDensity)||"compact";let t=true;const a=!n.system.desktop||n.resize.width<=320;if((o===null||o===void 0?void 0:o.cozy)===true&&(o===null||o===void 0?void 0:o.compact)!==true||s==="cozy"||a){t=false}return t};o.isCompactType=function t(){var n;const i=this.getContentDensities();const e=((n=this.oManifestSettings)===null||n===void 0?void 0:n.shellContentDensity)||"compact";return i.compact!==false||e==="compact"?true:false};o.getSectionLayout=function t(){return this.oManifestSettings.sectionLayout??"Tabs"};o.getSections=function t(){var n,i,e,o;return this.mergeFn({},(n=this.oManifestSettings.controlConfiguration)===null||n===void 0?void 0:(i=n["@com.sap.vocabularies.UI.v1.Facets"])===null||i===void 0?void 0:i.sections,(e=this.oManifestSettings.content)===null||e===void 0?void 0:(o=e.body)===null||o===void 0?void 0:o.sections)};o.isHeaderEditable=function t(){return this.getShowObjectPageHeader()&&!!this.oManifestSettings.editableHeaderContent};o.getShowAnchorBar=function t(){var n,i,e,o;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.header)===null||i===void 0?void 0:i.anchorBarVisible)!==undefined?!!((e=this.oManifestSettings.content)!==null&&e!==void 0&&(o=e.header)!==null&&o!==void 0&&o.anchorBarVisible):true};o.useIconTabBar=function t(){return this.getShowAnchorBar()&&this.oManifestSettings.sectionLayout==="Tabs"};o.getShowObjectPageHeader=function t(){var n,i,e,o;return((n=this.oManifestSettings.content)===null||n===void 0?void 0:(i=n.header)===null||i===void 0?void 0:i.visible)!==undefined?!!((e=this.oManifestSettings.content)!==null&&e!==void 0&&(o=e.header)!==null&&o!==void 0&&o.visible):true};o.getEnableLazyLoading=function t(){return this.oManifestSettings.enableLazyLoading??false};o.getViewConfiguration=function t(){return this.oManifestSettings.views};o.getStickyMultiTabHeaderConfiguration=function t(){const n=this.oManifestSettings.stickyMultiTabHeader;return n!==undefined?n:true};o.getKPIConfiguration=function t(){return this.oManifestSettings.keyPerformanceIndicators||{}};o.getFilterConfiguration=function t(){return this.getControlConfiguration("@com.sap.vocabularies.UI.v1.SelectionFields")};o.hasMultipleEntitySets=function t(){const n=this.getViewConfiguration()||{paths:[]};const i=this.oManifestSettings.entitySet;return n.paths.find(t=>{var n;if((n=t)!==null&&n!==void 0&&n.template){return undefined}else if(this.hasMultipleVisualizations(t)){const{primary:n,secondary:e}=t;return n.some(t=>t.entitySet&&t.entitySet!==i)||e.some(t=>t.entitySet&&t.entitySet!==i)}else{t=t;return t.entitySet&&t.entitySet!==i}})!==undefined};o.getContextPath=function t(){var n;return(n=this.oManifestSettings)===null||n===void 0?void 0:n.contextPath};o.hasMultipleVisualizations=function t(n){var i,e;if(!n){const t=this.getViewConfiguration()||{paths:[]};return t.paths.some(t=>{var n,i;return((n=t.primary)===null||n===void 0?void 0:n.length)>0&&((i=t.secondary)===null||i===void 0?void 0:i.length)>0})}return((i=n.primary)===null||i===void 0?void 0:i.length)>0&&((e=n.secondary)===null||e===void 0?void 0:e.length)>0};o.getEntitySet=function t(){return this.oManifestSettings.entitySet};return t}();return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/MetaModelConverter", ["sap/fe/core/converters/common/AnnotationConverter","sap/fe/core/helpers/TypeGuards","../helpers/StableIdHelper"],function(e,t,n){"use strict";var i={};var o=n.prepareId;var a=t.isSingleton;var r=t.isServiceObject;var l=t.isNavigationProperty;var s=t.isEntityType;var p=t.isEntitySet;var y=t.isEntityContainer;const f={Chart:true,MicroChart:true,UShell:true,IntentBasedNavigation:true,AppState:true,InsightsSupported:false};i.DefaultEnvironmentCapabilities=f;function c(e,t,n,i,o){let a;const r=typeof e;if(e===null){a={type:"Null",Null:null}}else if(r==="string"){a={type:"String",String:e}}else if(r==="boolean"){a={type:"Bool",Bool:e}}else if(r==="number"){a={type:"Int",Int:e}}else if(Array.isArray(e)){a={type:"Collection",Collection:e.map((e,a)=>u(e,`${n}/${t}/${a}`,i,o))};if(e.length>0){if(e[0].hasOwnProperty("$PropertyPath")){a.Collection.type="PropertyPath"}else if(e[0].hasOwnProperty("$Path")){a.Collection.type="Path"}else if(e[0].hasOwnProperty("$NavigationPropertyPath")){a.Collection.type="NavigationPropertyPath"}else if(e[0].hasOwnProperty("$AnnotationPath")){a.Collection.type="AnnotationPath"}else if(e[0].hasOwnProperty("$Type")){a.Collection.type="Record"}else if(e[0].hasOwnProperty("$If")){a.Collection.type="If"}else if(e[0].hasOwnProperty("$Or")){a.Collection.type="Or"}else if(e[0].hasOwnProperty("$And")){a.Collection.type="And"}else if(e[0].hasOwnProperty("$Eq")){a.Collection.type="Eq"}else if(e[0].hasOwnProperty("$Ne")){a.Collection.type="Ne"}else if(e[0].hasOwnProperty("$Not")){a.Collection.type="Not"}else if(e[0].hasOwnProperty("$Gt")){a.Collection.type="Gt"}else if(e[0].hasOwnProperty("$Ge")){a.Collection.type="Ge"}else if(e[0].hasOwnProperty("$Lt")){a.Collection.type="Lt"}else if(e[0].hasOwnProperty("$Le")){a.Collection.type="Le"}else if(e[0].hasOwnProperty("$Apply")){a.Collection.type="Apply"}else if(typeof e[0]==="object"){a.Collection.type="Record"}else{a.Collection.type="String"}}}else if(e.$Path!==undefined){a={type:"Path",Path:e.$Path}}else if(e.$Decimal!==undefined){a={type:"Decimal",Decimal:parseFloat(e.$Decimal)}}else if(e.$PropertyPath!==undefined){a={type:"PropertyPath",PropertyPath:e.$PropertyPath}}else if(e.$NavigationPropertyPath!==undefined){a={type:"NavigationPropertyPath",NavigationPropertyPath:e.$NavigationPropertyPath}}else if(e.$If!==undefined){a={type:"If",If:e.$If}}else if(e.$And!==undefined){a={type:"And",And:e.$And}}else if(e.$Or!==undefined){a={type:"Or",Or:e.$Or}}else if(e.$Not!==undefined){a={type:"Not",Not:e.$Not}}else if(e.$Eq!==undefined){a={type:"Eq",Eq:e.$Eq}}else if(e.$Ne!==undefined){a={type:"Ne",Ne:e.$Ne}}else if(e.$Gt!==undefined){a={type:"Gt",Gt:e.$Gt}}else if(e.$Ge!==undefined){a={type:"Ge",Ge:e.$Ge}}else if(e.$Lt!==undefined){a={type:"Lt",Lt:e.$Lt}}else if(e.$Le!==undefined){a={type:"Le",Le:e.$Le}}else if(e.$Apply!==undefined){a={type:"Apply",Apply:e.$Apply,Function:e.$Function}}else if(e.$AnnotationPath!==undefined){a={type:"AnnotationPath",AnnotationPath:e.$AnnotationPath}}else if(e.$EnumMember!==undefined){a={type:"EnumMember",EnumMember:e.$EnumMember}}else{a={type:"Record",Record:u(e,n,i,o)}}return{name:t,value:a}}function u(e,t,n,i){let o={};const a=typeof e;if(e===null){o={type:"Null",Null:null}}else if(a==="string"){o={type:"String",String:e}}else if(a==="boolean"){o={type:"Bool",Bool:e}}else if(a==="number"){o={type:"Int",Int:e}}else if(e.$AnnotationPath!==undefined){o={type:"AnnotationPath",AnnotationPath:e.$AnnotationPath}}else if(e.$Path!==undefined){o={type:"Path",Path:e.$Path}}else if(e.$Decimal!==undefined){o={type:"Decimal",Decimal:parseFloat(e.$Decimal)}}else if(e.$PropertyPath!==undefined){o={type:"PropertyPath",PropertyPath:e.$PropertyPath}}else if(e.$If!==undefined){o={type:"If",If:e.$If}}else if(e.$And!==undefined){o={type:"And",And:e.$And}}else if(e.$Or!==undefined){o={type:"Or",Or:e.$Or}}else if(e.$Not!==undefined){o={type:"Not",Not:e.$Not}}else if(e.$Eq!==undefined){o={type:"Eq",Eq:e.$Eq}}else if(e.$Ne!==undefined){o={type:"Ne",Ne:e.$Ne}}else if(e.$Gt!==undefined){o={type:"Gt",Gt:e.$Gt}}else if(e.$Ge!==undefined){o={type:"Ge",Ge:e.$Ge}}else if(e.$Lt!==undefined){o={type:"Lt",Lt:e.$Lt}}else if(e.$Le!==undefined){o={type:"Le",Le:e.$Le}}else if(e.$Apply!==undefined){o={type:"Apply",Apply:e.$Apply,Function:e.$Function}}else if(e.$NavigationPropertyPath!==undefined){o={type:"NavigationPropertyPath",NavigationPropertyPath:e.$NavigationPropertyPath}}else if(e.$EnumMember!==undefined){o={type:"EnumMember",EnumMember:e.$EnumMember}}else if(Array.isArray(e)){const a=o;a.collection=e.map((e,o)=>u(e,`${t}/${o}`,n,i));if(e.length>0){if(e[0].hasOwnProperty("$PropertyPath")){a.collection.type="PropertyPath"}else if(e[0].hasOwnProperty("$Path")){a.collection.type="Path"}else if(e[0].hasOwnProperty("$NavigationPropertyPath")){a.collection.type="NavigationPropertyPath"}else if(e[0].hasOwnProperty("$AnnotationPath")){a.collection.type="AnnotationPath"}else if(e[0].hasOwnProperty("$Type")){a.collection.type="Record"}else if(e[0].hasOwnProperty("$If")){a.collection.type="If"}else if(e[0].hasOwnProperty("$And")){a.collection.type="And"}else if(e[0].hasOwnProperty("$Or")){a.collection.type="Or"}else if(e[0].hasOwnProperty("$Eq")){a.collection.type="Eq"}else if(e[0].hasOwnProperty("$Ne")){a.collection.type="Ne"}else if(e[0].hasOwnProperty("$Not")){a.collection.type="Not"}else if(e[0].hasOwnProperty("$Gt")){a.collection.type="Gt"}else if(e[0].hasOwnProperty("$Ge")){a.collection.type="Ge"}else if(e[0].hasOwnProperty("$Lt")){a.collection.type="Lt"}else if(e[0].hasOwnProperty("$Le")){a.collection.type="Le"}else if(e[0].hasOwnProperty("$Apply")){a.collection.type="Apply"}else if(typeof e[0]==="object"){a.collection.type="Record"}else{a.collection.type="String"}}}else{if(e.$Type){const t=e.$Type;o.type=t}const a=[];Object.keys(e).forEach(o=>{if(o!=="$Type"&&o!=="$If"&&o!=="$Apply"&&o!=="$And"&&o!=="$Or"&&o!=="$Ne"&&o!=="$Gt"&&o!=="$Ge"&&o!=="$Lt"&&o!=="$Le"&&o!=="$Not"&&o!=="$Eq"&&!o.startsWith("@")){a.push(c(e[o],o,t,n,i))}else if(o.startsWith("@")){v({[o]:e[o]},t,n,i)}});o.propertyValues=a}return o}function $(e,t){if(!t.hasOwnProperty(e)){t[e]={target:e,annotations:[]}}return t[e]}function d(e){const t=e.ID??e.Target.$AnnotationPath;return t?o(t):t}function h(e){return e.filter(e=>{if(e.Target&&e.Target.$AnnotationPath){return e.Target.$AnnotationPath.indexOf(`@${"com.sap.vocabularies.UI.v1.Chart"}`)===-1}else{return true}})}function P(e){return e.filter(e=>e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")}function m(e){return e.filter(e=>e.$AnnotationPath!==`@${"com.sap.vocabularies.UI.v1.Chart"}`)}function v(e,t,n,i){var o;if(Object.keys(e).length===0){return}const a=$(t,n);if(!i.MicroChart){delete e[`@${"com.sap.vocabularies.UI.v1.Chart"}`]}for(const r in e){let l=r;let s=e[l];switch(l){case`@${"com.sap.vocabularies.UI.v1.HeaderFacets"}`:if(!i.MicroChart){s=h(s);e[l]=s}break;case`@${"com.sap.vocabularies.UI.v1.Identification"}`:if(!i.IntentBasedNavigation){s=P(s);e[l]=s}break;case`@${"com.sap.vocabularies.UI.v1.LineItem"}`:if(!i.IntentBasedNavigation){s=P(s);e[l]=s}if(!i.MicroChart){s=h(s);e[l]=s}break;case`@${"com.sap.vocabularies.UI.v1.FieldGroup"}`:if(!i.IntentBasedNavigation){s.Data=P(s.Data);e[l]=s}if(!i.MicroChart){s.Data=h(s.Data);e[l]=s}break;case`@${"com.sap.vocabularies.UI.v1.PresentationVariant"}`:if(!i.Chart&&s.Visualizations){s.Visualizations=m(s.Visualizations);e[l]=s}break;case`@com.sap.vocabularies.Common.v1.DraftRoot`:if(e[`@Org.OData.Capabilities.V1.FilterRestrictions`]&&(o=e[`@Org.OData.Capabilities.V1.FilterRestrictions`].FilterExpressionRestrictions)!==null&&o!==void 0&&o.length){if(!e[`@Org.OData.Capabilities.V1.FilterRestrictions`].FilterExpressionRestrictions.some(e=>{var t;return e===null||e===void 0?void 0:(t=e.Property)===null||t===void 0?void 0:t.$PropertyPath.includes("DraftAdministrativeData")})){e[`@Org.OData.Capabilities.V1.FilterRestrictions`].FilterExpressionRestrictions.push({$Type:"Org.OData.Capabilities.V1.FilterExpressionRestrictionType",AllowedExpressions:"SingleRange",Property:{$PropertyPath:"DraftAdministrativeData/CreationDateTime"}},{$Type:"Org.OData.Capabilities.V1.FilterExpressionRestrictionType",AllowedExpressions:"SingleRange",Property:{$PropertyPath:"DraftAdministrativeData/LastChangeDateTime"}})}}break;default:break}let p=a;const y=l.split("@");if(y.length>2){p=$(`${t}@${y[1]}`,n);l=y[2]}else{l=y[1]}const f=l.split("#");const d=f[1];l=f[0];const g={term:l,qualifier:d};let N=`${t}@${g.term}`;if(d){N+=`#${d}`}let O=false;const b=typeof s;if(s===null){g.value={type:"Null"}}else if(b==="string"){g.value={type:"String",String:s}}else if(b==="boolean"){g.value={type:"Bool",Bool:s}}else if(b==="number"){g.value={type:"Int",Int:s}}else if(s.$If!==undefined){g.value={type:"If",If:s.$If}}else if(s.$And!==undefined){g.value={type:"And",And:s.$And}}else if(s.$Or!==undefined){g.value={type:"Or",Or:s.$Or}}else if(s.$Not!==undefined){g.value={type:"Not",Not:s.$Not}}else if(s.$Eq!==undefined){g.value={type:"Eq",Eq:s.$Eq}}else if(s.$Ne!==undefined){g.value={type:"Ne",Ne:s.$Ne}}else if(s.$Gt!==undefined){g.value={type:"Gt",Gt:s.$Gt}}else if(s.$Ge!==undefined){g.value={type:"Ge",Ge:s.$Ge}}else if(s.$Lt!==undefined){g.value={type:"Lt",Lt:s.$Lt}}else if(s.$Le!==undefined){g.value={type:"Le",Le:s.$Le}}else if(s.$Apply!==undefined){g.value={type:"Apply",Apply:s.$Apply,Function:s.$Function}}else if(s.$Path!==undefined){g.value={type:"Path",Path:s.$Path}}else if(s.$AnnotationPath!==undefined){g.value={type:"AnnotationPath",AnnotationPath:s.$AnnotationPath}}else if(s.$Decimal!==undefined){g.value={type:"Decimal",Decimal:parseFloat(s.$Decimal)}}else if(s.$EnumMember!==undefined){g.value={type:"EnumMember",EnumMember:s.$EnumMember}}else if(Array.isArray(s)){O=true;g.collection=s.map((e,t)=>u(e,`${N}/${t}`,n,i));if(s.length>0){if(s[0].hasOwnProperty("$PropertyPath")){g.collection.type="PropertyPath"}else if(s[0].hasOwnProperty("$Path")){g.collection.type="Path"}else if(s[0].hasOwnProperty("$NavigationPropertyPath")){g.collection.type="NavigationPropertyPath"}else if(s[0].hasOwnProperty("$AnnotationPath")){g.collection.type="AnnotationPath"}else if(s[0].hasOwnProperty("$Type")){g.collection.type="Record"}else if(s[0].hasOwnProperty("$If")){g.collection.type="If"}else if(s[0].hasOwnProperty("$Or")){g.collection.type="Or"}else if(s[0].hasOwnProperty("$Eq")){g.collection.type="Eq"}else if(s[0].hasOwnProperty("$Ne")){g.collection.type="Ne"}else if(s[0].hasOwnProperty("$Not")){g.collection.type="Not"}else if(s[0].hasOwnProperty("$Gt")){g.collection.type="Gt"}else if(s[0].hasOwnProperty("$Ge")){g.collection.type="Ge"}else if(s[0].hasOwnProperty("$Lt")){g.collection.type="Lt"}else if(s[0].hasOwnProperty("$Le")){g.collection.type="Le"}else if(s[0].hasOwnProperty("$And")){g.collection.type="And"}else if(s[0].hasOwnProperty("$Apply")){g.collection.type="Apply"}else if(typeof s[0]==="object"){g.collection.type="Record"}else{g.collection.type="String"}}}else{const e={propertyValues:[]};if(s.$Type){const t=s.$Type;e.type=`${t}`}const t=[];for(const e in s){if(e!=="$Type"&&!e.startsWith("@")){t.push(c(s[e],e,N,n,i))}else if(e.startsWith("@")){v({[e]:s[e]},N,n,i)}}e.propertyValues=t;g.record=e}g.isCollection=O;p.annotations.push(g)}}function g(e,t,n){return{_type:"Property",name:n,fullyQualifiedName:`${t.fullyQualifiedName}/${n}`,type:e.$Type,maxLength:e.$MaxLength,precision:e.$Precision,scale:e.$Scale,nullable:e.$Nullable}}function N(e,t,n){let i=[];if(e.$ReferentialConstraint){i=Object.keys(e.$ReferentialConstraint).map(n=>({sourceTypeName:t.name,sourceProperty:n,targetTypeName:e.$Type,targetProperty:e.$ReferentialConstraint[n]}))}const o={_type:"NavigationProperty",name:n,fullyQualifiedName:`${t.fullyQualifiedName}/${n}`,partner:e.$Partner,isCollection:e.$isCollection?e.$isCollection:false,containsTarget:e.$ContainsTarget,targetTypeName:e.$Type,referentialConstraint:i};return o}function O(e,t){if(e){return Object.fromEntries(Object.entries(e).map(e=>{let[n,i]=e;return[n,`${t}/${i}`]}))}return{}}function b(e,t,n){return{_type:"EntitySet",name:t,navigationPropertyBinding:O(e.$NavigationPropertyBinding,n),entityTypeName:e.$Type,fullyQualifiedName:`${n}/${t}`}}function A(e,t,n){return{_type:"Singleton",name:t,navigationPropertyBinding:O(e.$NavigationPropertyBinding,n),entityTypeName:e.$Type,fullyQualifiedName:`${n}/${t}`,nullable:true}}function T(e,t,n){return{_type:"ActionImport",name:t,fullyQualifiedName:`${n}/${t}`,actionName:e.$Action}}function C(e,t,n){const i={_type:"TypeDefinition",name:t.substring(n.length),fullyQualifiedName:t,underlyingType:e.$UnderlyingType};return i}function I(e,t,n){const i={_type:"ComplexType",name:t.substring(n.length),fullyQualifiedName:t,properties:[],navigationProperties:[]};const o=Object.keys(e).filter(t=>{if(t!="$Key"&&t!="$kind"){return e[t].$kind==="Property"}}).sort((e,t)=>e>t?1:-1).map(t=>g(e[t],i,t));i.properties=o;const a=Object.keys(e).filter(t=>{if(t!="$Key"&&t!="$kind"){return e[t].$kind==="NavigationProperty"}}).sort((e,t)=>e>t?1:-1).map(t=>N(e[t],i,t));i.navigationProperties=a;return i}function w(e,t){if(!e.$Key&&e.$BaseType){return w(t[e.$BaseType],t)}return e.$Key??[]}function E(e,t,n,i){var o,a,r;const l={_type:"EntityType",name:t.substring(n.length),fullyQualifiedName:t,keys:[],entityProperties:[],navigationProperties:[],actions:{}};for(const t in e){const n=e[t];switch(n.$kind){case"Property":const e=g(n,l,t);l.entityProperties.push(e);break;case"NavigationProperty":const i=N(n,l,t);l.navigationProperties.push(i);break}}l.keys=w(e,i).map(e=>l.entityProperties.find(t=>t.name===e)).filter(e=>e!==undefined);(o=i.$Annotations[l.fullyQualifiedName])===null||o===void 0?void 0:(a=o[`@${"com.sap.vocabularies.UI.v1.FilterFacets"}`])===null||a===void 0?void 0:a.forEach(e=>{e.ID=d(e)});if(!!(l!==null&&l!==void 0&&l.keys.length)&&i.$Annotations[l.fullyQualifiedName]&&!((r=i.$Annotations[l.fullyQualifiedName])!==null&&r!==void 0&&r[`@${"com.sap.vocabularies.UI.v1.HeaderInfo"}`])){const e={$Type:`${"com.sap.vocabularies.UI.v1.HeaderInfoType"}`,TypeName:`${l.name}`,TypeNamePlural:"",Title:{$Type:`${"com.sap.vocabularies.UI.v1.DataField"}`,Value:{$Path:`${l.keys[0].name}`}}};i.$Annotations[l.fullyQualifiedName][`@${"com.sap.vocabularies.UI.v1.HeaderInfo"}`]=e}for(const e of l.entityProperties){if(!i.$Annotations[e.fullyQualifiedName]){i.$Annotations[e.fullyQualifiedName]={}}if(!i.$Annotations[e.fullyQualifiedName][`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`]){i.$Annotations[e.fullyQualifiedName][`@${"com.sap.vocabularies.UI.v1.DataFieldDefault"}`]={$Type:"com.sap.vocabularies.UI.v1.DataField",Value:{$Path:e.name}}}}return l}function D(e,t,n){var i,o;let a;if(e.$kind==="Function"){a=e.$Parameter??[]}else{a=e.$IsBound?[e.$Parameter[0]]:[]}const r=a.map(e=>e.$isCollection?`Collection(${e.$Type})`:e.$Type).join(",");const l=`${t}(${r})`;const s=e.$Parameter??[];return{_type:"Action",name:t.substring(n.length),fullyQualifiedName:l,isBound:e.$IsBound??false,isFunction:e.$kind==="Function",sourceType:((i=a[0])===null||i===void 0?void 0:i.$Type)??"",returnType:((o=e.$ReturnType)===null||o===void 0?void 0:o.$Type)??"",parameters:s.map(e=>({_type:"ActionParameter",fullyQualifiedName:`${l}/${e.$Name}`,isCollection:e.$isCollection??false,name:e.$Name,type:e.$Type,nullable:e.$Nullable??false,maxLength:e.$MaxLength,precision:e.$Precision,scale:e.$Scale}))}}function L(e,t,n,i){i.entityContainer={_type:"EntityContainer",name:t.substring(e.length),fullyQualifiedName:t};for(const e in n){const o=n[e];switch(o.$kind){case"EntitySet":i.entitySets.push(b(o,e,t));break;case"Singleton":i.singletons.push(A(o,e,t));break;case"ActionImport":i.actionImports.push(T(o,e,t));break}}}function G(e,t){const n={};for(const i in e){v(e[i],i,n,t)}return Object.values(n)}function k(e){const t=Object.keys(e).find(t=>e[t].$kind==="Schema")??"";const n={namespace:t.slice(0,-1),entityContainer:{_type:"EntityContainer",name:"",fullyQualifiedName:""},entitySets:[],entityTypes:[],complexTypes:[],typeDefinitions:[],singletons:[],associations:[],associationSets:[],actions:[],actionImports:[],annotations:{}};const i=(i,o)=>{switch(o.$kind){case"EntityContainer":L(t,i,o,n);break;case"Action":case"Function":n.actions.push(D(o,i,t));break;case"EntityType":n.entityTypes.push(E(o,i,t,e));break;case"ComplexType":n.complexTypes.push(I(o,i,t));break;case"TypeDefinition":n.typeDefinitions.push(C(o,i,t));break}};for(const t in e){const n=e[t];if(Array.isArray(n)){for(const e of n){i(t,e)}}else{i(t,n)}}return n}function S(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:f;const i={identification:"metamodelResult",version:"4.0",references:[]};e.lazy(i,"schema",()=>{const i=t.getObject("/$");const o=k(i);e.lazy(o.annotations,"metamodelResult",()=>G(i.$Annotations,n));return o});return i}i.parseMetaModel=S;const F={};function M(t,n){const i=t.id;if(!F.hasOwnProperty(i)){const o=S(t,n);try{F[i]=e.convert(o)}catch(e){throw new Error(e)}}return F[i]}i.convertTypes=M;function j(e){const t=e.getModel();if(!t.isA("sap.ui.model.odata.v4.ODataMetaModel")){throw new Error("This should only be called on a ODataMetaModel")}return M(t)}i.getConvertedTypes=j;function B(e){if(e){delete F[e.id]}}i.deleteModelCacheData=B;function R(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const n=M(e.getModel());const i=e.getPath();const o=i.split("/");let a=o[1];let r=2;if(n.entityContainer.fullyQualifiedName===a){a=o[2];r++}let l=n.entitySets.find(e=>e.name===a);if(!l){l=n.singletons.find(e=>e.name===a)}let s=o.slice(r).join("/");const p=[l];while(s&&s.length>0&&s.startsWith("$NavigationPropertyBinding")){var y;let e=s.split("/");let t=0;let n,i;e=e.slice(1);while(!n&&e.length>t){if(e[t]!=="$NavigationPropertyBinding"){i=e.slice(0,t+1).join("/").replace("/$NavigationPropertyBinding","");n=l&&l.navigationPropertyBinding[i]}t++}if(!n){i=e[0]}const o=((y=i)===null||y===void 0?void 0:y.split("/"))||[];let a=l&&l.entityType;for(const e of o){const t=a&&a.navigationProperties.find(t=>t.name===e);if(t){p.push(t);a=t.targetType}else{break}}l=l&&n||l&&l.navigationPropertyBinding[e[0]];if(l){p.push(l)}e=e.slice(o.length||1);if(e.length&&e[0]==="$"){e.shift()}s=e.join("/")}if(s.startsWith("$Type")){if(s.startsWith("$Type@")){s=s.replace("$Type","")}else{s=o.slice(3).join("/")}}if(l&&s.length){const e=l.entityType.resolvePath(s,t);if(e){if(t){e.visitedObjects=p.concat(e.visitedObjects)}}else if(l.entityType&&l.entityType.actions){const e=l.entityType&&l.entityType.actions;const t=s.split("/");if(e[t[0]]){const n=e[t[0]];if(t[1]&&n.parameters){const e=t[1];return n.parameters.find(t=>t.fullyQualifiedName.endsWith(`/${e}`))}else if(s.length===1){return n}}}return e}else{if(t){return{target:l,visitedObjects:p}}return l}}i.convertMetaModelContext=R;function Q(e,t){const n=M(e.getModel());const i=R(e,true);let o;if(t&&t.getPath()!=="/"){o=Q(t)}return x(i,n,o)}i.getInvolvedDataModelObjects=Q;function x(e,t,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const o=e.visitedObjects.filter(e=>r(e)&&!s(e)&&!y(e));if(r(e.target)&&!s(e.target)&&o[o.length-1]!==e.target&&!i){o.push(e.target)}const f=[];const c=o[0];let u=c;let $=c.entityType;let d;let h=[];for(let e=1;e<o.length;e++){d=o[e];if(l(d)){var P;h.push(d.name);f.push(d);$=d.targetType;const e=(P=u)===null||P===void 0?void 0:P.navigationPropertyBinding[h.join("/")];if(e!==undefined){u=e;h=[]}}if(p(d)||a(d)){u=d;$=u.entityType}}if(h.length>0){u=undefined}if(n&&n.startingEntitySet!==c){const e=o.indexOf(n.startingEntitySet);if(e!==-1){const t=o.slice(0,e);n.startingEntitySet=c;n.navigationProperties=t.filter(l).concat(n.navigationProperties)}}const m={startingEntitySet:c,targetEntitySet:u,targetEntityType:$,targetObject:e.target,navigationProperties:f,contextLocation:n,convertedTypes:t};if(!r(m.targetObject)&&i){m.targetObject=r(d)?d:undefined}if(!m.contextLocation){m.contextLocation=m}return m}i.getInvolvedDataModelObjectFromPath=x;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/TemplateConverter", ["sap/base/util/merge","sap/fe/core/converters/helpers/IssueManager","./ConverterContext","./ManifestSettings","./MetaModelConverter","./templates/ListReportConverter","./templates/ObjectPageConverter"],function(e,t,o,n,i,a,s){"use strict";var l={};var v=i.getInvolvedDataModelObjects;var c=i.convertTypes;var d=n.TemplateType;var r=t.IssueSeverity;var u=t.IssueCategoryType;var f=t.IssueCategory;function g(e,t,o,n){e.forEach(e=>{let i=`For entity set ${o}`;if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"&&!(e!==null&&e!==void 0&&e.ID)){var a;i=`${i}, `+`level ${n}, the collection facet does not have an ID.`;t.addIssue(f.Facets,r.High,i,u,u===null||u===void 0?void 0:(a=u.Facets)===null||a===void 0?void 0:a.MissingID)}if((e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"&&n>=3){var s;i=`${i}, collection facet ${e.Label} is not supported at `+`level ${n}`;t.addIssue(f.Facets,r.Medium,i,u,u===null||u===void 0?void 0:(s=u.Facets)===null||s===void 0?void 0:s.UnSupportedLevel)}if(e!==null&&e!==void 0&&e.Facets){g(e===null||e===void 0?void 0:e.Facets,t,o,++n);n=n-1}})}function p(t,n,i,l,u,p,I){var y;const h=c(n,p);h.diagnostics.forEach(e=>{const t=l.checkIfIssueExists(f.Annotation,r.High,e.message);if(!t){l.addIssue(f.Annotation,r.High,e.message)}});h===null||h===void 0?void 0:(y=h.entityTypes)===null||y===void 0?void 0:y.forEach(e=>{var t,o;if(e!==null&&e!==void 0&&(t=e.annotations)!==null&&t!==void 0&&(o=t.UI)!==null&&o!==void 0&&o.Facets){var n,i;g(e===null||e===void 0?void 0:(n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:i.Facets,l,e===null||e===void 0?void 0:e.name,1)}});const F=i.entitySet;const m=(i===null||i===void 0?void 0:i.contextPath)||(u==="/"?u+F:u);const C=n.createBindingContext(m);const b=v(C);if(b){let n={};const v=new o(h,i,l,e,b);switch(t){case d.ListReport:case d.AnalyticalListPage:n=a.convertPage(v);break;case d.ObjectPage:n=s.convertPage(v);break}if(I!==null&&I!==void 0&&I.extendPageDefinition){n=I.extendPageDefinition(n,v)}return n}return undefined}l.convertPage=p;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/annotations/DataField", ["sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/PropertyHelper","../helpers/DataFieldHelper"],function(t,e,a,i){"use strict";var o={};var n=i.isReferencePropertyStaticallyHidden;var l=a.getAssociatedUnitProperty;var r=a.getAssociatedTimezoneProperty;var d=a.getAssociatedCurrencyProperty;var s=e.getDisplayMode;var v=t.isProperty;var u=t.isPathAnnotationExpression;var c=t.isAnnotationOfType;function p(t){return t.hasOwnProperty("Action")}o.isDataFieldForActionAbstract=p;function g(t){return(t===null||t===void 0?void 0:t.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"}o.isDataFieldForAnnotation=g;function f(t){return(t===null||t===void 0?void 0:t.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForAction"}o.isDataFieldForAction=f;function m(t){return t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"}o.isDataFieldForIntentBasedNavigation=m;function $(t){return t.hasOwnProperty("Value")}o.isDataFieldTypes=$;function y(t){return t.hasOwnProperty("Value")}o.isDataField=y;function D(t){const e=t.Target.$target;return c(e,"com.sap.vocabularies.UI.v1.FieldGroupType")}o.hasFieldGroupTarget=D;function T(t){const e=t.Target.$target;return c(e,"com.sap.vocabularies.UI.v1.DataPointType")}o.hasDataPointTarget=T;function b(t){const e=t.targetObject;return F(f(e)?e:undefined)}o.isDataModelObjectPathForActionWithDialog=b;function F(t){const e=t===null||t===void 0?void 0:t.ActionTarget;if(e){var a,i;const t=(a=e.annotations)===null||a===void 0?void 0:(i=a.Common)===null||i===void 0?void 0:i.IsActionCritical;if(e.parameters.length>1||t){return"Dialog"}else{return"None"}}else{return"None"}}o.isActionWithDialog=F;function h(t){let e;if(v(t)){var a,i,o,n,l,r,d,s,c,p;e=((a=t.annotations)===null||a===void 0?void 0:(i=a.UI)===null||i===void 0?void 0:(o=i.DataFieldDefault)===null||o===void 0?void 0:(n=o.Target)===null||n===void 0?void 0:(l=n.$target)===null||l===void 0?void 0:l.TargetValue)??((r=t.annotations)===null||r===void 0?void 0:(d=r.UI)===null||d===void 0?void 0:(s=d.DataFieldDefault)===null||s===void 0?void 0:(c=s.Target)===null||c===void 0?void 0:(p=c.$target)===null||p===void 0?void 0:p.MaximumValue)}else{e=t.TargetValue??t.MaximumValue}if(typeof e==="number"){return e.toString()}return u(e)?e:"100"}o.getTargetValueOnDataPoint=h;const I=function(t){var e,a,i,o,n;return((e=t.annotations)===null||e===void 0?void 0:(a=e.UI)===null||a===void 0?void 0:(i=a.DataFieldDefault)===null||i===void 0?void 0:(o=i.Target)===null||o===void 0?void 0:(n=o.$target)===null||n===void 0?void 0:n.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"};o.isDataPointFromDataFieldDefault=I;const U=function(t){var e,a,i,o,n;return I(t)&&((e=t.annotations)===null||e===void 0?void 0:(a=e.UI)===null||a===void 0?void 0:(i=a.DataFieldDefault)===null||i===void 0?void 0:(o=i.Target)===null||o===void 0?void 0:(n=o.$target)===null||n===void 0?void 0:n.Visualization)==="UI.VisualizationType/Rating"};o.isRatingVisualizationFromDataFieldDefault=U;function P(t,e){if(typeof e==="object"){var a;if($(e)&&(a=e.Value)!==null&&a!==void 0&&a.$target){var i,o,n;const a=(i=e.Value)===null||i===void 0?void 0:i.$target;if((a===null||a===void 0?void 0:(o=a.annotations)===null||o===void 0?void 0:(n=o.Common)===null||n===void 0?void 0:n.SemanticObject)!==undefined){return t.getEntitySetBasedAnnotationPath(a===null||a===void 0?void 0:a.fullyQualifiedName)}}else if(v(e)){var l,r;if((e===null||e===void 0?void 0:(l=e.annotations)===null||l===void 0?void 0:(r=l.Common)===null||r===void 0?void 0:r.SemanticObject)!==undefined){return t.getEntitySetBasedAnnotationPath(e===null||e===void 0?void 0:e.fullyQualifiedName)}}}return undefined}o.getSemanticObjectPath=P;function A(t){if(t){return t.includes("/")?t.substring(0,t.lastIndexOf("/")+1):""}return""}function x(t,e,a,i){if(a==="AnalyticalTable"){var o,n;const a=(o=t.annotations)===null||o===void 0?void 0:(n=o.UI)===null||n===void 0?void 0:n.Hidden;if(a!==null&&a!==void 0&&a.path&&v(a.$target)){const t=e+a.path;i.additionalProperties[t]=a.$target}const l=t.Criticality;if(l!==null&&l!==void 0&&l.path&&v(l===null||l===void 0?void 0:l.$target)){const t=e+l.path;i.additionalProperties[t]=l===null||l===void 0?void 0:l.$target}}return i}function V(t,e,a,i,o){let n=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{properties:{},additionalProperties:{},exportSettings:{},textOnlyPropertiesFromTextAnnotation:[]};let v=arguments.length>6&&arguments[6]!==undefined?arguments[6]:false;let c=arguments.length>7&&arguments[7]!==undefined?arguments[7]:false;function p(t,e){if(!n.properties.hasOwnProperty(t)){n.properties[t]=e}return Object.keys(n.properties).indexOf(t)}function g(t){var e,a;n.exportSettings.template=(e=n.exportSettings)!==null&&e!==void 0&&e.template?`${(a=n.exportSettings)===null||a===void 0?void 0:a.template}${t}`:`${t}`}if(t&&e){var f,m,$;let Q;let q;let J;let K;let L;if(c){Q=p(t,e);g(`{${Q}}`);return n}const X=A(t);const Y=(f=e.annotations)===null||f===void 0?void 0:(m=f.Common)===null||m===void 0?void 0:m.Text;if(($=n.exportSettings)!==null&&$!==void 0&&$.template){g("\n");n.exportSettings.wrap=true}if(Y!==null&&Y!==void 0&&Y.path&&Y!==null&&Y!==void 0&&Y.$target){const i=a.getDataModelObjectPath();const o=X+Y.path;const l=s(e,i);let r;switch(l){case"Value":Q=p(t,e);g(`{${Q}}`);break;case"Description":r=p(o,Y.$target);g(`{${r}}`);n.textOnlyPropertiesFromTextAnnotation.push(o);break;case"ValueDescription":Q=p(t,e);r=p(o,Y.$target);g(`{${Q}} ({${r}})`);break;case"DescriptionValue":Q=p(t,e);r=p(o,Y.$target);g(`{${r}} ({${Q}})`);break}}else{var y,D,T,b,F,I,U,P,V,S,O,C,k,N,W;const a=d(e);const o=l(e);const s=a||o;const c=(e===null||e===void 0?void 0:(y=e.annotations)===null||y===void 0?void 0:(D=y.Measures)===null||D===void 0?void 0:D.ISOCurrency)||(e===null||e===void 0?void 0:(T=e.annotations)===null||T===void 0?void 0:(b=T.Measures)===null||b===void 0?void 0:b.Unit);const f=r(e);const m=e===null||e===void 0?void 0:(F=e.annotations)===null||F===void 0?void 0:(I=F.Common)===null||I===void 0?void 0:I.Timezone;if(s){Q=p(t,e);J=p(X+c.path,c.$target);if(v){g(`{${Q}}  {${J}}`)}else{n.exportSettings.unitProperty=X+c.path}if(a){n.exportSettings.isCurrency=true}}else if(f&&m!==null&&m!==void 0&&m.$target){Q=p(t,e);K=p(X+m.path,m.$target);if(v){g(`{${Q}}  {${K}}`)}else{n.exportSettings.timezoneProperty=X+m.path}}else if(((U=e.Target)===null||U===void 0?void 0:(P=U.$target)===null||P===void 0?void 0:P.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"&&!((V=e.Target)!==null&&V!==void 0&&(S=V.$target)!==null&&S!==void 0&&S.ValueFormat)||((O=e.annotations)===null||O===void 0?void 0:(C=O.UI)===null||C===void 0?void 0:(k=C.DataFieldDefault)===null||k===void 0?void 0:(N=k.Target)===null||N===void 0?void 0:(W=N.$target)===null||W===void 0?void 0:W.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){var j,w,B,M,z;const a=(j=e.Target)===null||j===void 0?void 0:(w=j.$target)===null||w===void 0?void 0:w.Value.$target;const i=(B=e.Target)===null||B===void 0?void 0:B.$target;const o=(M=e.annotations)===null||M===void 0?void 0:(z=M.UI)===null||z===void 0?void 0:z.DataFieldDefault;Q=p(X?X+t:t,o?e:a);q=h(o?e:i);if(u(q)){if(q.$target){L=p(X?X+q.$target.name:q.$target.name,q.$target);g(`{${Q}}/{${L}}`)}}else{n.exportSettings.dataPointTargetValue=q;g(`{${Q}}/${q}`)}}else if(e.$Type==="com.sap.vocabularies.Communication.v1.ContactType"){var G,R;const t=(G=e.fn)===null||G===void 0?void 0:G.$target;const a=(R=e.fn)===null||R===void 0?void 0:R.path;Q=p(X?X+a:a,t);g(`{${Q}}`)}else if(!i){Q=p(t,e);g(`{${Q}}`);if(c){var E,H;n.exportSettings.unit=`${c}`;if(e!==null&&e!==void 0&&(E=e.annotations)!==null&&E!==void 0&&(H=E.Measures)!==null&&H!==void 0&&H.ISOCurrency){n.exportSettings.isCurrency=true}}else if(m){n.exportSettings.timezone=`${m}`}}}n=x(e,X,o,n);if(Object.keys(n.additionalProperties).length>0&&Object.keys(n.properties).length===0){Q=p(t,e);g(`{${Q}}`)}}return n}o.collectRelatedProperties=V;function S(t,e,a){var i,o,l;let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{properties:{},additionalProperties:{},textOnlyPropertiesFromTextAnnotation:[],exportSettings:{}};let d=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;let s=false;switch(t===null||t===void 0?void 0:t.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":if(t.Value){const i=t.Value;s=n(t);r=V(i.path,i.$target,e,false,a,r,d,s);const o=A(i.path);r=x(t,o,a,r)}break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":switch((i=t.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.$Type){case"com.sap.vocabularies.UI.v1.FieldGroupType":(l=t.Target.$target.Data)===null||l===void 0?void 0:l.forEach(t=>{r=S(t,e,a,r,true)});break;case"com.sap.vocabularies.UI.v1.DataPointType":s=n(t);r=V(t.Target.$target.Value.path,t,e,false,a,r,d,s);break;case"com.sap.vocabularies.Communication.v1.ContactType":const i=t.Target.$target;s=n(t);r=V(t.Target.value,i,e,s,a,r,d,s);break;default:break}break;default:break}return r}o.collectRelatedPropertiesRecursively=S;const O=function(t){var e,a,i,o;if(v(t)){return t.type}let n;switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldWithActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":n=undefined;break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":n=t===null||t===void 0?void 0:(e=t.Value)===null||e===void 0?void 0:(a=e.$target)===null||a===void 0?void 0:a.type;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":default:if((i=t.Target)!==null&&i!==void 0&&(o=i.$target)!==null&&o!==void 0&&o.$Type){const e=t.Target.$target;if(e.$Type==="com.sap.vocabularies.Communication.v1.ContactType"&&u(e.fn)){var l;n=(l=e.fn.$target)===null||l===void 0?void 0:l.type}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){var r,d,s,c;n=((r=e.Value)===null||r===void 0?void 0:(d=r.$Path)===null||d===void 0?void 0:d.$Type)||((s=e.Value)===null||s===void 0?void 0:(c=s.$target)===null||c===void 0?void 0:c.type)}else{n=t.Target.$target.$Type==="com.sap.vocabularies.UI.v1.ChartDefinitionType"?undefined:"Edm.Boolean"}}else{n=undefined}break}return n};o.getDataFieldDataType=O;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/common/AnnotationConverter", [],function(){var a;(function(){"use strict";var e={131:function(a,e,t){Object.defineProperty(e,"__esModule",{value:true});e.convert=void 0;const o=t(810);const r=t(191);const i=Symbol("Annotation Target");function n(a,e){if(a[a.length-1]!==e){a.push(e)}return a}function s(a,e,t,o){var c,l,u,p;if(t===undefined){return{target:undefined,objectPath:[],messages:[]}}if(t.startsWith("/")){t=t.substring(1);e=undefined}const m=t.split("/").reduce((a,e)=>{if(e.includes("@")){const[t,o]=(0,r.splitAtFirst)(e,"@");a.push(t);a.push(`@${o}`)}else{a.push(e)}return a},[]);if(e===undefined){if(m[0].startsWith(`${a.rawSchema.namespace}.`)&&m[0]!==((c=a.getConvertedEntityContainer())===null||c===void 0?void 0:c.fullyQualifiedName)){e=(u=(l=a.getConvertedEntityType(m[0]))!==null&&l!==void 0?l:a.getConvertedComplexType(m[0]))!==null&&u!==void 0?u:a.getConvertedAction(m[0]);m.shift()}else{e=a.getConvertedEntityContainer()}}else if(e[i]!==undefined){e=e[i]}else if(e._type==="Property"){const t=(0,r.substringBeforeFirst)(e.fullyQualifiedName,"/");e=(p=a.getConvertedEntityType(t))!==null&&p!==void 0?p:a.getConvertedComplexType(t)}const v=m.reduce((e,t)=>{var o,c,l,u,p;const m=a=>{e.messages.push({message:a});e.target=undefined;return e};if(e.target===undefined){return e}e.objectPath=n(e.objectPath,e.target);if(t.startsWith("@")&&t!=="@$ui5.overload"){const[r,i]=a.splitTerm(t);const n=(o=e.target.annotations[r.substring(1)])===null||o===void 0?void 0:o[i];if(n!==undefined){e.target=n;return e}return m(`Annotation '${t.substring(1)}' not found on ${e.target._type} '${e.target.fullyQualifiedName}'`)}if(e.target.$target){let o;if(t==="$AnnotationPath"){o=e.target.value}else if(t==="$Path"){o=e.target.path}if(o!==undefined){const t=s(a,e.target[i],o);t.objectPath.forEach(a=>{if(!e.objectPath.includes(a)){e.objectPath=n(e.objectPath,a)}});e.target=t.target;e.objectPath=n(e.objectPath,e.target);return e}}switch((c=e.target)===null||c===void 0?void 0:c._type){case"Schema":break;case"EntityContainer":{const o=e.target;if(t===""||a.unalias(t)===o.fullyQualifiedName){return e}const r=(u=(l=o.entitySets.by_name(t))!==null&&l!==void 0?l:o.singletons.by_name(t))!==null&&u!==void 0?u:o.actionImports.by_name(t);if(r){e.target=r;return e}}break;case"EntitySet":case"Singleton":{const o=e.target;if(t===""||t==="$Type"){e.target=o.entityType;return e}if(t==="$"){return e}if(t==="$NavigationPropertyBinding"){const a=o.navigationPropertyBinding;e.target=a;return e}const r=s(a,o.entityType,t);e.target=r.target;e.objectPath=r.objectPath.reduce(n,e.objectPath);return e}case"EntityType":{const o=e.target;if(t===""||t==="$Type"){return e}const i=o.entityProperties.by_name(t);if(i){e.target=i;return e}const n=o.navigationProperties.by_name(t);if(n){e.target=n;return e}const s=(0,r.substringBeforeFirst)(a.unalias(t),"(");const c=o.actions[s];if(c){e.target=c;return e}}break;case"ActionImport":{const o=s(a,e.target.action,t);e.target=o.target;e.objectPath=o.objectPath.reduce(n,e.objectPath);return e}case"Action":{const a=e.target;if(t===""){return e}if(t==="@$ui5.overload"||t==="0"){return e}if(t==="$Parameter"&&a.isBound){e.target=a.parameters;return e}const o=(p=a.parameters[t])!==null&&p!==void 0?p:a.parameters.find(a=>a.name===t);if(o){e.target=o;return e}break}case"Property":{const a=e.target;const o=a.targetType;if(o!==undefined){const a=o.properties.by_name(t);if(a){e.target=a;return e}const r=o.navigationProperties.by_name(t);if(r){e.target=r;return e}}}break;case"ActionParameter":const o=e.target.typeReference;if(o!==undefined){const r=s(a,o,t);e.target=r.target;e.objectPath=r.objectPath.reduce(n,e.objectPath);return e}break;case"NavigationProperty":const i=s(a,e.target.targetType,t);e.target=i.target;e.objectPath=i.objectPath.reduce(n,e.objectPath);return e;default:if(t===""){return e}if(e.target[t]){e.target=e.target[t];e.objectPath=n(e.objectPath,e.target);return e}}return m(`Element '${t}' not found at ${e.target._type} '${e.target.fullyQualifiedName}'`)},{target:e,objectPath:[],messages:[]});v.messages.forEach(e=>a.logError(e.message));if(!v.target){if(o){const r=g(a,o,e.fullyQualifiedName);a.logError("Unable to resolve the path expression: "+"\n"+t+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+o+">"+"\n"+"<Record Type = "+r+">"+"\n"+"<AnnotationPath = "+t+">")}else{a.logError("Unable to resolve the path expression: "+t+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+m[0]+">"+"\n"+"<PropertyValue  Path= "+m[1]+">")}}return v}function c(a){return a.includes("@")}function l(a,e,t,o,n){const c={type:"PropertyPath",value:e.PropertyPath,fullyQualifiedName:t,[i]:o};(0,r.lazy)(c,"$target",()=>s(a,o,e.PropertyPath,n).target);return c}function u(a,e,t,o,n){const c={type:"AnnotationPath",value:a.unalias(e.AnnotationPath),fullyQualifiedName:t,[i]:o};(0,r.lazy)(c,"$target",()=>s(a,o,c.value,n).target);return c}function p(a,e,t,o,n){var c;const l={type:"NavigationPropertyPath",value:(c=e.NavigationPropertyPath)!==null&&c!==void 0?c:"",fullyQualifiedName:t,[i]:o};(0,r.lazy)(l,"$target",()=>s(a,o,e.NavigationPropertyPath,n).target);return l}function m(a,e,t,o,n){const c={type:"Path",path:e.Path,fullyQualifiedName:t,getValue(){return undefined},[i]:o};(0,r.lazy)(c,"$target",()=>s(a,o,e.Path,n).target);return c}function v(a,e,t,i,n,v,g){if(v===undefined){return undefined}switch(v.type){case"String":return v.String;case"Int":return v.Int;case"Bool":return v.Bool;case"Decimal":return(0,r.Decimal)(v.Decimal);case"Date":return v.Date;case"EnumMember":const y=v.EnumMember.split(" ").map(e=>{var t;const i=(t=a.unalias(e))!==null&&t!==void 0?t:"";return(0,r.alias)(o.VocabularyReferences,i)});if(y[0]!==undefined&&r.EnumIsFlag[(0,r.substringBeforeFirst)(y[0],"/")]){return y}return y[0];case"PropertyPath":return l(a,v,g,e,t);case"NavigationPropertyPath":return p(a,v,g,e,t);case"AnnotationPath":return u(a,v,g,e,t);case"Path":{if(c(v.Path)){return s(a,e,v.Path,t).target}else{return m(a,v,g,e,t)}}case"Record":return d(a,t,e,i,n,v.Record,g);case"Collection":return C(a,e,t,i,n,v.Collection,g);case"Apply":case"Null":case"Not":case"Eq":case"Ne":case"Gt":case"Ge":case"Lt":case"Le":case"If":case"And":case"Or":default:return v}}function g(a,e,t,o){let i=r.TermToTypes[e];if(o){e=`${(0,r.substringBeforeLast)(e,".")}.${o}`;i=r.TermToTypes[e]}a.logError(`The type of the record used within the term ${e} was not defined and was inferred as ${i}.\nHint: If possible, try to maintain the Type property for each Record.\n<Annotations Target="${t}">\n\t<Annotation Term="${e}">\n\t\t<Record>...</Record>\n\t</Annotation>\n</Annotations>`);return i}function y(a){return a.hasOwnProperty("Action")&&(a.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||a.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")}function O(a,e,t,o,r){let i;if(!r.type&&e){i=g(a,e,t.fullyQualifiedName,o)}else{i=a.unalias(r.type)}return i}function d(a,e,t,o,n,s,c){const l={$Type:O(a,e,t,o,s),fullyQualifiedName:c,[i]:t,__source:n};for(const o of s.propertyValues){(0,r.lazy)(l,o.name,()=>v(a,t,e,o.name,n,o.value,`${c}/${o.name}`))}(0,r.lazy)(l,"annotations",I(a,s,l));if(y(l)){(0,r.lazy)(l,"ActionTarget",()=>{var e,o;const r=a.unalias((e=l.Action)===null||e===void 0?void 0:e.toString());let i=t.actions[r];if(!i){i=(o=a.getConvertedActionImport(r))===null||o===void 0?void 0:o.action}if(!i){i=a.getConvertedAction(r);if(!(i===null||i===void 0?void 0:i.isBound)){i=undefined}}if(!i){a.logError(`${l.fullyQualifiedName}: Unable to resolve '${l.Action}' ('${r}')`)}return i})}return l}function f(a){let e=a.type;if(e===undefined&&a.length>0){const t=a[0];if(t.hasOwnProperty("PropertyPath")){e="PropertyPath"}else if(t.hasOwnProperty("Path")){e="Path"}else if(t.hasOwnProperty("AnnotationPath")){e="AnnotationPath"}else if(t.hasOwnProperty("NavigationPropertyPath")){e="NavigationPropertyPath"}else if(typeof t==="object"&&(t.hasOwnProperty("type")||t.hasOwnProperty("propertyValues"))){e="Record"}else if(typeof t==="string"){e="String"}}else if(e===undefined){e="EmptyCollection"}return e}function C(a,e,t,o,r,i,n){const c=f(i);switch(c){case"PropertyPath":return i.map((o,r)=>l(a,o,`${n}/${r}`,e,t));case"Path":return i.map(o=>s(a,e,o.Path,t).target);case"AnnotationPath":return i.map((o,r)=>u(a,o,`${n}/${r}`,e,t));case"NavigationPropertyPath":return i.map((o,r)=>p(a,o,`${n}/${r}`,e,t));case"Record":return i.map((i,s)=>d(a,t,e,o,r,i,`${n}/${s}`));case"Apply":case"Null":case"If":case"Eq":case"Ne":case"Lt":case"Gt":case"Le":case"Ge":case"Not":case"And":case"Or":return i.map(a=>a);case"String":return i.map(a=>{if(typeof a==="string"||a===undefined){return a}else{return a.String}});default:if(i.length===0){return[]}throw new Error("Unsupported case")}}function b(a){return!!a.targetTypeName}function D(a,e,t){var n;let s;if(t.record){s=d(a,t.term,e,"",t.__source,t.record,t.fullyQualifiedName)}else if(t.collection===undefined){s=v(a,e,t.term,"",t.__source,(n=t.value)!==null&&n!==void 0?n:{type:"Bool",Bool:true},t.fullyQualifiedName)}else if(t.collection){s=C(a,e,t.term,"",t.__source,t.collection,t.fullyQualifiedName)}else{throw new Error("Unsupported case")}switch(typeof s){case"string":s=new String(s);break;case"boolean":s=new Boolean(s);break;case"number":s=new Number(s);break;default:break}s.fullyQualifiedName=t.fullyQualifiedName;s[i]=e;const[c,l]=a.splitTerm(t.term);s.term=a.unalias(`${c}.${l}`,o.VocabularyReferences);s.qualifier=t.qualifier;s.__source=t.__source;try{(0,r.lazy)(s,"annotations",I(a,t,s))}catch(a){}return s}class T{getAnnotations(a){var e;if(this.annotationsByTarget===undefined){const a=Object.keys(this.rawSchema.annotations).map(a=>({name:a,annotationList:this.rawSchema.annotations[a]}));this.annotationsByTarget=(0,r.mergeAnnotations)(this.rawMetadata.references,...a)}return(e=this.annotationsByTarget[a])!==null&&e!==void 0?e:[]}getConvertedEntityContainer(){return this.getConvertedElement(this.rawMetadata.schema.entityContainer.fullyQualifiedName,this.rawMetadata.schema.entityContainer,S)}getConvertedEntitySet(a){return this.convertedOutput.entitySets.by_fullyQualifiedName(a)}getConvertedSingleton(a){return this.convertedOutput.singletons.by_fullyQualifiedName(a)}getConvertedEntityType(a){return this.convertedOutput.entityTypes.by_fullyQualifiedName(a)}getConvertedComplexType(a){return this.convertedOutput.complexTypes.by_fullyQualifiedName(a)}getConvertedTypeDefinition(a){return this.convertedOutput.typeDefinitions.by_fullyQualifiedName(a)}getConvertedActionImport(a){let e=this.convertedOutput.actionImports.by_fullyQualifiedName(a);if(!e){e=this.convertedOutput.actionImports.by_name(a)}return e}getConvertedAction(a){return this.convertedOutput.actions.by_fullyQualifiedName(a)}convert(a,e){if(Array.isArray(a)){return()=>{const t=a.reduce((a,t)=>{const o=this.getConvertedElement(t.fullyQualifiedName,t,e);if(o){a.push(o)}return a},[]);(0,r.addGetByValue)(t,"name");(0,r.addGetByValue)(t,"fullyQualifiedName");return t}}else{return()=>this.getConvertedElement(a.fullyQualifiedName,a,e)}}constructor(a,e){this.convertedElements=new Map;this.rawMetadata=a;this.rawSchema=a.schema;this.convertedOutput=e}getConvertedElement(a,e,t){let o=this.convertedElements.get(a);if(o===undefined){const r=typeof e==="function"?e.apply(undefined,[a]):e;if(r!==undefined){o=t.apply(undefined,[this,r]);this.convertedElements.set(a,o)}}return o}logError(a){this.convertedOutput.diagnostics.push({message:a})}splitTerm(a){const e=(0,r.alias)(o.VocabularyReferences,a);return(0,r.splitAtLast)(e,".")}unalias(a,e=this.rawMetadata.references){var t;return(t=(0,r.unalias)(e,a,this.rawSchema.namespace))!==null&&t!==void 0?t:""}}function h(a,e){return()=>{let t=a.getConvertedEntityType(e);if(!t){a.logError(`EntityType '${e}' not found`);t={}}return t}}function V(a,e){return()=>Object.keys(e).reduce((t,o)=>{const i=e[o];(0,r.lazy)(t,o,()=>{var e;return(e=a.getConvertedEntitySet(i))!==null&&e!==void 0?e:a.getConvertedSingleton(i)});return t},{})}function P(a,e){const t=e.annotations;return()=>A(a,e,t!==null&&t!==void 0?t:a.getAnnotations(e.fullyQualifiedName))}function I(a,e,t){return()=>{const o=t.fullyQualifiedName;let r;if(e.annotations&&e.annotations.length>0){r=e.annotations}else{r=a.getAnnotations(o)}r===null||r===void 0?void 0:r.forEach(a=>{a.target=o;a.__source=t.__source;a[i]=t[i];a.fullyQualifiedName=`${o}@${a.term}`});return A(a,t,r!==null&&r!==void 0?r:[])}}function A(a,e,t){return t.reduce((t,o)=>{const[i,n]=a.splitTerm(o.term);const s=`${n}${o.qualifier?"#"+o.qualifier:""}`;if(t[i]===undefined){t[i]={}}if(!t[i].hasOwnProperty(s)){(0,r.lazy)(t[i],s,()=>a.getConvertedElement(o.fullyQualifiedName,o,(a,t)=>D(a,e,t)))}return t},{})}function S(a,e){const t=e;(0,r.lazy)(t,"annotations",P(a,e));(0,r.lazy)(t,"entitySets",a.convert(a.rawSchema.entitySets,U));(0,r.lazy)(t,"singletons",a.convert(a.rawSchema.singletons,E));(0,r.lazy)(t,"actionImports",a.convert(a.rawSchema.actionImports,M));return t}function E(a,e){const t=e;(0,r.lazy)(t,"entityType",h(a,e.entityTypeName));(0,r.lazy)(t,"annotations",P(a,t));const o=e.navigationPropertyBinding;(0,r.lazy)(t,"navigationPropertyBinding",V(a,o));return t}function U(a,e){const t=e;(0,r.lazy)(t,"entityType",h(a,e.entityTypeName));(0,r.lazy)(t,"annotations",P(a,t));const o=e.navigationPropertyBinding;(0,r.lazy)(t,"navigationPropertyBinding",V(a,o));return t}function N(a,e){const t=e;e.keys.forEach(a=>{a.isKey=true});(0,r.lazy)(t,"annotations",P(a,e));(0,r.lazy)(t,"keys",a.convert(e.keys,R));(0,r.lazy)(t,"entityProperties",a.convert(e.entityProperties,R));(0,r.lazy)(t,"navigationProperties",a.convert(e.navigationProperties,x));(0,r.lazy)(t,"actions",()=>a.rawSchema.actions.filter(a=>a.isBound&&(a.sourceType===e.fullyQualifiedName||a.sourceType===`Collection(${e.fullyQualifiedName})`)).reduce((e,t)=>{const o=`${a.rawSchema.namespace}.${t.name}`;e[o]=a.getConvertedAction(t.fullyQualifiedName);return e},{}));t.resolvePath=(t,o)=>{const r=s(a,e,t);if(o){return{target:r.target,visitedObjects:r.objectPath,messages:r.messages}}else{return r.target}};return t}function R(a,e){const t=e;(0,r.lazy)(t,"annotations",P(a,e));(0,r.lazy)(t,"targetType",()=>{var t;const o=e.type;const r=o.startsWith("Collection")?o.substring(11,o.length-1):o;return(t=a.getConvertedComplexType(r))!==null&&t!==void 0?t:a.getConvertedTypeDefinition(r)});return t}function x(a,e){var t,o,i;const n=e;n.referentialConstraint=(t=n.referentialConstraint)!==null&&t!==void 0?t:[];if(!b(e)){const t=(o=a.rawSchema.associations.find(a=>a.fullyQualifiedName===e.relationship))===null||o===void 0?void 0:o.associationEnd.find(a=>a.role===e.toRole);n.isCollection=(t===null||t===void 0?void 0:t.multiplicity)==="*";n.targetTypeName=(i=t===null||t===void 0?void 0:t.type)!==null&&i!==void 0?i:""}(0,r.lazy)(n,"targetType",h(a,e.targetTypeName));(0,r.lazy)(n,"annotations",P(a,e));return n}function M(a,e){const t=e;(0,r.lazy)(t,"annotations",P(a,e));(0,r.lazy)(t,"action",()=>{const t=a.rawSchema.actions.filter(a=>!a.isBound&&a.fullyQualifiedName.startsWith(e.actionName));if(t.length>1){a.logError(`Ambiguous reference in action import: ${e.fullyQualifiedName}`)}return a.getConvertedAction(t[0].fullyQualifiedName)});return t}function F(a,e){const t=e;if(t.sourceType){(0,r.lazy)(t,"sourceEntityType",h(a,e.sourceType))}if(t.returnType){(0,r.lazy)(t,"returnEntityType",h(a,e.returnType))}(0,r.lazy)(t,"parameters",a.convert(e.parameters,$));(0,r.lazy)(t,"annotations",()=>{const t=(0,r.substringBeforeFirst)(e.fullyQualifiedName,"(");const o=e.fullyQualifiedName;const i=a.getAnnotations(o);const n=a.getAnnotations(t);for(const a of n){if(!i.some(e=>e.term===a.term&&e.qualifier===a.qualifier)){i.push(a)}}return A(a,e,i)});return t}function $(a,e){const t=e;(0,r.lazy)(t,"typeReference",()=>{var t,o;return(o=(t=a.getConvertedEntityType(e.type))!==null&&t!==void 0?t:a.getConvertedComplexType(e.type))!==null&&o!==void 0?o:a.getConvertedTypeDefinition(e.type)});(0,r.lazy)(t,"annotations",()=>{const t=e.fullyQualifiedName.substring(0,e.fullyQualifiedName.indexOf("("))+e.fullyQualifiedName.substring(e.fullyQualifiedName.indexOf(")")+1);const o=e.fullyQualifiedName;const r=a.getAnnotations(o);const i=a.getAnnotations(t);for(const a of i){if(!r.some(e=>e.term===a.term&&e.qualifier===a.qualifier)){r.push(a)}}return A(a,e,r)});return t}function w(a,e){const t=e;(0,r.lazy)(t,"properties",a.convert(e.properties,R));(0,r.lazy)(t,"navigationProperties",a.convert(e.navigationProperties,x));(0,r.lazy)(t,"annotations",P(a,e));return t}function Q(a,e){const t=e;(0,r.lazy)(t,"annotations",P(a,e));return t}function z(a){const e={version:a.version,namespace:a.schema.namespace,annotations:a.schema.annotations,references:o.VocabularyReferences,diagnostics:[]};if(a.references.length===0){a.references=o.VocabularyReferences}const t=new T(a,e);(0,r.lazy)(e,"entityContainer",t.convert(t.rawSchema.entityContainer,S));(0,r.lazy)(e,"entitySets",t.convert(t.rawSchema.entitySets,U));(0,r.lazy)(e,"singletons",t.convert(t.rawSchema.singletons,E));(0,r.lazy)(e,"entityTypes",t.convert(t.rawSchema.entityTypes,N));(0,r.lazy)(e,"actions",t.convert(t.rawSchema.actions,F));(0,r.lazy)(e,"complexTypes",t.convert(t.rawSchema.complexTypes,w));(0,r.lazy)(e,"actionImports",t.convert(t.rawSchema.actionImports,M));(0,r.lazy)(e,"typeDefinitions",t.convert(t.rawSchema.typeDefinitions,Q));e.resolvePath=function a(e){const o=s(t,undefined,e);if(o.target){n(o.objectPath,o.target)}return o};return e}e.convert=z},159:function(a,e,t){var o=this&&this.__createBinding||(Object.create?function(a,e,t,o){if(o===undefined)o=t;var r=Object.getOwnPropertyDescriptor(e,t);if(!r||("get"in r?!e.__esModule:r.writable||r.configurable)){r={enumerable:true,get:function(){return e[t]}}}Object.defineProperty(a,o,r)}:function(a,e,t,o){if(o===undefined)o=t;a[o]=e[t]});var r=this&&this.__exportStar||function(a,e){for(var t in a)if(t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t))o(e,a,t)};Object.defineProperty(e,"__esModule",{value:true});r(t(131),e);r(t(191),e);r(t(614),e)},191:function(a,e,t){Object.defineProperty(e,"__esModule",{value:true});e.mergeAnnotations=e.addGetByValue=e.createIndexedFind=e.lazy=e.Decimal=e.isComplexTypeDefinition=e.unalias=e.alias=e.substringBeforeLast=e.substringBeforeFirst=e.splitAtLast=e.splitAtFirst=e.defaultReferences=e.TermToTypes=e.EnumIsFlag=void 0;var o=t(649);Object.defineProperty(e,"EnumIsFlag",{enumerable:true,get:function(){return o.EnumIsFlag}});var r=t(673);Object.defineProperty(e,"TermToTypes",{enumerable:true,get:function(){return r.TermToTypes}});var i=t(810);Object.defineProperty(e,"defaultReferences",{enumerable:true,get:function(){return i.VocabularyReferences}});function n(a,e){return e<0?[a,""]:[a.substring(0,e),a.substring(e+1)]}function s(a,e){return e<0?a:a.substring(0,e)}function c(a,e){return n(a,a.indexOf(e))}e.splitAtFirst=c;function l(a,e){return n(a,a.lastIndexOf(e))}e.splitAtLast=l;function u(a,e){return s(a,a.indexOf(e))}e.substringBeforeFirst=u;function p(a,e){return s(a,a.lastIndexOf(e))}e.substringBeforeLast=p;function m(a,e){if(!a.reverseReferenceMap){a.reverseReferenceMap=a.reduce((a,e)=>{a[e.namespace]=e;return a},{})}if(!e){return e}const[t,o]=l(e,".");const r=a.reverseReferenceMap[t];if(r){return`${r.alias}.${o}`}else if(e.includes("@")){const[t,o]=c(e,"@");return`${t}@${m(a,o)}`}else{return e}}e.alias=m;function v(a,e,t){var o;const r=e=>{if(!a.referenceMap){a.referenceMap=Object.fromEntries(a.map(a=>[a.alias,a]))}const[o,r]=c(e,".");if(!r||r.includes(".")){return e}const i=o.startsWith("@");const n=i?o.substring(1):o;const s=a.referenceMap[n];if(s){return i?`@${s.namespace}.${r}`:`${s.namespace}.${r}`}return t&&!i?`${t}.${r}`:e};return(o=e===null||e===void 0?void 0:e.split("/").reduce((a,e)=>{const[t,o]=c(e,"(");const i=[r(t)];if(o){const a=o.slice(0,-1);i.push(`(${r(a)})`)}a.push(i.join(""));return a},[]))===null||o===void 0?void 0:o.join("/")}e.unalias=v;function g(a){return!!a&&a._type==="ComplexType"&&!!a.properties}e.isComplexTypeDefinition=g;function y(a){return{isDecimal(){return true},valueOf(){return a},toString(){return a.toString()}}}e.Decimal=y;function O(a,e,t){const o=Symbol("initial");let r=o;Object.defineProperty(a,e,{enumerable:true,get(){if(r===o){r=t()}return r},set(a){r=a}})}e.lazy=O;function d(a,e){const t=new Map;return function o(r){const i=t.get(r);if((i===null||i===void 0?void 0:i[e])===r){return i}return a.find(a=>{if(!(a===null||a===void 0?void 0:a.hasOwnProperty(e))){return false}const o=a[e];t.set(o,a);return o===r})}}e.createIndexedFind=d;function f(a,e){const t=`by_${e}`;if(!a.hasOwnProperty(t)){Object.defineProperty(a,t,{writable:false,value:d(a,e)})}else{throw new Error(`Property '${t}' already exists`)}return a}e.addGetByValue=f;function C(a,...e){return e.reduceRight((e,{name:t,annotationList:o})=>{var r;for(const{target:i,annotations:n}of o){const o=(r=v(a,i))!==null&&r!==void 0?r:i;if(!e[o]){e[o]=[]}const s=n.map(e=>{var r;e.term=(r=v(a,e.term))!==null&&r!==void 0?r:e.term;e.fullyQualifiedName=e.qualifier?`${o}@${e.term}#${e.qualifier}`:`${o}@${e.term}`;e.__source=t;return e}).filter(a=>!e[o].some(e=>e.term===a.term&&e.qualifier===a.qualifier));e[o].push(...s)}return e},{})}e.mergeAnnotations=C},614:function(a,e,t){Object.defineProperty(e,"__esModule",{value:true});e.revertTermToGenericType=void 0;const o=t(191);function r(a,e){var t,o,r,i,n,s;let l;if(Array.isArray(e)){l={type:"Collection",Collection:e.map(e=>c(a,e))}}else if((t=e.isDecimal)===null||t===void 0?void 0:t.call(e)){l={type:"Decimal",Decimal:e.valueOf()}}else if((o=e.isString)===null||o===void 0?void 0:o.call(e)){const t=e.valueOf().split(".");if(t.length>1&&a.find(a=>a.alias===t[0])){l={type:"EnumMember",EnumMember:e.valueOf()}}else{l={type:"String",String:e.valueOf()}}}else if((r=e.isInt)===null||r===void 0?void 0:r.call(e)){l={type:"Int",Int:e.valueOf()}}else if((i=e.isFloat)===null||i===void 0?void 0:i.call(e)){l={type:"Float",Float:e.valueOf()}}else if((n=e.isDate)===null||n===void 0?void 0:n.call(e)){l={type:"Date",Date:e.valueOf()}}else if((s=e.isBoolean)===null||s===void 0?void 0:s.call(e)){l={type:"Bool",Bool:e.valueOf()}}else if(e.type==="Path"){l={type:"Path",Path:e.path}}else if(e.type==="AnnotationPath"){l={type:"AnnotationPath",AnnotationPath:e.value}}else if(e.type==="Apply"){l={type:"Apply",Apply:e.Apply}}else if(e.type==="Null"){l={type:"Null"}}else if(e.type==="PropertyPath"){l={type:"PropertyPath",PropertyPath:e.value}}else if(e.type==="NavigationPropertyPath"){l={type:"NavigationPropertyPath",NavigationPropertyPath:e.value}}else if(Object.prototype.hasOwnProperty.call(e,"$Type")){l={type:"Record",Record:c(a,e)}}return l}function i(a,e){let t;const o=e===null||e===void 0?void 0:e.constructor.name;switch(o){case"String":case"string":const o=e.toString().split(".");if(o.length>1&&a.find(a=>a.alias===o[0])){t={type:"EnumMember",EnumMember:e.toString()}}else{t={type:"String",String:e.toString()}}break;case"Boolean":case"boolean":t={type:"Bool",Bool:e.valueOf()};break;case"Number":case"number":if(e.toString()===e.toFixed()){t={type:"Int",Int:e.valueOf()}}else{t={type:"Decimal",Decimal:e.valueOf()}}break;case"object":default:t=r(a,e);break}return t}const n=["$Type","term","__source","qualifier","ActionTarget","fullyQualifiedName","annotations"];function s(a,e,t){Object.keys(e).filter(a=>a!=="_annotations").forEach(r=>{Object.keys(e[r]).forEach(i=>{const n=l(a,e[r][i]);if(!n.term){const e=(0,o.unalias)(a,`${r}.${i}`);if(e){const a=e.split("#");n.term=a[0];if(a.length>1){n.qualifier=a[1]}}}t.push(n)})})}function c(a,e){if(typeof e==="string"){return e}else if(typeof e==="object"){if(e.hasOwnProperty("$Type")){const t={type:e.$Type,propertyValues:[]};Object.keys(e).forEach(o=>{if(n.indexOf(o)===-1){const r=e[o];t.propertyValues.push({name:o,value:i(a,r)})}else if(o==="annotations"&&Object.keys(e[o]).length>0){t.annotations=[];s(a,e[o],t.annotations)}});return t}else if(e.type==="PropertyPath"){return{type:"PropertyPath",PropertyPath:e.value}}else if(e.type==="AnnotationPath"){return{type:"AnnotationPath",AnnotationPath:e.value}}else if(e.type==="NavigationPropertyPath"){return{type:"NavigationPropertyPath",NavigationPropertyPath:e.value}}}return undefined}function l(a,e){const t={term:e.term,qualifier:e.qualifier};if(Array.isArray(e)){if(e.hasOwnProperty("annotations")&&Object.keys(e.annotations).length>0){t.annotations=[];s(a,e.annotations,t.annotations)}return{...t,collection:e.map(e=>c(a,e))}}else if(e.hasOwnProperty("$Type")){return{...t,record:c(a,e)}}else{return{...t,value:i(a,e)}}}e.revertTermToGenericType=l},649:function(a,e){Object.defineProperty(e,"__esModule",{value:true});e.EnumIsFlag=void 0;e.EnumIsFlag={"Auth.KeyLocation":false,"Core.RevisionKind":false,"Core.DataModificationOperationKind":false,"Core.Permission":true,"Capabilities.ConformanceLevelType":false,"Capabilities.IsolationLevel":true,"Capabilities.NavigationType":false,"Capabilities.SearchExpressions":true,"Capabilities.HttpMethod":true,"Aggregation.RollupType":false,"Common.TextFormatType":false,"Common.FilterExpressionType":false,"Common.FieldControlType":false,"Common.EffectType":true,"Communication.KindType":false,"Communication.ContactInformationType":true,"Communication.PhoneType":true,"Communication.GenderType":false,"UI.VisualizationType":false,"UI.CriticalityType":false,"UI.ImprovementDirectionType":false,"UI.TrendType":false,"UI.ChartType":false,"UI.ChartAxisScaleBehaviorType":false,"UI.ChartAxisAutoScaleDataScopeType":false,"UI.ChartDimensionRoleType":false,"UI.ChartMeasureRoleType":false,"UI.SelectionRangeSignType":false,"UI.SelectionRangeOptionType":false,"UI.TextArrangementType":false,"UI.ImportanceType":false,"UI.CriticalityRepresentationType":false,"UI.OperationGroupingType":false}},673:function(a,e){Object.defineProperty(e,"__esModule",{value:true});e.TermToTypes=void 0;var t;(function(a){a["Org.OData.Authorization.V1.SecuritySchemes"]="Org.OData.Authorization.V1.SecurityScheme";a["Org.OData.Authorization.V1.Authorizations"]="Org.OData.Authorization.V1.Authorization";a["Org.OData.Core.V1.Revisions"]="Org.OData.Core.V1.RevisionType";a["Org.OData.Core.V1.Links"]="Org.OData.Core.V1.Link";a["Org.OData.Core.V1.Example"]="Org.OData.Core.V1.ExampleValue";a["Org.OData.Core.V1.Messages"]="Org.OData.Core.V1.MessageType";a["Org.OData.Core.V1.ValueException"]="Org.OData.Core.V1.ValueExceptionType";a["Org.OData.Core.V1.ResourceException"]="Org.OData.Core.V1.ResourceExceptionType";a["Org.OData.Core.V1.DataModificationException"]="Org.OData.Core.V1.DataModificationExceptionType";a["Org.OData.Core.V1.IsLanguageDependent"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.AppliesViaContainer"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.DereferenceableIDs"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.ConventionalIDs"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.Permissions"]="Org.OData.Core.V1.Permission";a["Org.OData.Core.V1.DefaultNamespace"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.Immutable"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.Computed"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.ComputedDefaultValue"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.IsURL"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.IsMediaType"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.ContentDisposition"]="Org.OData.Core.V1.ContentDispositionType";a["Org.OData.Core.V1.OptimisticConcurrency"]="Edm.PropertyPath";a["Org.OData.Core.V1.AdditionalProperties"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.AutoExpand"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.AutoExpandReferences"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.MayImplement"]="Org.OData.Core.V1.QualifiedTypeName";a["Org.OData.Core.V1.Ordered"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.PositionalInsert"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.AlternateKeys"]="Org.OData.Core.V1.AlternateKey";a["Org.OData.Core.V1.OptionalParameter"]="Org.OData.Core.V1.OptionalParameterType";a["Org.OData.Core.V1.OperationAvailable"]="Edm.Boolean";a["Org.OData.Core.V1.RequiresExplicitBinding"]="Org.OData.Core.V1.Tag";a["Org.OData.Core.V1.ExplicitOperationBindings"]="Org.OData.Core.V1.QualifiedBoundOperationName";a["Org.OData.Core.V1.SymbolicName"]="Org.OData.Core.V1.SimpleIdentifier";a["Org.OData.Core.V1.GeometryFeature"]="Org.OData.Core.V1.GeometryFeatureType";a["Org.OData.Capabilities.V1.ConformanceLevel"]="Org.OData.Capabilities.V1.ConformanceLevelType";a["Org.OData.Capabilities.V1.AsynchronousRequestsSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.BatchContinueOnErrorSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.IsolationSupported"]="Org.OData.Capabilities.V1.IsolationLevel";a["Org.OData.Capabilities.V1.CrossJoinSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.CallbackSupported"]="Org.OData.Capabilities.V1.CallbackType";a["Org.OData.Capabilities.V1.ChangeTracking"]="Org.OData.Capabilities.V1.ChangeTrackingType";a["Org.OData.Capabilities.V1.CountRestrictions"]="Org.OData.Capabilities.V1.CountRestrictionsType";a["Org.OData.Capabilities.V1.NavigationRestrictions"]="Org.OData.Capabilities.V1.NavigationRestrictionsType";a["Org.OData.Capabilities.V1.IndexableByKey"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.TopSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.SkipSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.ComputeSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.SelectSupport"]="Org.OData.Capabilities.V1.SelectSupportType";a["Org.OData.Capabilities.V1.BatchSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.BatchSupport"]="Org.OData.Capabilities.V1.BatchSupportType";a["Org.OData.Capabilities.V1.FilterRestrictions"]="Org.OData.Capabilities.V1.FilterRestrictionsType";a["Org.OData.Capabilities.V1.SortRestrictions"]="Org.OData.Capabilities.V1.SortRestrictionsType";a["Org.OData.Capabilities.V1.ExpandRestrictions"]="Org.OData.Capabilities.V1.ExpandRestrictionsType";a["Org.OData.Capabilities.V1.SearchRestrictions"]="Org.OData.Capabilities.V1.SearchRestrictionsType";a["Org.OData.Capabilities.V1.KeyAsSegmentSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.QuerySegmentSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.InsertRestrictions"]="Org.OData.Capabilities.V1.InsertRestrictionsType";a["Org.OData.Capabilities.V1.DeepInsertSupport"]="Org.OData.Capabilities.V1.DeepInsertSupportType";a["Org.OData.Capabilities.V1.UpdateRestrictions"]="Org.OData.Capabilities.V1.UpdateRestrictionsType";a["Org.OData.Capabilities.V1.DeepUpdateSupport"]="Org.OData.Capabilities.V1.DeepUpdateSupportType";a["Org.OData.Capabilities.V1.DeleteRestrictions"]="Org.OData.Capabilities.V1.DeleteRestrictionsType";a["Org.OData.Capabilities.V1.CollectionPropertyRestrictions"]="Org.OData.Capabilities.V1.CollectionPropertyRestrictionsType";a["Org.OData.Capabilities.V1.OperationRestrictions"]="Org.OData.Capabilities.V1.OperationRestrictionsType";a["Org.OData.Capabilities.V1.AnnotationValuesInQuerySupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Capabilities.V1.ModificationQueryOptions"]="Org.OData.Capabilities.V1.ModificationQueryOptionsType";a["Org.OData.Capabilities.V1.ReadRestrictions"]="Org.OData.Capabilities.V1.ReadRestrictionsType";a["Org.OData.Capabilities.V1.CustomHeaders"]="Org.OData.Capabilities.V1.CustomParameter";a["Org.OData.Capabilities.V1.CustomQueryOptions"]="Org.OData.Capabilities.V1.CustomParameter";a["Org.OData.Capabilities.V1.MediaLocationUpdateSupported"]="Org.OData.Core.V1.Tag";a["Org.OData.Aggregation.V1.ApplySupported"]="Org.OData.Aggregation.V1.ApplySupportedType";a["Org.OData.Aggregation.V1.ApplySupportedDefaults"]="Org.OData.Aggregation.V1.ApplySupportedBase";a["Org.OData.Aggregation.V1.Groupable"]="Org.OData.Core.V1.Tag";a["Org.OData.Aggregation.V1.Aggregatable"]="Org.OData.Core.V1.Tag";a["Org.OData.Aggregation.V1.ContextDefiningProperties"]="Edm.PropertyPath";a["Org.OData.Aggregation.V1.LeveledHierarchy"]="Edm.PropertyPath";a["Org.OData.Aggregation.V1.RecursiveHierarchy"]="Org.OData.Aggregation.V1.RecursiveHierarchyType";a["Org.OData.Aggregation.V1.AvailableOnAggregates"]="Org.OData.Aggregation.V1.AvailableOnAggregatesType";a["Org.OData.Validation.V1.Minimum"]="Edm.PrimitiveType";a["Org.OData.Validation.V1.Maximum"]="Edm.PrimitiveType";a["Org.OData.Validation.V1.Exclusive"]="Org.OData.Core.V1.Tag";a["Org.OData.Validation.V1.AllowedValues"]="Org.OData.Validation.V1.AllowedValue";a["Org.OData.Validation.V1.MultipleOf"]="Edm.Decimal";a["Org.OData.Validation.V1.Constraint"]="Org.OData.Validation.V1.ConstraintType";a["Org.OData.Validation.V1.ItemsOf"]="Org.OData.Validation.V1.ItemsOfType";a["Org.OData.Validation.V1.OpenPropertyTypeConstraint"]="Org.OData.Validation.V1.SingleOrCollectionType";a["Org.OData.Validation.V1.DerivedTypeConstraint"]="Org.OData.Validation.V1.SingleOrCollectionType";a["Org.OData.Validation.V1.AllowedTerms"]="Org.OData.Core.V1.QualifiedTermName";a["Org.OData.Validation.V1.ApplicableTerms"]="Org.OData.Core.V1.QualifiedTermName";a["Org.OData.Validation.V1.MaxItems"]="Edm.Int64";a["Org.OData.Validation.V1.MinItems"]="Edm.Int64";a["Org.OData.Measures.V1.Scale"]="Edm.Byte";a["Org.OData.Measures.V1.DurationGranularity"]="Org.OData.Measures.V1.DurationGranularityType";a["com.sap.vocabularies.Analytics.v1.Dimension"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Analytics.v1.Measure"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Analytics.v1.AccumulativeMeasure"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Analytics.v1.RolledUpPropertyCount"]="Edm.Int16";a["com.sap.vocabularies.Analytics.v1.PlanningAction"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Analytics.v1.AggregatedProperties"]="com.sap.vocabularies.Analytics.v1.AggregatedPropertyType";a["com.sap.vocabularies.Analytics.v1.AggregatedProperty"]="com.sap.vocabularies.Analytics.v1.AggregatedPropertyType";a["com.sap.vocabularies.Analytics.v1.AnalyticalContext"]="com.sap.vocabularies.Analytics.v1.AnalyticalContextType";a["com.sap.vocabularies.Common.v1.ServiceVersion"]="Edm.Int32";a["com.sap.vocabularies.Common.v1.ServiceSchemaVersion"]="Edm.Int32";a["com.sap.vocabularies.Common.v1.TextFor"]="Edm.PropertyPath";a["com.sap.vocabularies.Common.v1.IsLanguageIdentifier"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.TextFormat"]="com.sap.vocabularies.Common.v1.TextFormatType";a["com.sap.vocabularies.Common.v1.IsTimezone"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsDigitSequence"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsUpperCase"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCurrency"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsUnit"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.UnitSpecificScale"]="Edm.PrimitiveType";a["com.sap.vocabularies.Common.v1.UnitSpecificPrecision"]="Edm.PrimitiveType";a["com.sap.vocabularies.Common.v1.SecondaryKey"]="Edm.PropertyPath";a["com.sap.vocabularies.Common.v1.MinOccurs"]="Edm.Int64";a["com.sap.vocabularies.Common.v1.MaxOccurs"]="Edm.Int64";a["com.sap.vocabularies.Common.v1.AssociationEntity"]="Edm.NavigationPropertyPath";a["com.sap.vocabularies.Common.v1.DerivedNavigation"]="Edm.NavigationPropertyPath";a["com.sap.vocabularies.Common.v1.Masked"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.RevealOnDemand"]="Edm.Boolean";a["com.sap.vocabularies.Common.v1.SemanticObjectMapping"]="com.sap.vocabularies.Common.v1.SemanticObjectMappingType";a["com.sap.vocabularies.Common.v1.IsInstanceAnnotation"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.FilterExpressionRestrictions"]="com.sap.vocabularies.Common.v1.FilterExpressionRestrictionType";a["com.sap.vocabularies.Common.v1.FieldControl"]="com.sap.vocabularies.Common.v1.FieldControlType";a["com.sap.vocabularies.Common.v1.Application"]="com.sap.vocabularies.Common.v1.ApplicationType";a["com.sap.vocabularies.Common.v1.Timestamp"]="Edm.DateTimeOffset";a["com.sap.vocabularies.Common.v1.ErrorResolution"]="com.sap.vocabularies.Common.v1.ErrorResolutionType";a["com.sap.vocabularies.Common.v1.Messages"]="Edm.ComplexType";a["com.sap.vocabularies.Common.v1.numericSeverity"]="com.sap.vocabularies.Common.v1.NumericMessageSeverityType";a["com.sap.vocabularies.Common.v1.MaximumNumericMessageSeverity"]="com.sap.vocabularies.Common.v1.NumericMessageSeverityType";a["com.sap.vocabularies.Common.v1.IsActionCritical"]="Edm.Boolean";a["com.sap.vocabularies.Common.v1.Attributes"]="Edm.PropertyPath";a["com.sap.vocabularies.Common.v1.RelatedRecursiveHierarchy"]="Edm.AnnotationPath";a["com.sap.vocabularies.Common.v1.Interval"]="com.sap.vocabularies.Common.v1.IntervalType";a["com.sap.vocabularies.Common.v1.ResultContext"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.SAPObjectNodeType"]="com.sap.vocabularies.Common.v1.SAPObjectNodeTypeType";a["com.sap.vocabularies.Common.v1.Composition"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsNaturalPerson"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.ValueList"]="com.sap.vocabularies.Common.v1.ValueListType";a["com.sap.vocabularies.Common.v1.ValueListRelevantQualifiers"]="Org.OData.Core.V1.SimpleIdentifier";a["com.sap.vocabularies.Common.v1.ValueListWithFixedValues"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.ValueListMapping"]="com.sap.vocabularies.Common.v1.ValueListMappingType";a["com.sap.vocabularies.Common.v1.IsCalendarYear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarHalfyear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarQuarter"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarMonth"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarWeek"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsDayOfCalendarMonth"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsDayOfCalendarYear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarYearHalfyear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarYearQuarter"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarYearMonth"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarYearWeek"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsCalendarDate"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalYear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalPeriod"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalQuarter"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalWeek"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalYearWeek"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.IsFiscalYearVariant"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.MutuallyExclusiveTerm"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.DraftRoot"]="com.sap.vocabularies.Common.v1.DraftRootType";a["com.sap.vocabularies.Common.v1.DraftNode"]="com.sap.vocabularies.Common.v1.DraftNodeType";a["com.sap.vocabularies.Common.v1.DraftActivationVia"]="Org.OData.Core.V1.SimpleIdentifier";a["com.sap.vocabularies.Common.v1.EditableFieldFor"]="Edm.PropertyPath";a["com.sap.vocabularies.Common.v1.SemanticKey"]="Edm.PropertyPath";a["com.sap.vocabularies.Common.v1.SideEffects"]="com.sap.vocabularies.Common.v1.SideEffectsType";a["com.sap.vocabularies.Common.v1.DefaultValuesFunction"]="com.sap.vocabularies.Common.v1.QualifiedName";a["com.sap.vocabularies.Common.v1.FilterDefaultValue"]="Edm.PrimitiveType";a["com.sap.vocabularies.Common.v1.FilterDefaultValueHigh"]="Edm.PrimitiveType";a["com.sap.vocabularies.Common.v1.SortOrder"]="com.sap.vocabularies.Common.v1.SortOrderType";a["com.sap.vocabularies.Common.v1.RecursiveHierarchy"]="com.sap.vocabularies.Common.v1.RecursiveHierarchyType";a["com.sap.vocabularies.Common.v1.CreatedAt"]="Edm.DateTimeOffset";a["com.sap.vocabularies.Common.v1.CreatedBy"]="com.sap.vocabularies.Common.v1.UserID";a["com.sap.vocabularies.Common.v1.ChangedAt"]="Edm.DateTimeOffset";a["com.sap.vocabularies.Common.v1.ChangedBy"]="com.sap.vocabularies.Common.v1.UserID";a["com.sap.vocabularies.Common.v1.ApplyMultiUnitBehaviorForSortingAndFiltering"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Common.v1.PrimitivePropertyPath"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.CodeList.v1.CurrencyCodes"]="com.sap.vocabularies.CodeList.v1.CodeListSource";a["com.sap.vocabularies.CodeList.v1.UnitsOfMeasure"]="com.sap.vocabularies.CodeList.v1.CodeListSource";a["com.sap.vocabularies.CodeList.v1.StandardCode"]="Edm.PropertyPath";a["com.sap.vocabularies.CodeList.v1.ExternalCode"]="Edm.PropertyPath";a["com.sap.vocabularies.CodeList.v1.IsConfigurationDeprecationCode"]="Edm.Boolean";a["com.sap.vocabularies.Communication.v1.Contact"]="com.sap.vocabularies.Communication.v1.ContactType";a["com.sap.vocabularies.Communication.v1.Address"]="com.sap.vocabularies.Communication.v1.AddressType";a["com.sap.vocabularies.Communication.v1.IsEmailAddress"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Communication.v1.IsPhoneNumber"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Communication.v1.Event"]="com.sap.vocabularies.Communication.v1.EventData";a["com.sap.vocabularies.Communication.v1.Task"]="com.sap.vocabularies.Communication.v1.TaskData";a["com.sap.vocabularies.Communication.v1.Message"]="com.sap.vocabularies.Communication.v1.MessageData";a["com.sap.vocabularies.Hierarchy.v1.RecursiveHierarchy"]="com.sap.vocabularies.Hierarchy.v1.RecursiveHierarchyType";a["com.sap.vocabularies.PersonalData.v1.EntitySemantics"]="com.sap.vocabularies.PersonalData.v1.EntitySemanticsType";a["com.sap.vocabularies.PersonalData.v1.FieldSemantics"]="com.sap.vocabularies.PersonalData.v1.FieldSemanticsType";a["com.sap.vocabularies.PersonalData.v1.IsPotentiallyPersonal"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.Session.v1.StickySessionSupported"]="com.sap.vocabularies.Session.v1.StickySessionSupportedType";a["com.sap.vocabularies.UI.v1.HeaderInfo"]="com.sap.vocabularies.UI.v1.HeaderInfoType";a["com.sap.vocabularies.UI.v1.Identification"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";a["com.sap.vocabularies.UI.v1.Badge"]="com.sap.vocabularies.UI.v1.BadgeType";a["com.sap.vocabularies.UI.v1.LineItem"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";a["com.sap.vocabularies.UI.v1.StatusInfo"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";a["com.sap.vocabularies.UI.v1.FieldGroup"]="com.sap.vocabularies.UI.v1.FieldGroupType";a["com.sap.vocabularies.UI.v1.ConnectedFields"]="com.sap.vocabularies.UI.v1.ConnectedFieldsType";a["com.sap.vocabularies.UI.v1.GeoLocations"]="com.sap.vocabularies.UI.v1.GeoLocationType";a["com.sap.vocabularies.UI.v1.GeoLocation"]="com.sap.vocabularies.UI.v1.GeoLocationType";a["com.sap.vocabularies.UI.v1.Contacts"]="Edm.AnnotationPath";a["com.sap.vocabularies.UI.v1.MediaResource"]="com.sap.vocabularies.UI.v1.MediaResourceType";a["com.sap.vocabularies.UI.v1.DataPoint"]="com.sap.vocabularies.UI.v1.DataPointType";a["com.sap.vocabularies.UI.v1.KPI"]="com.sap.vocabularies.UI.v1.KPIType";a["com.sap.vocabularies.UI.v1.Chart"]="com.sap.vocabularies.UI.v1.ChartDefinitionType";a["com.sap.vocabularies.UI.v1.ValueCriticality"]="com.sap.vocabularies.UI.v1.ValueCriticalityType";a["com.sap.vocabularies.UI.v1.CriticalityLabels"]="com.sap.vocabularies.UI.v1.CriticalityLabelType";a["com.sap.vocabularies.UI.v1.SelectionFields"]="Edm.PropertyPath";a["com.sap.vocabularies.UI.v1.Facets"]="com.sap.vocabularies.UI.v1.Facet";a["com.sap.vocabularies.UI.v1.HeaderFacets"]="com.sap.vocabularies.UI.v1.Facet";a["com.sap.vocabularies.UI.v1.QuickViewFacets"]="com.sap.vocabularies.UI.v1.Facet";a["com.sap.vocabularies.UI.v1.QuickCreateFacets"]="com.sap.vocabularies.UI.v1.Facet";a["com.sap.vocabularies.UI.v1.FilterFacets"]="com.sap.vocabularies.UI.v1.ReferenceFacet";a["com.sap.vocabularies.UI.v1.SelectionPresentationVariant"]="com.sap.vocabularies.UI.v1.SelectionPresentationVariantType";a["com.sap.vocabularies.UI.v1.PresentationVariant"]="com.sap.vocabularies.UI.v1.PresentationVariantType";a["com.sap.vocabularies.UI.v1.SelectionVariant"]="com.sap.vocabularies.UI.v1.SelectionVariantType";a["com.sap.vocabularies.UI.v1.ThingPerspective"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.IsSummary"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.PartOfPreview"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.Map"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.Gallery"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.IsImageURL"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.IsImage"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.MultiLineText"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.TextArrangement"]="com.sap.vocabularies.UI.v1.TextArrangementType";a["com.sap.vocabularies.UI.v1.Note"]="com.sap.vocabularies.UI.v1.NoteType";a["com.sap.vocabularies.UI.v1.Importance"]="com.sap.vocabularies.UI.v1.ImportanceType";a["com.sap.vocabularies.UI.v1.Hidden"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.IsCopyAction"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.CreateHidden"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.UpdateHidden"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.DeleteHidden"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.HiddenFilter"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.AdaptationHidden"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.DataFieldDefault"]="com.sap.vocabularies.UI.v1.DataFieldAbstract";a["com.sap.vocabularies.UI.v1.Criticality"]="com.sap.vocabularies.UI.v1.CriticalityType";a["com.sap.vocabularies.UI.v1.CriticalityCalculation"]="com.sap.vocabularies.UI.v1.CriticalityCalculationType";a["com.sap.vocabularies.UI.v1.Emphasized"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.OrderBy"]="Edm.PropertyPath";a["com.sap.vocabularies.UI.v1.ParameterDefaultValue"]="Edm.PrimitiveType";a["com.sap.vocabularies.UI.v1.RecommendationState"]="com.sap.vocabularies.UI.v1.RecommendationStateType";a["com.sap.vocabularies.UI.v1.RecommendationList"]="com.sap.vocabularies.UI.v1.RecommendationListType";a["com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"]="Org.OData.Core.V1.Tag";a["com.sap.vocabularies.UI.v1.DoNotCheckScaleOfMeasuredQuantity"]="Edm.Boolean";a["com.sap.vocabularies.HTML5.v1.CssDefaults"]="com.sap.vocabularies.HTML5.v1.CssDefaultsType"})(t=e.TermToTypes||(e.TermToTypes={}))},810:function(a,e){Object.defineProperty(e,"__esModule",{value:true});e.VocabularyReferences=void 0;e.VocabularyReferences=[{alias:"Auth",namespace:"Org.OData.Authorization.V1",uri:"https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Authorization.V1.xml"},{alias:"Core",namespace:"Org.OData.Core.V1",uri:"https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Core.V1.xml"},{alias:"Capabilities",namespace:"Org.OData.Capabilities.V1",uri:"https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Capabilities.V1.xml"},{alias:"Aggregation",namespace:"Org.OData.Aggregation.V1",uri:"https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Aggregation.V1.xml"},{alias:"Validation",namespace:"Org.OData.Validation.V1",uri:"https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Validation.V1.xml"},{alias:"Measures",namespace:"Org.OData.Measures.V1",uri:"https://oasis-tcs.github.io/odata-vocabularies/vocabularies/Org.OData.Measures.V1.xml"},{alias:"Analytics",namespace:"com.sap.vocabularies.Analytics.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/Analytics.xml"},{alias:"Common",namespace:"com.sap.vocabularies.Common.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/Common.xml"},{alias:"CodeList",namespace:"com.sap.vocabularies.CodeList.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/CodeList.xml"},{alias:"Communication",namespace:"com.sap.vocabularies.Communication.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/Communication.xml"},{alias:"Hierarchy",namespace:"com.sap.vocabularies.Hierarchy.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/Hierarchy.xml"},{alias:"PersonalData",namespace:"com.sap.vocabularies.PersonalData.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/PersonalData.xml"},{alias:"Session",namespace:"com.sap.vocabularies.Session.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/Session.xml"},{alias:"UI",namespace:"com.sap.vocabularies.UI.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/UI.xml"},{alias:"HTML5",namespace:"com.sap.vocabularies.HTML5.v1",uri:"https://sap.github.io/odata-vocabularies/vocabularies/HTML5.xml"}]}};var t={};function o(a){var r=t[a];if(r!==undefined){return r.exports}var i=t[a]={exports:{}};e[a].call(i.exports,i,i.exports,o);return i.exports}var r=o(159);a=r})();return a},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Action", ["sap/base/Log","sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/ID","sap/fe/core/formatters/FPMFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/StableIdHelper","sap/fe/core/templating/UIFormatters"],function(e,n,t,o,i,a,r,l){"use strict";var c={};var s=l.getActionEnabledExpression;var u=r.replaceSpecialChars;var d=a.resolveBindingString;var f=a.pathInModel;var v=a.or;var p=a.isConstant;var b=a.ifElse;var m=a.greaterOrEqual;var y=a.formatResult;var g=a.constant;var h=a.compileExpression;var A=a.and;var S=o.getCustomActionID;var E=t.Placement;var k=n.ActionType;let C;(function(e){e["Accept"]="Accept";e["Attention"]="Attention";e["Back"]="Back";e["Critical"]="Critical";e["Default"]="Default";e["Emphasized"]="Emphasized";e["Ghost"]="Ghost";e["Negative"]="Negative";e["Neutral"]="Neutral";e["Reject"]="Reject";e["Success"]="Success";e["Transparent"]="Transparent";e["Unstyled"]="Unstyled";e["Up"]="Up"})(C||(C={}));c.ButtonType=C;function I(e,n,t,o){const i=n.find(e=>e.key===o);const a=e[o];const r={...i??a};if(i){r.enabled=(a===null||a===void 0?void 0:a.enabled)??i.enabled;r.visible=(a===null||a===void 0?void 0:a.visible)??i.visible;for(const e in a||{}){const n=e;if(!i[n]&&n!=="menu"){r[n]=a[n]}}}const l=((r===null||r===void 0?void 0:r.visible)||(r===null||r===void 0?void 0:r.type)===k.DataFieldForAction||(r===null||r===void 0?void 0:r.type)===k.DataFieldForIntentBasedNavigation)&&!t.find(e=>e.key===(r===null||r===void 0?void 0:r.key));return{action:r,canBeMenuItem:l}}function M(e,n,t,o,i){const{action:a,canBeMenuItem:r}=I(n,t,i,e.defaultAction);if(r){e.defaultAction=a}if(a.command){o[a.key]=a}}function F(e,n,t,o,i){const a=[];for(const r of e.menu??[]){const{action:e,canBeMenuItem:l}=I(n,t,i,r);if(l){a.push(e)}if(e.command){o[r]=e}}e.menu=a;const r=a.map(e=>d(e.visible,"boolean"));e.visible=h(A(d(e.visible,"boolean"),v(...r)))}function x(e,n,t){const o={};const i=[];const a={};for(const l in e){const c=e[l];if(c.defaultAction!==undefined){M(c,e,n,a,t)}if(c.type===k.Menu){var r;i.push(...c.menu);F(c,e,n,a,t);if(!((r=c.menu)!==null&&r!==void 0&&r.length)){i.push(c.key)}}if(c.command){a[l]=c}o[l]=c}i.forEach(e=>delete o[e]);return{actions:o,commandActions:a}}const O=function(e,n,t){if(n&&e.enabled===undefined){return undefined}const o=N(e.enabled,t);return h(b(e.requiresSelection===true,A(m(f("numberOfSelectedContexts","internal"),1),o),o))};const P=function(e,n,t){if(n&&e.visible===undefined){return undefined}const o=N(e.visible,t);return h(o)};function D(e,n){if(!n){return}e.type=n.type;e.annotationPath=n.annotationPath;e.press=n.press;e.enabled=e.enabled??n.enabled;e.visible=e.visible??n.visible}function T(e,n){if(n!==null&&n!==void 0&&n.find(n=>n.key===e.key)){e.visible="false"}}function B(e,n,t,o,i,a,r){const l={};for(const d in e){var c,s;const f=e[d];const v=((c=f.press)===null||c===void 0?void 0:c.lastIndexOf("."))||-1;const p=t===null||t===void 0?void 0:t.find(e=>e.key===d);const b=!!p;if(f.facetName){r=f.facetName}l[d]={id:p?d:S(d),type:f.menu?k.Menu:k.Default,visible:P(f,b,n),enabled:O(f,b,n),handlerModule:f.press&&f.press.substring(0,v).replace(/\./gi,"/"),handlerMethod:f.press&&f.press.substring(v+1),press:f.press,text:f.text,noWrap:f.__noWrap,key:u(d),enableOnSelect:f.enableOnSelect,defaultValuesExtensionFunction:f.defaultValuesFunction,position:{anchor:(s=f.position)===null||s===void 0?void 0:s.anchor,placement:f.position===undefined?E.After:f.position.placement},isNavigable:L(f,o,i),command:f.command,requiresSelection:f.requiresSelection===undefined?false:f.requiresSelection,enableAutoScroll:R(f),menu:f.menu??[],facetName:f.inline?r:undefined,defaultAction:f.defaultAction};D(l[d],p);T(l[d],a)}return x(l,t??[],a??[])}c.getActionsFromManifest=B;function N(e,n){const t=d(e,"boolean");let o;if(p(t)&&t.value===undefined){o=g(true)}else if(p(t)&&typeof t.value==="string"){var a;const e=t.value;o=y([f("/","$view"),e,f("selectedContexts","internal")],i.customBooleanPropertyCheck,((a=n.getDataModelObjectPath().contextLocation)===null||a===void 0?void 0:a.targetEntityType)||n.getEntityType())}else{o=t}return o}const j=e=>{let n={};e.forEach(e=>{var t;if(e!==null&&e!==void 0&&(t=e.menu)!==null&&t!==void 0&&t.length){const t=e.menu;n=t.reduce((e,n)=>{let{key:t}=n;if(t&&!e[t]){e[t]=true}return e},n)}});return e.filter(e=>!n[e.key])};c.removeDuplicateActions=j;function U(e,n){var t;let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(n!==null&&n!==void 0&&(t=n.annotations.Core)!==null&&t!==void 0&&t.OperationAvailable){const t=e.getDataModelObjectPath();const i=s(n,e.getConvertedTypes(),t,o);return h(i)}return"true"}c.getEnabledForAnnotationAction=U;function q(e){return e?e.map(e=>({LocalProperty:{$PropertyPath:e.LocalProperty.value},SemanticObjectProperty:e.SemanticObjectProperty})):[]}c.getSemanticObjectMapping=q;function L(e,n,t){var o,i;let a=true;if(t){const e=n&&(n.detail||n.display);a=e!==null&&e!==void 0&&e.route?true:false}if(e&&e.afterExecution&&(((o=e.afterExecution)===null||o===void 0?void 0:o.navigateToInstance)===false||((i=e.afterExecution)===null||i===void 0?void 0:i.enableAutoScroll)===true)||!a){return false}return true}c.isActionNavigable=L;function R(e){var n;return(e===null||e===void 0?void 0:(n=e.afterExecution)===null||n===void 0?void 0:n.enableAutoScroll)===true}c.enableAutoScroll=R;function $(e){var n,t,o;return((n=e.annotations)===null||n===void 0?void 0:(t=n.UI)===null||t===void 0?void 0:(o=t.IsCopyAction)===null||o===void 0?void 0:o.valueOf())===true&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"}c.dataFieldIsCopyAction=$;function w(n){if(n.length===1){return n[0]}if(n.length>1){e.error("Multiple actions are annotated with isCopyAction. There can be only one standard copy action.")}return undefined}c.getCopyAction=w;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Chart", ["sap/base/Log","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper","sap/ui/core/Core","../../ManifestSettings","../../helpers/Aggregation","../../helpers/ID","../../helpers/InsightsHelpers"],function(t,e,n,a,o,i,r,s,l,g,c,p){"use strict";var u={};var d=p.getInsightsVisibility;var v=p.getInsightsEnablement;var f=c.getFilterBarID;var m=c.getChartID;var y=g.AggregationHelper;var h=l.VisualizationType;var b=l.VariantManagementType;var P=l.TemplateType;var A=l.ActionType;var T=r.getTargetObjectPath;var S=i.not;var C=i.getExpressionFromAnnotation;var I=i.equal;var M=i.compileExpression;var O=i.and;var D=o.KeyHelper;var E=a.insertCustomElements;var F=a.OverrideType;var V=n.getActionsFromManifest;var N=e.isDataFieldForActionAbstract;function w(t,e,n){const a=[];if(t!==null&&t!==void 0&&t.Actions){t.Actions.forEach(t=>{if(N(t)&&!t.Inline&&!t.Determining){const e=D.generateKeyFromDataField(t);switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":if(t.ActionTarget&&!t.ActionTarget.isBound){a.push({type:A.DataFieldForAction,annotationPath:n.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),key:e,visible:x(t,n)})}break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":a.push({type:A.DataFieldForIntentBasedNavigation,annotationPath:n.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),key:e,visible:x(t,n),isNavigable:true});break}}})}return a}function B(t,e,n){const a=w(t,e,n);const o=V(n.getManifestControlConfiguration(e).actions,n,a);const i={enabled:F.overwrite,enableOnSelect:F.overwrite,visible:F.overwrite,command:F.overwrite};const r=E(a,o.actions,i);return{actions:r,commandActions:o.commandActions}}u.getChartActions=B;function $(t,e){var n;const a=e.getManifestWrapper();const o=e.getManifestControlConfiguration(t);const i=a.getVariantManagement();const r=[];const s=o===null||o===void 0?void 0:(n=o.chartSettings)===null||n===void 0?void 0:n.personalization;const l=i===b.Control?true:false;if(s!==undefined&&!s||s=="false"){return undefined}switch(true){case typeof s==="object":if(s.type){r.push("Type")}if(s.item){r.push("Item")}if(s.sort){r.push("Sort")}if(s.filter){r.push("Filter")}return r.join(",");case l:case!!s:return"Sort,Type,Item,Filter";default:return"Sort,Type,Item"}}u.getP13nMode=$;function z(t){var e;return t!==null&&t!==void 0&&(e=t.annotationPath)!==null&&e!==void 0&&e.includes(`@${"com.sap.vocabularies.UI.v1.SelectionPresentationVariant"}`)?t===null||t===void 0?void 0:t.annotationPath:undefined}function L(t){let e;if(t!==null&&t!==void 0&&t.Property){var n;e={Property:{$PropertyPath:t===null||t===void 0?void 0:(n=t.Property)===null||n===void 0?void 0:n.value}}}else{e={Property:{$PropertyPath:t===null||t===void 0?void 0:t.name}}}return e}function G(e,n,a,o,i){var r;const l=new y(a.getEntityType(),a,true);if(!o&&!l.isAnalyticsSupported()){throw new Error("ApplySupported is not added to the annotations")}const g=l.getTransAggregations();const c=l.getCustomAggregateDefinitions();const p=a.getManifestWrapper();const u=p.getVariantManagement();const b=$(n,a);if(b===undefined&&u==="Control"){t.warning("Variant Management cannot be enabled when personalization is disabled")}const A={};const S=z(i);if(c){const t=l.getEntityType();for(const e of c){var C,I,M,D,E;const n=e===null||e===void 0?void 0:(C=e.annotations)===null||C===void 0?void 0:(I=C.Aggregation)===null||I===void 0?void 0:I.ContextDefiningProperties;const a=e===null||e===void 0?void 0:e.qualifier;const o=a&&t.entityProperties.find(t=>t.name===a);const i=o&&(o===null||o===void 0?void 0:(M=o.annotations)===null||M===void 0?void 0:(D=M.Common)===null||D===void 0?void 0:(E=D.Label)===null||E===void 0?void 0:E.toString());A[a]={name:a,label:i||`Custom Aggregate (${a})`,sortable:true,sortOrder:"both",contextDefiningProperty:n?n.map(t=>t.value):[]}}}const F={};const V=s.getLibraryResourceBundle("sap.fe.core");if(g){for(let t=0;t<g.length;t++){var N,w,G,x,k,R;F[g[t].Name]={name:g[t].Name,propertyPath:g[t].AggregatableProperty.valueOf().value,aggregationMethod:g[t].AggregationMethod,label:(N=g[t])!==null&&N!==void 0&&(w=N.annotations)!==null&&w!==void 0&&(G=w.Common)!==null&&G!==void 0&&G.Label?(x=g[t])===null||x===void 0?void 0:(k=x.annotations)===null||k===void 0?void 0:(R=k.Common)===null||R===void 0?void 0:R.Label.toString():`${V.getText("AGGREGATABLE_PROPERTY")} (${g[t].Name})`,sortable:true,sortOrder:"both",custom:false}}}const H=l.getAggregatableProperties();const Q=l.getGroupableProperties();const U={};U.$Type="Org.OData.Aggregation.V1.ApplySupportedType";U.AggregatableProperties=[];U.GroupableProperties=[];if(H){U.AggregatableProperties=H.map(t=>L(t))}if(Q){U.GroupableProperties=Q.map(t=>({["$PropertyPath"]:t.value}))}const W=B(e,n,a);let[K]=n.split("@");if(K.lastIndexOf("/")===K.length-1){K=K.substring(0,K.length-1)}const q=((r=e.Title)===null||r===void 0?void 0:r.toString())||"";const J=a.getDataModelObjectPath();const Y=K.length===0;const _=J.targetEntitySet?J.targetEntitySet.name:J.startingEntitySet.name;const X=Y?f(a.getContextPath()):undefined;const Z={legendGroup:{layout:{position:"bottom"}}};let tt;if(a.getTemplateType()===P.ObjectPage){tt=true}else if(a.getTemplateType()===P.ListReport||a.getTemplateType()===P.AnalyticalListPage){tt=false}const et=a.getManifestWrapper().hasMultipleVisualizations()||a.getTemplateType()===P.AnalyticalListPage;const nt=et?".handlers.onSegmentedButtonPressed":"";const at=et?"{= ${pageInternal>alpContentView} !== 'Table'}":"true";const ot=l.getAllowedTransformations();U.enableSearch=ot?ot.includes("search"):true;let it="";if(e.fullyQualifiedName.split("#").length>1){it=e.fullyQualifiedName.split("#")[1]}const rt=d("Analytical",a,n);const st=O(v(),rt);return{type:h.Chart,id:it?m(Y?_:K,it,h.Chart):m(Y?_:K,h.Chart),collection:T(a.getDataModelObjectPath()),entityName:_,personalization:$(n,a),navigationPath:K,annotationPath:a.getAbsoluteAnnotationPath(n),filterId:X,vizProperties:JSON.stringify(Z),actions:W.actions,commandActions:W.commandActions,title:q,autoBindOnInit:tt,onSegmentedButtonPressed:nt,visible:at,customAgg:A,transAgg:F,applySupported:U,selectionPresentationVariantPath:S,variantManagement:j(b,u),isInsightsEnabled:st,isInsightsVisible:rt}}u.createChartVisualization=G;function j(t,e){return e==="Control"&&!t?b.None:e}function x(t,e){var n,a;return M(S(I(C((n=t.annotations)===null||n===void 0?void 0:(a=n.UI)===null||a===void 0?void 0:a.Hidden,[],undefined,e.getRelativeModelPathFunction()),true)))}function k(t){const e=t.getManifestWrapper().hasMultipleVisualizations()||t.getTemplateType()===P.AnalyticalListPage;const n=t.getDataModelObjectPath();const a=n.targetEntitySet?n.targetEntitySet.name:n.startingEntitySet.name;const o={type:h.Chart,id:m(a,h.Chart),entityName:a,title:"",collection:"",personalization:undefined,navigationPath:"",annotationPath:"",vizProperties:JSON.stringify({legendGroup:{layout:{position:"bottom"}}}),actions:[],commandActions:{},autoBindOnInit:false,onSegmentedButtonPressed:"",visible:e?"{= ${pageInternal>alpContentView} !== 'Table'}":"true",customAgg:{},transAgg:{},applySupported:{$Type:"Org.OData.Aggregation.V1.ApplySupportedType",AggregatableProperties:[],GroupableProperties:[],enableSearch:false},multiViews:false,variantManagement:b.None};return o}u.createBlankChartVisualization=k;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Criticality", ["sap/fe/core/formatters/TableFormatterTypes"],function(e){"use strict";var i={};var t=e.MessageType;function a(e){let i;switch(e){case"UI.CriticalityType/Negative":case"UI.CriticalityType/VeryNegative":i=t.Error;break;case"UI.CriticalityType/Critical":i=t.Warning;break;case"UI.CriticalityType/Positive":case"UI.CriticalityType/VeryPositive":i=t.Success;break;case"UI.CriticalityType/Information":i=t.Information;break;case"UI.CriticalityType/Neutral":default:i=t.None}return i}i.getMessageTypeFromCriticalityType=a;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/DataVisualization", ["sap/fe/core/converters/MetaModelConverter","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/macros/CommonHelper","sap/ui/core/Core","../../ManifestSettings","./Chart","./Table"],function(t,e,a,n,i,o,r,s,l){"use strict";var u={};var c=s.createChartVisualization;var v=s.createBlankChartVisualization;var d=r.VisualizationType;var f=r.TemplateType;var p=n.isAnnotationOfType;var m=a.generate;var I=e.IssueType;var h=e.IssueSeverity;var g=e.IssueCategory;const P=function(t,e,a,n){const i=[];const o=E(a);const r=e.split("@")[0];if((n===true||o)&&!y(t,o)){if(!D(t,"com.sap.vocabularies.UI.v1.LineItem")){const t=L("com.sap.vocabularies.UI.v1.LineItem",r,a);if(t){i.push(t)}}if(!D(t,"com.sap.vocabularies.UI.v1.Chart")){const t=L("com.sap.vocabularies.UI.v1.Chart",r,a);if(t){i.push(t)}}}const s=t.Visualizations;const l=function(t){const e=s===null||s===void 0?void 0:s.find(e=>e.$target!==undefined&&t.includes(e.$target.term));if(e){i.push({visualization:e.$target,annotationPath:`${r}${e.value}`,converterContext:a})}};if(o){l(["com.sap.vocabularies.UI.v1.LineItem"]);l(["com.sap.vocabularies.UI.v1.Chart"])}else{l(["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.Chart"])}return i};u.getVisualizationsFromPresentationVariant=P;function V(t,e,a){if(e){const t=a.getEntityTypeAnnotation(e);const n=t.annotation;if(n){if(n.term==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){return n}}else{throw new Error("Annotation Path for the SPV mentioned in the manifest is not found, Please add the SPV in the annotation")}}else{var n,i;return(n=t.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:i.SelectionPresentationVariant}}u.getSelectionPresentationVariant=V;function b(t,e){const a=t&&t.PresentationVariant;if(a){return y(a,e)}else{throw new Error("Presentation Variant is not present in the SPV annotation")}}u.isSelectionPresentationCompliant=b;function y(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let a=false,n=false;if(e){if(t!==null&&t!==void 0&&t.Visualizations){const e=t.Visualizations;e.forEach(t=>{var e,i;if(((e=t.$target)===null||e===void 0?void 0:e.term)==="com.sap.vocabularies.UI.v1.LineItem"){a=true}if(((i=t.$target)===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.UI.v1.Chart"){n=true}})}return n&&a}else{return(t===null||t===void 0?void 0:t.Visualizations)&&!!t.Visualizations.find(t=>{var e,a;return((e=t.$target)===null||e===void 0?void 0:e.term)==="com.sap.vocabularies.UI.v1.LineItem"||((a=t.$target)===null||a===void 0?void 0:a.term)==="com.sap.vocabularies.UI.v1.Chart"})}}u.isPresentationCompliant=y;function C(t){var e;return(e=t.annotations.UI)===null||e===void 0?void 0:e.LineItem}u.getDefaultLineItem=C;function U(t){var e;return(e=t.annotations.UI)===null||e===void 0?void 0:e.Chart}u.getDefaultChart=U;function M(t){var e,a;return(e=t.annotations)===null||e===void 0?void 0:(a=e.UI)===null||a===void 0?void 0:a.PresentationVariant}u.getDefaultPresentationVariant=M;function z(t){var e,a;return(e=t.annotations)===null||e===void 0?void 0:(a=e.UI)===null||a===void 0?void 0:a.SelectionVariant}u.getDefaultSelectionVariant=z;function S(t,e){const a=e.getManifestWrapper().getDefaultTemplateAnnotationPath();const n=V(t,a,e);let i;if(n){i=n.SelectionVariant;if(i){return i}}else{i=z(t);return i}}u.getSelectionVariant=S;function T(t,e,a,n,i,o,r){const s=t!==""?a.getEntityTypeAnnotation(t):{annotation:undefined,converterContext:a};const u=o?a.getEntityTypeAnnotation(o):null;const d=s.annotation;a=s.converterContext;let f=[];let p;let m="";let V,b;const y=d===null||d===void 0?void 0:d.term;if(y){switch(y){case"com.sap.vocabularies.UI.v1.LineItem":case"com.sap.vocabularies.UI.v1.Chart":p=u===null||u===void 0?void 0:u.annotation;f.push({visualization:d,annotationPath:t,converterContext:a});break;case"com.sap.vocabularies.UI.v1.PresentationVariant":p=d;f=f.concat(P(d,t,a,r));break;case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":p=d.PresentationVariant;m=p.fullyQualifiedName;f=f.concat(P(p,t,a,r));break;default:break}f.forEach(t=>{const{visualization:a,annotationPath:o,converterContext:r}=t;switch(a.term){case"com.sap.vocabularies.UI.v1.Chart":V=c(a,o,r,i,n);break;case"com.sap.vocabularies.UI.v1.LineItem":default:b=l.createTableVisualization(a,o,r,p,e,n);break}})}const C=[];let U=y==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"?m:d===null||d===void 0?void 0:d.fullyQualifiedName;if(U===undefined){U="/"}const M=E(a);if(!y||M&&b===undefined){b=l.createDefaultTableVisualization(a,r!==true);a.getDiagnostics().addIssue(g.Annotation,h.Medium,I.MISSING_LINEITEM)}if(M&&V===undefined){V=v(a);a.getDiagnostics().addIssue(g.Annotation,h.Medium,I.MISSING_CHART)}if(V){C.push(V)}if(b){C.push(b)}return{visualizations:C,annotationPath:a.getEntitySetBasedAnnotationPath(U)}}u.getDataVisualizationConfiguration=T;function A(e,a){i.validatePresentationMetaPath(e.getPath(),a);const n=t.convertMetaModelContext(e),o=e.getModel();if(n){if(p(n,"com.sap.vocabularies.UI.v1.SelectionPresentationVariantType")||p(n,"com.sap.vocabularies.UI.v1.PresentationVariantType")){let t;if(p(n,"com.sap.vocabularies.UI.v1.SelectionPresentationVariantType")&&n.PresentationVariant){t=n.PresentationVariant.Visualizations}else if(p(n,"com.sap.vocabularies.UI.v1.PresentationVariantType")){t=n.Visualizations}if(Array.isArray(t)){for(const n of t){if(n.type=="AnnotationPath"&&n.value.includes(a)&&!!o.getMetaContext(e.getPath().split("@")[0]+n.value).getObject()){a=n.value;break}}}}else{return e}}return o.getMetaContext(e.getPath().split("@")[0]+a)}u.getUiControl=A;const D=function(t,e){var a;return((a=t.Visualizations)===null||a===void 0?void 0:a.some(t=>t.value.includes(e)))??false};u.annotationExistsInPresentationVariant=D;const L=function(t,e,a){const n=a.getEntityType();const i=t==="com.sap.vocabularies.UI.v1.LineItem"?C(n):U(n);if(i){return{visualization:i,annotationPath:`${e}${a.getRelativeAnnotationPath(i.fullyQualifiedName,n)}`,converterContext:a}}return undefined};u.prepareDefaultVisualization=L;const E=function(t){return t.getManifestWrapper().hasMultipleVisualizations()||t.getTemplateType()===f.AnalyticalListPage};u.isAlpAnnotation=E;const N=function(t){if(o.getLoadedLibraries().hasOwnProperty("sap.sac.df")){return{visualizations:[{type:d.MultiDimensionalGrid,id:m(["fe","MultiDimensionalGrid",t.dataProviderName]),variantManagementId:m(["fe","MultiDimensionalGrid",t.dataProviderName,"vm"]),modelName:t.modelName,dataProviderName:t.dataProviderName,dimensionMapping:t.dimensionMapping}]}}else{throw new Error("You need to add 'sap.sac.df' to sap.ui5.dependencies.libs in order to use the DragonFly multidimensional grid!")}};u.getMultiDimensionalGridVisualization=N;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Form", ["sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","../../../helpers/StableIdHelper","../../ManifestSettings","../../helpers/ConfigurableObject","../../helpers/DataFieldHelper","../../helpers/ID","../../helpers/Key"],function(e,t,a,n,o,i,r,l,s,v){"use strict";var c={};var u=v.KeyHelper;var d=s.getFormStandardActionButtonID;var f=s.getFormID;var p=l.isReferencePropertyStaticallyHidden;var m=r.insertCustomElements;var y=r.Placement;var P=r.OverrideType;var h=i.ActionType;var O=o.createIdForAnnotation;var g=n.getTargetObjectPath;var F=n.getTargetEntitySetPath;var b=a.isSingleton;var E=t.pathInModel;var I=t.not;var T=t.ifElse;var D=t.getExpressionFromAnnotation;var C=t.equal;var A=t.compileExpression;var S=e.getSemanticObjectPath;let w;(function(e){e["Default"]="Default";e["Slot"]="Slot";e["Annotation"]="Annotation"})(w||(w={}));c.FormElementType=w;function U(){return{textLinesEdit:4}}function N(e,t){var a,n,o,i;return(t===null||t===void 0?void 0:t.valueOf())===false||((a=e.annotations)===null||a===void 0?void 0:(n=a.UI)===null||n===void 0?void 0:n.PartOfPreview)===undefined||((o=e.annotations)===null||o===void 0?void 0:(i=o.UI)===null||i===void 0?void 0:i.PartOfPreview.valueOf())===true}function $(e,t){const a=[];const n=t.getEntityTypeAnnotation(e.Target.value);const o=n.annotation;t=n.converterContext;function i(e,n){const o=S(t,e);if(e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForAction"&&e.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&!p(e)){var i;const r={key:u.generateKeyFromDataField(e),type:w.Annotation,annotationPath:`${t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName)}/`,semanticObjectPath:o,formatOptions:U(),isPartOfPreview:N(e,n)};if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((i=e.Target.$target)===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"){const a=Object.values(e.Target.$target.Data).filter(e=>e===null||e===void 0?void 0:e.hasOwnProperty("Value"));r.connectedFields=a.map(e=>({semanticObjectPath:S(t,e)}))}a.push(r)}}switch(o===null||o===void 0?void 0:o.term){case"com.sap.vocabularies.UI.v1.FieldGroup":o.Data.forEach(t=>{var a,n;return i(t,(a=e.annotations)===null||a===void 0?void 0:(n=a.UI)===null||n===void 0?void 0:n.PartOfPreview)});break;case"com.sap.vocabularies.UI.v1.Identification":o.forEach(t=>{var a,n;return i(t,(a=e.annotations)===null||a===void 0?void 0:(n=a.UI)===null||n===void 0?void 0:n.PartOfPreview)});break;case"com.sap.vocabularies.UI.v1.DataPoint":a.push({key:`DataPoint::${o.qualifier?o.qualifier:""}`,type:w.Annotation,annotationPath:`${t.getEntitySetBasedAnnotationPath(o.fullyQualifiedName)}/`});break;case"com.sap.vocabularies.Communication.v1.Contact":a.push({key:`Contact::${o.qualifier?o.qualifier:""}`,type:w.Annotation,annotationPath:`${t.getEntitySetBasedAnnotationPath(o.fullyQualifiedName)}/`});break;default:break}return a}function M(e,t){const a=t.getManifestWrapper();const n=a.getFormContainer(e.Target.value);const o={};if(n!==null&&n!==void 0&&n.fields){Object.keys(n===null||n===void 0?void 0:n.fields).forEach(e=>{o[e]={key:e,id:`CustomFormElement::${e}`,type:n.fields[e].type||w.Default,template:n.fields[e].template,label:n.fields[e].label,position:n.fields[e].position||{placement:y.After},formatOptions:{...U(),...n.fields[e].formatOptions}}})}return o}c.getFormElementsFromManifest=M;function _(e,t,a){var n,o,i,r,l,s;const v=O(e);const c=t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName);const u=t.getEntityTypeAnnotation(e.Target.value);const f=A(I(C(true,D((n=e.annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:o.Hidden))));let p;const y=u.converterContext.getEntitySet();if(y&&y!==t.getEntitySet()){p=F(u.converterContext.getDataModelObjectPath())}else if(((i=u.converterContext.getDataModelObjectPath().targetObject)===null||i===void 0?void 0:i.containsTarget)===true){p=g(u.converterContext.getDataModelObjectPath(),false)}else if(y&&!p&&b(y)){p=y.fullyQualifiedName}const S=m($(e,t),M(e,t),{formatOptions:P.overwrite});a=a!==undefined?a.filter(t=>t.facetName==e.fullyQualifiedName):[];if(a.length===0){a=undefined}const w={id:d(v,"ShowHideDetails"),key:"StandardAction::ShowHideDetails",text:A(T(C(E("showDetails","internal"),true),E("T_COMMON_OBJECT_PAGE_HIDE_FORM_CONTAINER_DETAILS","sap.fe.i18n"),E("T_COMMON_OBJECT_PAGE_SHOW_FORM_CONTAINER_DETAILS","sap.fe.i18n"))),type:h.ShowFormDetails,press:"FormContainerRuntime.toggleDetails"};if(((r=e.annotations)===null||r===void 0?void 0:(l=r.UI)===null||l===void 0?void 0:(s=l.PartOfPreview)===null||s===void 0?void 0:s.valueOf())!==false&&S.some(e=>e.isPartOfPreview===false)){if(a!==undefined){a.push(w)}else{a=[w]}}return{id:v,formElements:S,annotationPath:c,isVisible:f,entitySet:p,actions:a}}c.getFormContainer=_;function k(e,t,a){var n;const o=[];(n=e.Facets)===null||n===void 0?void 0:n.forEach(e=>{if(e.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){return}o.push(_(e,t,a))});return o}function j(e){return e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"}c.isReferenceFacet=j;function R(e,t,a,n){var o,i,r;switch(e.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":return{id:f(e),useFormContainerLabels:true,hasFacetsNotPartOfPreview:e.Facets.some(e=>{var t,a,n;return((t=e.annotations)===null||t===void 0?void 0:(a=t.UI)===null||a===void 0?void 0:(n=a.PartOfPreview)===null||n===void 0?void 0:n.valueOf())===false}),formContainers:k(e,a,n),isVisible:t};case"com.sap.vocabularies.UI.v1.ReferenceFacet":return{id:f(e),useFormContainerLabels:false,hasFacetsNotPartOfPreview:((o=e.annotations)===null||o===void 0?void 0:(i=o.UI)===null||i===void 0?void 0:(r=i.PartOfPreview)===null||r===void 0?void 0:r.valueOf())===false,formContainers:[_(e,a,n)],isVisible:t};default:throw new Error("Cannot create form based on ReferenceURLFacet")}}c.createFormDefinition=R;return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/KPI", ["sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/SelectionVariantHelper","sap/fe/core/formatters/TableFormatterTypes","sap/fe/core/helpers/TypeGuards","../../helpers/Aggregation","../../helpers/ID","./Criticality"],function(e,t,i,a,n,o,l){"use strict";var r={};var u=l.getMessageTypeFromCriticalityType;var c=o.getKPIID;var s=n.AggregationHelper;var d=a.isPathAnnotationExpression;var v=a.isAnnotationOfType;var p=i.MessageType;var f=t.getFilterDefinitionsFromSelectionVariant;var g=e.IssueType;var y=e.IssueSeverity;var C=e.IssueCategory;const h={"UI.TrendType/StrongUp":"Up","UI.TrendType/Up":"Up","UI.TrendType/StrongDown":"Down","UI.TrendType/Down":"Down","UI.TrendType/Sideways":"None"};const T={"UI.ChartType/ColumnStacked":"StackedColumn","UI.ChartType/BarStacked":"StackedBar","UI.ChartType/Donut":"Donut","UI.ChartType/Line":"Line","UI.ChartType/Bubble":"bubble","UI.ChartType/Column":"column","UI.ChartType/Bar":"bar","UI.ChartType/VerticalBullet":"vertical_bullet","UI.ChartType/Combination":"combination","UI.ChartType/Scatter":"scatter"};function m(e,t){var i,a;if(e.Measures===undefined){return undefined}const n=e.Dimensions?e.Dimensions.map(t=>{var i,a,n,o,l;const r=(i=e.DimensionAttributes)===null||i===void 0?void 0:i.find(e=>{var i;return((i=e.Dimension)===null||i===void 0?void 0:i.value)===t.value});return{name:t.value,label:((a=t.$target)===null||a===void 0?void 0:(n=a.annotations.Common)===null||n===void 0?void 0:(o=n.Label)===null||o===void 0?void 0:o.toString())||t.value,role:r===null||r===void 0?void 0:(l=r.Role)===null||l===void 0?void 0:l.replace("UI.ChartDimensionRoleType/","")}}):[];const o=e.Measures.map(t=>{var i,a,n,o,l;const r=(i=e.MeasureAttributes)===null||i===void 0?void 0:i.find(e=>{var i;return((i=e.Measure)===null||i===void 0?void 0:i.value)===t.value});return{name:t.value,label:((a=t.$target)===null||a===void 0?void 0:(n=a.annotations.Common)===null||n===void 0?void 0:(o=n.Label)===null||o===void 0?void 0:o.toString())||t.value,role:r===null||r===void 0?void 0:(l=r.Role)===null||l===void 0?void 0:l.replace("UI.ChartMeasureRoleType/","")}});return{chartType:T[e.ChartType]||"Line",dimensions:n,measures:o,sortOrder:t===null||t===void 0?void 0:(i=t.SortOrder)===null||i===void 0?void 0:i.map(e=>{var t;return{name:((t=e.Property)===null||t===void 0?void 0:t.value)||"",descending:!!e.Descending}}),maxItems:t===null||t===void 0?void 0:(a=t.MaxItems)===null||a===void 0?void 0:a.valueOf()}}function I(e,t){var i,a;const n=e.Value.$target;if((i=n.annotations.Measures)!==null&&i!==void 0&&i.ISOCurrency){var o;const e=(o=n.annotations.Measures)===null||o===void 0?void 0:o.ISOCurrency;if(d(e)){t.datapoint.unit={value:e.$target.name,isCurrency:true,isPath:true}}else{t.datapoint.unit={value:e.toString(),isCurrency:true,isPath:false}}}else if((a=n.annotations.Measures)!==null&&a!==void 0&&a.Unit){var l;const e=(l=n.annotations.Measures)===null||l===void 0?void 0:l.Unit;if(d(e)){t.datapoint.unit={value:e.$target.name,isCurrency:false,isPath:true}}else{t.datapoint.unit={value:e.toString(),isCurrency:false,isPath:false}}}}function S(e,t,i){if(e.Criticality){if(d(e.Criticality)){const a=e.Criticality.$target;if(a&&t.isPropertyAggregatable(a)){i.datapoint.criticalityPath=e.Criticality.path}else{i.datapoint.criticalityValue=p.None}}else{i.datapoint.criticalityValue=u(e.Criticality)}}else if(e.CriticalityCalculation){i.datapoint.criticalityCalculationMode=e.CriticalityCalculation.ImprovementDirection;i.datapoint.criticalityCalculationThresholds=[];switch(i.datapoint.criticalityCalculationMode){case"UI.ImprovementDirectionType/Target":i.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeLowValue);i.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeLowValue);i.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeLowValue);i.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeHighValue);i.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeHighValue);i.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeHighValue);break;case"UI.ImprovementDirectionType/Minimize":i.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeHighValue);i.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeHighValue);i.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeHighValue);break;case"UI.ImprovementDirectionType/Maximize":default:i.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.DeviationRangeLowValue);i.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.ToleranceRangeLowValue);i.datapoint.criticalityCalculationThresholds.push(e.CriticalityCalculation.AcceptanceRangeLowValue)}}else{i.datapoint.criticalityValue=p.None}}function D(e,t,i){if(e.Trend){if(d(e.Trend)){const a=e.Trend.$target;if(a&&t.isPropertyAggregatable(a)){i.datapoint.trendPath=e.Trend.path}else{i.datapoint.trendValue="None"}}else{i.datapoint.trendValue=h[e.Trend]||"None"}}else if(e.TrendCalculation){i.datapoint.trendCalculationIsRelative=e.TrendCalculation.IsRelativeDifference?true:false;if(e.TrendCalculation.ReferenceValue.$target){const a=e.TrendCalculation.ReferenceValue.$target;if(t.isPropertyAggregatable(a)){i.datapoint.trendCalculationReferencePath=e.TrendCalculation.ReferenceValue.path}else{i.datapoint.trendValue="None"}}else{i.datapoint.trendCalculationReferenceValue=e.TrendCalculation.ReferenceValue}if(i.datapoint.trendCalculationReferencePath!==undefined||i.datapoint.trendCalculationReferenceValue!==undefined){i.datapoint.trendCalculationTresholds=[e.TrendCalculation.StrongDownDifference.valueOf(),e.TrendCalculation.DownDifference.valueOf(),e.TrendCalculation.UpDifference.valueOf(),e.TrendCalculation.StrongUpDifference.valueOf()]}}else{i.datapoint.trendValue="None"}}function V(e,t,i){if(e.TargetValue){if(e.TargetValue.$target){const a=e.TargetValue.$target;if(t.isPropertyAggregatable(a)){i.datapoint.targetPath=e.TargetValue.path}}else{i.datapoint.targetValue=e.TargetValue}}}function b(e){const t=e.annotations["Common"]||{};let i;Object.keys(t).forEach(e=>{const a=t[e];if(a.term==="com.sap.vocabularies.Common.v1.SemanticObject"){if(!a.qualifier||!i){i=a}}});if(i){const e={semanticObject:i.toString(),unavailableActions:[]};const a=Object.keys(t).find(e=>{var a;return t[e].term==="com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"&&t[e].qualifier===((a=i)===null||a===void 0?void 0:a.qualifier)});if(a){e.unavailableActions=t[a]}return e}else{return undefined}}function U(e){return!!e.template}function A(e,t,i){var a,n;const o=e.getConverterContextFor(`/${t.entitySet}`);const l=new s(o.getEntityType(),o);if(!l.isAnalyticsSupported()){e.getDiagnostics().addIssue(C.Annotation,y.Medium,g.KPI_ISSUES.NO_ANALYTICS+t.entitySet);return undefined}let r;let u;let d;let p;let h;const T=o.getAnnotationsByTerm("UI","com.sap.vocabularies.UI.v1.KPI");const U=T.find(e=>e.qualifier===t.qualifier);if(U){var A,P,R,O,M;u=U.DataPoint;r=U.SelectionVariant;d=(A=U.Detail)===null||A===void 0?void 0:A.DefaultPresentationVariant;p=(P=d)===null||P===void 0?void 0:(R=P.Visualizations)===null||R===void 0?void 0:(O=R.find(e=>v(e.$target,"com.sap.vocabularies.UI.v1.ChartDefinitionType")))===null||O===void 0?void 0:O.$target;if((M=U.Detail)!==null&&M!==void 0&&M.SemanticObject){var N;h={semanticObject:U.Detail.SemanticObject.toString(),action:(N=U.Detail.Action)===null||N===void 0?void 0:N.toString(),unavailableActions:[]}}}else{const i=o.getAnnotationsByTerm("UI","com.sap.vocabularies.UI.v1.SelectionPresentationVariant");const a=i.find(e=>e.qualifier===t.qualifier);if(a){var $,w,L,_,E,k;r=a.SelectionVariant;d=a.PresentationVariant;u=($=d)===null||$===void 0?void 0:(w=$.Visualizations)===null||w===void 0?void 0:(L=w.find(e=>v(e.$target,"com.sap.vocabularies.UI.v1.DataPointType")))===null||L===void 0?void 0:L.$target;p=(_=d)===null||_===void 0?void 0:(E=_.Visualizations)===null||E===void 0?void 0:(k=E.find(e=>v(e.$target,"com.sap.vocabularies.UI.v1.ChartDefinitionType")))===null||k===void 0?void 0:k.$target}else{e.getDiagnostics().addIssue(C.Annotation,y.Medium,g.KPI_ISSUES.KPI_NOT_FOUND+t.qualifier);return undefined}}if(!d||!u||!p){e.getDiagnostics().addIssue(C.Annotation,y.Medium,g.KPI_ISSUES.KPI_DETAIL_NOT_FOUND+t.qualifier);return undefined}const q=u.Value.$target;if(!l.isPropertyAggregatable(q)){e.getDiagnostics().addIssue(C.Annotation,y.Medium,g.KPI_ISSUES.MAIN_PROPERTY_NOT_AGGREGATABLE+t.qualifier);return undefined}const K=m(p,d);if(!K){return undefined}const j={type:"Analytical",id:c(i),entitySet:t.entitySet,datapoint:{propertyPath:u.Value.path,annotationPath:o.getEntitySetBasedAnnotationPath(u.fullyQualifiedName),title:(a=u.Title)===null||a===void 0?void 0:a.toString(),description:(n=u.Description)===null||n===void 0?void 0:n.toString()},selectionVariantFilterDefinitions:r?f(r):undefined,chart:K};if(!h){if(t.detailNavigation){h={outboundNavigation:t.detailNavigation}}else{h=b(q)}}if(h){j.navigation=h}I(u,j);S(u,l,j);D(u,l,j);V(u,l,j);return j}function P(e,t,i){if(U(t)){return{type:"Custom",key:e,template:t.template}}else{return A(i,t,e)}}function R(e){const t=e.getManifestWrapper().getKPIConfiguration(),i=[];Object.keys(t).forEach(a=>{const n=P(a,t[a],e);if(n){i.push(n)}});return i}r.getKPIDefinitions=R;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/Table", ["sap/base/Log","sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/formatters/TableFormatter","sap/fe/core/formatters/TableFormatterTypes","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/EntitySetHelper","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","sap/fe/macros/internal/helpers/ActionHelper","sap/ui/core/Core","../../ManifestSettings","../../helpers/Aggregation","../../helpers/DataFieldHelper","../../helpers/ID","./Criticality","./table/StandardActions"],function(e,t,n,i,o,a,l,r,s,d,u,c,v,f,p,g,m,y,b,h,T,I,P,A,C,D,S){"use strict";var F={};var E=S.isInDisplayMode;var M=S.isDraftOrStickySupported;var O=S.getStandardActionPaste;var N=S.getStandardActionMassEdit;var w=S.getStandardActionInsights;var U=S.getStandardActionDelete;var $=S.getStandardActionCut;var x=S.getStandardActionCreate;var V=S.getRestrictions;var R=S.getMassEditVisibility;var L=S.getInsertUpdateActionsTemplating;var k=S.getDeleteVisibility;var j=S.getCreationRow;var B=S.generateStandardActionsContext;var H=S.StandardActionKeys;var K=D.getMessageTypeFromCriticalityType;var G=C.getTableID;var z=A.isReferencePropertyStaticallyHidden;var W=P.AggregationHelper;var _=I.VisualizationType;var q=I.VariantManagementType;var Q=I.TemplateType;var Y=I.SelectionMode;var J=I.Importance;var X=I.HorizontalAlign;var Z=I.CreationMode;var ee=I.ActionType;var te=b.isMultiValueField;var ne=y.isTimezone;var ie=y.getStaticUnitOrCurrency;var oe=y.getStaticTimezone;var ae=y.getAssociatedUnitProperty;var le=y.getAssociatedTimezoneProperty;var re=y.getAssociatedCurrencyProperty;var se=m.isStaticallyMandatory;var de=m.hasFieldControlNotMandatory;var ue=g.getNonSortablePropertiesRestrictions;var ce=p.getDisplayMode;var ve=f.isPathUpdatable;var fe=f.isPathSearchable;var pe=f.isPathDeletable;var ge=f.getTargetObjectPath;var me=f.getContextPropertyRestriction;var ye=f.enhanceDataModelPath;var be=v.isTypeDefinition;var he=v.isProperty;var Te=v.isPathAnnotationExpression;var Ie=v.isNavigationProperty;var Pe=v.isAnnotationOfType;var Ae=c.replaceSpecialChars;var Ce=c.generate;var De=d.resolveBindingString;var Se=d.pathInModel;var Fe=d.or;var Ee=d.not;var Me=d.isConstant;var Oe=d.ifElse;var Ne=d.getExpressionFromAnnotation;var we=d.formatResult;var Ue=d.equal;var $e=d.constant;var xe=d.compileExpression;var Ve=d.and;var Re=d.EDM_TYPE_MAPPING;var Le=s.UI;var ke=s.Entity;var je=r.MessageType;var Be=a.KeyHelper;var He=o.IssueType;var Ke=o.IssueSeverity;var Ge=o.IssueCategoryType;var ze=o.IssueCategory;var We=i.insertCustomElements;var _e=i.Placement;var qe=i.OverrideType;var Qe=n.removeDuplicateActions;var Ye=n.isActionNavigable;var Je=n.getEnabledForAnnotationAction;var Xe=n.getCopyAction;var Ze=n.getActionsFromManifest;var et=n.dataFieldIsCopyAction;var tt=t.isRatingVisualizationFromDataFieldDefault;var nt=t.isDataPointFromDataFieldDefault;var it=t.isDataFieldTypes;var ot=t.isDataFieldForAnnotation;var at=t.isDataFieldForActionAbstract;var lt=t.isDataField;var rt=t.hasFieldGroupTarget;var st=t.hasDataPointTarget;var dt=t.getTargetValueOnDataPoint;var ut=t.getSemanticObjectPath;var ct=t.getDataFieldDataType;var vt=t.collectRelatedPropertiesRecursively;var ft=t.collectRelatedProperties;var pt;(function(e){e["Default"]="Default";e["Annotation"]="Annotation";e["Slot"]="Slot";e["Computed"]="Computed"})(pt||(pt={}));function gt(e,t,n,i,o){const a=Vt(e,t,n);const l=a.hiddenTableActions;const r=Ze(n.getManifestControlConfiguration(t).actions,n,a.tableActions,o,true,l);const s=a.tableActions.filter(e=>e.type===ee.Copy);const d=a.tableActions.filter(e=>e.type!==ee.Copy);const u=[...d,i.create,...s,i.delete,i.massEdit,i.insights,i.creationRow,i.paste,i.cut];for(const e of Object.values(r.actions)){var c;if(!((c=e.position)!==null&&c!==void 0&&c.anchor)){e.position={anchor:H.Create,placement:_e.Before}}}const v=Object.entries(r.actions);const f=Object.fromEntries(v.filter(e=>{let[t]=e;return t.startsWith("StandardAction::")}));const p=Object.fromEntries(v.filter(e=>{let[t]=e;return!f[t]}));let g=We(u,p,{isNavigable:qe.overwrite,enableOnSelect:qe.overwrite,enableAutoScroll:qe.overwrite,enabled:qe.overwrite,visible:qe.overwrite,defaultValuesExtensionFunction:qe.overwrite,command:qe.overwrite});g=We(g,f,{position:qe.overwrite});return{actions:g,commandActions:r.commandActions}}F.getTableActions=gt;function mt(e,t,n,i){const o=Tn(e,t,n);const a=En(n.getManifestControlConfiguration(t).columns,o,n,n.getAnnotationEntityType(e),i);const l=We(o,a,{width:qe.overwrite,widthIncludingColumnHeader:qe.overwrite,importance:qe.overwrite,horizontalAlign:qe.overwrite,availability:qe.overwrite,isNavigable:qe.overwrite,settings:qe.overwrite,formatOptions:qe.overwrite});return Mn(l,t,n)}F.getTableColumns=mt;const yt=function(e,t,n){const i=new W(e,n);function o(e){return t.find(t=>{const n=t;return n.propertyInfos===undefined&&n.relativePath===e})}if(!i.isAnalyticsSupported()){return undefined}const a=new Set;t.forEach(e=>{const t=e;if(t.unit){a.add(t.unit)}});const l=i.getCustomAggregateDefinitions();const r={};l.forEach(e=>{const t=i._entityType.entityProperties.find(t=>t.name===e.qualifier);if(t){var n,o;const i=(n=e.annotations)===null||n===void 0?void 0:(o=n.Aggregation)===null||o===void 0?void 0:o.ContextDefiningProperties;r[t.name]=i?i.map(e=>e.value):[]}});const s={};t.forEach(e=>{const t=e;if(t.propertyInfos===undefined&&t.relativePath){const e=r[t.relativePath];if(e&&!a.has(t.name)){s[t.name]={defaultAggregate:{},relativePath:t.relativePath};const n=[];e.forEach(e=>{const t=o(e);if(t){n.push(t.name)}});if(n.length){s[t.name].defaultAggregate.contextDefiningProperties=n}}}});return s};F.getAggregateDefinitionsFromEntityType=yt;function bt(e,t,n,i){if(e.control.type==="AnalyticalTable"){const o=yt(t,e.columns,n),a=new W(t,n);if(o){e.enableAnalytics=true;e.enable$select=false;e.enable$$getKeepAliveContext=false;e.aggregates=o;Vn(e);const t=a.getAllowedTransformations();e.enableBasicSearch=t?t.includes("search"):true;e.annotation.groupConditions=xn(i,e.columns,e.control.type);e.annotation.aggregateConditions=kn(i,e.columns)}e.control.type="GridTable"}else if(e.control.type==="ResponsiveTable"){e.annotation.groupConditions=xn(i,e.columns,e.control.type)}else if(e.control.type==="TreeTable"){const i=new W(t,n);const o=i.getAllowedTransformations();e.enableBasicSearch=o?o.includes("search"):true;e.enable$$getKeepAliveContext=true}}F.updateTableVisualizationForType=bt;function ht(e,t){const n=e.getManifestWrapper();if(t&&n.getNavigationConfiguration(t)){const e=n.getNavigationConfiguration(t);if(Object.keys(e).length>0){return t}}const i=e.getDataModelObjectPath();const o=e.getContextPath();const a=n.getNavigationConfiguration(o);if(a&&Object.keys(a).length>0){return o}return i.targetEntitySet?i.targetEntitySet.name:i.startingEntitySet.name}F.getNavigationTargetPath=ht;function Tt(e,t){function n(e){return t.find(t=>{const n=t;return n.propertyInfos===undefined&&n.relativePath===e})}t.forEach(t=>{const i=t;if(i.propertyInfos===undefined&&i.relativePath){const t=e.entityProperties.find(e=>e.name===i.relativePath);if(t){var o,a,l;const e=re(t)||ae(t);const c=le(t);const v=t===null||t===void 0?void 0:(o=t.annotations)===null||o===void 0?void 0:(a=o.Common)===null||a===void 0?void 0:a.Timezone;if(e){const t=n(e.name);i.unit=t===null||t===void 0?void 0:t.name}else{var r,s,d,u;const e=(t===null||t===void 0?void 0:(r=t.annotations)===null||r===void 0?void 0:(s=r.Measures)===null||s===void 0?void 0:s.ISOCurrency)||(t===null||t===void 0?void 0:(d=t.annotations)===null||d===void 0?void 0:(u=d.Measures)===null||u===void 0?void 0:u.Unit);if(e){i.unitText=`${e}`}}if(c){const e=n(c.name);i.timezone=e===null||e===void 0?void 0:e.name}else if(v){i.timezoneText=v.toString()}const f=ce(t),p=(l=t.annotations.Common)===null||l===void 0?void 0:l.Text;if(Te(p)&&f!=="Value"){const e=n(p.path);if(e&&e.name!==i.name){i.textArrangement={textProperty:e.name,mode:f}}}}}})}F.updateLinkedProperties=Tt;function It(e){var t,n,i,o,a,l,r,s,d,u,c,v,f;const p=(t=e.getAnnotationEntityType())===null||t===void 0?void 0:(n=t.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:(o=i.HeaderInfo)===null||o===void 0?void 0:(a=o.Title)===null||a===void 0?void 0:(l=a.Value)===null||l===void 0?void 0:l.path;const g=(r=e.getAnnotationEntityType())===null||r===void 0?void 0:(s=r.annotations)===null||s===void 0?void 0:(d=s.Common)===null||d===void 0?void 0:d.SemanticKey;const m=e===null||e===void 0?void 0:(u=e.getAnnotationEntityType())===null||u===void 0?void 0:(c=u.annotations)===null||c===void 0?void 0:(v=c.UI)===null||v===void 0?void 0:(f=v.HeaderInfo)===null||f===void 0?void 0:f.TypeName;const y=[];if(g){g.forEach(function(e){y.push(e.value)})}return{headerInfoTitlePath:p,semanticKeyColumns:y,headerInfoTypeName:m}}function Pt(e,t,n,i,o,a){const l=ri(e,t,n,o);const{navigationPropertyPath:r}=Kn(t);const s=ht(n,r);const d=n.getManifestWrapper().getNavigationConfiguration(s);const u=mt(e,t,n,d);const c=Ct(e,n);const v=It(n);const f=jn(e,t,n,l,d,a);const p=Bn(e,t,n,l,u,d,f,i,a);const g=gt(e,t,n,f.standardActions,d);const m={type:_.Table,annotation:p,control:l,actions:Qe(g.actions),commandActions:g.commandActions,columns:u,operationAvailableMap:JSON.stringify(c),operationAvailableProperties:St(c,n),headerInfoTitle:v.headerInfoTitlePath,semanticKeys:v.semanticKeyColumns,headerInfoTypeName:v.headerInfoTypeName,enable$select:true,enable$$getKeepAliveContext:true};Tt(n.getAnnotationEntityType(e),u);bt(m,n.getAnnotationEntityType(e),n,i);return m}F.createTableVisualization=Pt;function At(e,t){const n=ri(undefined,"",e,false);const i=jt({},e.getEntityType(),[],[],e,n.type,n.creationMode,[]);const o=Ct(undefined,e);const a=It(e);const l=ht(e,"");const r=e.getManifestWrapper().getNavigationConfiguration(l);const s=jn(undefined,"",e,n,r);const d={type:_.Table,annotation:Bn(undefined,"",e,n,t?[]:i,r,s),control:n,actions:[],columns:i,operationAvailableMap:JSON.stringify(o),operationAvailableProperties:St(o,e),headerInfoTitle:a.headerInfoTitlePath,semanticKeys:a.semanticKeyColumns,headerInfoTypeName:a.headerInfoTypeName,enable$select:true,enable$$getKeepAliveContext:true};Tt(e.getEntityType(),i);bt(d,e.getEntityType(),e);return d}F.createDefaultTableVisualization=At;function Ct(e,t){return h.getOperationAvailableMap(e,"table",t)}function Dt(e){var t,n;const i=V(e);const o=e.getEntitySet();const a=i.isUpdatable;const l=!Me(a.expression)&&a.navigationExpression._type==="Unresolvable";const r=o===null||o===void 0?void 0:(t=o.annotations.Capabilities)===null||t===void 0?void 0:(n=t.UpdateRestrictions)===null||n===void 0?void 0:n.Updatable;const s=Te(r)&&r.path;return l?s:""}function St(e,t){const n=new Set;for(const t in e){const i=e[t];if(i===null){n.add(t)}else if(typeof i==="string"){n.add(i)}}if(n.size){var i,o,a,l,r;const e=t.getEntityType();const s=(i=e.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:(a=o.HeaderInfo)===null||a===void 0?void 0:(l=a.Title)===null||l===void 0?void 0:(r=l.Value)===null||r===void 0?void 0:r.path;if(s){n.add(s)}}return Array.from(n).join(",")}function Ft(e,t,n,i){const o=[];e.forEach(e=>{var a,l;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&e!==null&&e!==void 0&&(a=e.ActionTarget)!==null&&a!==void 0&&a.isBound&&t===(e===null||e===void 0?void 0:e.ActionTarget.sourceEntityType)||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&e.RequiresContext&&(e===null||e===void 0?void 0:(l=e.Inline)===null||l===void 0?void 0:l.valueOf())!==true){var r,s,d;if(typeof((r=e.annotations)===null||r===void 0?void 0:(s=r.UI)===null||s===void 0?void 0:(d=s.Hidden)===null||d===void 0?void 0:d.valueOf())==="object"){o.push(Ue(Mt(e,n,i),false))}}});return o}function Et(e){let t;if(Te(e)){t=e.path}else{t=e}return t}function Mt(e,t,n){var i,o;const a=(i=e.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:o.Hidden;let l=Et(a);if(typeof l==="object"){return $e(false)}else if(typeof l==="string"){if("visible"in e){l=l.substring(1,l.length-1)}if(l.indexOf("/")>0){const e=l.split("/");const n=e[0];if(Ie(t===null||t===void 0?void 0:t.targetObject)&&t.targetObject.partner===n){return Se(e.slice(1).join("/"))}else{return $e(true)}}else if(n){return Se(l)}else{return $e(false)}}return $e(true)}function Ot(e,t,n){return Object.keys(n).some(i=>{if(i===e){var o;if(t!==null&&t!==void 0&&(o=t.ActionTarget)!==null&&o!==void 0&&o.isBound||t!==null&&t!==void 0&&t.RequiresContext){n[e].requiresSelection=true}return true}return false})}function Nt(e,t,n){return e.some(e=>{var i,o,a,l,r,s,d;if((e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&(e===null||e===void 0?void 0:(i=e.Inline)===null||i===void 0?void 0:i.valueOf())!==true&&(((o=e.annotations)===null||o===void 0?void 0:(a=o.UI)===null||a===void 0?void 0:(l=a.Hidden)===null||l===void 0?void 0:l.valueOf())===false||((r=e.annotations)===null||r===void 0?void 0:(s=r.UI)===null||s===void 0?void 0:(d=s.Hidden)===null||d===void 0?void 0:d.valueOf())===undefined)){if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){var u;const i=Ce(["DataFieldForAction",e.Action]);if(Ot(i,e,t)){return false}return(e===null||e===void 0?void 0:(u=e.ActionTarget)===null||u===void 0?void 0:u.isBound)&&n===(e===null||e===void 0?void 0:e.ActionTarget.sourceEntityType)}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(Ot(`DataFieldForIntentBasedNavigation::${e.SemanticObject}::${e.Action}`,e,t)){return false}return e.RequiresContext}}return false})}function wt(e){const t=Object.keys(e).reduce((t,n)=>{const i=e[n];if(!i.menu){t.push(i)}else{t=[...t,...i.menu.filter(e=>typeof e!=="string")]}return t},[]);return!!t.find(e=>{var t;return e.requiresSelection&&(e.visible===undefined||((t=e.visible)===null||t===void 0?void 0:t.toString())==="true")})}function Ut(e){const t=[];if(e){Object.keys(e).forEach(n=>{const i=e[n];if(i.requiresSelection===true&&i.visible!==undefined){if(typeof i.visible==="string"){var o;t.push(De(i===null||i===void 0?void 0:(o=i.visible)===null||o===void 0?void 0:o.valueOf()))}}})}return t}function $t(e){const t=pe(e.getDataModelObjectPath());const n=ve(e.getDataModelObjectPath());return{isDeletable:!(Me(t)&&t.value===false),isUpdatable:!(Me(n)&&n.value===false)}}F.getCapabilityRestriction=$t;function xt(e,t,n,i,o,a){var l;let r=arguments.length>6&&arguments[6]!==undefined?arguments[6]:$e(false);const s=n.getManifestControlConfiguration(t);let d=(l=s.tableSettings)===null||l===void 0?void 0:l.selectionMode;if(!e||d===Y.None){return Y.None}if(d===Y.ForceMulti){return Y.Multi}else if(d===Y.ForceSingle){return Y.Single}let u=[],c=[];const v=Ze(n.getManifestControlConfiguration(t).actions,n,[],undefined,false);let f,p;if(n.getTemplateType()===Q.ObjectPage){f=pe(n.getDataModelObjectPath());p=f?xe(f,true):f}const g=!Me(r)||r.value!==false;if(!d||d===Y.Auto){d=Y.Multi}if(g){d=d===Y.Single?Y.Single:Y.Multi}if(Nt(e,v.actions,n.getEntityType())||wt(v.actions)){return d}u=Ft(e,n.getEntityType(),n.getDataModelObjectPath(),i);c=Ut(v.actions);if(u.length===0&&c.length===0&&(a||g)){if(!i){if(o.isDeletable||p!=="false"||g){const e=Fe(a||true,r);return xe(Oe(Ve(Le.IsEditable,e),$e(d),$e(Y.None)))}else{return Y.None}}else if(g){return d}else if(o.isDeletable&&a){return xe(Oe(a,$e(d),$e("None")))}else{return Y.None}}else if(!i){if(o.isDeletable||p!=="false"||g){const e=Oe(g&&!o.isDeletable,r,$e(true));return xe(Oe(Ve(Le.IsEditable,e),$e(d),Oe(Fe(...u.concat(c)),$e(d),$e(Y.None))))}else{return xe(Oe(Fe(...u.concat(c)),$e(d),$e(Y.None)))}}else if(o.isDeletable||g){return d}else{return xe(Oe(Fe(...u.concat(c),r),$e(d),$e(Y.None)))}}F.getSelectionMode=xt;function Vt(e,t,n){const i=[];const o=[];const a=Xe(e.filter(e=>et(e)));const l=n.getEntityType().fullyQualifiedName;if(a){var r,s,d;const e=oi(a,l);i.push({type:ee.Copy,annotationPath:n.getEntitySetBasedAnnotationPath(a.fullyQualifiedName),key:Be.generateKeyFromDataField(a),enabled:e?Je(n,a.ActionTarget,true):xe(Ue(Se("numberOfSelectedContexts","internal"),1)),visible:xe(Ee(Ue(Ne((r=a.annotations)===null||r===void 0?void 0:(s=r.UI)===null||s===void 0?void 0:s.Hidden,[],undefined,n.getRelativeModelPathFunction()),true))),text:((d=a.Label)===null||d===void 0?void 0:d.toString())??T.getLibraryResourceBundle("sap.fe.core").getText("C_COMMON_COPY"),isNavigable:true})}e.filter(e=>!et(e)).forEach(e=>{var t,a,r,s,d,u,c,v,f;if(((t=e.annotations)===null||t===void 0?void 0:(a=t.UI)===null||a===void 0?void 0:(r=a.Hidden)===null||r===void 0?void 0:r.valueOf())===true){o.push({type:ee.Default,key:Be.generateKeyFromDataField(e)})}else if(at(e)&&((s=e.Inline)===null||s===void 0?void 0:s.valueOf())!==true&&((d=e.Determining)===null||d===void 0?void 0:d.valueOf())!==true){switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":const t={type:ee.DataFieldForAction,annotationPath:n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:Be.generateKeyFromDataField(e),visible:xe(Ee(Ue(Ne((u=e.annotations)===null||u===void 0?void 0:(c=u.UI)===null||c===void 0?void 0:c.Hidden,[],undefined,n.getRelativeModelPathFunction()),true))),isNavigable:true};if(oi(e,l)){t.enabled=Je(n,e.ActionTarget,true)}i.push(t);break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":i.push({type:ee.DataFieldForIntentBasedNavigation,annotationPath:n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),key:Be.generateKeyFromDataField(e),visible:xe(Ee(Ue(Ne((v=e.annotations)===null||v===void 0?void 0:(f=v.UI)===null||f===void 0?void 0:f.Hidden,[],undefined,n.getRelativeModelPathFunction()),true)))});break;default:break}}});return{tableActions:i,hiddenTableActions:o}}function Rt(e,t,n){let i=je.None;if(e){if(typeof e==="object"){i=Ne(e)}else{i=K(e)}}const o=[];n===null||n===void 0?void 0:n.keys.forEach(e=>{if(e.name!=="IsActiveEntity"){o.push(Se(e.name,undefined))}});return we([i,Se(`filteredMessages`,"internal"),t&&ke.HasActive,t&&ke.IsActive,`${t}`,...o],l.rowHighlighting,n)}function Lt(t,n,i,o,a){var l;const r=(o===null||o===void 0?void 0:o.create)||(o===null||o===void 0?void 0:o.detail);const s=i.getManifestControlConfiguration(a);const d=s&&s.tableSettings||{};if(r!==null&&r!==void 0&&r.outbound&&r.outboundDetail&&o!==null&&o!==void 0&&o.create){return{mode:"External",outbound:r.outbound,outboundDetail:r.outboundDetail,navigationSettings:o}}if(i.getTemplateType()===Q.ListReport&&![Z.NewPage,Z.External].includes(n.creationMode)){e.warning(`Creation mode '${n.creationMode}' can not be used within the List Report. Instead, the default mode "NewPage" is used.`);n.creationMode=Z.NewPage}else if(i.getTemplateType()!==Q.ListReport&&n.type==="TreeTable"&&![Z.NewPage,Z.Inline].includes(n.creationMode)){e.warning(`Creation mode '${n.creationMode}' can not be used with a Tree Table. Instead, the default mode "NewPage" is used.`);n.creationMode=Z.NewPage}let u;if(t){var c,v,f;const e=(c=i.getEntitySet())===null||c===void 0?void 0:c.annotations;const t=e===null||e===void 0?void 0:e.Common,o=e===null||e===void 0?void 0:e.Session;u=(t===null||t===void 0?void 0:(v=t.DraftRoot)===null||v===void 0?void 0:v.NewAction)||(o===null||o===void 0?void 0:(f=o.StickySessionSupported)===null||f===void 0?void 0:f.NewAction);if(n.creationMode===Z.CreationRow&&u){throw Error(`Creation mode '${Z.CreationRow}' can not be used with a custom 'new' action (${u})`)}if(r!==null&&r!==void 0&&r.route){var p;return{mode:n.creationMode,append:n.createAtEnd,newAction:(p=u)===null||p===void 0?void 0:p.toString(),navigateToTarget:n.creationMode===Z.NewPage?r.route:undefined}}}if(n.creationMode===Z.NewPage){if(i.getTemplateType()===Q.ListReport){e.error("The creation mode 'NewPage' is used but the navigation configuration to the sub page is missing.")}else{var g;n.creationMode=Z.Inline;if(((g=d.creationMode)===null||g===void 0?void 0:g.createAtEnd)===undefined){n.createAtEnd=false}e.info("The creation mode was changed from 'NewPage' to 'Inline' due to missing navigation configuration to the sub page.")}}return{mode:n.creationMode,append:n.createAtEnd,newAction:(l=u)===null||l===void 0?void 0:l.toString()}}const kt=function(e,t,n,i,o){let a,r;let s=$e(je.None);const d=t.getEntityType();if(n&&e){var c,v,f,p,g;r=((c=n.display)===null||c===void 0?void 0:c.target)||((v=n.detail)===null||v===void 0?void 0:v.outbound);const l=t.getEntitySet();s=Rt((f=e.annotations)===null||f===void 0?void 0:(p=f.UI)===null||p===void 0?void 0:p.Criticality,!!u.getDraftRoot(l)||!!u.getDraftNode(l),d);if(r){a=".handlers.onChevronPressNavigateOutBound( $controller ,'"+r+"', ${$parameters>bindingContext})"}if(!r&&(g=n.detail)!==null&&g!==void 0&&g.route){a="API.onTableRowPress($event, $controller, ${$parameters>bindingContext}, { callExtension: true, targetPath: '"+i+"', editable : "+(u.getDraftRoot(l)||u.getDraftNode(l)?"!${$parameters>bindingContext}.getProperty('IsActiveEntity')":"undefined")+(o==="AnalyticalTable"||o==="TreeTable"?", bRecreateContext: true":"")+"})"}}const m=we([Se("/deepestPath","internal")],l.navigatedRow,d);return{press:a,action:a?"Navigation":undefined,rowHighlighting:xe(s),rowNavigated:xe(m),visible:xe(Ee(Le.IsInactive))}};const jt=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];let i=arguments.length>3?arguments[3]:undefined;let o=arguments.length>4?arguments[4]:undefined;let a=arguments.length>5?arguments[5]:undefined;let l=arguments.length>6?arguments[6]:undefined;let r=arguments.length>7?arguments[7]:undefined;const s=n;const d=new W(t,o);t.entityProperties.forEach(t=>{const u=n.some(e=>e.name===t.name);if(!t.targetType&&!u){const u=ft(t.name,t,o,true,a);const c=Object.keys(u.properties);const v=Object.keys(u.additionalProperties);if(u.textOnlyPropertiesFromTextAnnotation.length>0){r.push(...u.textOnlyPropertiesFromTextAnnotation)}const f=Bt(t,o.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),t.name,true,true,i,d,o,r,l,u);if(c.length>0){f.propertyInfos=c;if(u.exportSettings.dataPointTargetValue){f.exportDataPointTargetValue=u.exportSettings.dataPointTargetValue}c.forEach(t=>{e[t]=u.properties[t]})}Wt(n,e,f);if(v.length>0){f.additionalPropertyInfos=v;v.forEach(t=>{e[t]=u.additionalProperties[t]})}s.push(f)}if(ce(t)==="Description"){i=i.concat(t.name);s.push(Bt(t,o.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),t.name,false,false,i,d,o,[],l))}});const u=en(e,s,i,o,t,r,l);return s.concat(u)};F.getColumnsFromEntityType=jt;const Bt=function(e,t,n,i,o,a,l,r,s,d,u){var c,v;const f=i?n:`Property::${n}`;const p=(i?"DataField::":"Property::")+Ae(n);const g=ut(r,e);const m=z(e);const y=e.name?ln(e.name,true,false):undefined;const b=y!=e.name;const h=Jt(e,b);const T=ct(e);const I=si(e,T);const P=s&&s.includes(n);const A=(!m||P)&&!a.includes(n);const C={className:e.type||T,formatOptions:I.formatOptions,constraints:I.constraints};let D=null;if(_t(e)){D=Ht(e,u)}const S=ii(n,r);const F={key:p,type:pt.Annotation,label:h,groupLabel:b?Jt(e):undefined,group:b?y:undefined,annotationPath:t,semanticObjectPath:g,availability:!o||m?"Hidden":"Adaptation",name:f,relativePath:n,sortable:A,isGroupable:l.isAnalyticsSupported()?!!l.isPropertyGroupable(e):A,isKey:e.isKey,exportSettings:D,caseSensitive:dn(r),typeConfig:C,importance:hn(r,(c=e.annotations)===null||c===void 0?void 0:(v=c.UI)===null||v===void 0?void 0:v.DataFieldDefault),required:Sn(r,e,d),additionalLabels:S};const E=Xt(e)||h;if(E){F.tooltip=E}const M=dt(e);if(nt(e)&&typeof M==="string"&&F.exportSettings){F.exportDataPointTargetValue=M;F.exportSettings.template="{0}/"+M}return F};const Ht=function(e,t){var n,i,o,a,l,r,s;let d,u,c,v,f,p,g,m;const y=t?Object.keys(t.properties):[];if(t&&(y===null||y===void 0?void 0:y.length)===1){e=t.properties[y[0]]}const b=ct(e);if(he(e)){d=ae(e);g=re(e);u=le(e);c=ie(e);v=oe(e);p=ne(e);m=e.scale}d=(t===null||t===void 0?void 0:(n=t.exportSettings)===null||n===void 0?void 0:n.unitProperty)??((i=d)===null||i===void 0?void 0:i.name)??((o=g)===null||o===void 0?void 0:o.name);u=(t===null||t===void 0?void 0:(a=t.exportSettings)===null||a===void 0?void 0:a.timezoneProperty)??((l=u)===null||l===void 0?void 0:l.name);m=(t===null||t===void 0?void 0:(r=t.exportSettings)===null||r===void 0?void 0:r.scale)??m;const h=Hn(b,p,!!g,t===null||t===void 0?void 0:t.exportSettings);if(u||h==="DateTime"&&!v){f=false}const T={type:h,inputFormat:Kt(b),delimiter:Gt(b),scale:m,unitProperty:d,unit:(t===null||t===void 0?void 0:t.exportSettings.unit)??c,timezoneProperty:u,timezone:(t===null||t===void 0?void 0:t.exportSettings.timezone)??((s=v)===null||s===void 0?void 0:s.toString()),template:t===null||t===void 0?void 0:t.exportSettings.template,wrap:t===null||t===void 0?void 0:t.exportSettings.wrap,utc:f};return zt(T)};const Kt=function(e){return e==="Edm.Date"?"YYYY-MM-DD":undefined};const Gt=function(e){return e==="Edm.Int64"?true:undefined};const zt=function(e){for(const t in e){if(e[t]===undefined){delete e[t]}}return e};function Wt(e,t,n){var i;const o=e.filter(e=>{var t;return(t=e.propertyInfos)===null||t===void 0?void 0:t.includes(n.relativePath)});if((o===null||o===void 0?void 0:o.length)===1&&t[n.relativePath]&&((i=o[0].propertyInfos)===null||i===void 0?void 0:i.length)===1){n.label=o[0].label;n.tooltip=o[0].tooltip}}function _t(e){var t;let n,i;const o=(t=e.annotations.UI)===null||t===void 0?void 0:t.DataFieldDefault;if(he(e)){if(z(e)){return false}n=o===null||o===void 0?void 0:o.$Type}else if(z(e)){return false}else{var a,l,r,s,d,u,c,v,f,p,g;i=e;n=i.$Type;if(n==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&(a=i.Target)!==null&&a!==void 0&&(l=a.$target)!==null&&l!==void 0&&l.$Type){var m,y;n=(m=i.Target)===null||m===void 0?void 0:(y=m.$target)===null||y===void 0?void 0:y.$Type;return n!==undefined&&!"com.sap.vocabularies.UI.v1.ChartDefinitionType".includes(n)}else if(((r=i.Value)===null||r===void 0?void 0:(s=r.$target)===null||s===void 0?void 0:(d=s.annotations)===null||d===void 0?void 0:(u=d.Core)===null||u===void 0?void 0:(c=u.MediaType)===null||c===void 0?void 0:c.term)==="Org.OData.Core.V1.MediaType"&&((v=i.Value)===null||v===void 0?void 0:(f=v.$target)===null||f===void 0?void 0:(p=f.annotations)===null||p===void 0?void 0:(g=p.Core)===null||g===void 0?void 0:g.isURL)!==true){return false}}return n?!["com.sap.vocabularies.UI.v1.DataFieldForAction","com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation","com.sap.vocabularies.UI.v1.DataFieldForActionGroup"].includes(n):true}const qt=function(e){switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":return!!e.Inline;case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":return true;default:}};const Qt=function(e){var t,n,i,o,a,l;const r=e.targetObject;let s;if(r){switch(r.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataPointType":s=r.Value.$target;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if((r===null||r===void 0?void 0:(t=r.Target)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){var d;s=(d=r.Target.$target)===null||d===void 0?void 0:d.Value.$target}break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":default:s=undefined}}const u=$e(false);const c=$e(false);return Ve(...[Ee(Ue(Ne(r===null||r===void 0?void 0:(i=r.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:o.Hidden),true)),Oe(!!s,s&&Ee(Ue(Ne((a=s.annotations)===null||a===void 0?void 0:(l=a.UI)===null||l===void 0?void 0:l.Hidden),true)),true),Fe(Ee(u),c)])};F._getVisibleExpression=Qt;const Yt=function(e){var t,n;const i=[];if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((t=e.Target)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){var o,a;if(e!==null&&e!==void 0&&(o=e.annotations)!==null&&o!==void 0&&(a=o.UI)!==null&&a!==void 0&&a.Hidden){return xe(Ee(Ue(Ne(e.annotations.UI.Hidden),true)))}else{var l;(l=e.Target.$target.Data)===null||l===void 0?void 0:l.forEach(e=>{i.push(Qt({targetObject:e}))});return xe(Oe(Fe(...i),$e(true),$e(false)))}}else{return undefined}};const Jt=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!e){return undefined}if(he(e)||Ie(e)){var n,i,o,a;const t=(n=e.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:i.DataFieldDefault;if(t&&!t.qualifier&&t.Label){var l;return(l=t.Label)===null||l===void 0?void 0:l.toString()}return((o=e.annotations.Common)===null||o===void 0?void 0:(a=o.Label)===null||a===void 0?void 0:a.toString())??e.name}else if(it(e)){var r,s,d,u,c,v,f;if(!!t&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){var p;return e===null||e===void 0?void 0:(p=e.Label)===null||p===void 0?void 0:p.toString()}return(e===null||e===void 0?void 0:(r=e.Label)===null||r===void 0?void 0:r.toString())??xe(Ne((s=e.Value)===null||s===void 0?void 0:(d=s.$target)===null||d===void 0?void 0:(u=d.annotations)===null||u===void 0?void 0:(c=u.Common)===null||c===void 0?void 0:c.Label,[],(v=e.Value)===null||v===void 0?void 0:(f=v.$target)===null||f===void 0?void 0:f.name))}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var g,m,y,b,h,T,I,P;return((g=e.Label)===null||g===void 0?void 0:g.toString())??xe(Ne((m=e.Target)===null||m===void 0?void 0:(y=m.$target)===null||y===void 0?void 0:(b=y.Value)===null||b===void 0?void 0:(h=b.$target)===null||h===void 0?void 0:(T=h.annotations)===null||T===void 0?void 0:(I=T.Common)===null||I===void 0?void 0:(P=I.Label)===null||P===void 0?void 0:P.valueOf()))}else{var A;return(A=e.Label)===null||A===void 0?void 0:A.toString()}};const Xt=function(e){var t,n;if(!e){return undefined}if(he(e)||(t=e.annotations)!==null&&t!==void 0&&(n=t.Common)!==null&&n!==void 0&&n.QuickInfo){var i,o;return(i=e.annotations)!==null&&i!==void 0&&(o=i.Common)!==null&&o!==void 0&&o.QuickInfo?xe(Ne(e.annotations.Common.QuickInfo)):undefined}else if(it(e)){var a,l,r,s;return(a=e.Value)!==null&&a!==void 0&&(l=a.$target)!==null&&l!==void 0&&(r=l.annotations)!==null&&r!==void 0&&(s=r.Common)!==null&&s!==void 0&&s.QuickInfo?xe(Ne(e.Value.$target.annotations.Common.QuickInfo)):undefined}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var d,u,c,v,f;const t=(d=e.Target)===null||d===void 0?void 0:d.$target;return t!==null&&t!==void 0&&(u=t.Value)!==null&&u!==void 0&&(c=u.$target)!==null&&c!==void 0&&(v=c.annotations)!==null&&v!==void 0&&(f=v.Common)!==null&&f!==void 0&&f.QuickInfo?xe(Ne(t.Value.$target.annotations.Common.QuickInfo)):undefined}else{return undefined}};function Zt(e,t){return we([Se(`semanticKeyHasDraftIndicator`,"internal"),Se(`filteredMessages`,"internal"),e,t],l.getErrorStatusTextVisibilityFormatter)}F.getRowStatusVisibility=Zt;const en=function(e,t,n,i,o,a,l){const r=[];const s={};const d=new W(o,i);Object.keys(e).forEach(o=>{const u=e[o],c=i.getAbsoluteAnnotationPath(o),v=t.find(e=>e.name===o);if(v===undefined){const s=Bt(u,c,o,true,false,n,d,i,a,l);s.isPartOfLineItem=t.some(e=>{var t;return((t=e.propertyInfos)===null||t===void 0?void 0:t.includes(o))&&e.isPartOfLineItem});Wt(t,e,s);r.push(s)}else if(v.annotationPath!==c||v.propertyInfos){const f=`Property::${o}`;if(!t.some(e=>e.name===f)){const p=Bt(u,c,o,false,false,n,d,i,a,l);p.isPartOfLineItem=v.isPartOfLineItem;Wt(t,e,p);r.push(p);s[o]=f}else if(t.some(e=>e.name===f)&&t.some(e=>{var t;return(t=e.propertyInfos)===null||t===void 0?void 0:t.includes(o)})){s[o]=f}}});t.forEach(e=>{var t,n;e.propertyInfos=(t=e.propertyInfos)===null||t===void 0?void 0:t.map(e=>s[e]??e);e.additionalPropertyInfos=(n=e.additionalPropertyInfos)===null||n===void 0?void 0:n.map(e=>s[e]??e)});return r};const tn=function(e){var t,n,i,o;if(it(e)&&(t=e.Value)!==null&&t!==void 0&&t.path){var a;return(a=e.Value)===null||a===void 0?void 0:a.path}else if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&(n=e.Target)!==null&&n!==void 0&&(i=n.$target)!==null&&i!==void 0&&(o=i.Value)!==null&&o!==void 0&&o.path){var l,r;return(l=e.Target)===null||l===void 0?void 0:(r=l.$target)===null||r===void 0?void 0:r.Value.path}else{return Be.generateKeyFromDataField(e)}};const nn=function(e,t,n){const i=`Property_Technical::${e}`;const o=t.find(e=>e.key===i);const a=!o&&t.find(t=>t.name===e&&!t.propertyInfos);if(a){const o={key:i,type:pt.Annotation,label:a.label,annotationPath:a.annotationPath,availability:"Hidden",name:i,relativePath:a.relativePath,sortable:false,isGroupable:false,isKey:false,exportSettings:null,caseSensitive:false,aggregatable:false,extension:{technicallyGroupable:true,technicallyAggregatable:true}};t.push(o);n[e]=o.name}};const on=function(e,t,n){var i;const o=(i=n.getManifestControlConfiguration(t))===null||i===void 0?void 0:i.columns;const a=o&&Object.keys(o);return a&&!!a.find(function(t){return t===e&&o[t].showDataFieldsLabel})};const an=function(e){var t,n;let i="";switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":i=e===null||e===void 0?void 0:(t=e.Value)===null||t===void 0?void 0:t.path;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":i=e===null||e===void 0?void 0:(n=e.Target)===null||n===void 0?void 0:n.value;break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForActionGroup":case"com.sap.vocabularies.UI.v1.DataFieldWithActionGroup":i=Be.generateKeyFromDataField(e);break}return i};const ln=function(e,t,n){const i=t?e.lastIndexOf("/"):e.indexOf("/");if(i===-1){return e}return n?e.substring(i+1,e.length):e.substring(0,i)};const rn=function(e,t){if(it(e)&&Te(e.Value)){const n=ye(t.getDataModelObjectPath(),e.Value.path);return te(n)}else{return false}};const sn=function(e,t,n){return!n.includes(t)&&(e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")};const dn=function(e){const t=un(e);return Array.isArray(t)?!t.includes("tolower"):true};F.isFilteringCaseSensitive=dn;function un(e){const t=e.getEntitySet();if(v.isEntitySet(t)){var n,i;return((n=t.annotations.Capabilities)===null||n===void 0?void 0:n.FilterFunctions)??((i=e.getEntityContainer().annotations.Capabilities)===null||i===void 0?void 0:i.FilterFunctions)}return undefined}function cn(e){return e===undefined?undefined:{textLinesEdit:4,...e}}function vn(e,t){const n=[];let i=false;for(let o=0;o<e.length;o++){n.push(e[o].value);if(e[o].value===t){i=true}}return{values:n,semanticKeyFound:i}}function fn(e,t){let n=false;let i;if(e&&e.length>=1&&t&&t.length>=1){for(let o=0;o<e.length;o++){if([e[o]].some(e=>t.includes(e))){n=true;i=e[o];break}}}return{semanticKeyHasPropertyInFieldGroup:n,fieldGroupPropertyPath:i}}function pn(e,t){var n,i;const o=[];let a={semanticKeyHasPropertyInFieldGroup:false,fieldGroupPropertyPath:undefined};if(e&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((n=e.Target)===null||n===void 0?void 0:(i=n.$target)===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){var l;(l=e.Target.$target.Data)===null||l===void 0?void 0:l.forEach(e=>{if((e.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&e.Value){o.push(e.Value.path)}a=fn(t,o)})}return{semanticKeyHasPropertyInFieldGroup:a.semanticKeyHasPropertyInFieldGroup,propertyPath:a.fieldGroupPropertyPath}}function gn(e,t,n,i){if(!t){return{}}const o=vn(t,e);const a=pn(i,o.values);if(a.semanticKeyHasPropertyInFieldGroup){return{fieldGroupDraftIndicatorPropertyPath:a.propertyPath,fieldGroupName:e,showErrorObjectStatus:xe(Zt(e,true))}}else if(o.semanticKeyFound){return{hasDraftIndicator:true,showErrorObjectStatus:xe(Zt(e,false))}}return{}}function mn(e){var t,n;const i=e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Importance;if(i&&i.includes("UI.ImportanceType/High")){return 3}if(i&&i.includes("UI.ImportanceType/Medium")){return 2}if(i&&i.includes("UI.ImportanceType/Low")){return 1}return 0}function yn(e){var t,n;const i=e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Importance;return i?i.split("/")[1]:J.None}function bn(e){if(e&&e.length>0){let t=-1;let n=-1;let i;for(const o of e){n=mn(o);if(n>t){t=n;i=o}}return yn(i)}return J.None}function hn(e,t){var n,i,o;if(!t){return undefined}const a=((n=e.getDataModelObjectPath().targetEntityType.annotations.Common)===null||n===void 0?void 0:n.SemanticKey)??[];const l=Rn(e);const r=[...a,...l].map(e=>{var t;return(t=e.$target)===null||t===void 0?void 0:t.fullyQualifiedName});let s;if(Pe(t,"com.sap.vocabularies.UI.v1.DataFieldForAnnotation")){const e=t.Target.$target;if(Pe(e,"com.sap.vocabularies.UI.v1.FieldGroupType")){const n=e.Data;if(n.some(function(e){var t,n;return it(e)&&r.includes((t=e.Value)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.fullyQualifiedName)})){return J.High}else{var d,u;if(t!==null&&t!==void 0&&(d=t.annotations)!==null&&d!==void 0&&(u=d.UI)!==null&&u!==void 0&&u.Importance){return yn(t)}s=n.filter(function(e){var t,n;return e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Importance});return bn(s)}}}return r.includes((i=t.Value)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.fullyQualifiedName)?J.High:yn(t)}F.getImportance=hn;const Tn=function(e,t,n){var i,o,a;const l=n.getAnnotationEntityType(e),r=[],s={},d=ue(n.getEntitySet()),u=n.getManifestControlConfiguration(t),c=(u===null||u===void 0?void 0:(i=u.tableSettings)===null||i===void 0?void 0:i.type)||"ResponsiveTable",v=(u===null||u===void 0?void 0:(o=u.tableSettings)===null||o===void 0?void 0:(a=o.creationMode)===null||a===void 0?void 0:a.name)||Z.Inline;const f=[];const p=n.getAnnotationsByTerm("Common","com.sap.vocabularies.Common.v1.SemanticKey",[n.getEntityType()])[0];if(e){const i=n.getConverterContextFor(ge(n.getDataModelObjectPath()));e.forEach(e=>{var o,a,l,u,g,m,y,b,h,T,I;if(!qt(e)){return}let P=null;const A=it(e)&&(o=e.Value)!==null&&o!==void 0&&(a=o.$target)!==null&&a!==void 0&&a.fullyQualifiedName?ut(n,e):undefined;const C=an(e);const D=vt(e,n,c);const S=Object.keys(D.properties);const F=Object.keys(D.additionalProperties);const E=C?ln(C,true,false):undefined;const M=E!=C;const O=Jt(e,M);const N=tn(e);const w=E?E.includes(`@${"com.sap.vocabularies.UI.v1.FieldGroup"}`):false;const U=w?on(N,t,n):false;const $=ct(e);const x=cn(gn(N,p,w,e));const V=ye(n.getDataModelObjectPath(),C).targetEntityType.navigationProperties;const R=V.filter(e=>{var t,n;return!e.isCollection&&((t=e.targetType.annotations.Common)===null||t===void 0?void 0:(n=t.SAPObjectNodeType)===null||n===void 0?void 0:n.Name)==="BusinessSituation"});const L=R.length>=1?R[0]:undefined;if(L&&x){x.hasSituationsIndicator=true}let k;if(e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((l=e.Target)===null||l===void 0?void 0:(u=l.$target)===null||u===void 0?void 0:u.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){k=Yt(e)}if(_t(e)){P=Ht(e,D)}let j;if($){j=si(e,$)}const B={className:$,formatOptions:{...x,...(g=j)===null||g===void 0?void 0:g.formatOptions},constraints:{...(m=j)===null||m===void 0?void 0:m.constraints}};const H={};if(!$||!B){H.widthCalculation=null}const K=rn(e,i);const G=!K&&sn(e,C,d);const W={key:Be.generateKeyFromDataField(e),type:pt.Annotation,label:O,groupLabel:M?Jt(e):undefined,group:M?E:undefined,FieldGroupHiddenExpressions:k,annotationPath:n.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),semanticObjectPath:A,availability:z(e)?"Hidden":"Default",name:N,showDataFieldsLabel:U,required:Sn(n,e,v),relativePath:C,sortable:G,propertyInfos:S.length?S:undefined,additionalPropertyInfos:F.length>0?F:undefined,exportSettings:P,width:((y=e.annotations)===null||y===void 0?void 0:(b=y.HTML5)===null||b===void 0?void 0:(h=b.CssDefaults)===null||h===void 0?void 0:(T=h.width)===null||T===void 0?void 0:T.valueOf())||undefined,importance:hn(n,e),isNavigable:true,formatOptions:x,caseSensitive:dn(n),typeConfig:B,visualSettings:H,timezoneText:(I=P)===null||I===void 0?void 0:I.timezone,isPartOfLineItem:true,isMultiValue:K};const _=Xt(e)||O;if(_){W.tooltip=_}if(D.textOnlyPropertiesFromTextAnnotation.length>0){f.push(...D.textOnlyPropertiesFromTextAnnotation)}if(D.exportSettings.dataPointTargetValue){W.exportDataPointTargetValue=D.exportSettings.dataPointTargetValue}r.push(W);S.forEach(e=>{s[e]=D.properties[e];if(K){d.push(e)}});F.forEach(e=>{s[e]=D.additionalProperties[e]})})}return jt(s,l,r,d,n,c,v,f)};const In=function(e,t,n,i){let o;if(e){o=e.map(function(e){const o=t.find(function(t){return t.relativePath===e&&t.propertyInfos===undefined});if(o){return o.name}else{const o=en({[e]:i.resolvePath(e)},t,[],n,i,[]);t.push(o[0]);return o[0].name}})}return o};const Pn=function(e,t,n){const i=t.Data;return i.some(function(t){var i;if(lt(t)&&(t===null||t===void 0?void 0:(i=t.Value)===null||i===void 0?void 0:i.$target.type)!=="Edm.Boolean"){return se(t)||n===Z.InlineCreationRows&&Ln(t.Value.$target.fullyQualifiedName,e)}})};const An=function(e,t,n){const i=t.Target.$target;const o=de(t);if(rt(t)){if(Pn(e,i,n)){return true}const t=i.Data;return t.some(t=>Sn(e,t,n))}if(st(t)&&i.Visualization!=="UI.VisualizationType/Rating"){if(o){return false}if(se(t)){return true}return Dn(e,i,n)}return false};const Cn=function(e,t,n){return t.type!=="Edm.Boolean"&&!tt(t)&&(se(t)||n===Z.InlineCreationRows&&Ln(t.fullyQualifiedName,e))};const Dn=function(e,t,n){return se(t)||n===Z.InlineCreationRows&&Ln(t.Value.$target.fullyQualifiedName,e)};const Sn=function(e,t,n){var i,o;const a=n||Z.Inline;if(e.getTemplateType()===Q.ListReport||e.getTemplateType()===Q.AnalyticalListPage){return undefined}if(he(t)){return Cn(e,t,a)?xe(Le.IsEditable):undefined}if(ot(t)){return An(e,t,a)?xe(Le.IsEditable):undefined}if(lt(t)&&((i=t.Value)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.type)!=="Edm.Boolean"){return se(t)||a===Z.InlineCreationRows&&Ln(t.Value.$target.fullyQualifiedName,e)?xe(Le.IsEditable):undefined}return undefined};const Fn=function(e){return e.map(t=>`{${e.indexOf(t)}}`).join(`${"\n"}`)};const En=function(t,n,i,o,a){const l={};function r(e,t){return n.some(e=>e.key===t)}function s(e){return e.type===pt.Slot}function d(e){return e.type===undefined&&!!e.template}function u(e,t){const n=ue(i.getEntitySet());e.forEach(e=>{t.forEach(t=>{if(t.name===e){t.sortable=!n.includes(e.replace("Property::",""));t.isGroupable=t.sortable}})})}for(const m in t){var c;const y=t[m];Be.validateKey(m);const b={key:m,widthIncludingColumnHeader:y.widthIncludingColumnHeader,width:y.width||undefined,position:{anchor:(c=y.position)===null||c===void 0?void 0:c.anchor,placement:y.position===undefined?_e.After:y.position.placement},caseSensitive:dn(i)};if(r(y,m)){const e={...b,importance:y===null||y===void 0?void 0:y.importance,horizontalAlign:y===null||y===void 0?void 0:y.horizontalAlign,availability:y===null||y===void 0?void 0:y.availability,type:pt.Annotation,isNavigable:r(y,m)?undefined:Ye(y,a,true),settings:y.settings,formatOptions:cn(y.formatOptions)};l[m]=e}else{var v;const t=In(y.properties,n,i,o);const a={...b,header:y.header,importance:(y===null||y===void 0?void 0:y.importance)||J.None,horizontalAlign:(y===null||y===void 0?void 0:y.horizontalAlign)||X.Begin,availability:(y===null||y===void 0?void 0:y.availability)||"Default",template:y.template,propertyInfos:t,exportSettings:t?{template:Fn(t),wrap:!!(t.length>1)}:null,id:`CustomColumn::${m}`,name:`CustomColumn::${m}`,formatOptions:{textLinesEdit:4},isGroupable:false,isNavigable:false,sortable:false,visualSettings:{widthCalculation:null},tooltip:y.header,properties:y.properties,required:y.required&&i.getTemplateType()!==Q.ListReport&&i.getTemplateType()!==Q.AnalyticalListPage?xe(Le.IsEditable):undefined};if((v=y.header)!==null&&v!==void 0&&v.startsWith("{metaModel>")){var f,p;const t=(f=y.header)===null||f===void 0?void 0:f.substring(11,((p=y.header)===null||p===void 0?void 0:p.length)-1);try{a.header=i.getEntityTypeAnnotation(t).annotation.toString()}catch(n){e.info(`Unable to retrieve text from meta model using path ${t}`)}}if(t){u(t,n)}if(s(y)){const e={...a,type:pt.Slot};l[m]=e}else if(d(y)){const e={...a,type:pt.Default};l[m]=e}else{var g;const e=`The annotation column '${m}' referenced in the manifest is not found`;i.getDiagnostics().addIssue(ze.Manifest,Ke.Low,e,Ge,Ge===null||Ge===void 0?void 0:(g=Ge.AnnotationColumns)===null||g===void 0?void 0:g.InvalidKey)}}}return l};function Mn(e,t,n){var i;const o=n.getManifestControlConfiguration(t);const a=(o===null||o===void 0?void 0:(i=o.tableSettings)===null||i===void 0?void 0:i.type)||"ResponsiveTable";if(a!=="GridTable"&&a!=="TreeTable"){return e}const l=e.find(e=>{var t,n;return((t=e.formatOptions)===null||t===void 0?void 0:t.hasSituationsIndicator)!==undefined&&((n=e.formatOptions)===null||n===void 0?void 0:n.hasSituationsIndicator)===true});if(l!==null&&l!==void 0&&l.formatOptions){l.formatOptions.hasSituationsIndicator=false;const t={key:"situationsIndicator",name:"situationsIndicator",propertyKey:l.name,isSituationsIndicator:true,availability:"Default",label:"{sap.fe.i18n>C_SITUATIONS_STATUS_COLUMN_LABEL_TOOLTIP}",tooltip:"{sap.fe.i18n>C_SITUATIONS_STATUS_COLUMN_LABEL_TOOLTIP}",type:pt.Computed,formatOptions:null,exportSettings:null,propertyInfos:null,caseSensitive:false};const n=e.findIndex(e=>e.availability!=="Hidden");e.splice(n+1,0,t)}const r=e.find(e=>{var t,n;return((t=e.formatOptions)===null||t===void 0?void 0:t.hasDraftIndicator)!==undefined&&((n=e.formatOptions)===null||n===void 0?void 0:n.hasDraftIndicator)===true});if(r!==null&&r!==void 0&&r.formatOptions&&n.getTemplateType()===Q.ListReport&&(u.isDraftNode(n.getEntitySet())||u.isDraftRoot(n.getEntitySet()))){r.formatOptions.hasDraftIndicator=false;const t={key:"draftStatus",name:"draftStatus",propertyKey:r.name,isDraftIndicator:true,availability:"Default",label:"{sap.fe.i18n>C_DRAFT_STATUS_COLUMN_LABEL_TOOLTIP}",tooltip:"{sap.fe.i18n>C_DRAFT_STATUS_COLUMN_LABEL_TOOLTIP}",type:pt.Computed,formatOptions:null,exportSettings:null,propertyInfos:null,caseSensitive:false};let n=0;if(l){n=e.findIndex(e=>e.isSituationsIndicator===true)-1}else{n=e.findIndex(e=>e.availability!=="Hidden")}e.splice(n+1,0,t)}return e}F.addComputedColumns=Mn;function On(e,t,n){var i;const o=t.getManifestWrapper();const a=t.getManifestControlConfiguration(e);const l=o.getVariantManagement();const r=[];const s=n.type==="AnalyticalTable";const d=n.type==="ResponsiveTable";if((a===null||a===void 0?void 0:(i=a.tableSettings)===null||i===void 0?void 0:i.personalization)!==undefined){const e=a.tableSettings.personalization;if(e===true){switch(n.type){case"AnalyticalTable":return"Sort,Column,Filter,Group,Aggregate";case"ResponsiveTable":return"Sort,Column,Filter,Group";default:return"Sort,Column,Filter"}}else if(typeof e==="object"){if(e.sort){r.push("Sort")}if(e.column){r.push("Column")}if(e.filter){r.push("Filter")}if(e.group&&(s||d)){r.push("Group")}if(e.aggregate&&s){r.push("Aggregate")}return r.length>0?r.join(","):undefined}}else{r.push("Sort");r.push("Column");if(t.getTemplateType()===Q.ListReport){if(l===q.Control||Nn(o,t)){r.push("Filter")}}else{r.push("Filter")}if(s){r.push("Group");r.push("Aggregate")}if(d){r.push("Group")}return r.join(",")}return undefined}F.getP13nMode=On;function Nn(e,t){return e.isFilterBarHidden()&&!t.getManifestWrapper().hasMultipleVisualizations()&&t.getTemplateType()!==Q.AnalyticalListPage}function wn(e,t,n){const i=ue(e.getEntitySet());let o;if(t!==null&&t!==void 0&&t.SortOrder){const e=[];const a={sorters:e};t.SortOrder.forEach(e=>{const t=e.Property;if((t===null||t===void 0?void 0:t.$target)!==undefined&&!i.includes(t.$target.name)){const i=$n([t],n)[0];if(i){a.sorters.push({name:i,descending:!!e.Descending})}}});o=a.sorters.length?JSON.stringify(a):undefined}return o}function Un(e){var t;if(!e){return undefined}const n=(t=e.InitialExpansionLevel)===null||t===void 0?void 0:t.valueOf();return typeof n==="number"?n:undefined}function $n(e,t){const n=[];let i,o;e.forEach(e=>{if(e!==null&&e!==void 0&&e.value){i=t.find(t=>{o=t;return!o.propertyInfos&&o.relativePath===(e===null||e===void 0?void 0:e.value)});if(i){n.push(i.name)}}});return n}function xn(e,t,n){let i;if(e!==null&&e!==void 0&&e.GroupBy){let o=e.GroupBy;if(n==="ResponsiveTable"){o=o.slice(0,1)}const a=$n(o,t).map(e=>({name:e}));i=a.length?JSON.stringify({groupLevels:a}):undefined}return i}function Vn(e){const t={};e.columns.forEach(n=>{var i;n=n;const o=Object.keys(e.aggregates).find(e=>e===n.name);if(o){const t=e.aggregates[o];n.aggregatable=true;n.extension={customAggregate:t.defaultAggregate??{}}}if((i=n.additionalPropertyInfos)!==null&&i!==void 0&&i.length){n.additionalPropertyInfos.forEach(n=>{nn(n,e.columns,t)})}});e.columns.forEach(e=>{e=e;if(e.additionalPropertyInfos){var n;e.additionalPropertyInfos=e.additionalPropertyInfos.map(e=>t[e]??e);e.propertyInfos=(n=e.propertyInfos)===null||n===void 0?void 0:n.concat(e.additionalPropertyInfos)}})}function Rn(e){return me(e.getDataModelObjectPath(),e=>{var t;return e===null||e===void 0?void 0:(t=e.InsertRestrictions)===null||t===void 0?void 0:t.RequiredProperties},false)}function Ln(e,t){return Rn(t).map(e=>{var t;return(t=e.$target)===null||t===void 0?void 0:t.fullyQualifiedName}).includes(e)}function kn(e,t){let n;if(e!==null&&e!==void 0&&e.Total){const i=e.Total;const o={};$n(i,t).forEach(e=>{o[e]={}});n=JSON.stringify(o)}return n}function jn(e,t,n,i,o,a){const l=Lt(e,i,n,o,t);const r=B(n,l.mode,i,a);const s=k(n,r);const d=R(n,r);const u=L(r,M(n));const c={cut:$(n,r),create:x(n,r),delete:U(n,r),paste:O(n,r,u),massEdit:N(n,r),insights:w(n,r,t),creationRow:j(n,r)};return{creationBehaviour:l,deleteButtonVisibilityExpression:s,massEditButtonVisibilityExpression:d,isInsertUpdateActionsTemplated:u,standardActions:c}}F.getStandardActionsConfiguration=jn;function Bn(e,t,n,i,o,a,l,r,s){var d,u,c;const{navigationPropertyPath:v}=Kn(t);const f=(d=n.getDataModelObjectPath().targetEntityType.annotations)===null||d===void 0?void 0:(u=d.UI)===null||u===void 0?void 0:(c=u.HeaderInfo)===null||c===void 0?void 0:c.TypeNamePlural;const p=f&&xe(Ne(f));const g=n.getDataModelObjectPath().targetEntitySet;const m=n.getManifestWrapper();const y=v.length===0,b=On(t,n,i),h=v?G(t):G(n.getContextPath(),"LineItem");const T=$t(n);const I=ht(n,v);const P=xt(e,t,n,y,T,l.deleteButtonVisibilityExpression,l.massEditButtonVisibilityExpression);let A=v?10:30;if(r!==null&&r!==void 0&&r.MaxItems){A=r.MaxItems.valueOf()}const C=m.getVariantManagement();const D=fe(n.getDataModelObjectPath());return{id:h,entityName:g?g.name:"",collection:ge(n.getDataModelObjectPath()),navigationPath:v,row:kt(e,n,a,I,i.type),p13nMode:b,isInsertUpdateActionsTemplated:l.isInsertUpdateActionsTemplated,updatablePropertyPath:Dt(n),displayMode:E(n,s),create:l.creationBehaviour,selectionMode:P,variantManagement:C==="Control"&&!b?q.None:C,threshold:A,sortConditions:wn(n,r,o),title:p,searchable:i.type!=="AnalyticalTable"&&!(Me(D)&&D.value===false),initialExpansionLevel:Un(r),requiredProperties:Rn(n).filter(e=>{var t;return(e===null||e===void 0?void 0:(t=e.$target)===null||t===void 0?void 0:t.type)!=="Edm.Boolean"}).map(e=>e.value)}}F.getTableAnnotationConfiguration=Bn;function Hn(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let i=arguments.length>3?arguments[3]:undefined;let o="String";if(!e||i!==null&&i!==void 0&&i.dataPointTargetValue){return o}if(i!==null&&i!==void 0&&i.isCurrency||n){return"Currency"}if(t){return"Timezone"}if(i!==null&&i!==void 0&&i.wrap){return o}switch(e){case"Edm.Decimal":case"Edm.Int32":case"Edm.Int64":case"Edm.Double":case"Edm.Byte":o="Number";break;case"Edm.DateOfTime":case"Edm.Date":o="Date";break;case"Edm.DateTimeOffset":o="DateTime";break;case"Edm.TimeOfDay":o="Time";break;case"Edm.Boolean":o="Boolean";break;default:o="String"}return o}function Kn(e){const[t,n]=e.split("@");let i=t;if(i.lastIndexOf("/")===i.length-1){i=i.substring(0,i.length-1)}return{navigationPropertyPath:i,annotationPath:n}}F.splitPath=Kn;function Gn(e,t){const n=t.getEntityTypeAnnotation(e);const i=n.annotation;if(i){var o,a;const e=[];(o=i.SelectOptions)===null||o===void 0?void 0:o.forEach(t=>{const n=t.PropertyName;const i=(n===null||n===void 0?void 0:n.value)??"";if(!e.includes(i)){e.push(i)}});return{text:i===null||i===void 0?void 0:(a=i.Text)===null||a===void 0?void 0:a.toString(),propertyNames:e}}return undefined}F.getSelectionVariantConfiguration=Gn;function zn(e,t,n){let i=e.enableFullScreen??n;if(!n&&i&&t.getTemplateType()===Q.ListReport){i=false;t.getDiagnostics().addIssue(ze.Manifest,Ke.Low,He.FULLSCREENMODE_NOT_ON_LISTREPORT)}return i}function Wn(e,t,n){let i;if(t!=="ResponsiveTable"){return undefined}switch(n.getTemplateType()){case Q.ListReport:case Q.ObjectPage:i=e.selectAll===false?"ClearAll":"Default";if(n.getTemplateType()===Q.ObjectPage&&n.getManifestWrapper().useIconTabBar()){i=!e.selectAll?"ClearAll":"Default"}break;case Q.AnalyticalListPage:i=!e.selectAll?"ClearAll":"Default";break;default:}return i}function _n(e,t,n){let i=(e===null||e===void 0?void 0:e.type)||"ResponsiveTable";if((i==="AnalyticalTable"||i==="TreeTable")&&!n.getManifestWrapper().isDesktop()){i="ResponsiveTable"}return i}function qn(e,t,n){if(e!=="ResponsiveTable"){if(n){return{rowCountMode:"Auto",rowCount:3}}else{return{rowCountMode:t.rowCountMode??"Fixed",rowCount:t.rowCount?t.rowCount:5}}}else{return{}}}function Qn(e,t){return t.condensedTableLayout!==undefined&&e!=="ResponsiveTable"?t.condensedTableLayout:false}function Yn(e){return e.selectAll===true||e.selectionLimit===0?0:e.selectionLimit||200}function Jn(e){var t,n;return(t=e.creationMode)!==null&&t!==void 0&&t.inlineCreationRowCount?(n=e.creationMode)===null||n===void 0?void 0:n.inlineCreationRowCount:1}function Xn(e,t,n,i){var o;if(n){t.push({annotationPath:i.annotationPath})}return{quickFilters:{showCounts:e===null||e===void 0?void 0:(o=e.quickVariantSelection)===null||o===void 0?void 0:o.showCounts,paths:t}}}function Zn(e,t,n){return e.enableExport!==undefined?e.enableExport:t.getTemplateType()!=="ObjectPage"||n}function ei(e){return e.frozenColumnCount}function ti(e){return e.widthIncludingColumnHeader??false}function ni(e,t,n){var i,o,a;if(!t){return{}}const l=[];const r=n.getAnnotationEntityType(t);let s;let d;e===null||e===void 0?void 0:(i=e.quickVariantSelection)===null||i===void 0?void 0:(o=i.paths)===null||o===void 0?void 0:o.forEach(t=>{s=r.resolvePath(t.annotationPath);d=Xn(e,l,s,t)});let u=false;u=!!((a=e.quickVariantSelection)!==null&&a!==void 0&&a.hideTableTitle);return{filters:d,headerVisible:!(s&&u)}}function ii(e,t){const n=ye(t.getDataModelObjectPath(),e).navigationProperties;if((n===null||n===void 0?void 0:n.length)>0){const e=[];n.forEach(t=>{e.push(Jt(t)||t.name)});return e}}function oi(e,t){var n,i,o;let a=false;if(((n=e.ActionTarget)===null||n===void 0?void 0:(i=n.annotations)===null||i===void 0?void 0:(o=i.Core)===null||o===void 0?void 0:o.OperationAvailable)!==undefined){var l,r,s,d;if(!((l=e.ActionTarget)!==null&&l!==void 0&&l.isBound)){a=true}else if((r=e.ActionTarget)!==null&&r!==void 0&&r.isBound&&((s=e.ActionTarget)===null||s===void 0?void 0:s.sourceType)!==t){a=true}else if((d=e.ActionTarget)!==null&&d!==void 0&&d.parameters[0].isCollection){a=true}}return a}function ai(e,t){var n,i,o,a,l;e.hierarchyQualifier=t.hierarchyQualifier;e.isNodeMovable=li(t.isNodeMovable,e);e.isMoveToPositionAllowed=li(t.isMoveToPositionAllowed,e);e.createEnablement=li((n=t.creationMode)===null||n===void 0?void 0:n.isCreateEnabled,e);if((i=t.creationMode)!==null&&i!==void 0&&(o=i.nodeType)!==null&&o!==void 0&&o.propertyName&&(a=t.creationMode)!==null&&a!==void 0&&(l=a.nodeType)!==null&&l!==void 0&&l.values){const n=t.creationMode.nodeType.values;e.nodeType={propertyName:t.creationMode.nodeType.propertyName,values:Object.keys(n).map(e=>({value:e,text:n[e]}))}}}function li(e,t){if(!e){return undefined}const n=e.lastIndexOf(".")||-1;const i=e.substring(0,n).replace(/\./gi,"/");const o=e.substring(n+1);if(!i.startsWith("/extension/")){if(!t.additionalRequiredModules){t.additionalRequiredModules=[i]}else if(!t.additionalRequiredModules.includes(i)){t.additionalRequiredModules.push(i)}}return{moduleName:i,methodName:o}}function ri(e,t,n){var i,o,a,l,r,s,d,u;let c=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const v=n.getManifestWrapper();const f=n.getManifestControlConfiguration(t);const p=(f===null||f===void 0?void 0:f.tableSettings)??{};const g=((i=p.creationMode)===null||i===void 0?void 0:i.name)||Z.NewPage;const m=!v.isPhone();const y=p.enablePaste!==undefined?p.enablePaste:n.getTemplateType()==="ObjectPage";const b=n.getTemplateType();const h=b===Q.ListReport?"API.dataStateIndicatorFilter":undefined;const T=c&&v.isCondensedLayoutCompliant();const I=ni(p,e,n);const P=(o=p.creationMode)===null||o===void 0?void 0:o.customValidationFunction;const A=n.getEntityType();const C=new W(A,n);const D=_n(p,C,n);const S=qn(D,p,b===Q.ListReport);const F=Qn(D,p);let E=false;if((a=p.creationMode)!==null&&a!==void 0&&a.inlineCreationRowsHiddenInEditMode){var M,O,N;E=typeof((M=p.creationMode)===null||M===void 0?void 0:M.inlineCreationRowsHiddenInEditMode)==="string"?((O=p.creationMode)===null||O===void 0?void 0:O.inlineCreationRowsHiddenInEditMode)==="true":(N=p.creationMode)===null||N===void 0?void 0:N.inlineCreationRowsHiddenInEditMode}const w={createAtEnd:((l=p.creationMode)===null||l===void 0?void 0:l.createAtEnd)!==undefined?(r=p.creationMode)===null||r===void 0?void 0:r.createAtEnd:g!==Z.Inline,creationMode:g,customValidationFunction:P,dataStateIndicatorFilter:h,disableAddRowButtonForEmptyData:!P?!!((s=p.creationMode)!==null&&s!==void 0&&s.disableAddRowButtonForEmptyData):false,enableAutoColumnWidth:m,enableExport:Zn(p,n,y),frozenColumnCount:ei(p),widthIncludingColumnHeader:ti(p),enableFullScreen:zn(p,n,v.isPhone()),enableMassEdit:p===null||p===void 0?void 0:p.enableMassEdit,enableAddCardToInsights:p===null||p===void 0?void 0:p.enableAddCardToInsights,enablePaste:y,headerVisible:true,multiSelectMode:Wn(p,D,n),selectionLimit:Yn(p),inlineCreationRowCount:Jn(p),inlineCreationRowsHiddenInEditMode:E,showRowCount:!(p!==null&&p!==void 0&&(d=p.quickVariantSelection)!==null&&d!==void 0&&d.showCounts)&&!((u=v.getViewConfiguration())!==null&&u!==void 0&&u.showCounts),type:D,useCondensedTableLayout:F&&T,isCompactType:v.isCompactType()};const U={...w,...S,...I};if(D==="TreeTable"){ai(U,p)}if(p.selectionChange){U.selectionChange=li(p.selectionChange,U)}return U}F.getTableManifestConfiguration=ri;function si(e,t){var n,i,o,a,l;let r;if(he(e)){r=be(e.targetType)?Re[e.targetType.underlyingType]:Re[e.type]}if(r===undefined&&t!==undefined){r=Re[t]}const s={type:(n=r)===null||n===void 0?void 0:n.type,constraints:{},formatOptions:{}};if(he(e)&&r!==undefined){var d,u,c,v,f,p,g,m,y,b,h,T,I,P,A,C,D;s.constraints={scale:(d=r.constraints)!==null&&d!==void 0&&d.$Scale?e.scale:undefined,precision:(u=r.constraints)!==null&&u!==void 0&&u.$Precision?e.precision:undefined,maxLength:(c=r.constraints)!==null&&c!==void 0&&c.$MaxLength?e.maxLength:undefined,nullable:(v=r.constraints)!==null&&v!==void 0&&v.$Nullable?e.nullable:undefined,minimum:(f=r.constraints)!==null&&f!==void 0&&f["@Org.OData.Validation.V1.Minimum/$Decimal"]&&!isNaN((p=e.annotations)===null||p===void 0?void 0:(g=p.Validation)===null||g===void 0?void 0:g.Minimum)?`${(m=e.annotations)===null||m===void 0?void 0:(y=m.Validation)===null||y===void 0?void 0:y.Minimum}`:undefined,maximum:(b=r.constraints)!==null&&b!==void 0&&b["@Org.OData.Validation.V1.Maximum/$Decimal"]&&!isNaN((h=e.annotations)===null||h===void 0?void 0:(T=h.Validation)===null||T===void 0?void 0:T.Maximum)?`${(I=e.annotations)===null||I===void 0?void 0:(P=I.Validation)===null||P===void 0?void 0:P.Maximum}`:undefined,isDigitSequence:s.type==="sap.ui.model.odata.type.String"&&(A=r.constraints)!==null&&A!==void 0&&A[`@${"com.sap.vocabularies.Common.v1.IsDigitSequence"}`]&&(C=e.annotations)!==null&&C!==void 0&&(D=C.Common)!==null&&D!==void 0&&D.IsDigitSequence?true:undefined}}s.formatOptions={parseAsString:(s===null||s===void 0?void 0:(i=s.type)===null||i===void 0?void 0:i.indexOf("sap.ui.model.odata.type.Int"))===0||(s===null||s===void 0?void 0:(o=s.type)===null||o===void 0?void 0:o.indexOf("sap.ui.model.odata.type.Double"))===0?false:undefined,emptyString:(s===null||s===void 0?void 0:(a=s.type)===null||a===void 0?void 0:a.indexOf("sap.ui.model.odata.type.Int"))===0||(s===null||s===void 0?void 0:(l=s.type)===null||l===void 0?void 0:l.indexOf("sap.ui.model.odata.type.Double"))===0?"":undefined,parseKeepsEmptyString:s.type==="sap.ui.model.odata.type.String"&&s.constraints.nullable===false?true:undefined};return s}F.getTypeConfig=si;return{getTableActions:gt,getTableColumns:mt,getColumnsFromEntityType:jt,updateLinkedProperties:Tt,createTableVisualization:Pt,createDefaultTableVisualization:At,getCapabilityRestriction:$t,getImportance:hn,getSelectionMode:xt,getRowStatusVisibility:Zt,getP13nMode:On,getStandardActionsConfiguration:jn,getTableAnnotationConfiguration:Bn,isFilteringCaseSensitive:dn,splitPath:Kn,getSelectionVariantConfiguration:Gn,getTableManifestConfiguration:ri,getTypeConfig:si,updateTableVisualizationForType:bt,getNavigationTargetPath:ht}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/Common/table/StandardActions", ["sap/fe/core/formatters/TableFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","../../../../helpers/BindingHelper","../../../ManifestSettings","../../../helpers/InsightsHelpers"],function(e,t,n,i,a,o,s,r){"use strict";var l={};var d=r.getInsightsVisibility;var c=r.getInsightsEnablement;var u=s.TemplateType;var p=s.CreationMode;var f=s.ActionType;var v=o.singletonPathVisitor;var g=o.UI;var b=a.isPathUpdatable;var y=a.isPathInsertable;var h=a.isPathDeletable;var C=a.getTargetObjectPath;var T=i.isSingleton;var M=i.isNavigationProperty;var S=i.isEntitySet;var E=t.pathInModel;var m=t.or;var A=t.notEqual;var P=t.not;var x=t.lessOrEqual;var D=t.length;var I=t.isPathInModelExpression;var R=t.isConstant;var O=t.ifElse;var w=t.greaterThan;var U=t.greaterOrEqual;var k=t.getExpressionFromAnnotation;var V=t.formatResult;var j=t.equal;var H=t.constant;var L=t.compileExpression;var z=t.and;const F={Cut:"StandardAction::Cut",Create:"StandardAction::Create",Delete:"StandardAction::Delete",CreationRow:"StandardAction::CreationRow",Paste:"StandardAction::Paste",MassEdit:"StandardAction::MassEdit",Insights:"StandardAction::Insights"};l.StandardActionKeys=F;function N(e,t,n,i){return{collectionPath:C(e.getDataModelObjectPath()),hiddenAnnotation:{create:B(e,"CreateHidden"),delete:B(e,"DeleteHidden"),update:B(e,"UpdateHidden")},creationMode:t,isDraftOrStickySupported:W(e),isViewWithMultipleVisualizations:i?e.getManifestWrapper().hasMultipleVisualizations(i):false,newAction:q(e),tableManifestConfiguration:n,restrictions:_(e)}}l.generateStandardActionsContext=N;function W(e){var t,i,a;const o=e.getDataModelObjectPath();const s=n.isObjectPathDraftSupported(o);const r=(t=o.startingEntitySet)!==null&&t!==void 0&&(i=t.annotations)!==null&&i!==void 0&&(a=i.Session)!==null&&a!==void 0&&a.StickySessionSupported?true:false;return s||r}l.isDraftOrStickySupported=W;function q(e){var t,n,i,a;const o=e.getEntitySet();const s=S(o)?((t=o.annotations.Common)===null||t===void 0?void 0:(n=t.DraftRoot)===null||n===void 0?void 0:n.NewAction)??((i=o.annotations.Session)===null||i===void 0?void 0:(a=i.StickySessionSupported)===null||a===void 0?void 0:a.NewAction):undefined;const r=s===null||s===void 0?void 0:s.toString();if(r){var l,d,c;const t=e===null||e===void 0?void 0:(l=e.getEntityType().actions[r])===null||l===void 0?void 0:(d=l.annotations)===null||d===void 0?void 0:(c=d.Core)===null||c===void 0?void 0:c.OperationAvailable;return{name:r,available:k(t,[],true)}}return undefined}l.getNewAction=q;function B(e,t){var n,i;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const o=e.getEntitySet();const s=!T(o)&&(o===null||o===void 0?void 0:(n=o.annotations.UI)===null||n===void 0?void 0:n[t])||((i=e.getEntityType().annotations.UI)===null||i===void 0?void 0:i[t]);if(!s){return H(false)}const r=e.getDataModelObjectPath();const l=r.navigationProperties.length>0&&a?[r.navigationProperties[r.navigationProperties.length-1].name]:[];return k(s,l,undefined,t=>v(t,e.getConvertedTypes(),l))}l.isActionAnnotatedHidden=B;function _(e){const t=e.getDataModelObjectPath();const n=[{key:"isInsertable",function:y},{key:"isUpdatable",function:b},{key:"isDeletable",function:h}];const i={};n.forEach(function(n){const a=n["function"];i[n.key]={expression:a.apply(null,[t,{pathVisitor:(t,n)=>v(t,e.getConvertedTypes(),n)}]),navigationExpression:a.apply(null,[t,{ignoreTargetCollection:true,authorizeUnresolvable:true,pathVisitor:(t,n)=>v(t,e.getConvertedTypes(),n)}])}});return i}l.getRestrictions=_;function $(e,t){return t||e.creationMode===p.External}l.getInsertUpdateActionsTemplating=$;function G(e,t){const n=ie(e,t);return{isTemplated:L(te(t,n)),visible:L(n),enabled:L(le(e,t,n)),key:F.Create,type:f.Standard}}l.getStandardActionCreate=G;function K(e,t){const n=X(e,t);return{isTemplated:L(ne(n)),visible:L(n),enabled:L(pe(n,t)),key:F.Cut,type:f.Standard}}l.getStandardActionCut=K;function J(e,t){const n=ae(e,t);return{isTemplated:L(ne(n)),visible:L(n),enabled:L(de(e,t,n)),key:F.Delete,type:f.Standard}}l.getStandardActionDelete=J;function Q(e,t){const n=ie(e,t,true);return{isTemplated:L(te(t,n,true)),visible:L(n),enabled:L(re(e,t,n)),key:F.CreationRow,type:f.Standard}}l.getCreationRow=Q;function X(e,t){var n,i,a;const o=(n=t.restrictions)===null||n===void 0?void 0:(i=n.isUpdatable)===null||i===void 0?void 0:i.expression;const s=e.getTemplateType()!==u.ListReport?g.IsEditable:false;return O(j((a=t.tableManifestConfiguration)===null||a===void 0?void 0:a.type,"TreeTable"),z(P(z(R(o),j(o,false))),s),false)}l.getCutVisibility=X;function Y(e,t,n){const i=ie(e,t,false,true);const a=le(e,t,i);const o=oe(e,t,i,n);return{visible:L(o),enabled:L(ce(o,a,t)),key:F.Paste,type:f.Standard}}l.getStandardActionPaste=Y;function Z(e,t){const n=se(e,t);return{isTemplated:L(ne(n)),visible:L(n),enabled:L(ue(e,t,n)),key:F.MassEdit,type:f.Standard}}l.getStandardActionMassEdit=Z;function ee(e,t,n){const i=d("Table",e,n,t);const a=z(i,c());return{isTemplated:L(ne(i)),visible:L(i),enabled:L(a),key:F.Insights,type:f.Standard}}l.getStandardActionInsights=ee;function te(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return z(m(z(n,e.creationMode===p.CreationRow),z(!n,e.creationMode!==p.CreationRow)),m(P(R(t)),t))}l.getCreateTemplating=te;function ne(e){return m(P(R(e)),e)}l.getDefaultTemplating=ne;function ie(e,t){var n,i;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const s=t.restrictions.isInsertable.expression;const r=a?B(e,"CreateHidden",false):t.hiddenAnnotation.create;const l=t.newAction;return O(t.creationMode===p.External,z(P(r),m(e.getTemplateType()===u.ListReport,g.IsEditable)),O(m(z(R(l===null||l===void 0?void 0:l.available),j(l===null||l===void 0?void 0:l.available,false)),z(R(s),j(s,false),!l),z(R(r),j(r,true)),z(t.creationMode===p.InlineCreationRows,((n=t.tableManifestConfiguration)===null||n===void 0?void 0:n.type)==="ResponsiveTable",O(z((t===null||t===void 0?void 0:(i=t.tableManifestConfiguration)===null||i===void 0?void 0:i.inlineCreationRowsHiddenInEditMode)===false,P(o)),true,g.IsCreateMode))),false,O(e.getTemplateType()===u.ListReport,m(P(I(r)),P(r)),z(P(r),g.IsEditable))))}l.getCreateVisibility=ie;function ae(e,t){const n=t.hiddenAnnotation.delete;const i=t.restrictions.isDeletable.expression;return O(e.getTemplateType()===u.AnalyticalListPage,false,O(z(R(i),j(i,false)),false,O(z(R(n),j(n,H(true))),false,O(e.getTemplateType()!==u.ListReport,z(P(n),g.IsEditable),P(z(I(n),n))))))}l.getDeleteVisibility=ae;function oe(e,t,n,i){return z(A(t.tableManifestConfiguration.enablePaste,false),t.tableManifestConfiguration.type==="TreeTable"?g.IsEditable:n,i,![u.ListReport,u.AnalyticalListPage].includes(e.getTemplateType()),t.tableManifestConfiguration.type==="TreeTable"?t.restrictions.isUpdatable.expression:t.restrictions.isInsertable.expression)}l.getPasteVisibility=oe;function se(e,t){var n;const i=t.hiddenAnnotation.update,a=t.restrictions.isUpdatable.expression,o=((n=t.tableManifestConfiguration)===null||n===void 0?void 0:n.enableMassEdit)||false;const s=e.getTemplateType()===u.ObjectPage?g.IsEditable:e.getTemplateType()===u.ListReport;return z(P(z(R(a),j(a,false))),o,s,P(i))}l.getMassEditVisibility=se;function re(t,n,i){const a=y(t.getDataModelObjectPath(),{ignoreTargetCollection:true,authorizeUnresolvable:true,pathVisitor:(e,n)=>{if(e.indexOf("/")===0){e=v(e,t.getConvertedTypes(),n);return e}const i=t.getDataModelObjectPath().navigationProperties;if(i){const t=i[i.length-1];const n=M(t)&&t.partner;if(n){e=`${n}/${e}`}}return e}});const o=a._type==="Unresolvable"?y(t.getDataModelObjectPath(),{pathVisitor:e=>v(e,t.getConvertedTypes(),[])}):a;return z(i,o,m(!n.tableManifestConfiguration.disableAddRowButtonForEmptyData,V([E("creationRowFieldValidity","internal")],e.validateCreationRowFields)))}l.getCreationRowEnablement=re;function le(e,t,n){const i=[];if(t.creationMode===p.InlineCreationRows){i.push(z(P(t.hiddenAnnotation.create),g.IsEditable))}else{i.push(n)}const a=t.restrictions.isInsertable.expression;const o=e.resolveAbsolutePath(t.collectionPath).target;i.push(m(S(o),z(a,m(e.getTemplateType()!==u.ObjectPage,g.IsEditable))));if(t.tableManifestConfiguration.type==="TreeTable"){i.push(x(E("numberOfSelectedContexts","internal"),1));if(t.tableManifestConfiguration.createEnablement){i.push(A(E("createEnablement/Create","internal"),false))}}return z(...i)}l.getCreateEnablement=le;function de(e,t,n){const i=E("deletableContexts","internal");const a=E("unSavedContexts","internal");const o=E("draftsWithDeletableActive","internal");const s=E("draftsWithNonDeletableActive","internal");return z(n,m(t.restrictions.isDeletable.navigationExpression._type==="Unresolvable",t.restrictions.isDeletable.expression),m(z(A(i,undefined),w(D(i),0)),z(A(o,undefined),w(D(o),0)),z(A(s,undefined),w(D(s),0)),z(A(a,undefined),w(D(a),0))))}l.getDeleteEnablement=de;function ce(e,t,n){if(n.tableManifestConfiguration.type==="TreeTable"){return z(e,z(P(j(E("pastableContexts","internal"),undefined)),j(D(E("pastableContexts","internal")),1),j(E("pasteAuthorized","internal"),true)))}return z(e,t)}l.getPasteEnablement=ce;function ue(e,t,i){const a=t.restrictions.isUpdatable.expression;const o=!R(a)&&t.restrictions.isUpdatable.navigationExpression._type==="Unresolvable";const s=U(E("numberOfSelectedContexts","internal"),1);const r=U(D(E("updatableContexts","internal")),1);const l=n.isObjectPathDraftSupported(e.getDataModelObjectPath());const d=fe(e);const c=O(m(z(d,l),o),z(s,r),z(s));return z(i,O(o,c,z(c,a)))}l.getMassEditEnablement=ue;function pe(e,t){const n=j(E("numberOfSelectedContexts","internal"),1);const i=z(P(j(E("cutableContexts","internal"),undefined)),j(D(E("cutableContexts","internal")),1));const a=z(n,i);return O(z(R(t.restrictions.isUpdatable.expression),j(t.restrictions.isUpdatable.expression,false)),false,z(e,a))}l.getCutEnablement=pe;function fe(e,t){const n=e.getTemplateType();if(n===u.ListReport||n===u.AnalyticalListPage||t&&e.getManifestWrapper().hasMultipleVisualizations(t)){return true}return false}l.isInDisplayMode=fe;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ListReport/FilterBar", ["sap/fe/core/converters/controls/Common/Table","sap/fe/core/converters/controls/ListReport/VisualFilters","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/m/library","../Common/DataVisualization"],function(t,e,n,i,o,a,r,l,s,c,u){"use strict";var d={};var v=u.getSelectionVariant;var p=c.StandardDynamicDateRangeKeys;var f=s.getAssociatedUnitPropertyPath;var g=s.getAssociatedTimezonePropertyPath;var h=s.getAssociatedTextPropertyPath;var y=s.getAssociatedCurrencyPropertyPath;var m=l.getTargetNavigationPath;var P=l.getRelativePaths;var b=l.enhanceDataModelPath;var F=r.isNavigationProperty;var S=r.isMultipleNavigationProperty;var T=r.isEntitySet;var D=r.isComplexType;var E=o.KeyHelper;var C=i.IssueType;var O=i.IssueSeverity;var x=i.IssueCategory;var I=n.insertCustomElements;var A=n.Placement;var N=n.OverrideType;var R=e.getVisualFilters;var U=t.isFilteringCaseSensitive;var M=t.getTypeConfig;var L=t.getSelectionVariantConfiguration;var j;(function(t){t["Default"]="Default";t["Slot"]="Slot"})(j||(j={}));const k="Edm.String";const w="sap.ui.model.odata.type.String";function V(t){const e={};t.Data.forEach(n=>{if(n.$Type==="com.sap.vocabularies.UI.v1.DataField"){var i,o,a,r;e[n.Value.path]={group:t.fullyQualifiedName,groupLabel:((i=t.Label)===null||i===void 0?void 0:i.toString())??((o=t.annotations)===null||o===void 0?void 0:(a=o.Common)===null||a===void 0?void 0:(r=a.Label)===null||r===void 0?void 0:r.toString())??t.qualifier}}});return e}function $(t){return t.reduce((t,e)=>{e.propertyNames.forEach(e=>{t[e]=true});return t},{})}function q(t,e){if(e&&t.length>0){return t.every(t=>t.enableAnalytics&&e===t.annotation.collection)}return false}function H(t,e){const n=[];return t.map(t=>{const i=t.control.filters;const o=[];for(const t in i){if(Array.isArray(i[t].paths)){const a=i[t].paths;a.forEach(t=>{if(t&&t.annotationPath&&!n.includes(t.annotationPath)){n.push(t.annotationPath);const i=L(t.annotationPath,e);if(i){o.push(i)}}})}}return o}).reduce((t,e)=>t.concat(e),[])}const B=function(t,e){const n=e.split("/");let i;let o="";while(n.length){let e=n.shift();i=i?`${i}/${e}`:e;const a=t.resolvePath(i);if(S(a)){e+="*"}o=o?`${o}/${e}`:e}return o};const K=function(t,e,n,i,o){var a,r,l;if(e&&e.targetType===undefined&&(i||((a=e.annotations)===null||a===void 0?void 0:(r=a.UI)===null||r===void 0?void 0:(l=r.Hidden)===null||l===void 0?void 0:l.valueOf())!==true)){var s,c,u,d,v,p,f,g;const i=o.getAnnotationEntityType(e),a={key:E.getSelectionFieldKeyFromPath(n),annotationPath:o.getAbsoluteAnnotationPath(n),conditionPath:B(t,n),availability:((s=e.annotations)===null||s===void 0?void 0:(c=s.UI)===null||c===void 0?void 0:(u=c.HiddenFilter)===null||u===void 0?void 0:u.valueOf())===true?"Hidden":"Adaptation",label:((d=e.annotations.Common)===null||d===void 0?void 0:(v=d.Label)===null||v===void 0?void 0:v.toString())??e.name,group:i.name,groupLabel:(i===null||i===void 0?void 0:(p=i.annotations)===null||p===void 0?void 0:(f=p.Common)===null||f===void 0?void 0:(g=f.Label)===null||g===void 0?void 0:g.toString())??i.name};W(a);return a}return undefined};const W=function(t){if(t.key==="DraftAdministrativeData::CreationDateTime"||t.key==="DraftAdministrativeData::LastChangeDateTime"){const e=[p.TO,p.TOMORROW,p.NEXTWEEK,p.NEXTMONTH,p.NEXTQUARTER,p.NEXTYEAR];t.settings={operatorConfiguration:[{path:"key",equals:e.join(","),exclude:true}]}}};const G=function(t,e,n,i,o){const a={};if(n){n.forEach(n=>{const r=n.name;const l=(e?`${e}/`:"")+r;const s=K(t,n,l,i,o);if(s){a[l]=s}})}return a};const X=function(t,e,n,i){let o={};if(e){e.forEach(e=>{let a={};const r=b(i.getDataModelObjectPath(),e);const l=r.targetObject;if(l===undefined||!n&&r.navigationProperties.find(t=>{var e,n,i;return((e=t.annotations)===null||e===void 0?void 0:(n=e.UI)===null||n===void 0?void 0:(i=n.Hidden)===null||i===void 0?void 0:i.valueOf())===true})){return}if(F(l)){a=G(t,e,l.targetType.entityProperties,n,i)}else if(D(l.targetType)){a=G(t,e,l.targetType.properties,n,i)}else{a=G(t,m(r,true),[l],n,i)}o={...o,...a}})}return o};const J=function(t,e,n,i){let o=t[e];if(o){delete t[e]}else{o=K(i,i.resolvePath(e),e,true,n)}if(!o){var a;(a=n.getDiagnostics())===null||a===void 0?void 0:a.addIssue(x.Annotation,O.High,C.MISSING_SELECTIONFIELD)}if(o){var r,l;o.availability=o.availability==="Hidden"?"Hidden":"Default";o.isParameter=!!((r=i.annotations)!==null&&r!==void 0&&(l=r.Common)!==null&&l!==void 0&&l.ResultContext)}return o};const z=function(t,e,n,i,o){const a=[];const r={};const l=e.entityProperties;o===null||o===void 0?void 0:o.forEach(t=>{r[t.value]=true});if(t&&t.length>0){t===null||t===void 0?void 0:t.forEach(t=>{const r=t.PropertyName;const l=r===null||r===void 0?void 0:r.value;const s={};o===null||o===void 0?void 0:o.forEach(t=>{s[t.value]=true});if(l&&!(l in i)){if(!(l in s)){const t=Z(l,n,e);if(t){a.push(t)}}}})}else if(l){l.forEach(t=>{var o,l;const s=(o=t.annotations)===null||o===void 0?void 0:(l=o.Common)===null||l===void 0?void 0:l.FilterDefaultValue;const c=t.name;if(!(c in i)){if(s&&!(c in r)){const t=Z(c,n,e);if(t){a.push(t)}}}})}return a};function Q(t){var e,n;const i=t.getDataModelObjectPath();const o=i.startingEntitySet.entityType;const a=!!((e=o.annotations)!==null&&e!==void 0&&(n=e.Common)!==null&&n!==void 0&&n.ResultContext)&&!i.targetEntitySet;const r=a&&t.getConverterContextFor(`/${i.startingEntitySet.name}`);return r?o.entityProperties.map(function(t){return J({},t.name,r,o)}):[]}const Y=function(t,e,n){const i=e.length===0||e.every(t=>!t.applySupported.enableSearch);const o=t.length===0||t.every(t=>(t.enableAnalytics||t.control.type==="TreeTable")&&!t.enableBasicSearch);const a=n.getContextPath();if(a&&i&&o){return true}else{return false}};d.getFilterBarHideBasicSearch=Y;const _=function(t,e){const n=e.getManifestWrapper().getFilterConfiguration();const i=(n===null||n===void 0?void 0:n.filterFields)||{};const o=X(t,Object.keys(i).map(t=>i[t].property??E.getPathFromSelectionFieldKey(t)),true,e);const a={};for(const n in i){const r=i[n];const l=r.property??E.getPathFromSelectionFieldKey(n);const s=o[l];const c=r.type==="Slot"?j.Slot:j.Default;const u=r&&r!==null&&r!==void 0&&r.visualFilter?R(t,e,n,i):undefined;if(r.template||r.type===j.Slot){if(r.settings){r.settings.isCustomFilter=true}else{r.settings={isCustomFilter:true}}}a[n]={key:n,type:c,slotName:(r===null||r===void 0?void 0:r.slotName)||n,annotationPath:s===null||s===void 0?void 0:s.annotationPath,conditionPath:r.property?E.getPathFromSelectionFieldKey(n):(s===null||s===void 0?void 0:s.conditionPath)||l,template:r.template,label:r.label,position:r.position||{placement:A.After},availability:r.availability||"Default",settings:r.settings,visualFilter:u,required:r.required}}return a};d.getManifestFilterFields=_;const Z=function(t,e,n){return J({},t,e,n)};d.getFilterField=Z;const tt=function(t,e){let n=[];if(t&&t[e]){n=t[e].map(function(t){return t.value})}return n};d.getFilterRestrictions=tt;const et=function(t){const e={};if(t&&t.FilterExpressionRestrictions){t.FilterExpressionRestrictions.forEach(function(t){var n;if((n=t.Property)!==null&&n!==void 0&&n.value&&t.AllowedExpressions){var i;if(e[(i=t.Property)===null||i===void 0?void 0:i.value]){var o;e[(o=t.Property)===null||o===void 0?void 0:o.value].push(t.AllowedExpressions.toString())}else{var a;e[(a=t.Property)===null||a===void 0?void 0:a.value]=[t.AllowedExpressions.toString()]}}})}return e};d.getFilterAllowedExpression=et;const nt=function(){return{name:"$search",path:"$search",dataType:w,maxConditions:1}};const it=function(){return{name:"$editState",path:"$editState",groupLabel:"",group:"",dataType:w,hiddenFilter:false}};const ot=function(t){var e;const n=t.getEntitySet();return T(n)?(e=n.annotations.Capabilities)===null||e===void 0?void 0:e.SearchRestrictions:undefined};const at=function(t,e){var n,i,o;const a=(n=t.getEntitySet())===null||n===void 0?void 0:(i=n.annotations)===null||i===void 0?void 0:(o=i.Capabilities)===null||o===void 0?void 0:o.NavigationRestrictions;const r=a&&a.RestrictedProperties;return r&&r.find(function(t){return t&&t.NavigationProperty&&t.NavigationProperty.value===e})};d.getNavigationRestrictions=at;const rt=function(t){var e;return{key:t.key,annotationPath:t.annotationPath,conditionPath:t.conditionPath,name:t.conditionPath,label:t.label,hiddenFilter:t.availability==="Hidden",display:"Value",isParameter:t.isParameter,caseSensitive:t.caseSensitive,availability:t.availability,position:t.position,type:t.type,template:t.template,menu:t.menu,required:t.required,isCustomFilter:(e=t.settings)===null||e===void 0?void 0:e.isCustomFilter}};const lt=function(t){const e=["SingleValue","MultiValue","SingleRange","MultiRange","SearchExpression","MultiRangeOrSearchExpression"];t.sort(function(t,n){return e.indexOf(t)-e.indexOf(n)});return t[0]};d.getSpecificAllowedExpression=lt;const st=function(t,e){var n,i,o,a,r,l;const s=t===null||t===void 0?void 0:(n=t.Common)===null||n===void 0?void 0:n.Text,c=s&&(t&&(t===null||t===void 0?void 0:(i=t.Common)===null||i===void 0?void 0:(o=i.Text)===null||o===void 0?void 0:(a=o.annotations)===null||a===void 0?void 0:(r=a.UI)===null||r===void 0?void 0:r.TextArrangement)||e&&(e===null||e===void 0?void 0:(l=e.UI)===null||l===void 0?void 0:l.TextArrangement));if(c){if(c.valueOf()==="UI.TextArrangementType/TextOnly"){return"Description"}else if(c.valueOf()==="UI.TextArrangementType/TextLast"){return"ValueDescription"}return"DescriptionValue"}return s?"DescriptionValue":"Value"};d.displayMode=st;const ct=function(t,e,n){var i;let o=rt(e);const a=e.annotationPath;if(!a){return o}const r=t.getConverterContextFor(a).getDataModelObjectPath().targetObject;const l=r===null||r===void 0?void 0:r.annotations;const s=t===null||t===void 0?void 0:(i=t.getDataModelObjectPath().targetObject)===null||i===void 0?void 0:i.annotations;const c=n.formatOptions;const u=n.constraints;o=Object.assign(o,{formatOptions:c,constraints:u,display:st(l,s)});return o};d.fetchPropertyInfo=ct;const ut=function(t){let e=true;switch(t.filterExpression){case"SearchExpression":case"SingleRange":case"SingleValue":e=false;break;default:break}if(t.type&&t.type.indexOf("Boolean")>0){e=false}return e};d.isMultiValue=ut;const dt=function(t){return(t.$Type==="com.sap.vocabularies.UI.v1.DataField"||t.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||t.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath")&&t.Value.path.includes("/")};const vt=function(t,e,n){var i;const o=(i=t.Value)===null||i===void 0?void 0:i.$target;if(o){const t=h(o)||y(o)||f(o)||g(o);const i=t?b(e.getDataModelObjectPath(),t).navigationProperties:undefined;if(i!==null&&i!==void 0&&i.length){const t=i[0].name;if(!n.includes(t)){n.push(t)}}}};const pt=function(t,e,n){var i,o,a;switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":switch((i=e.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.$Type){case"com.sap.vocabularies.UI.v1.FieldGroupType":(a=e.Target.$target.Data)===null||a===void 0?void 0:a.forEach(e=>{pt(t,e,n)});break;default:break}break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":if(dt(e)){const i=P(b(n.getDataModelObjectPath(),e.Value.path)).join("/");if(!t.includes(i)){t.push(i)}}vt(e,n,t);break;default:break}return t};const ft=function(t){var e,n,i;let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";let l=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let s=arguments.length>4?arguments[4]:undefined;const c=H(o,t);const u=$(c);const d=t.getEntityType();const p=r&&((e=t.getEntityTypeAnnotation(r))===null||e===void 0?void 0:e.annotation)||((n=d.annotations)===null||n===void 0?void 0:(i=n.UI)===null||i===void 0?void 0:i.SelectionFields)||[];let f=[];if(o.length===0&&!!s){var g;(g=t.getEntityTypeAnnotation(s).annotation)===null||g===void 0?void 0:g.forEach(e=>{f=pt(f,e,t)})}if(a.isDraftRoot(t.getEntitySet())){f.push("DraftAdministrativeData/CreationDateTime","DraftAdministrativeData/CreatedByUser","DraftAdministrativeData/LastChangeDateTime","DraftAdministrativeData/LastChangedByUser")}const h={...G(d,"",d.entityProperties,l,t),...X(d,f,false,t),...X(d,t.getManifestWrapper().getFilterConfiguration().navigationProperties,l,t)};let y=[];const m=v(d,t);if(m){y=m.SelectOptions}const P=(p===null||p===void 0?void 0:p.reduce((e,n)=>{const i=n.value;if(!(i in u)){let n;if(r.startsWith("@com.sap.vocabularies.UI.v1.SelectionFields")){n=""}else{n=r.split("/@com.sap.vocabularies.UI.v1.SelectionFields")[0]}const o=n?n+"/"+i:i;const a=J(h,o,t,d);if(a){a.group="";a.groupLabel="";e.push(a)}}return e},[]))||[];const b=z(y,d,t,u,p);return{excludedFilterProperties:u,entityType:d,annotatedSelectionFields:p,filterFields:h,propertyInfoFields:P,defaultFilterFields:b}};const gt=function(t){const e=M(t,t===null||t===void 0?void 0:t.type);if((t===null||t===void 0?void 0:t.type)===k&&(e.constraints.nullable===undefined||e.constraints.nullable===true)){e.formatOptions.parseKeepsEmptyString=false}return e};d.fetchTypeConfig=gt;const ht=function(t,e,n,i){let o=ct(e,t,i[t.key]),a="";if(t.conditionPath){a=t.conditionPath.replace(/\+|\*/g,"")}if(o){o=Object.assign(o,{maxConditions:!o.isParameter&&ut(o)?-1:1,required:t.required??(o.isParameter||n.includes(a)),caseSensitive:U(e),dataType:i[t.key].type})}return o};d.assignDataTypeToPropertyInfo=ht;const yt=function(t,e,n){var i;const o=[];const r={};if(n){t=t.concat(n)}t.forEach(function(t){if(t.annotationPath){const n=e.getConverterContextFor(t.annotationPath);const i=n.getDataModelObjectPath().targetObject;o.push(i===null||i===void 0?void 0:i.type);const a=gt(i);r[t.key]=a}else{o.push(k);r[t.key]={type:w}}});const l=e.getEntitySet();const s=T(l)?(i=l.annotations.Capabilities)===null||i===void 0?void 0:i.FilterRestrictions:undefined;const c={};c.RequiredProperties=tt(s,"RequiredProperties")||[];c.NonFilterableProperties=tt(s,"NonFilterableProperties")||[];c.FilterAllowedExpressions=et(s);const u=e.getContextPath();const d=u.split("/");if(d.length>2){const t=d[d.length-1];d.splice(-1,1);const n=at(e,t);const i=n&&n.FilterRestrictions;c.RequiredProperties=c.RequiredProperties.concat(tt(i,"RequiredProperties")||[]);c.NonFilterableProperties=c.NonFilterableProperties.concat(tt(i,"NonFilterableProperties")||[]);c.FilterAllowedExpressions={...et(i)||{},...c.FilterAllowedExpressions}}const v=c.RequiredProperties;const p=c.NonFilterableProperties;const f=[];t.forEach(function(t){const n=t.conditionPath.replace(/\+|\*/g,"");if(!p.includes(n)){const n=ht(t,e,v,r);f.push(n)}});const g=e.getDataModelObjectPath();if(a.isObjectPathDraftSupported(g)){f.push(it())}const h=ot(e);const y=Boolean(h&&!h.Searchable);if(u&&y!==true){if(!h||h!==null&&h!==void 0&&h.Searchable){f.push(nt())}}return f};d.processSelectionFields=yt;const mt=function(t,e,n){return I(t,_(e,n),{availability:N.overwrite,label:N.overwrite,type:N.overwrite,position:N.overwrite,slotName:N.overwrite,template:N.overwrite,settings:N.overwrite,visualFilter:N.overwrite,required:N.overwrite})};d.insertCustomManifestElements=mt;const Pt=t=>{t.sort(function(t,e){const n=t.groupLabel!==undefined&&t.groupLabel!==null;const i=e.groupLabel!==undefined&&e.groupLabel!==null;if(!n&&!i){return 0}if(n&&!i){return-1}if(!n&&i){return 1}return t.groupLabel.localeCompare(e.groupLabel)})};d.sortPropertyInfosByGroupLabel=Pt;const bt=function(t){var e,n;let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";let a=arguments.length>3?arguments[3]:undefined;let r=arguments.length>4?arguments[4]:undefined;const l=ft(t,i,o,a,r);const s=Q(t);let c=l.propertyInfoFields;const u=l.entityType;c=s.concat(c);c=mt(c,u,t);const d=yt(c,t,l.defaultFilterFields);Pt(d);let v=JSON.stringify(d);v=v.replace(/\{/g,"\\{");v=v.replace(/\}/g,"\\}");const p=v;let f=JSON.parse(JSON.stringify(l.propertyInfoFields));f=s.concat(f);const g=l.excludedFilterProperties;const h=u===null||u===void 0?void 0:(e=u.annotations)===null||e===void 0?void 0:(n=e.UI)===null||n===void 0?void 0:n.FilterFacets;let y={};const m=t.getAnnotationsByTerm("UI","com.sap.vocabularies.UI.v1.FieldGroup");if(h===undefined||h.length<0){for(const t in m){y={...y,...V(m[t])}}}else{y=h.reduce((t,e)=>{for(let d=0;d<(e===null||e===void 0?void 0:(n=e.Target)===null||n===void 0?void 0:(i=n.$target)===null||i===void 0?void 0:(o=i.Data)===null||o===void 0?void 0:o.length);d++){var n,i,o,a,r,l,s,c,u;t[e===null||e===void 0?void 0:(a=e.Target)===null||a===void 0?void 0:(r=a.$target)===null||r===void 0?void 0:(l=r.Data[d])===null||l===void 0?void 0:(s=l.Value)===null||s===void 0?void 0:s.path]={group:e===null||e===void 0?void 0:(c=e.ID)===null||c===void 0?void 0:c.toString(),groupLabel:e===null||e===void 0?void 0:(u=e.Label)===null||u===void 0?void 0:u.toString()}}return t},{})}const P=l.filterFields;let b=f.concat(Object.keys(P).filter(t=>!(t in g)).map(t=>Object.assign(P[t],y[t])));const F=t.getContextPath();if(q(i,F)){const t=i[0].aggregates;if(t){const e=Object.keys(t).map(e=>t[e].relativePath);b=b.filter(t=>!e.includes(t.key))}}const S=mt(b,u,t);const T=U(t);S.forEach(t=>{t.caseSensitive=T});return{selectionFields:S,sPropertyInfo:p}};d.getSelectionFields=bt;const Ft=function(t,e,n){const i=tt(e,"RequiredProperties");const o=ot(t);const a=Boolean(o&&!o.Searchable);if(i.length>0||a||(n===null||n===void 0?void 0:n.FetchValues)===2){return true}return false};d.getExpandFilterFields=Ft;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ListReport/VisualFilters", ["sap/fe/core/converters/helpers/Aggregation","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/FilterTemplating"],function(t,e,i,o,n,l){"use strict";var a={};var r=l.isPropertyFilterable;var v=l.getIsRequired;var d=n.checkFilterExpressionRestrictions;var s=o.isEntitySet;var u=i.not;var g=i.compileExpression;var c=e.IssueType;var f=e.IssueSeverity;var p=e.IssueCategory;var P=t.AggregationHelper;const y=function(t,e,i){var o,n,l,a;let r,v,d;let s;const u=i.getCustomAggregateDefinitions();let g=i.getTransAggregations();let c=[];if(e!==null&&e!==void 0&&(o=e.$target)!==null&&o!==void 0&&o.Measures){var f,p,P;c=u.filter(function(t){var i,o,n;return t.qualifier===(e===null||e===void 0?void 0:(i=e.$target)===null||i===void 0?void 0:(o=i.Measures)===null||o===void 0?void 0:(n=o[0])===null||n===void 0?void 0:n.value)});s=c.length>0?c[0].qualifier:e===null||e===void 0?void 0:(f=e.$target)===null||f===void 0?void 0:(p=f.Measures)===null||p===void 0?void 0:(P=p[0])===null||P===void 0?void 0:P.value}if(!c[0]&&e!==null&&e!==void 0&&(n=e.$target)!==null&&n!==void 0&&n.DynamicMeasures){var y,h;s=t.getConverterContextFor(t.getAbsoluteAnnotationPath((y=e.$target.DynamicMeasures)===null||y===void 0?void 0:(h=y[0])===null||h===void 0?void 0:h.value)).getDataModelObjectPath().targetObject.Name;g=i.getAggregatedProperties("AggregatedProperty")}else{g=i.getAggregatedProperties("AggregatedProperties")[0]}const m=e===null||e===void 0?void 0:(l=e.$target)===null||l===void 0?void 0:(a=l.Dimensions[0])===null||a===void 0?void 0:a.value;if(u.some(function(t){return t.qualifier===s})){r=s}else if(g&&g[0]){g.some(function(t){if(t.Name===s){r=t===null||t===void 0?void 0:t.AggregatableProperty.value}})}const A=i.getAggregatableProperties();const L=i.getGroupableProperties();if(A&&A.length){for(const t of A){var I;if((t===null||t===void 0?void 0:(I=t.Property)===null||I===void 0?void 0:I.value)===r){d=true}}}if(L&&L.length){for(const t of L){if((t===null||t===void 0?void 0:t.value)===m){v=true}}}return d&&v};function h(t,e,i,o){var n;let l;const a=o[i];if(a!==null&&a!==void 0&&(n=a.visualFilter)!==null&&n!==void 0&&n.valueList){var h,A,L,I,E,C;const o=a===null||a===void 0?void 0:(h=a.visualFilter)===null||h===void 0?void 0:h.valueList;const n=o.split("#");const ft=n.length>1?`ValueList#${n[1]}`:n[0];const pt=t.resolvePath(i);const Pt=pt===null||pt===void 0?void 0:(A=pt.annotations)===null||A===void 0?void 0:(L=A.Common)===null||L===void 0?void 0:L[ft];const yt=(pt===null||pt===void 0?void 0:(I=pt.annotations)===null||I===void 0?void 0:(E=I.Common)===null||E===void 0?void 0:(C=E.ValueListWithFixedValues)===null||C===void 0?void 0:C.valueOf())||false;if(Pt){var S,D;const t=Pt===null||Pt===void 0?void 0:Pt.CollectionPath.toString();const o=e.getConverterContextFor(`/${t||((S=e.getEntitySet())===null||S===void 0?void 0:S.name)}`);const n=Pt===null||Pt===void 0?void 0:Pt.Parameters;let a;const h=[];let A=[];const L=o.getParameterEntityType();A=L?L.keys.map(function(t){return t.name}):[];if(e.getContextPath()===o.getContextPath()){m(h,A,true)}if(n){for(const t of n){var V;const e=(V=t.LocalDataProperty)===null||V===void 0?void 0:V.value;const n=t.ValueListProperty;if(((t===null||t===void 0?void 0:t.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||(t===null||t===void 0?void 0:t.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterOut")&&i===e){a=t}if(((t===null||t===void 0?void 0:t.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterInOut"||(t===null||t===void 0?void 0:t.$Type)==="com.sap.vocabularies.Common.v1.ValueListParameterIn")&&i!==e){const t=r(o,n);if(!t){h.push({localDataProperty:e,valueListProperty:n})}}}}if(h&&h.length){h.forEach(function(t){const n=g(d(e.getConverterContextFor(e.getAbsoluteAnnotationPath(t===null||t===void 0?void 0:t.localDataProperty)).getDataModelObjectPath(),["SingleValue"]));const l=g(d(o.getConverterContextFor(o.getAbsoluteAnnotationPath(t===null||t===void 0?void 0:t.valueListProperty)).getDataModelObjectPath(),["SingleValue"]));if(l==="true"&&n==="false"){throw new Error(`FilterRestrictions of ${i} in MainEntitySet and ValueListEntitySet are different`)}})}const I=Pt===null||Pt===void 0?void 0:Pt.PresentationVariantQualifier;const E=Pt===null||Pt===void 0?void 0:Pt.SelectionVariantQualifier;const C=o===null||o===void 0?void 0:(D=o.getEntityType().annotations.UI)===null||D===void 0?void 0:D[`PresentationVariant#${I}`];const ft=new P(o.getEntityType(),o);if(!ft.isAnalyticsSupported()){return undefined}if(C){var $;const n=C===null||C===void 0?void 0:C.Visualizations;const r=`/${Pt===null||Pt===void 0?void 0:Pt.CollectionPath}`||`/${o===null||o===void 0?void 0:($=o.getEntitySet())===null||$===void 0?void 0:$.name}`;l={};l.contextPath=r;l.isValueListWithFixedValues=yt;let P;for(const t of n){var T;if(((T=t.$target)===null||T===void 0?void 0:T.term)==="com.sap.vocabularies.UI.v1.Chart"){P=t;break}}if(P){var F,M,O,R,b,x,N,U,H,q,w,j,_,Q;const r=y(o,P,ft);if(!r){return}const I=(F=P)===null||F===void 0?void 0:(M=F.$target)===null||M===void 0?void 0:(O=M.Dimensions[0])===null||O===void 0?void 0:(R=O.$target)===null||R===void 0?void 0:(b=R.annotations)===null||b===void 0?void 0:(x=b.UI)===null||x===void 0?void 0:(N=x.Hidden)===null||N===void 0?void 0:N.valueOf();const S=(U=P)===null||U===void 0?void 0:(H=U.$target)===null||H===void 0?void 0:(q=H.Dimensions[0])===null||q===void 0?void 0:(w=q.$target)===null||w===void 0?void 0:(j=w.annotations)===null||j===void 0?void 0:(_=j.UI)===null||_===void 0?void 0:(Q=_.HiddenFilter)===null||Q===void 0?void 0:Q.valueOf();if(I===true||S===true){return}else if(n&&n.length){var k,G,W,z,B,J,K,X,Y,Z,tt;l.chartAnnotation=P.$target?o===null||o===void 0?void 0:o.getAbsoluteAnnotationPath(`${P.$target.fullyQualifiedName}/$AnnotationPath/`):undefined;const n=(k=o.getEntitySet())===null||k===void 0?void 0:k.name;let r;const y=o===null||o===void 0?void 0:o.getRelativeAnnotationPath(`${C.fullyQualifiedName}/`,o.getEntityType());if(L){r=o.getContextPath()+"/"+y}else{r="/"+n+"/"+y}l.presentationAnnotation=C?r:undefined;l.outParameter=(G=a)===null||G===void 0?void 0:(W=G.LocalDataProperty)===null||W===void 0?void 0:W.value;l.inParameters=h;l.valuelistProperty=(z=a)===null||z===void 0?void 0:z.ValueListProperty;const I=d(e.getConverterContextFor(e.getAbsoluteAnnotationPath(i)).getDataModelObjectPath(),["SingleRange","MultiRange"]);if(g(I)==="true"){e.getDiagnostics().addIssue(p.Annotation,f.High,c.MALFORMED_VISUALFILTERS.VALUELIST);return undefined}const S=d(e.getConverterContextFor(e.getAbsoluteAnnotationPath(i)).getDataModelObjectPath(),["SingleValue"]);l.multipleSelectionAllowed=g(u(S));l.required=v(e,i);let D;if(E){var et,it;D=o===null||o===void 0?void 0:(et=o.getEntityTypeAnnotation(`@UI.SelectionVariant#${E}`))===null||et===void 0?void 0:et.annotation;let t;const e=o===null||o===void 0?void 0:o.getRelativeAnnotationPath(`${(it=D)===null||it===void 0?void 0:it.fullyQualifiedName}/`,o.getEntityType());if(L){t=o.getContextPath()+"/"+e}else{t="/"+n+"/"+e}l.selectionVariantAnnotation=D?t:undefined}let V=[];if(L){var ot,nt,lt,at,rt;const i=t.split("/")[0];const o=t.split("/")[1];const n=e.getConverterContextFor(`/${i}`);const l=n===null||n===void 0?void 0:(ot=n.getDataModelObjectPath().startingEntitySet)===null||ot===void 0?void 0:(nt=ot.annotations)===null||nt===void 0?void 0:(lt=nt.Capabilities)===null||lt===void 0?void 0:(at=lt.NavigationRestrictions)===null||at===void 0?void 0:at.RestrictedProperties;const a=l===null||l===void 0?void 0:l.find(t=>{var e;if(((e=t.NavigationProperty)===null||e===void 0?void 0:e.type)==="NavigationPropertyPath"){return t.NavigationProperty.value===o}});V=(a===null||a===void 0?void 0:(rt=a.FilterRestrictions)===null||rt===void 0?void 0:rt.RequiredProperties)??[]}else{const t=o===null||o===void 0?void 0:o.getEntitySet();if(s(t)){var vt,dt;V=((vt=t.annotations.Capabilities)===null||vt===void 0?void 0:(dt=vt.FilterRestrictions)===null||dt===void 0?void 0:dt.RequiredProperties)??[]}}let $=[];if((B=V)!==null&&B!==void 0&&B.length){V.forEach(function(t){$.push(t.value)})}$=$.concat(A);l.requiredProperties=$;if(e.getContextPath()===o.getContextPath()){m(h,V,false)}if((J=l.requiredProperties)!==null&&J!==void 0&&J.length){if(!l.inParameters||!l.inParameters.length){if(!l.selectionVariantAnnotation){l.showOverlayInitially=true}else{var st,ut,gt,ct;let t=((st=D)===null||st===void 0?void 0:(ut=st.SelectOptions)===null||ut===void 0?void 0:ut.map(t=>{var e;return(e=t.PropertyName)===null||e===void 0?void 0:e.value}))||[];const e=((gt=D)===null||gt===void 0?void 0:(ct=gt.Parameters)===null||ct===void 0?void 0:ct.map(t=>{var e;return(e=t.PropertyName)===null||e===void 0?void 0:e.value}))||[];t=t.concat(e);$=$.sort();t=t.sort();l.showOverlayInitially=$.some(function(e){return!t.includes(e)})}}else{l.showOverlayInitially=false}}else{l.showOverlayInitially=false}const T=(K=P)===null||K===void 0?void 0:(X=K.$target)===null||X===void 0?void 0:(Y=X.Dimensions[0])===null||Y===void 0?void 0:(Z=Y.$target)===null||Z===void 0?void 0:Z.type;l.renderLineChart=T==="Edm.DateTimeOffset"||T==="Edm.Date"||T==="Edm.TimeOfDay"||((tt=P.$target)===null||tt===void 0?void 0:tt.ChartType)!=="UI.ChartType/Line"}}else{e.getDiagnostics().addIssue(p.Annotation,f.High,c.MALFORMED_VISUALFILTERS.CHART);return}}else{e.getDiagnostics().addIssue(p.Annotation,f.High,c.MALFORMED_VISUALFILTERS.PRESENTATIONVARIANT)}}else{e.getDiagnostics().addIssue(p.Annotation,f.High,c.MALFORMED_VISUALFILTERS.VALUELIST)}}else{e.getDiagnostics().addIssue(p.Manifest,f.High,c.MALFORMED_VISUALFILTERS.VALUELIST)}return l}a.getVisualFilters=h;function m(t,e,i){e.forEach(function(e){const o=i?e:e.value;t.push({localDataProperty:o,valueListProperty:o})})}a._addInParameters=m;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ObjectPage/Avatar", ["sap/fe/core/helpers/BindingToolkit"],function(e){"use strict";var n={};var r=e.getExpressionFromAnnotation;var i=e.compileExpression;var o;(function(e){e["Circle"]="Circle";e["Square"]="Square"})(o||(o={}));const t=e=>{var n,r;return((n=e.getEntityType().annotations.Common)===null||n===void 0?void 0:(r=n.IsNaturalPerson)===null||r===void 0?void 0:r.valueOf())===true};const a=e=>{var n,o;const a=(n=e.getEntityType().annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:o.HeaderInfo;if(!a||a&&!a.ImageUrl&&!a.TypeImageUrl){return undefined}if(a.ImageUrl&&a.TypeImageUrl){return i(r(a.TypeImageUrl))}return i(t(e)?"sap-icon://person-placeholder":"sap-icon://product")};const l=e=>{var n,o;const t=(n=e.getEntityType().annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:o.HeaderInfo;if(!t||!(t.ImageUrl||t.TypeImageUrl)){return undefined}return i(r(t.ImageUrl||t.TypeImageUrl))};const d=e=>{var n,d;const s=(n=e.getEntityType().annotations)===null||n===void 0?void 0:(d=n.UI)===null||d===void 0?void 0:d.HeaderInfo;const u=s&&(s.ImageUrl||s.TypeImageUrl||s.Initials);if(!u){return undefined}return{src:l(e),initials:i(r(s===null||s===void 0?void 0:s.Initials,[],"")),fallbackIcon:a(e),displayShape:i(t(e)?o.Circle:o.Square)}};n.getAvatar=d;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ObjectPage/HeaderFacet", ["sap/fe/core/converters/annotations/DataField","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/ID","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/UIFormatters","../../../helpers/StableIdHelper","../../helpers/DataFieldHelper","../Common/Form"],function(e,t,a,i,o,n,r,l,s,c){"use strict";var d={};var v=c.getFormElementsFromManifest;var u=c.FormElementType;var p=s.isReferencePropertyStaticallyHidden;var f=s.isAnnotationFieldStaticallyHidden;var m=l.createIdForAnnotation;var g=r.isVisible;var b=n.isMultiLineText;var y=o.compileExpression;var F=i.KeyHelper;var I=a.getHeaderFacetID;var h=a.getHeaderFacetFormID;var T=a.getHeaderFacetContainerID;var $=a.getCustomHeaderFacetID;var D=t.insertCustomElements;var U=t.Placement;var C=e.getSemanticObjectPath;let A;(function(e){e["Annotation"]="Annotation";e["XMLFragment"]="XMLFragment"})(A||(A={}));d.HeaderFacetType=A;let P;(function(e){e["Reference"]="Reference";e["Collection"]="Collection"})(P||(P={}));d.FacetType=P;let S;(function(e){e["Default"]="Default";e["NotAdaptable"]="not-adaptable";e["NotAdaptableTree"]="not-adaptable-tree";e["NotAdaptableVisibility"]="not-adaptable-visibility"})(S||(S={}));d.FlexDesignTimeType=S;var H;(function(e){e["ProgressIndicator"]="ProgressIndicator";e["RatingIndicator"]="RatingIndicator";e["Content"]="Content"})(H||(H={}));var N;(function(e){e["None"]="None";e["DataPoint"]="DataPoint";e["Chart"]="Chart";e["Identification"]="Identification";e["Contact"]="Contact";e["Address"]="Address";e["FieldGroup"]="FieldGroup"})(N||(N={}));function R(e){var t,a,i;const o=[];(t=e.getEntityType().annotations)===null||t===void 0?void 0:(a=t.UI)===null||a===void 0?void 0:(i=a.HeaderFacets)===null||i===void 0?void 0:i.forEach(t=>{const a=G(t,e);if(a){o.push(a)}});return o}d.getHeaderFacetsFromAnnotations=R;function E(e){const t={};Object.keys(e).forEach(a=>{const i=e[a];t[a]=w(i,a)});return t}d.getHeaderFacetsFromManifest=E;function k(e,t,a){var i;if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&t.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){return false}const o=m(e)??"";const n=a.getManifestWrapper().getHeaderFacets();const r=(i=n[o])===null||i===void 0?void 0:i.stashed;return r===true}d.getStashedSettingsForHeaderFacet=k;function V(e,t,a){let i=S.Default;const o=m(e);if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&t.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){i=S.NotAdaptableTree}else{const e=a.getManifestWrapper().getHeaderFacets();if(o){var n,r;const t=(n=e[o])===null||n===void 0?void 0:(r=n.flexSettings)===null||r===void 0?void 0:r.designtime;switch(t){case S.NotAdaptable:case S.NotAdaptableTree:case S.NotAdaptableVisibility:i=t;break;default:break}}}return i}d.getDesignTimeMetadataSettingsForHeaderFacet=V;function L(e,t,a){var i,o,n;if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&!(((i=e.annotations)===null||i===void 0?void 0:(o=i.UI)===null||o===void 0?void 0:(n=o.Hidden)===null||n===void 0?void 0:n.valueOf())===true)){var r,l;const i=I(e),o=(e,t)=>{var a,i;return((a=e.ID)===null||a===void 0?void 0:a.toString())||((i=e.Label)===null||i===void 0?void 0:i.toString())||t},n=e.Target.value,s=M(e);let c;let d;switch(s){case N.FieldGroup:c=O(e,a);break;case N.DataPoint:d=B(e,a);break;default:break}if(((r=e.Target)===null||r===void 0?void 0:(l=r.$target)===null||l===void 0?void 0:l.term)==="com.sap.vocabularies.UI.v1.Chart"&&f(e)){return undefined}else{return{type:A.Annotation,facetType:P.Reference,id:i,containerId:T(e),key:o(e,i),flexSettings:{designtime:V(e,t,a)},stashed:k(e,t,a),visible:y(g(e)),annotationPath:`${a.getEntitySetBasedAnnotationPath(e.fullyQualifiedName)}/`,targetAnnotationValue:n,targetAnnotationType:s,headerFormData:c,headerDataPointData:d}}}return undefined}function x(e,t){if(e.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){const a=[],i=I(e),o=(e,t)=>{var a,i;return((a=e.ID)===null||a===void 0?void 0:a.toString())||((i=e.Label)===null||i===void 0?void 0:i.toString())||t};e.Facets.forEach(i=>{const o=L(i,e,t);if(o){a.push(o)}});return{type:A.Annotation,facetType:P.Collection,id:i,containerId:T(e),key:o(e,i),flexSettings:{designtime:V(e,e,t)},stashed:k(e,e,t),visible:y(g(e)),annotationPath:`${t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName)}/`,facets:a}}return undefined}function M(e){let t=N.None;const a={"com.sap.vocabularies.UI.v1.DataPoint":N.DataPoint,"com.sap.vocabularies.UI.v1.Chart":N.Chart,"com.sap.vocabularies.UI.v1.Identification":N.Identification,"com.sap.vocabularies.Communication.v1.Contact":N.Contact,"com.sap.vocabularies.Communication.v1.Address":N.Address,"com.sap.vocabularies.UI.v1.FieldGroup":N.FieldGroup};if(e.$Type!=="com.sap.vocabularies.UI.v1.ReferenceURLFacet"&&e.$Type!=="com.sap.vocabularies.UI.v1.CollectionFacet"&&e.Target.$target){t=a[e.Target.$target.term]??N.None}return t}function O(e,t){var a;if(!e){throw new Error("Cannot get FieldGroup form data without facet definition")}const i=D(j(e,t),v(e,t));return{id:h(e),label:(a=e.Label)===null||a===void 0?void 0:a.toString(),formElements:i}}function j(e,t){const a=[];if(e.$Type!=="com.sap.vocabularies.UI.v1.ReferenceURLFacet"&&e.$Type!=="com.sap.vocabularies.UI.v1.CollectionFacet"){var i,o;(i=e.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.Data.forEach(i=>{var o,n,r;if(!(((o=i.annotations)===null||o===void 0?void 0:(n=o.UI)===null||n===void 0?void 0:(r=n.Hidden)===null||r===void 0?void 0:r.valueOf())===true)){const o=C(t,i);if((i.$Type==="com.sap.vocabularies.UI.v1.DataField"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")&&!p(i)){var l,s,c,d,v;a.push({isValueMultilineText:b((l=i.Value)===null||l===void 0?void 0:l.$target),type:u.Annotation,key:F.generateKeyFromDataField(i),visible:y(g(i)),label:((s=i.Value)===null||s===void 0?void 0:(c=s.$target)===null||c===void 0?void 0:(d=c.annotations)===null||d===void 0?void 0:(v=d.Common)===null||v===void 0?void 0:v.Label)||i.Label,idPrefix:h(e,i),annotationPath:`${t.getEntitySetBasedAnnotationPath(i.fullyQualifiedName)}/`,semanticObjectPath:o})}else if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&!p(i)){var f,m,I,T,$,D;a.push({isValueMultilineText:false,type:u.Annotation,key:F.generateKeyFromDataField(i),visible:y(g(i)),label:((f=i.Target)===null||f===void 0?void 0:(m=f.$target)===null||m===void 0?void 0:(I=m.annotations)===null||I===void 0?void 0:(T=I.Common)===null||T===void 0?void 0:($=T.Label)===null||$===void 0?void 0:$.toString())||((D=i.Label)===null||D===void 0?void 0:D.toString()),idPrefix:h(e,i),annotationPath:`${t.getEntitySetBasedAnnotationPath(i.fullyQualifiedName)}/`,semanticObjectPath:o})}}})}return a}function B(e,t){let a=H.Content;let i;if(e.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&!f(e)){var o,n,r,l,s;if(((o=e.Target)===null||o===void 0?void 0:(n=o.$target)===null||n===void 0?void 0:n.Visualization)==="UI.VisualizationType/Progress"){a=H.ProgressIndicator}else if(((r=e.Target)===null||r===void 0?void 0:(l=r.$target)===null||l===void 0?void 0:l.Visualization)==="UI.VisualizationType/Rating"){a=H.RatingIndicator}const u=(s=e.Target)===null||s===void 0?void 0:s.$target;if(typeof u==="object"){var c;if(u!==null&&u!==void 0&&(c=u.Value)!==null&&c!==void 0&&c.$target){var d,v;const e=u.Value.$target;if((e===null||e===void 0?void 0:(d=e.annotations)===null||d===void 0?void 0:(v=d.Common)===null||v===void 0?void 0:v.SemanticObject)!==undefined){i=t.getEntitySetBasedAnnotationPath(e===null||e===void 0?void 0:e.fullyQualifiedName)}}}}return{type:a,semanticObjectPath:i}}function G(e,t){let a;switch(e.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":a=L(e,e,t);break;case"com.sap.vocabularies.UI.v1.CollectionFacet":a=x(e,t);break;default:break}return a}function W(e){if(!e){return undefined}const t=["Heroes","Decoration","Workers","LongRunners"].includes(e)?`$auto.${e}`:e;return`{ path : '', parameters : { $$groupId : '${t}' } }`}function w(e,t){const a=$(t);let i=e.position;if(!i){i={placement:U.After}}return{facetType:P.Reference,type:e.type,id:a,containerId:a,key:t,position:i,visible:e.visible,fragmentName:e.template||e.name,title:e.title,subTitle:e.subTitle,stashed:e.stashed||false,flexSettings:{...{designtime:S.Default},...e.flexSettings},binding:W(e.requestGroupId),templateEdit:e.templateEdit}}return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/controls/ObjectPage/SubSection", ["sap/base/Log","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/controls/ObjectPage/HeaderFacet","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","../../ManifestSettings","../../annotations/DataField","../../helpers/ConfigurableObject","../../helpers/ID","../../objectPage/FormMenuActions","../Common/DataVisualization","../Common/Form"],function(e,t,n,a,i,o,s,r,l,c,d,u,v,f){"use strict";var m={};var p=f.isReferenceFacet;var g=f.createFormDefinition;var b=v.getDataVisualizationConfiguration;var I=u.getVisibilityEnablementFormMenuActions;var F=u.getFormHiddenActions;var h=u.getFormActions;var y=d.getSubSectionID;var U=d.getSideContentID;var C=d.getFormID;var D=d.getCustomSubSectionID;var S=c.insertCustomElements;var T=c.Placement;var A=c.OverrideType;var L=l.isActionWithDialog;var E=r.ActionType;var M=s.isPathAnnotationExpression;var k=o.resolveBindingString;var N=o.ref;var O=o.pathInModel;var P=o.or;var $=o.notEqual;var x=o.not;var w=o.ifElse;var R=o.getExpressionFromAnnotation;var V=o.fn;var H=o.equal;var z=o.compileExpression;var j=o.and;var B=i.KeyHelper;var _=a.IssueType;var G=a.IssueSeverity;var q=a.IssueCategory;var W=n.getStashedSettingsForHeaderFacet;var X=n.getHeaderFacetsFromManifest;var K=n.getDesignTimeMetadataSettingsForHeaderFacet;var Q=t.removeDuplicateActions;var J=t.isActionNavigable;var Y=t.getSemanticObjectMapping;var Z=t.getEnabledForAnnotationAction;var ee=t.getActionsFromManifest;var te=t.ButtonType;let ne;(function(e){e["Unknown"]="Unknown";e["Form"]="Form";e["Notes"]="Notes";e["DataVisualization"]="DataVisualization";e["XMLFragment"]="XMLFragment";e["Placeholder"]="Placeholder";e["Mixed"]="Mixed";e["EmbeddedComponent"]="EmbeddedComponent"})(ne||(ne={}));m.SubSectionType=ne;const ae=["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.Chart","com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant"];function ie(e,t,n){const a=e.reduce((e,t)=>{switch(t.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":e.push(t);break;case"com.sap.vocabularies.UI.v1.CollectionFacet":if(t.Facets.find(e=>e.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet")){e.splice(e.length,0,...t.Facets)}else{e.push(t)}break;case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":break}return e},[]);return a.map(e=>{var i;return ue(e,a,t,0,!(e!==null&&e!==void 0&&(i=e.Facets)!==null&&i!==void 0&&i.length),n)})}m.createSubSections=ie;function oe(e){const t=X(e.getManifestWrapper().getHeaderFacets());const n=[];Object.keys(t).forEach(function(e){n.push(t[e]);return n});const a=n.reduce((e,t)=>{if(t.templateEdit){e.push(t)}return e},[]);return a.map(e=>se(e))}m.createCustomHeaderFacetSubSections=oe;function se(e){const t=D(e.key);const n={id:t,key:e.key,title:e.title,type:ne.XMLFragment,template:e.templateEdit||"",visible:e.visible,level:1,sideContent:undefined,stashed:e.stashed,flexSettings:e.flexSettings,actions:{},objectPageLazyLoaderEnabled:false};return n}const re=(e,t)=>{var n,a;return((n=e.ID)===null||n===void 0?void 0:n.toString())||((a=e.Label)===null||a===void 0?void 0:a.toString())||t};function le(e,t,n){const a=F(t,n)||[],i=h(t,n),o=ee(i,n,e,undefined,undefined,a),s={enabled:A.overwrite,visible:A.overwrite,command:A.overwrite},r=S(e,o.actions,s);return{actions:r?I(Q(r)):e,commandActions:o.commandActions}}function ce(e,t){let n=[];switch(e.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":n=e.Facets.filter(e=>p(e)).reduce((e,n)=>fe(e,n,t),[]);break;case"com.sap.vocabularies.UI.v1.ReferenceFacet":n=fe([],e,t);break;default:break}return le(n,e,t)}function de(e){const t=H(R(e),true);return z(w(t,te.Ghost,te.Transparent))}function ue(t,n,a,i,o,s){var r,l,c,d,u,v,f,m;const I=y(t);const F=(r=t.annotations)===null||r===void 0?void 0:(l=r.UI)===null||l===void 0?void 0:l.Hidden;const h=x(H(true,R(F)));const U=z(h);const C=U!==undefined&&typeof U==="string"&&U.indexOf("{=")===0&&!M(F);const D=U&&C?U.substring(U.indexOf("{=")+2,U.lastIndexOf("}"))!==undefined:false;const S=z(R(t.Label));const T={id:I,key:re(t,I),title:S,type:ne.Unknown,annotationPath:a.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),visible:U,isVisibilityDynamic:C,level:i,sideContent:undefined,objectPageLazyLoaderEnabled:a.getManifestWrapper().getEnableLazyLoading()};if(s){T.stashed=W(t,t,a);T.flexSettings={designtime:K(t,t,a)}}let A="";i++;switch(t.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":const r=t.Facets;const l=r.map((e,t)=>({index:t,facet:e})).filter(e=>{let{facet:t}=e;return p(t)&&t.Target.$target&&ae.includes(t.Target.$target.term)});const I=r.filter(e=>!l.find(t=>t.facet===e));if(l.length>0){const n=[];const r=[];const c=[];for(const{facet:e}of l){n.push(ue(e,[],a,i,true,s))}if(I.length>0){e.warning(`Warning: CollectionFacet '${t.ID}' includes a combination of either a chart or a table and other content. This can lead to rendering issues. Consider moving the chart or table into a separate CollectionFacet.`);const n={...t};n.Facets=I;r.push(ue(n,[],a,i,o,s))}if(l.find(e=>{let{index:t}=e;return t===0})){c.push(...n);c.push(...r)}else{c.push(...r);c.push(...n)}const d={...T,type:ne.Mixed,level:i,content:c};return d}else{const e=ce(t,a),n={...T,type:ne.Form,formDefinition:g(t,U,a,e.actions),level:i,actions:e.actions.filter(e=>e.facetName===undefined),commandActions:e.commandActions};return n}case"com.sap.vocabularies.UI.v1.ReferenceFacet":if(!t.Target.$target){A=`Unable to find annotationPath ${t.Target.value}`}else{switch(t.Target.$target.term){case"com.sap.vocabularies.UI.v1.LineItem":case"com.sap.vocabularies.UI.v1.Chart":case"com.sap.vocabularies.UI.v1.PresentationVariant":case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":const e=b(t.Target.value,be(t,n,a),a,undefined,s);const r=T.title?T.title:"";const l=((c=e.visualizations[0])===null||c===void 0?void 0:(d=c.annotation)===null||d===void 0?void 0:d.title)||((u=e.visualizations[0])===null||u===void 0?void 0:u.title);const p=((v=t.annotations)===null||v===void 0?void 0:(f=v.UI)===null||f===void 0?void 0:(m=f.PartOfPreview)===null||m===void 0?void 0:m.valueOf())!==false;const I=ve(l??"",r,o);const F=w(C,j(D,x(H(S,"undefined")),I),j(U!==undefined,S!=="undefined",S!==undefined,h,I));const y={...T,type:ne.DataVisualization,level:i,presentation:e,showTitle:z(I),isPartOfPreview:p,titleVisible:z(F)};return y;case"com.sap.vocabularies.UI.v1.FieldGroup":case"com.sap.vocabularies.UI.v1.Identification":case"com.sap.vocabularies.UI.v1.DataPoint":case"com.sap.vocabularies.UI.v1.StatusInfo":case"com.sap.vocabularies.Communication.v1.Contact":const L=ce(t,a),E={...T,type:ne.Form,level:i,formDefinition:g(t,U,a,L.actions),actions:L.actions.filter(e=>e.facetName===undefined),commandActions:L.commandActions};return E;case"com.sap.vocabularies.UI.v1.Note":return{...T,type:ne.Notes};default:A=`For ${t.Target.$target.term} Fragment`;break}}break;case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":A="For Reference URL Facet";break;default:break}const L={...T,text:A};return L}m.createSubSection=ue;function ve(e,t,n){return P(x(n),$(k(e),k(t)))}m.getTitleVisibility=ve;function fe(e,t,n){const a=t.Target.$target;const i=t.Target.value;let o={};let s=[];let r;[r]=i.split("@");if(r.length>0){if(r.lastIndexOf("/")===r.length-1){r=r.substring(0,r.length-1)}}else{r=undefined}if(a){switch(a.term){case"com.sap.vocabularies.UI.v1.FieldGroup":s=a.Data;o=ee(n.getManifestControlConfiguration(a).actions,n,undefined,undefined,undefined,undefined,t.fullyQualifiedName).actions;break;case"com.sap.vocabularies.UI.v1.Identification":case"com.sap.vocabularies.UI.v1.StatusInfo":if(a.qualifier){s=a}break;default:break}}e=s.reduce((e,i)=>{var o,s,l,c,d,u,v,f,m,p,g,b,I,F;switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":if(((o=i.RequiresContext)===null||o===void 0?void 0:o.valueOf())===true){n.getDiagnostics().addIssue(q.Annotation,G.Low,_.MALFORMED_DATAFIELD_FOR_IBN.REQUIRESCONTEXT)}if(((s=i.Inline)===null||s===void 0?void 0:s.valueOf())===true){n.getDiagnostics().addIssue(q.Annotation,G.Low,_.MALFORMED_DATAFIELD_FOR_IBN.INLINE)}if(((l=i.Determining)===null||l===void 0?void 0:l.valueOf())===true){n.getDiagnostics().addIssue(q.Annotation,G.Low,_.MALFORMED_DATAFIELD_FOR_IBN.DETERMINING)}const h={};if(i.Mapping){h.semanticObjectMapping=Y(i.Mapping)}e.push({type:E.DataFieldForIntentBasedNavigation,id:C(t,i),key:B.generateKeyFromDataField(i),text:(c=i.Label)===null||c===void 0?void 0:c.toString(),annotationPath:"",enabled:i.NavigationAvailable!==undefined?z(H(R(i.NavigationAvailable),true)):"true",visible:z(x(H(R((d=i.annotations)===null||d===void 0?void 0:(u=d.UI)===null||u===void 0?void 0:u.Hidden),true))),buttonType:de((v=i.annotations)===null||v===void 0?void 0:(f=v.UI)===null||f===void 0?void 0:f.Emphasized),press:z(V("._intentBasedNavigation.navigate",[R(i.SemanticObject),R(i.Action),h])),customData:z({semanticObject:R(i.SemanticObject),action:R(i.Action)})});break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":const y=n.getManifestControlConfiguration(a).actions;const U=B.generateKeyFromDataField(i);e.push({type:E.DataFieldForAction,id:C(t,i),key:U,text:(m=i.Label)===null||m===void 0?void 0:m.toString(),annotationPath:"",enabled:Z(n,i.ActionTarget),binding:r?`{ 'path' : '${r}'}`:undefined,visible:z(x(H(R((p=i.annotations)===null||p===void 0?void 0:(g=p.UI)===null||g===void 0?void 0:g.Hidden),true))),requiresDialog:L(i),buttonType:de((b=i.annotations)===null||b===void 0?void 0:(I=b.UI)===null||I===void 0?void 0:I.Emphasized),press:z(V("invokeAction",[i.Action,{contexts:V("getBindingContext",[],O("","$source")),invocationGrouping:i.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated",label:(F=i.Label)===null||F===void 0?void 0:F.toString(),model:V("getModel",[],O("/","$source")),isNavigable:J(y&&y[U])}],N(".editFlow"))),facetName:i.Inline?t.fullyQualifiedName:undefined});break;default:break}return e},e);return S(e,o)}function me(e){if(e){var t,n;const a=(t=e.annotations)===null||t===void 0?void 0:(n=t.Common)===null||n===void 0?void 0:n.IsActionCritical;if(e.parameters.length>1||a){return"Dialog"}else{return"None"}}else{return"None"}}m.isDialog=me;function pe(e,t){const n={};Object.keys(e).forEach(a=>n[a]=ge(e[a],a,t));return n}m.createCustomSubSections=pe;function ge(e,t,n){const a=e.sideContent?{template:e.sideContent.template,id:U(t),visible:false,equalSplit:e.sideContent.equalSplit}:undefined;let i=e.position;if(!i){i={placement:T.After}}const o=e.visible!==undefined?e.visible:true;const s=o&&typeof o==="string"&&o.indexOf("{=")===0;const r=ee(e.actions,n);const l={type:ne.Unknown,id:e.id||D(t),actions:r.actions,key:t,title:e.title,level:1,position:i,visible:e.visible!==undefined?e.visible:"true",sideContent:a,isVisibilityDynamic:s,objectPageLazyLoaderEnabled:e.enableLazyLoading??false,componentName:"",settings:""};if(e.template||e.name){l.type=ne.XMLFragment;l.template=e.template||e.name||""}else if(e.embeddedComponent!==undefined){l.type=ne.EmbeddedComponent;l.componentName=e.embeddedComponent.name;if(e.embeddedComponent.settings!==undefined){l.settings=JSON.stringify(e.embeddedComponent.settings)}}else{l.type=ne.Placeholder}return l}m.createCustomSubSection=ge;function be(e,t,n){const a=n.getManifestWrapper();if(a.useIconTabBar()){return Ie(e,t)}else{var i,o,s,r,l,c;const a=n.getEntityType();if((i=a.annotations)!==null&&i!==void 0&&(o=i.UI)!==null&&o!==void 0&&(s=o.Facets)!==null&&s!==void 0&&s.length&&((r=a.annotations)===null||r===void 0?void 0:(l=r.UI)===null||l===void 0?void 0:(c=l.Facets)===null||c===void 0?void 0:c.length)>1){return Ie(e,t)}else{return true}}}function Ie(e,t){return t.every(function(t){if(t!==e){if(t.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){var n,a,i,o,s;const e=t;if(((n=e.Target)===null||n===void 0?void 0:(a=n.$target)===null||a===void 0?void 0:a.term)==="com.sap.vocabularies.UI.v1.LineItem"||((i=e.Target)===null||i===void 0?void 0:(o=i.$target)===null||o===void 0?void 0:o.term)==="com.sap.vocabularies.UI.v1.PresentationVariant"||((s=e.Target.$target)===null||s===void 0?void 0:s.term)==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){var r,l,c,d;return((r=e.annotations)===null||r===void 0?void 0:(l=r.UI)===null||l===void 0?void 0:l.Hidden)!==undefined?(c=e.annotations)===null||c===void 0?void 0:(d=c.UI)===null||d===void 0?void 0:d.Hidden:false}return true}else{const e=t;return e.Facets.every(function(e){var t,n,a,i,o,s;const r=e;if(((t=r.Target)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.term)==="com.sap.vocabularies.UI.v1.LineItem"||((a=r.Target)===null||a===void 0?void 0:(i=a.$target)===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.UI.v1.PresentationVariant"||((o=r.Target)===null||o===void 0?void 0:(s=o.$target)===null||s===void 0?void 0:s.term)==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){var l,c,d,u;return((l=r.annotations)===null||l===void 0?void 0:(c=l.UI)===null||c===void 0?void 0:c.Hidden)!==undefined?(d=r.annotations)===null||d===void 0?void 0:(u=d.UI)===null||u===void 0?void 0:u.Hidden:false}return true})}}return true})}return m},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/Aggregation", ["sap/fe/core/helpers/TypeGuards"],function(t){"use strict";var e={};var n=t.isNavigationProperty;var o=t.isEntityType;var r=t.isEntitySet;let i=function(){function t(t,e){var i;let g=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this._entityType=t;this._converterContext=e;this._oAggregationAnnotationTarget=this._determineAggregationAnnotationTarget();if(n(this._oAggregationAnnotationTarget)||o(this._oAggregationAnnotationTarget)||r(this._oAggregationAnnotationTarget)){this.oTargetAggregationAnnotations=this._oAggregationAnnotationTarget.annotations.Aggregation}this._bApplySupported=(i=this.oTargetAggregationAnnotations)!==null&&i!==void 0&&i.ApplySupported?true:false;if(this._bApplySupported){var a,s,l,u;this._aGroupableProperties=(a=this.oTargetAggregationAnnotations)===null||a===void 0?void 0:(s=a.ApplySupported)===null||s===void 0?void 0:s.GroupableProperties;this._aAggregatableProperties=(l=this.oTargetAggregationAnnotations)===null||l===void 0?void 0:(u=l.ApplySupported)===null||u===void 0?void 0:u.AggregatableProperties;this.oContainerAggregationAnnotation=e.getEntityContainer().annotations.Aggregation}if(!this._aAggregatableProperties&&g){const t=this._getEntityProperties();this._aAggregatableProperties=t===null||t===void 0?void 0:t.filter(t=>{var e,n;return(e=t.annotations)===null||e===void 0?void 0:(n=e.Aggregation)===null||n===void 0?void 0:n.Aggregatable})}}e.AggregationHelper=t;var i=t.prototype;i._determineAggregationAnnotationTarget=function t(){var e,n,o,i,g;const a=(e=this._converterContext.getDataModelObjectPath())!==null&&e!==void 0&&(n=e.targetEntitySet)!==null&&n!==void 0&&(o=n.entityType)!==null&&o!==void 0&&(i=o.annotations)!==null&&i!==void 0&&(g=i.Common)!==null&&g!==void 0&&g.ResultContext?true:false;let s;if(a){var l,u,p,A;const t=this._converterContext.getDataModelObjectPath();const e=t===null||t===void 0?void 0:t.targetObject;const n=t===null||t===void 0?void 0:t.targetEntityType;if(e!==null&&e!==void 0&&(l=e.annotations)!==null&&l!==void 0&&(u=l.Aggregation)!==null&&u!==void 0&&u.ApplySupported){s=e}else if(n!==null&&n!==void 0&&(p=n.annotations)!==null&&p!==void 0&&(A=p.Aggregation)!==null&&A!==void 0&&A.ApplySupported){s=n}}else{var d;const t=this._converterContext.getEntitySet();if(r(t)&&(d=t.annotations.Aggregation)!==null&&d!==void 0&&d.ApplySupported){s=t}else{s=this._converterContext.getEntityType()}}return s};i.isAnalyticsSupported=function t(){return this._bApplySupported};i.isPropertyGroupable=function t(e){if(!this._bApplySupported){return undefined}else if(!this._aGroupableProperties||this._aGroupableProperties.length===0){return true}else{return this._aGroupableProperties.some(t=>t.$target===e)}};i.isPropertyAggregatable=function t(e){if(!this._bApplySupported){return undefined}else{const t=this._converterContext.getAnnotationsByTerm("Aggregation","Org.OData.Aggregation.V1.CustomAggregate",[this._oAggregationAnnotationTarget]);return t.some(t=>e.name===t.qualifier)}};i.getGroupableProperties=function t(){return this._aGroupableProperties};i.getAggregatableProperties=function t(){return this._aAggregatableProperties};i.getEntityType=function t(){return this._entityType};i.getAggregatedProperties=function t(e){if(e==="AggregatedProperties"){return this._converterContext.getAnnotationsByTerm("Analytics","com.sap.vocabularies.Analytics.v1.AggregatedProperties",[this._converterContext.getEntityContainer(),this._converterContext.getEntityType()])}return this._converterContext.getAnnotationsByTerm("Analytics","com.sap.vocabularies.Analytics.v1.AggregatedProperty",[this._converterContext.getEntityContainer(),this._converterContext.getEntityType()])};i.getTransAggregations=function t(){var e;let n=this.getAggregatedProperties("AggregatedProperty");if(!n||n.length===0){n=this.getAggregatedProperties("AggregatedProperties")[0]}return(e=n)===null||e===void 0?void 0:e.filter(t=>{if(this._getAggregatableAggregates(t.AggregatableProperty)){return t}})};i._getAggregatableAggregates=function t(e){const n=this.getAggregatableProperties()||[];return n.find(function(t){var n,o;const r=e.qualifier?e.qualifier:(n=e.$target)===null||n===void 0?void 0:n.name;if(t!==null&&t!==void 0&&(o=t.Property)!==null&&o!==void 0&&o.value){return t.Property.value===r}return(t===null||t===void 0?void 0:t.name)===r})};i._getEntityProperties=function t(){let e;if(r(this._oAggregationAnnotationTarget)){var n,i;e=(n=this._oAggregationAnnotationTarget)===null||n===void 0?void 0:(i=n.entityType)===null||i===void 0?void 0:i.entityProperties}else if(o(this._oAggregationAnnotationTarget)){var g;e=(g=this._oAggregationAnnotationTarget)===null||g===void 0?void 0:g.entityProperties}return e};i.getCustomAggregateDefinitions=function t(){const e=this._converterContext.getAnnotationsByTerm("Aggregation","Org.OData.Aggregation.V1.CustomAggregate",[this._oAggregationAnnotationTarget]);return e};i.getAllowedTransformations=function t(){var e,n,o,r;return((e=this.oTargetAggregationAnnotations)===null||e===void 0?void 0:(n=e.ApplySupported)===null||n===void 0?void 0:n.Transformations)||((o=this.oContainerAggregationAnnotation)===null||o===void 0?void 0:(r=o.ApplySupportedDefaults)===null||r===void 0?void 0:r.Transformations)};return t}();e.AggregationHelper=i;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/ConfigurableObject", ["sap/base/Log"],function(e){"use strict";var n={};let t;(function(e){e["After"]="After";e["Before"]="Before";e["End"]="End"})(t||(t={}));n.Placement=t;const i=(n,o,r,s,c)=>{let f=r.indexOf(o);if(f!==-1){return f}const l=n[o];if(l===undefined){const n=o.split("::"),t=Object.keys(s)[0];e.warning(`Position anchor '${n[n.length-1]}' not found for item '${t}'. Please check manifest settings.`);return r.length}if(!l.anchor){l.anchor=l.placement===t.After?c.last:c.first}s[o]=l;if(l&&l.anchor&&!(l.anchor in s)){f=i(n,l.anchor,r,s,c);if(l.placement!==t.Before){++f}}else{f=r.length}r.splice(f,0,o);c.last=r[r.length-1];return f};let o;(function(e){e["merge"]="merge";e["overwrite"]="overwrite";e["ignore"]="ignore"})(o||(o={}));n.OverrideType=o;function r(e){return typeof e==="object"}function s(e,n,t){const i=n||t;for(const o in e){if(Object.hasOwnProperty.call(e,o)){const s=e[o];if(n!==null){switch(s){case"overwrite":if(t.hasOwnProperty(o)&&t[o]!==undefined){n[o]=t[o]}break;case"merge":default:const e=n[o]||[];let i={};if(r(s)){i=s}if(Array.isArray(e)){n[o]=c(e,t&&t[o]||{},i)}break}}else{switch(s){case"overwrite":if(t.hasOwnProperty(o)&&t[o]!==undefined){i[o]=t[o]}break;case"merge":default:let e={};if(r(s)){e=s}i[o]=c([],t&&t[o]||{},e);break}}}}return i}function c(e,n){let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};let r;const c={};const f={};e.forEach(e=>{var n;if(((n=e.position)===null||n===void 0?void 0:n.placement)===t.End&&!r){r=e}else{var i,o;c[e.key]={anchor:((i=e.position)===null||i===void 0?void 0:i.anchor)||e.key,placement:((o=e.position)===null||o===void 0?void 0:o.placement)||t.After}}f[e.key]=e});Object.keys(n).forEach(e=>{const i=n[e];const r=i.position.anchor;if(!i.position.placement){i.position.placement=t.After}const l=i.key;if(f[l]){f[l]=s(o,f[l],i);if(r&&i.position&&o.position&&o.position==="overwrite"){c[l]=f[l].position}}else{f[l]=s(o,null,i);c[l]=i.position}});const l=[];const a={first:undefined,last:undefined};a.first=e.length?e[0].key:undefined;const u=e.filter(e=>{var n;return((n=e.position)===null||n===void 0?void 0:n.placement)!==t.End});a.last=e.length?e[u.length-1].key:undefined;Object.keys(c).forEach(e=>{i(c,e,l,{},a)});const d=l.map(e=>f[e]);if(r){d.push(r)}return d}n.insertCustomElements=c;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/DataFieldHelper", ["sap/base/Log","../../helpers/TypeGuards"],function(e,t){"use strict";var a={};var i=t.isProperty;function n(e){if(!e){return false}function t(e){var t;const a=((t=e.annotations.UI)===null||t===void 0?void 0:t.DataFieldDefault)||false;return v("Hidden",e)||a&&l(a)}function a(e){return l(e)||e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&r(e)}function n(e){return v("HiddenFilter",e)&&e.name}function o(e){return u(e)&&v("HiddenFilter",e.Value.$target)&&e.Value.path}const s=i(e)?t(e):a(e);const c=i(e)?n(e):o(e);if(s&&c){d(c)}return s}a.isReferencePropertyStaticallyHidden=n;function r(t){var a;if(l(t)){return true}switch((a=t.Target.$target)===null||a===void 0?void 0:a.term){case"com.sap.vocabularies.UI.v1.Chart":const a=t.Target.$target.Measures.every(e=>{if(e.$target&&v("Hidden",e.$target)){if(v("HiddenFilter",e.$target)){d(e.$target.name)}return true}});if(a){e.warning("Warning: All measures attribute for Chart are statically hidden hence chart can't be rendered")}return a;case"com.sap.vocabularies.UI.v1.FieldGroup":return t.Target.$target.Data.every(n);case"com.sap.vocabularies.UI.v1.DataPoint":const i=t.Target.$target.Value.$target;return n(i);default:return false}}a.isAnnotationFieldStaticallyHidden=r;function o(e){if(e!==null&&e!==void 0&&e.targetObject){const t=e.targetObject;return n(t)}return false}a.isHeaderStaticallyHidden=o;function l(e){var t,a,i,n;return((t=e.annotations)===null||t===void 0?void 0:(a=t.UI)===null||a===void 0?void 0:(i=a.Hidden)===null||i===void 0?void 0:i.valueOf())===true||u(e)&&v("Hidden",e===null||e===void 0?void 0:(n=e.Value)===null||n===void 0?void 0:n.$target)}function d(t){e.warning("Warning: Property "+t+" is set with both UI.Hidden and UI.HiddenFilter - please set only one of these! UI.HiddenFilter is ignored currently!")}function u(e){return e.hasOwnProperty("Value")}function v(e,t){var a,i,n;return(t===null||t===void 0?void 0:(a=t.annotations)===null||a===void 0?void 0:(i=a.UI)===null||i===void 0?void 0:(n=i[e])===null||n===void 0?void 0:n.valueOf())===true}function s(e){var t,a,i,n,r,o;let l;switch(e===null||e===void 0?void 0:e.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":l=e===null||e===void 0?void 0:(t=e.Value)===null||t===void 0?void 0:t.$target;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":const i=e.Target.$target;if((i===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.UI.v1.DataPoint"){var d;l=i===null||i===void 0?void 0:(d=i.Value)===null||d===void 0?void 0:d.$target}if((i===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.Communication.v1.Contact"){var u;l=i===null||i===void 0?void 0:(u=i.fn)===null||u===void 0?void 0:u.$target}break;case"com.sap.vocabularies.UI.v1.DataPointType":l=e===null||e===void 0?void 0:(a=e.Value)===null||a===void 0?void 0:a.$target;break;default:break}return((i=l)===null||i===void 0?void 0:(n=i.annotations)===null||n===void 0?void 0:(r=n.PersonalData)===null||r===void 0?void 0:(o=r.IsPotentiallySensitive)===null||o===void 0?void 0:o.valueOf())===true}a.isPotentiallySensitive=s;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/ID", ["../../helpers/StableIdHelper"],function(t){"use strict";var e={};var n=t.generate;const o=["fe"];function r(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++){e[r]=arguments[r]}return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++){r[a]=arguments[a]}return n(o.concat(...e,...r))}}e.createIDGenerator=r;const a=r("HeaderFacet");e.getHeaderFacetID=a;const c=r("HeaderFacetContainer");e.getHeaderFacetContainerID=c;const i=r("HeaderFacet","Form");e.getHeaderFacetFormID=i;const s=r("HeaderFacetCustomContainer");e.getCustomHeaderFacetID=s;const u=r("EditableHeaderSection");e.getEditableHeaderSectionID=u;const g=r("FacetSection");e.getSectionID=g;const I=r("CustomSection");e.getCustomSectionID=I;const D=r("FacetSubSection");e.getSubSectionID=D;const d=r("CustomSubSection");e.getCustomSubSectionID=d;const C=r("SideContent");e.getSideContentID=C;const m=function(t){return n(["fe",t,"SideContentLayout"])};e.getSideContentLayoutID=m;const F=r("Form");e.getFormID=F;const S=r("FormContainer");e.getFormContainerID=S;const f=function(t,e){return n(["fe","FormContainer",t,"StandardAction",e])};e.getFormStandardActionButtonID=f;const l=r("table");e.getTableID=l;const b=r("CustomTab");e.getCustomTabID=b;const H=r("FilterBar");e.getFilterBarID=H;const p=function(){return"fe::ListReport"};e.getDynamicListReportID=p;const A=r("TabMultipleMode");e.getIconTabBarID=A;const h=function(t){return n([t,"VariantManagement"])};e.getFilterVariantManagementID=h;const y=r("Chart");e.getChartID=y;const T=function(t){return n(["CustomAction",t])};e.getCustomActionID=T;const v=r("KPI");e.getKPIID=v;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/InsightsHelpers", ["../../helpers/BindingToolkit","../ManifestSettings"],function(t,e){"use strict";var n={};var i=e.TemplateType;var a=t.pathInModel;var s=t.equal;var l=t.constant;var o=t.and;function r(t,e,n,r){var u;let d,g;const p=e.getManifestWrapper().hasMultipleEntitySets();const v=e.getManifestWrapper().hasMultipleVisualizations();const f=e.getManifestWrapper().getViewConfiguration();const c=f!==undefined&&f.paths.length>1?true:false;const h=e.getTemplateType()===i.ListReport;const b=e.getManifestControlConfiguration(n);const T=t==="Analytical"?(b===null||b===void 0?void 0:b.enableAddCardToInsights)??true:(b===null||b===void 0?void 0:(u=b.tableSettings)===null||u===void 0?void 0:u.enableAddCardToInsights)??true;if(t==="Table"){var M;d=r===null||r===void 0?void 0:r.tableManifestConfiguration;g=((M=d)===null||M===void 0?void 0:M.type)==="ResponsiveTable"}return o(l(T),l(h),l(!p),l(!c),l(t==="Table"?(g??false)&&!v:true),s(a("isInsightsSupported","pageInternal"),true))}n.getInsightsVisibility=r;function u(){return s(a("isInsightsEnabled","internal"),true)}n.getInsightsEnablement=u;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/IssueManager", [],function(){"use strict";var e={};let n;(function(e){e[e["High"]=0]="High";e[e["Low"]=1]="Low";e[e["Medium"]=2]="Medium"})(n||(n={}));e.IssueSeverity=n;const t={Facets:{MissingID:"MissingID",UnSupportedLevel:"UnsupportedLevel"},AnnotationColumns:{InvalidKey:"InvalidKey"},Annotations:{IgnoredAnnotation:"IgnoredAnnotation"}};e.IssueCategoryType=t;let i;(function(e){e["Annotation"]="Annotation";e["Template"]="Template";e["Manifest"]="Manifest";e["Facets"]="Facets"})(i||(i={}));e.IssueCategory=i;const o={MISSING_CHART:"We couldn't find a chart annotation for the current entitySet, you should consider adding one.",MISSING_LINEITEM:"We couldn't find a line item annotation for the current entitySet, you should consider adding one.",MISSING_SELECTIONFIELD:"We couldn't find the defined selection field.",MALFORMED_DATAFIELD_FOR_IBN:{REQUIRESCONTEXT:"DataFieldForIntentBasedNavigation cannot use RequiresContext in the form or header.",INLINE:"DataFieldForIntentBasedNavigation cannot use Inline in the form or header.",DETERMINING:"DataFieldForIntentBasedNavigation cannot use Determining in the form or header."},MALFORMED_VISUALFILTERS:{VALUELIST:"We couldn't find the ValueList path provided in the manifest",PRESENTATIONVARIANT:"PresentationVariant is missing for the VisualFilters",CHART:"Chart is missing from the PV configured for the VisualFilters",VALUELISTCONFIG:"ValueList has not been configured inside the Visual Filter Settings",FilterRestrictions:"For VisualFilters, range expressions are not allowed"},FULLSCREENMODE_NOT_ON_LISTREPORT:"enableFullScreenMode is not supported on list report pages.",KPI_ISSUES:{KPI_NOT_FOUND:"Couldn't find KPI or SPV with qualifier ",KPI_DETAIL_NOT_FOUND:"Can't find proper datapoint or chart definition for KPI ",NO_ANALYTICS:"The following entitySet used in a KPI definition doesn't support $apply queries:",MAIN_PROPERTY_NOT_AGGREGATABLE:"Main property used in KPI cannot be aggregated "}};e.IssueType=o;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/Key", ["../../helpers/StableIdHelper"],function(e){"use strict";var t={};var r=e.getStableIdPartFromDataField;let n=function(){function e(){}t.KeyHelper=e;e.generateKeyFromDataField=function e(t){return r(t,true)};e.validateKey=function e(t){const r=/[^A-Za-z0-9_\-:]/;if(r.exec(t)){throw new Error(`Invalid key: ${t} - only 'A-Za-z0-9_-:' are allowed`)}};e.getSelectionFieldKeyFromPath=function e(t){return t.replace(/([*+])?\//g,"::")};e.getPathFromSelectionFieldKey=function e(t){return t.replace(/::/g,"/")};return e}();t.KeyHelper=n;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/helpers/SelectionVariantHelper", [],function(){"use strict";var e={};function n(e,n){let t;const a=e.Sign==="UI.SelectionRangeSignType/I"?true:false;switch(e.Option){case"UI.SelectionRangeOptionType/BT":t=a?"BT":"NB";break;case"UI.SelectionRangeOptionType/CP":t=a?"Contains":"NotContains";break;case"UI.SelectionRangeOptionType/EQ":t=a?"EQ":"NE";break;case"UI.SelectionRangeOptionType/GE":t=a?"GE":"LT";break;case"UI.SelectionRangeOptionType/GT":t=a?"GT":"LE";break;case"UI.SelectionRangeOptionType/LE":t=a?"LE":"GT";break;case"UI.SelectionRangeOptionType/LT":t=a?"LT":"GE";break;case"UI.SelectionRangeOptionType/NB":t=a?"NB":"BT";break;case"UI.SelectionRangeOptionType/NE":t=a?"NE":"EQ";break;case"UI.SelectionRangeOptionType/NP":t=a?"NotContains":"Contains";break;default:t="EQ"}return{operator:t,rangeLow:n&&n.indexOf("Edm.Date")===0?new Date(e.Low):e.Low,rangeHigh:e.High&&n&&n.indexOf("Edm.Date")===0?new Date(e.High):e.High}}function t(e){const t=[];if(e.SelectOptions){e.SelectOptions.forEach(e=>{var a;if((a=e.PropertyName)!==null&&a!==void 0&&a.$target&&e.Ranges.length>0){const a=e.PropertyName.$target.type;t.push({propertyPath:e.PropertyName.value,propertyType:a,ranges:e.Ranges.map(e=>n(e,a))})}})}return t}e.getFilterDefinitionsFromSelectionVariant=t;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/objectPage/FormMenuActions", ["sap/fe/core/converters/helpers/Key"],function(i){"use strict";var o={};var e=i.KeyHelper;var a;(function(i){i["Default"]="Default"})(a||(a={}));const n=i=>{let o,e;i.forEach(i=>{var a;o=false;e=[];if(i!==null&&i!==void 0&&(a=i.menu)!==null&&a!==void 0&&a.length){var n;i===null||i===void 0?void 0:(n=i.menu)===null||n===void 0?void 0:n.forEach(i=>{const a=i.visible;if(!o){if(a&&typeof a==="boolean"||a.valueOf()==="true"){o=true}else if(a&&a.valueOf()!=="false"){e.push(a.valueOf())}}});if(e.length){i.visible=e}else{i.visible=o.toString()}}});return i};o.getVisibilityEnablementFormMenuActions=n;const l=(i,o)=>{for(const e in i){if(i.hasOwnProperty(e)){o[e]=i[e]}}return i};o.mergeFormActions=l;const t=(i,o)=>{var n,l;const t=v(i,o)||[],d=o===null||o===void 0?void 0:(n=o.getEntityType())===null||n===void 0?void 0:(l=n.annotations)===null||l===void 0?void 0:l.UI;const r=[];for(const i in d){var u,s,c;if(((u=d[i])===null||u===void 0?void 0:u.$Type)==="com.sap.vocabularies.UI.v1.FieldGroupType"){var f;(f=d[i])===null||f===void 0?void 0:f.Data.forEach(i=>{if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&t.hasOwnProperty(`DataFieldForAction::${i.Action}`)){var o,n,l;if((i===null||i===void 0?void 0:(o=i.annotations)===null||o===void 0?void 0:(n=o.UI)===null||n===void 0?void 0:(l=n.Hidden)===null||l===void 0?void 0:l.valueOf())===true){r.push({type:a.Default,key:e.generateKeyFromDataField(i)})}}else if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&t.hasOwnProperty(`DataFieldForIntentBasedNavigation::${i.Action}`)){var v,d,u;if((i===null||i===void 0?void 0:(v=i.annotations)===null||v===void 0?void 0:(d=v.UI)===null||d===void 0?void 0:(u=d.Hidden)===null||u===void 0?void 0:u.valueOf())===true){r.push({type:a.Default,key:e.generateKeyFromDataField(i)})}}})}else if(((s=d[i])===null||s===void 0?void 0:s.term)==="com.sap.vocabularies.UI.v1.Identification"||((c=d[i])===null||c===void 0?void 0:c.term)==="@com.sap.vocabularies.UI.v1.StatusInfo"){var p;(p=d[i])===null||p===void 0?void 0:p.forEach(i=>{if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&t.hasOwnProperty(`DataFieldForAction::${i.Action}`)){var o,n,l;if((i===null||i===void 0?void 0:(o=i.annotations)===null||o===void 0?void 0:(n=o.UI)===null||n===void 0?void 0:(l=n.Hidden)===null||l===void 0?void 0:l.valueOf())===true){r.push({type:a.Default,key:e.generateKeyFromDataField(i)})}}else if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&t.hasOwnProperty(`DataFieldForIntentBasedNavigation::${i.Action}`)){var v,d,u;if((i===null||i===void 0?void 0:(v=i.annotations)===null||v===void 0?void 0:(d=v.UI)===null||d===void 0?void 0:(u=d.Hidden)===null||u===void 0?void 0:u.valueOf())===true){r.push({type:a.Default,key:e.generateKeyFromDataField(i)})}}})}}return r};o.getFormHiddenActions=t;const v=(i,o)=>{const e=o.getManifestWrapper();let a,n;let t={};if((i===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"){if(i!==null&&i!==void 0&&i.Facets){i===null||i===void 0?void 0:i.Facets.forEach(i=>{var o,v;a=i===null||i===void 0?void 0:(o=i.Target)===null||o===void 0?void 0:o.value;n=e.getFormContainer(a);if((v=n)!==null&&v!==void 0&&v.actions){var d;for(const o in n.actions){n.actions[o].facetName=i.fullyQualifiedName}t=l((d=n)===null||d===void 0?void 0:d.actions,t)}})}}else if((i===null||i===void 0?void 0:i.$Type)==="com.sap.vocabularies.UI.v1.ReferenceFacet"){var v,d;a=i===null||i===void 0?void 0:(v=i.Target)===null||v===void 0?void 0:v.value;n=e.getFormContainer(a);if((d=n)!==null&&d!==void 0&&d.actions){for(const o in n.actions){n.actions[o].facetName=i.fullyQualifiedName}t=n.actions}}return t};o.getFormActions=v;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/objectPage/HeaderAndFooterAction", ["sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","sap/ui/core/Core","../../helpers/BindingHelper","../ManifestSettings"],function(t,e,i,n,o,a,l,r,d,s,v){"use strict";var u={};var c=v.ActionType;var f=s.singletonPathVisitor;var p=s.UI;var y=s.Draft;var g=r.isVisible;var b=l.isPathDeletable;var E=a.isEntitySet;var h=n.pathInModel;var A=n.not;var m=n.ifElse;var D=n.getExpressionFromAnnotation;var C=n.fn;var I=n.equal;var S=n.constant;var T=n.compileExpression;var O=n.and;var F=i.KeyHelper;var P=e.Placement;var B=t.getSemanticObjectMapping;var N=t.getEnabledForAnnotationAction;var U=t.getCopyAction;var M=t.dataFieldIsCopyAction;var k=t.ButtonType;function H(t,e){var i,n,o;return((i=t.annotations)===null||i===void 0?void 0:(n=i.UI)===null||n===void 0?void 0:(o=n.Identification)===null||o===void 0?void 0:o.filter(t=>{var i,n,o,a,l,r,d,s,v,u;return((i=t.annotations)===null||i===void 0?void 0:(n=i.UI)===null||n===void 0?void 0:(o=n.Hidden)===null||o===void 0?void 0:o.valueOf())!==true&&t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&Boolean((a=t.Determining)===null||a===void 0?void 0:a.valueOf())===e&&(((l=t.ActionTarget)===null||l===void 0?void 0:(r=l.isBound)===null||r===void 0?void 0:r.valueOf())!==true||(t===null||t===void 0?void 0:(d=t.ActionTarget)===null||d===void 0?void 0:(s=d.annotations)===null||s===void 0?void 0:(v=s.Core)===null||v===void 0?void 0:(u=v.OperationAvailable)===null||u===void 0?void 0:u.valueOf())!==false)?true:false}))||[]}u.getIdentificationDataFieldForActions=H;function R(t,e){var i,n,o;return((i=t.annotations)===null||i===void 0?void 0:(n=i.UI)===null||n===void 0?void 0:(o=n.Identification)===null||o===void 0?void 0:o.filter(t=>{var i,n,o,a;return((i=t.annotations)===null||i===void 0?void 0:(n=i.UI)===null||n===void 0?void 0:(o=n.Hidden)===null||o===void 0?void 0:o.valueOf())!==true&&t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&Boolean((a=t.Determining)===null||a===void 0?void 0:a.valueOf())===e?true:false}))||[]}const V=["UI.CriticalityType/VeryPositive","UI.CriticalityType/Positive","UI.CriticalityType/Negative","UI.CriticalityType/VeryNegative"];u.IMPORTANT_CRITICALITIES=V;function x(t,e){const i=t.getDataModelObjectPath(),n=i.navigationProperties.map(t=>t.name),o=D(e,n,false,e=>f(e,t.getConvertedTypes(),[])),a=t.getManifestWrapper(),l=a.getViewLevel(),r=l>1?p.IsEditable:A(p.IsEditable);return m(e===undefined||e.valueOf()===false,r,O(r,I(o,false)))}u.getDeleteButtonVisibility=x;function j(t,e,i){const n=i.getEntitySet(),a=o.isDraftRoot(n);let l=m(e!==undefined,e,m(t!==undefined,I(D(t),true),S(true)));l=a?O(l,A(h("DraftAdministrativeData/InProcessByUser"))):l;return l}u.getDeleteButtonEnabled=j;function w(t,e,i,n,a){const l=i===null||i===void 0?void 0:i.getEntitySet(),r=t.getEntitySet(),d=t.getManifestWrapper().isFclEnabled();let s;const v=L(i,e);if(a&&a>1){s=o.isDraftNode(r)}else{s=o.isDraftRoot(l)}const u=L(i,n);const c=A(p.IsEditable);const f=m(a>1,m(n===undefined||n.valueOf()===false,O(c,I(h("rootEditVisible","internal"),true),m(d,I(h("/showEditButton","fclhelper"),true),true)),O(c,I(u,false),I(h("rootEditVisible","internal"),true),m(d,I(h("/showEditButton","fclhelper"),true),true))),m(e===undefined||e.valueOf()===false,c,O(c,I(v,false))));return m(s,O(f,y.HasNoDraftForCurrentUser),f)}u.getEditButtonVisibility=w;function L(t,e){const i=t.getDataModelObjectPath(),n=i.navigationProperties.map(t=>t.name),o=D(e,n,false,e=>f(e,t.getConvertedTypes(),n));return o}u.getHiddenExpression=L;function K(t,e,i){const n=t.getEntitySet(),a=o.isDraftRoot(n),l=o.isSticky(n);let r;if(a&&E(n)){var d,s;r=(d=n.annotations.Common)===null||d===void 0?void 0:(s=d.DraftRoot)===null||s===void 0?void 0:s.EditAction}else if(l&&E(n)){var v,u;r=(v=n.annotations.Session)===null||v===void 0?void 0:(u=v.StickySessionSupported)===null||u===void 0?void 0:u.EditAction}if(r){var c,f;const n=t.getAbsoluteAnnotationPath(r);const o=t.resolveAbsolutePath(n).target;if((o===null||o===void 0?void 0:(c=o.annotations)===null||c===void 0?void 0:(f=c.Core)===null||f===void 0?void 0:f.OperationAvailable)===null){}else if(i>1){if(e!==undefined){return T(O(I(D(e),true),I(h("rootEditEnabled","internal"),true)))}else{return T(I(h("rootEditEnabled","internal"),true))}}else{return N(t,o??undefined)}}return"true"}u.getEditButtonEnabled=K;function W(t){var e,i,n,a,l;const r=t.getContextPath();const s=o.getRootEntitySetPath(r);const v=t.getConverterContextFor("/"+s);const u=t.getEntitySet(),p=t.getEntityType(),y=v.getEntitySet(),g=v.getEntityType(),m=o.getStickySession(y),S=o.getDraftRoot(y),P=o.getDraftNode(y),N=u&&((e=u.annotations)===null||e===void 0?void 0:(i=e.Capabilities)===null||i===void 0?void 0:i.DeleteRestrictions),L=o.isUpdateHidden(y,g),W=y&&E(y)&&(L===null||L===void 0?void 0:L.valueOf()),$=t.getDataModelObjectPath(),_=b($,{pathVisitor:(e,i)=>f(e,t.getConvertedTypes(),i)}),Q=_?T(_):_,G=H(t.getEntityType(),false);const Y=t.getManifestWrapper().getViewLevel()===1?U(G.filter(t=>M(t))):undefined;const z=G.filter(t=>!M(t));const J=[];if(E(u)&&S!==null&&S!==void 0&&S.EditAction&&W!==true){J.push({type:c.DraftActions,key:"DraftActions"})}const X=t.getManifestWrapper().getViewLevel();const Z=X>1?u===null||u===void 0?void 0:(n=u.annotations.Capabilities)===null||n===void 0?void 0:(a=n.UpdateRestrictions)===null||a===void 0?void 0:a.Updatable:undefined;if(S||P){J.push({type:c.CollaborationAvatars,key:"CollaborationAvatars"})}z.filter(t=>{const e=T(D(t===null||t===void 0?void 0:t.Criticality));return V.includes(e)}).forEach(e=>{J.push(q(e,t))});if((S!==null&&S!==void 0&&S.EditAction||m!==null&&m!==void 0&&m.EditAction)&&W!==true){J.push({type:c.Primary,key:"EditAction",visible:T(w(t,L,v,o.isUpdateHidden(u,p),X)),enabled:K(v,Z,X)})}if(Q&&Q!=="false"||(N===null||N===void 0?void 0:(l=N.Deletable)===null||l===void 0?void 0:l.valueOf())!==false&&Q!=="false"){const e=o.getDeleteHidden(u,p);J.push({type:c.Secondary,key:"DeleteAction",visible:T(x(t,e)),enabled:T(j(N===null||N===void 0?void 0:N.Deletable,_,t)),parentEntityDeleteEnabled:Q})}if(Y){var tt;J.push({...q(Y,t),type:c.Copy,text:((tt=Y.Label)===null||tt===void 0?void 0:tt.toString())??d.getLibraryResourceBundle("sap.fe.core").getText("C_COMMON_COPY")})}const et=R(t.getEntityType(),false);et.filter(t=>{const e=T(D(t===null||t===void 0?void 0:t.Criticality));return!V.includes(e)}).forEach(e=>{var i,n,o,a,l;if(((i=e.RequiresContext)===null||i===void 0?void 0:i.valueOf())===true){throw new Error(`RequiresContext property should not be true for header IBN action : ${e.Label}`)}if(((n=e.Inline)===null||n===void 0?void 0:n.valueOf())===true){throw new Error(`Inline property should not be true for header IBN action : ${e.Label}`)}const r={semanticObjectMapping:B(e.Mapping)};J.push({type:c.DataFieldForIntentBasedNavigation,text:(o=e.Label)===null||o===void 0?void 0:o.toString(),annotationPath:t.getEntitySetBasedAnnotationPath(e.fullyQualifiedName),buttonType:k.Ghost,visible:T(O(A(I(D((a=e.annotations)===null||a===void 0?void 0:(l=a.UI)===null||l===void 0?void 0:l.Hidden),true)),A(I(h("shellNavigationNotAvailable","internal"),true)))),enabled:e.NavigationAvailable!==undefined?T(I(D(e.NavigationAvailable),true)):true,key:F.generateKeyFromDataField(e),isNavigable:true,press:T(C("._intentBasedNavigation.navigate",[D(e.SemanticObject),D(e.Action),r])),customData:T({semanticObject:D(e.SemanticObject),action:D(e.Action)})})});z.filter(t=>{const e=T(D(t===null||t===void 0?void 0:t.Criticality));return!V.includes(e)}).forEach(e=>{J.push(q(e,t))});return J}u.getHeaderDefaultActions=W;function $(t){var e,i,n;const o=t.getEntityType();const a=((e=o.annotations)===null||e===void 0?void 0:(i=e.UI)===null||i===void 0?void 0:(n=i.Identification)===null||n===void 0?void 0:n.filter(t=>{var e,i,n;return(t===null||t===void 0?void 0:(e=t.annotations)===null||e===void 0?void 0:(i=e.UI)===null||i===void 0?void 0:(n=i.Hidden)===null||n===void 0?void 0:n.valueOf())===true}))||[];return a.map(t=>({type:c.Default,key:F.generateKeyFromDataField(t)}))}u.getHiddenHeaderActions=$;function _(t,e){var i,n,a,l;const r=e.getEntitySet();const d=e.getEntityType();const s=o.getStickySession(r),v=E(r)&&(((i=r.annotations.Common)===null||i===void 0?void 0:(n=i.DraftRoot)===null||n===void 0?void 0:n.term)??((a=r.annotations.Session)===null||a===void 0?void 0:(l=a.StickySessionSupported)===null||l===void 0?void 0:l.term)),u=Boolean(v==="com.sap.vocabularies.Common.v1.DraftRoot"||s&&(s===null||s===void 0?void 0:s.SaveAction)),f=t>1,p=Boolean(v==="com.sap.vocabularies.Common.v1.DraftRoot"||s&&(s===null||s===void 0?void 0:s.DiscardAction));const y=H(e.getEntityType(),true);const g=y.filter(t=>{const e=T(D(t===null||t===void 0?void 0:t.Criticality));return e&&V.includes(e)}).map(t=>q(t,e));if((r===null||r===void 0?void 0:r.entityTypeName)===(d===null||d===void 0?void 0:d.fullyQualifiedName)&&u){g.push({type:c.Primary,key:"SaveAction"})}if(f){g.push({type:c.DefaultApply,key:"ApplyAction"})}y.filter(t=>{const e=T(D(t===null||t===void 0?void 0:t.Criticality));return e&&!V.includes(e)}).forEach(t=>{g.push(q(t,e))});if(p){g.push({type:c.Secondary,key:"CancelAction",position:{placement:P.End}})}return g}u.getFooterDefaultActions=_;function q(t,e){const i=g(t);return{type:c.DataFieldForAction,annotationPath:e.getEntitySetBasedAnnotationPath(t.fullyQualifiedName),key:F.generateKeyFromDataField(t),visible:T(i),enabled:N(e,t.ActionTarget),isNavigable:true}}return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/templates/ListReportConverter", ["sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/controls/ListReport/FilterBar","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/helpers/BindingToolkit","../ManifestSettings","../controls/Common/DataVisualization","../controls/Common/KPI","../helpers/ID"],function(t,e,n,i,a,o,r,s){"use strict";var l={};var c=s.getTableID;var u=s.getIconTabBarID;var d=s.getFilterVariantManagementID;var f=s.getFilterBarID;var p=s.getDynamicListReportID;var v=s.getCustomTabID;var h=s.getChartID;var y=r.getKPIDefinitions;var g=o.isSelectionPresentationCompliant;var m=o.isPresentationCompliant;var C=o.getSelectionVariant;var b=o.getSelectionPresentationVariant;var P=o.getMultiDimensionalGridVisualization;var I=o.getDefaultPresentationVariant;var T=o.getDefaultLineItem;var V=o.getDefaultChart;var w=o.getDataVisualizationConfiguration;var E=a.VisualizationType;var z=a.VariantManagementType;var M=a.TemplateType;var S=i.getExpressionFromAnnotation;var D=i.compileExpression;var k=n.insertCustomElements;var A=e.getSelectionFields;var F=e.getManifestFilterFields;var L=e.getFilterBarHideBasicSearch;var B=t.getActionsFromManifest;function x(t){const e=[];t.forEach(function(t){if(!t.type){const n=t.secondaryVisualization?t.secondaryVisualization.visualizations:t.presentation.visualizations;n.forEach(function(t){if(t.type===E.Table){e.push(t)}})}});return e}function R(t){const e=[];t.forEach(function(t){if(!t.type){const n=t.primaryVisualization?t.primaryVisualization.visualizations:t.presentation.visualizations;n.forEach(function(t){if(t.type===E.Chart){e.push(t)}})}});return e}const W=function(t){const e={};for(const s in t){var n,i,a;if((n=t[s])!==null&&n!==void 0&&(i=n.settings)!==null&&i!==void 0&&(a=i.defaultValues)!==null&&a!==void 0&&a.length){var o,r;e[s]=(o=t[s])===null||o===void 0?void 0:(r=o.settings)===null||r===void 0?void 0:r.defaultValues}}return e};function H(t,e,n){const i=e.getManifestWrapper().getDefaultTemplateAnnotationPath();const a=b(t,i,e);const o="ALP flavor needs both chart and table to load the application";if(a){if(i){const t=a.PresentationVariant;if(!t){throw new Error("Presentation Variant is not configured in the SPV mentioned in the manifest")}if(!m(t,n)){if(n){throw new Error(o)}return undefined}}if(g(a,n)===true){return a}else if(n){throw new Error(o)}}const r=I(t);if(r){if(m(r,n)){return r}else if(n){throw new Error(o)}}if(!n){return T(t)}return undefined}const G=function(t){let e=t;if(e.converterContext){var n,i;let t=e.converterContext;e=e;const a=function(t){return t.key!==undefined};let o=w(e.annotation?t.getRelativeAnnotationPath(e.annotation.fullyQualifiedName,t.getEntityType()):"",true,t,e,undefined,undefined,a(e));let r="";let s="";let l="";let u="";const d=function(t,e){let n;for(const i of t.visualizations){if(e&&(i.type===E.Chart||i.type===E.MultiDimensionalGrid)){n=i;break}if(!e&&i.type===E.Table){n=i;break}}const i=Object.assign({},t);if(n){i.visualizations=[n]}else{throw new Error((e?"Primary":"Secondary")+" visualisation needs valid "+(e?"chart":"table"))}return i};const f=function(n,i){if(n.type==="MultiDimensionalGrid"){return P(n)}n=n;const a=t.getEntityTypeAnnotation(n.annotationPath);const r=a.annotation;t=a.converterContext;const s=r;if(s||t.getTemplateType()===M.AnalyticalListPage){o=w(s?t.getRelativeAnnotationPath(s.fullyQualifiedName,t.getEntityType()):"",true,t,e,undefined,undefined,undefined);return o}else{const t="Annotation Path for the "+(i?"primary":"secondary")+" visualisation mentioned in the manifest is not found";throw new Error(t)}};const p=function(t,n){var i,a,o,l;const c=d(t[0],true);s=(c===null||c===void 0?void 0:(i=c.visualizations[0])===null||i===void 0?void 0:i.type)===E.Chart?c===null||c===void 0?void 0:(a=c.visualizations[0])===null||a===void 0?void 0:a.id:"";const u=d(t[1]?t[1]:t[0],false);r=u===null||u===void 0?void 0:(o=u.visualizations[0])===null||o===void 0?void 0:(l=o.annotation)===null||l===void 0?void 0:l.id;if(c&&u){e=e;const t=e.visible;const i={primaryVisualization:c,secondaryVisualization:u,tableControlId:r,chartControlId:s,defaultPath:n,visible:t};return i}};if(!t.getManifestWrapper().hasMultipleVisualizations(e)&&((n=o)===null||n===void 0?void 0:(i=n.visualizations)===null||i===void 0?void 0:i.length)===2&&t.getTemplateType()===M.AnalyticalListPage){const t=p([o],"both");if(t){return t}}else if(t.getManifestWrapper().hasMultipleVisualizations(e)||t.getTemplateType()===M.AnalyticalListPage){const{primary:t,secondary:n}=e;if(t&&t.length&&n&&n.length){const i=p([f(t[0],true),f(n[0],false)],e.defaultPath);if(i){return i}}else{throw new Error("SecondaryItems in the Views is not present")}}else if(a(e)){const n=t.getEntityTypeAnnotation(e.annotationPath);const i=n.annotation;t=n.converterContext;l=D(S(i.Text));o.visualizations.forEach((t,n)=>{var i;switch(t.type){case E.Table:const t=o.visualizations[n];const r=t.control.filters||{};r.hiddenFilters=r.hiddenFilters||{paths:[]};if(!e.keepPreviousPersonalization){t.annotation.id=c(e.key||"","LineItem")}e=e;if(((i=e.annotation)===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){var a;if(!e.annotation.SelectionVariant){throw new Error(`The Selection Variant is missing for the Selection Presentation Variant ${e.annotation.fullyQualifiedName}`)}u=`@${(a=e.annotation.SelectionVariant)===null||a===void 0?void 0:a.fullyQualifiedName.split("@")[1]}`}else{u=e.annotationPath}r.hiddenFilters.paths.push({annotationPath:u});t.control.filters=r;break;case E.Chart:const s=o.visualizations[n];s.id=h(e.key||"","Chart");s.multiViews=true;break;default:break}})}o.visualizations.forEach(t=>{if(t.type===E.Table){r=t.annotation.id}else if(t.type===E.Chart){s=t.id}});e=e;const v=e.visible;return{presentation:o,tableControlId:r,chartControlId:s,title:l,selectionVariantPath:u,visible:v}}else{e=e;const t=e.label,n=e.template,i=e.type,a=v(e.key||""),o=e.visible;return{title:t,fragment:n,type:i,customTabId:a,visible:o}}};const j=function(t,e){let n=[];if(e){e.paths.forEach(i=>{if(t.getManifestWrapper().hasMultipleVisualizations(i)){if(e.paths.length>1){throw new Error("ALP flavor cannot have multiple views")}else{i=i;n.push({converterContext:t,primary:i.primary,secondary:i.secondary,defaultPath:i.defaultPath})}}else if(i.template){i=i;n.push({key:i.key,label:i.label,template:i.template,type:"Custom",visible:i.visible})}else{i=i;const e=t.getConverterContextFor(i.contextPath||i.entitySet&&`/${i.entitySet}`||t.getContextPath()),a=e.getEntityType();if(a&&e){let t;const o=e.getEntityTypeAnnotation(i.annotationPath);const r=o.annotation;if(r){t=r.term==="com.sap.vocabularies.UI.v1.SelectionVariant"?H(a,e,false):r;n.push({converterContext:e,annotation:t,annotationPath:i.annotationPath,keepPreviousPersonalization:i.keepPreviousPersonalization,key:i.key,visible:i.visible})}}else{}}})}else{const e=t.getEntityType();if(t.getTemplateType()===M.AnalyticalListPage){n=Q(t,n)}else{n.push({annotation:H(e,t,false),converterContext:t})}}return n.map(t=>G(t))};const N=function(t,e){const n=t.getManifestWrapper();const i=n.getViewConfiguration();if(e.length>1&&!$(t)){return{showTabCounts:i?(i===null||i===void 0?void 0:i.showCounts)||n.hasMultipleEntitySets():undefined,id:u()}}return undefined};function Q(t,e){const n=t.getEntityType();const i=H(n,t,true);let a,o;if(i){e.push({annotation:i,converterContext:t})}else{a=V(n);o=T(n);if(a&&o){const n=[{annotationPath:"@"+a.term}];const i=[{annotationPath:"@"+o.term}];e.push({converterContext:t,primary:n,secondary:i,defaultPath:"both"})}else{throw new Error("ALP flavor needs both chart and table to load the application")}}return e}function $(t){return t.getManifestWrapper().hasMultipleVisualizations()||t.getTemplateType()===M.AnalyticalListPage}const K=function(t){const e=t.getManifestWrapper();return k([],B(e.getHeaderActions(),t).actions)};l.getHeaderActions=K;const O=function(t,e){t.forEach(t=>{if(!t.type){const n=t.presentation;n.visualizations.forEach(t=>{if(t.type===E.Chart&&t.filterId!==e){t.filterId=e}})}})};l.checkChartFilterBarId=O;const U=function(t){const e=t.getEntityType();const n=t.getContextPath();if(!n){throw new Error("An EntitySet is required to be able to display a ListReport, please adjust your `entitySet` property to point to one.")}const i=t.getManifestWrapper();const a=i.getViewConfiguration();const o=i.hasMultipleEntitySets();const r=j(t,a);const s=x(r);const l=R(r);const c=s.some(t=>t.control.type==="ResponsiveTable");let u="";let v="";const h=p();const g=f(n);const m=d(g);const b=i.getFilterConfiguration();const P=(b===null||b===void 0?void 0:b.initialLayout)!==undefined?b===null||b===void 0?void 0:b.initialLayout.toLowerCase():"compact";const I=(b===null||b===void 0?void 0:b.layout)!==undefined?b===null||b===void 0?void 0:b.layout.toLowerCase():"compact";const T=b.useSemanticDateRange!==undefined?b.useSemanticDateRange:true;const V=b.showClearButton!==undefined?b.showClearButton:false;const w=q(t,r);if(w){v=w.chartId;u=w.tableId}const E=i.useHiddenFilterBar();const M=(i.isFilterBarHidden()||E)&&v==="";const S=A(t,s);const D=S.selectionFields;const k=S.sPropertyInfo;const B=L(s,l,t);const H=N(t,r);const G=H?undefined:C(e,t);const Q=T?W(F(e,t)):{};const U=K(t);if(o){O(r,g)}const X=s.map(t=>t.annotation.id).concat(l.map(t=>t.id));const Y=J(r);const Z=[...M&&!E?[]:[g],...i.getVariantManagement()!==z.Control?X:[],...H?[H.id]:[],...Y.variantManagementId?[Y.variantManagementId]:[]];const _=H&&i.getStickyMultiTabHeaderConfiguration()?H.id:undefined;return{mainEntitySet:n,mainEntityType:`${n}/`,multiViewsControl:H,stickySubheaderProvider:_,singleTableId:u,singleChartId:v,multiDimensionalGridIds:Y,dynamicListReportId:h,headerActions:U,showPinnableToggle:c,filterBar:{propertyInfo:k,selectionFields:D,hideBasicSearch:B,showClearButton:V},views:r,filterBarId:M&&!E?"":g,filterConditions:{selectionVariant:G,defaultSemanticDates:Q},variantManagement:{id:m,targetControlIds:Z.join(",")},hasMultiVisualizations:$(t),templateType:i.getTemplateType(),useSemanticDateRange:T,filterInitialLayout:P,filterLayout:I,kpiDefinitions:y(t),hideFilterBar:M,useHiddenFilterBar:E}};l.convertPage=U;function q(t,e){let n="",i="";if(t.getManifestWrapper().hasMultipleVisualizations()||t.getTemplateType()===M.AnalyticalListPage){for(const t of e){const e=t;if(e.chartControlId||e.tableControlId){i=e.chartControlId??i;n=e.tableControlId??n;break}}}else{for(const t of e){const e=t;if(!n&&e.tableControlId){n=e.tableControlId||""}if(!i&&e.chartControlId){i=e.chartControlId||""}if(i&&n){break}}}if(n||i){return{chartId:i,tableId:n}}return undefined}function J(t){for(const i of t){var e,n;const t=i===null||i===void 0?void 0:(e=i.primaryVisualization)===null||e===void 0?void 0:(n=e.visualizations)===null||n===void 0?void 0:n[0];if((t===null||t===void 0?void 0:t.type)===E.MultiDimensionalGrid){return{id:t.id,variantManagementId:t.variantManagementId}}}return{id:undefined,variantManagementId:undefined}}return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/converters/templates/ObjectPageConverter", ["sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/objectPage/HeaderAndFooterAction","sap/fe/core/helpers/BindingToolkit","../../helpers/BindingHelper","../ManifestSettings","../controls/ObjectPage/Avatar","../controls/ObjectPage/HeaderFacet","../controls/ObjectPage/SubSection","../helpers/ConfigurableObject","../helpers/ID"],function(e,t,n,o,i,a,s,r,c,l){"use strict";var d={};var v=l.getSectionID;var u=l.getEditableHeaderSectionID;var f=l.getCustomSectionID;var b=c.insertCustomElements;var g=c.Placement;var p=c.OverrideType;var y=r.createSubSections;var h=r.createCustomSubSections;var m=r.createCustomHeaderFacetSubSections;var E=r.SubSectionType;var A=s.getHeaderFacetsFromManifest;var S=s.getHeaderFacetsFromAnnotations;var C=a.getAvatar;var T=i.VisualizationType;var w=i.TemplateType;var H=o.singletonPathVisitor;var I=o.UI;var F=n.not;var k=n.ifElse;var L=n.getExpressionFromAnnotation;var M=n.equal;var O=n.constant;var P=n.compileExpression;var j=t.getHiddenHeaderActions;var z=t.getHeaderDefaultActions;var x=t.getFooterDefaultActions;var D=e.removeDuplicateActions;var V=e.getActionsFromManifest;const B=(e,t)=>{var n,o;return((n=e.ID)===null||n===void 0?void 0:n.toString())||((o=e.Label)===null||o===void 0?void 0:o.toString())||t};function U(e,t){var n,o;const i=u();const a=(n=e.getEntityType().annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:o.HeaderFacets;const s=a?y(a,e,true):[];const r=m(e);let c=[];if(r.length>0){let e=0;t.forEach(function(t){while(s.length>e&&s[e].visible==="false"){c.push(s[e]);e++}if(s.length>e&&(t.key===s[e].key||t.key.slice(t.key.lastIndexOf("::")+2)===s[e].key.slice(s[e].key.lastIndexOf("::")+2))){c.push(s[e]);e++}else{r.forEach(function(e){if(t.key===e.key){c.push(e)}})}})}else{c=s}const l={id:i,key:"EditableHeaderContent",title:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_HEADER_SECTION}",visible:P(I.IsEditable),subSections:c};return l}d.createEditableHeaderSection=U;function W(e){var t,n,o;const i=e.getEntityType();const a=((t=i.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:(o=n.Facets)===null||o===void 0?void 0:o.map(t=>_(t,e)))||[];return a}function _(e,t){var n,o;const i=v(e);const a=L((n=e.annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:o.Hidden,[],false,e=>H(e,t.getConvertedTypes(),[]));const s={id:i,key:B(e,i),title:e.Label?P(L(e.Label)):undefined,showTitle:!!e.Label,visible:P(F(M(a,true))),subSections:y([e],t)};return s}function N(e,t){const n={};Object.keys(e).forEach(o=>{n[o]=R(e[o],o,t)});return n}function R(e,t,n){const o=e.id||f(t);let i=e.position;if(!i){i={placement:g.After}}let a;if(!e.subSections){a={[t]:{...e,position:undefined,visible:"true"}}}else{a=e.subSections}const s=h(a,n);const r={id:o,key:t,title:e.title,showTitle:!!e.title,visible:e.visible!==undefined?e.visible:"true",position:i,subSections:s};return r}const q=function(e){const t=z(e);const n=e.getManifestWrapper();const o=V(n.getHeaderActions(),e,t,undefined,undefined,j(e));const i={isNavigable:p.overwrite,enabled:p.overwrite,visible:p.overwrite,defaultValuesExtensionFunction:p.overwrite,command:p.overwrite};const a=b(t,o.actions,i);return{actions:D(a),commandActions:o.commandActions}};d.getHeaderActions=q;const G=function(e){const t=e.getManifestWrapper();const n=x(t.getViewLevel(),e);const o=V(t.getFooterActions(),e,n);const i={isNavigable:p.overwrite,enabled:p.overwrite,visible:p.overwrite,defaultValuesExtensionFunction:p.overwrite,command:p.overwrite};const a=b(n,o.actions,i);return{actions:a,commandActions:o.commandActions}};d.getFooterActions=G;function J(e){var t;return e!==null&&e!==void 0&&(t=e.presentation)!==null&&t!==void 0&&t.visualizations[0]?e.presentation.visualizations[0]:undefined}function K(e,t){var n,o;return e.visible==="true"&&(e===null||e===void 0?void 0:(n=e.presentation)===null||n===void 0?void 0:n.visualizations)&&(t===null||t===void 0?void 0:t.type)==="Table"&&(t===null||t===void 0?void 0:(o=t.control)===null||o===void 0?void 0:o.type)!=="ResponsiveTable"}function Q(e,t,n,o){if(K(t,n)){const t=n.control;if(!(o==="Page"&&e.length>1)){t.rowCountMode="Auto"}if(o!=="Tabs"){t.useCondensedTableLayout=false}}}function X(e,t){var n;if((e===null||e===void 0?void 0:(n=e.content)===null||n===void 0?void 0:n.length)===1){var o;const n=((o=e.content[0].presentation)===null||o===void 0?void 0:o.visualizations[0]).control;if(n.type!=="ResponsiveTable"){n.rowCountMode="Auto";if(t!=="Tabs"){n.useCondensedTableLayout=false}}}}function Y(e,t,n){let o;let i;const a=t.subSections;if(a.length===1){o=a[0];switch(a[0].type){case"DataVisualization":i=J(o);Q(e,o,i,n);break;case"Mixed":X(o,n);break;default:break}return}Z(a)}function Z(e){let t;e.forEach(e=>{var n,o,i;t=e;if((n=t)!==null&&n!==void 0&&(o=n.presentation)!==null&&o!==void 0&&o.visualizations){var a,s;(a=t)===null||a===void 0?void 0:(s=a.presentation)===null||s===void 0?void 0:s.visualizations.forEach(e=>{if(e.type===T.Table){e.control.useCondensedTableLayout=false}})}if((i=t)!==null&&i!==void 0&&i.content){t.content.forEach(e=>{var t;(t=e.presentation)===null||t===void 0?void 0:t.visualizations.forEach(e=>{if(e.type===T.Table){e.control.useCondensedTableLayout=false}})})}})}const $=function(e){const t=e.getManifestWrapper();const n=b(W(e),N(t.getSections(),e),{title:p.overwrite,visible:p.overwrite,subSections:{actions:p.merge,title:p.overwrite,sideContent:p.overwrite,objectPageLazyLoaderEnabled:p.overwrite}});n.forEach(function(e){var o;Y(n,e,t.getSectionLayout());(o=e.subSections)===null||o===void 0?void 0:o.forEach(function(e){var t;e.title=e.title==="undefined"?undefined:e.title;if(e.type==="Mixed"){var n;(n=e.content)===null||n===void 0?void 0:n.forEach(t=>{t.objectPageLazyLoaderEnabled=e.objectPageLazyLoaderEnabled})}if(e.type==="Mixed"&&(t=e.content)!==null&&t!==void 0&&t.length){var o;const t=e.content.find(e=>e.type===E.Form);if(e.sideContent){if(t){t.sideContent=e.sideContent}else{e.content[0].sideContent=e.sideContent}e.sideContent=undefined}if(t&&(o=e.actions)!==null&&o!==void 0&&o.length){t.actions=e.actions;e.actions=[]}}})});return n};d.getSections=$;function ee(e){var t,n;const o=e.getManifestWrapper();return(((t=e.getEntityType().annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.HeaderFacets)||[]).length>0||Object.keys(o.getHeaderFacets()).length>0}function te(e){const t=e.getManifestWrapper();return k(!ee(e),O(false),k(M(t.isHeaderEditable(),false),O(true),F(I.IsEditable)))}const ne=function(e){return P(te(e))};d.getShowHeaderContent=ne;const oe=function(e){return P(F(te(e)))};d.getExpandedImageVisible=oe;const ie=function(e){var t,n;const o=e.getManifestWrapper();let i;const a=e.getEntityType();const s=b(S(e),A(o.getHeaderFacets()));const r=q(e);const c=G(e);if(o.isHeaderEditable()&&((t=a.annotations.UI)!==null&&t!==void 0&&t.HeaderFacets||(n=a.annotations.UI)!==null&&n!==void 0&&n.HeaderInfo)){i=U(e,s)}const l=$(e);return{template:w.ObjectPage,header:{visible:o.getShowObjectPageHeader(),section:i,facets:s,actions:r.actions,showContent:ne(e),hasContent:ee(e),avatar:C(e),title:{expandedImageVisible:oe(e)}},sections:l,footerActions:c.actions,headerCommandActions:r.commandActions,footerCommandActions:c.commandActions,showAnchorBar:o.getShowAnchorBar(),useIconTabBar:o.useIconTabBar()}};d.convertPage=ie;return d},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/CollaborationFormatter", ["sap/fe/core/controllerextensions/collaboration/CollaborationCommon","sap/ui/core/Core"],function(t,o){"use strict";var n={};var e=t.getActivityKeyFromPath;const r=function(t){if(r.hasOwnProperty(t)){for(var o=arguments.length,n=new Array(o>1?o-1:0),e=1;e<o;e++){n[e-1]=arguments[e]}return r[t].apply(this,n)}else{return""}};const i=function(t){return!!c(t,this)};i.__functionName="sap.fe.core.formatters.CollaborationFormatter#hasCollaborationActivity";n.hasCollaborationActivity=i;const a=function(t){const o=c(t,this);return o===null||o===void 0?void 0:o.initials};a.__functionName="sap.fe.core.formatters.CollaborationFormatter#getCollaborationActivityInitials";n.getCollaborationActivityInitials=a;const l=function(t){const o=c(t,this);return o===null||o===void 0?void 0:o.color};l.__functionName="sap.fe.core.formatters.CollaborationFormatter#getCollaborationActivityColor";n.getCollaborationActivityColor=l;function c(t,o){var n;const r=o===null||o===void 0?void 0:(n=o.getBindingContext())===null||n===void 0?void 0:n.getPath();if(!r){return undefined}const i=e(r);if(t&&t.length>0){return t.find(t=>t.key===i)}else{return undefined}}const s=function(){const t=arguments.length<=0?undefined:arguments[0];const n=o.getLibraryResourceBundle("sap.fe.core");const e=[];for(let t=1;t<arguments.length;t++){e.push(t<0||arguments.length<=t?undefined:arguments[t])}return n.getText(t,e)};s.__functionName="sap.fe.core.formatters.CollaborationFormatter#getFormattedText";n.getFormattedText=s;r.hasCollaborationActivity=i;r.getCollaborationActivityInitials=a;r.getCollaborationActivityColor=l;r.getFormattedText=s;return r},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/FPMFormatter", [],function(){"use strict";const t=function(t,e,n){const o=t.getController().getExtensionAPI();const r=e.split(".");const s=r.pop();const i=r.join("/");return new Promise(t=>{sap.ui.require([i],e=>{t(e[s].bind(o)(this.getBindingContext(),n||[]))})})};t.__functionName="sap.fe.core.formatters.FPMFormatter#customBooleanPropertyCheck";const e=function(t){if(e.hasOwnProperty(t)){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++){o[r-1]=arguments[r]}return e[t].apply(this,o)}else{return""}};e.customBooleanPropertyCheck=t;return e},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/FiscalFormat", ["sap/ui/core/Locale","sap/ui/core/LocaleData"],function(e,t){"use strict";var r={};let a=function(){function a(r){const a=new e(sap.ui.getCore().getConfiguration().getLanguage()),s=new t(a);let n=r.format;if(r.format.length>4){n="yM"}else if(r.format==="PPP"){n="M"}let o=s.getCustomDateTimePattern(n,r.calendarType);o=o.replace(/([\u4e00-\u9faf\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uffef])+/gi,"");if(r.format.length>4){o=o.replace(/y+/i,r.format.slice(0,r.format.lastIndexOf("Y")+1));o=o.replace(/m+/i,r.format.slice(r.format.lastIndexOf("Y")+1))}else if(r.format==="PPP"){o="PPP"}const i=this.parseCalendarDatePattern(o);this.pattern=i.length>1?o:undefined;this._setFormatRegex(i);this._setParseRegex(i);this._setValidationRegex(i)}r=a;a.getDateInstance=function e(t){return new a(t)};var n=a.prototype;n.getPattern=function e(){return this.pattern};n.format=function e(t){if(t==null){return""}if(typeof t!=="string"){return t}return t.replace(this.formatRegExPattern,this.formatRegExGroups)};n.parse=function e(t){if(!t){return""}return t.replace(this.parseRegExPattern,this.parseRegExReplacer)};n.validate=function e(t){return this.validationRegExPattern.test(t)};n.parseCalendarDatePattern=function e(t){const r=[];let s,n={digits:0,value:"",symbol:""};for(const e of t){if(s!==e){n={digits:0,value:"",symbol:""}}else{n.digits+=1;continue}if(typeof a.symbols[e]==="undefined"){n.value=e}else{n.symbol=e;n.digits=1}s=e;r.push(n)}return r};n._setFormatRegex=function e(t){const r=[],s=[];let n,o,i,f;for(let e=0;e<t.length;e++){n=t[e];o=n.symbol;i=a.symbols[o].format;if(o===""){s[e]=n.value}else if(o.toLocaleLowerCase()==="y"){r.unshift("("+i.source+")");s[e]="$"+1}else{r.push("("+i.source+")");f=t.some(function(e){return e.symbol.toLowerCase()==="y"});s[e]=f?"$"+2:"$"+1}}this.formatRegExPattern=new RegExp(r.join(""));this.formatRegExGroups=s.join("")};n._setParseRegex=function e(t){const r=[],s={};let n,o,i,f=0;for(const e of t){n=e.symbol;if(n===""){r.push("\\D+?")}else{o=a.symbols[n].parse;r.push("("+o.source+")");i=++f;s[i]=e}}this.parseRegExPattern=new RegExp("^"+r.join("")+"$");this.parseRegExReplacer=this.getRegExReplacer(s)};n.getRegExReplacer=function e(t){return function(){const e=[];let r,a;for(var n=arguments.length,o=new Array(n),i=0;i<n;i++){o[i]=arguments[i]}for(const n in t){r=t[n];a=o[parseInt(n,10)];if(a.length<r.digits){if(r.symbol.toLowerCase()==="y"){a=s(a)}else{a=a.padStart(r.digits,"0")}}if(r.symbol.toLowerCase()==="y"){e.unshift(a)}else{e.push(a)}}return e.join("")}};n._setValidationRegex=function e(t){const r=[];let s,n;for(const e of t){s=e.symbol;n=a.symbols[s].format;if(s===""){continue}else if(s.toLowerCase()==="y"){r.unshift(n.source)}else{r.push(n.source)}}this.validationRegExPattern=new RegExp("^("+r.join(")(")+")$")};return a}();a.regexFormatPatterns={year:/[1-9]\d{3}/,period:/\d{3}/,quarter:/[1-4]/,week:/0[1-9]|[1-4]\d|5[0-3]/,day:/371|370|3[0-6]\d|[1-2]\d{2}|[1-9]\d|[1-9]/};r=a;a.regexParsePatterns={year:/\d{1,4}/,period:/\d{1,3}/,quarter:/[1-4]/,week:/\d{1,2}/,day:/[1-9]/};a.symbols={"":{format:/ /,parse:/ /},y:{format:a.regexFormatPatterns.year,parse:a.regexParsePatterns.year},Y:{format:a.regexFormatPatterns.year,parse:a.regexParsePatterns.year},P:{format:a.regexFormatPatterns.period,parse:a.regexParsePatterns.period},W:{format:a.regexFormatPatterns.week,parse:a.regexParsePatterns.week},d:{format:a.regexFormatPatterns.day,parse:a.regexParsePatterns.day},Q:{format:a.regexFormatPatterns.quarter,parse:a.regexParsePatterns.quarter},q:{format:a.regexFormatPatterns.quarter,parse:a.regexParsePatterns.quarter}};function s(e){let t=Number.parseInt(e,10);const r=(new Date).getUTCFullYear(),a=Math.floor(r/100),s=a*100+t-r;if(e.length===3){t+=Math.floor((a-1)/10)*1e3}else if(s<-70){t+=(a+1)*100}else if(s<30){t+=a*100}else{t+=(a-1)*100}return t}return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/KPIFormatter", ["sap/ui/core/Core"],function(e){"use strict";const t=function(e){if(e){const t=e.split(" ");let r;if(t.length===1){r=t[0].substring(0,3).toUpperCase()}else if(t.length===2){r=(t[0].substring(0,1)+t[1].substring(0,1)).toUpperCase()}else{r=(t[0].substring(0,1)+t[1].substring(0,1)+t[2].substring(0,1)).toUpperCase()}return r}else{return""}};t.__functionName="sap.fe.core.formatters.KPIFormatter#labelFormat";const r=function(t,r,s,n,o){const i=e.getLibraryResourceBundle("sap.fe.core");const a=n?`C_KPI_TOOLTIP_${n.toUpperCase()}`:"C_KPI_TOOLTIP_NONE";let u;if(o==="true"){if(!s){u=i.getText("C_KPI_TOOLTIP_AMOUNT_MULTIUNIT")}else{u=`${r} ${s}`}}else{u=r}return i.getText(a,[t,u])};r.__functionName="sap.fe.core.formatters.KPIFormatter#tooltipFormat";const s=function(e){if(s.hasOwnProperty(e)){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}return s[e].apply(this,r)}else{return""}};s.labelFormat=t;s.tooltipFormat=r;return s},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/StandardFormatter", ["sap/fe/core/controls/Any","sap/fe/core/helpers/BindingToolkit"],function(t,e){"use strict";var r=e.transformRecursively;var n=e.constant;var o=e.compileExpression;const a=function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++){a[i-1]=arguments[i]}const c=JSON.parse(t);r(c,"PathInModel",t=>{if(t.modelName==="$"){return n(a[parseInt(t.path.substring(1),10)])}return t},true);r(c,"ComplexType",t=>{const e=o(t);if(e){return n(s(e,this))}return n(e)});const u=o(c);return s(u,this)};const s=function(e,r){const n=new t({anyText:e});n.setModel(r.getModel());n.setBindingContext(r.getBindingContext());return n.getAnyText()};a.__functionName="sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression";const i=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++){e[r]=arguments[r]}return e.join("")};i.__functionName="sap.fe.core.formatters.StandardFormatter#concat";const c=function(t,e,r){return t?e:r};c.__functionName="sap.fe.core.formatters.StandardFormatter#ifElse";const u=function(t){if(u.hasOwnProperty(t)){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++){r[n-1]=arguments[n]}return u[t].apply(this,r)}else{return""}};const f=function(){return null};f.__functionName="sap.fe.core.formatters.StandardFormatter#loadProperties";u.evaluateComplexExpression=a;u.concat=i;u.ifElse=c;u.loadProperties=f;return u},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/TableFormatter", ["sap/fe/core/formatters/TableFormatterTypes","sap/fe/macros/DelegateUtil","sap/fe/macros/table/TableSizeHelper","sap/ui/mdc/enums/FieldEditMode","../CommonUtils","../helpers/SizeHelper"],function(t,e,n,r,i,a){"use strict";var o=t.MessageType;const s=function(t){switch(t){case"Error":return 4;case"Warning":return 3;case"Information":return 2;case"None":return 1;default:return-1}};const l=function(t){if(!t){return false}const e=Object.keys(t);return e.length>0&&e.every(function(e){return t[e]["validity"]})};l.__functionName="sap.fe.core.formatters.TableFormatter#validateCreationRowFields";const f=function(t,e,n,r){let i=false;if(e&&e.length>0&&(r||n===t)){const t=this.getBindingContext()?this.getBindingContext().getPath():undefined;e.forEach(e=>{if(e.type==="Error"&&e.aTargets[0].indexOf(t)===0){i=true;return i}})}return i};f.__functionName="sap.fe.core.formatters.TableFormatter#getErrorStatusTextVisibilityFormatter";const u=function(t,e,n,r,i){var a;let l=-1;if(e&&e.length>0){var f;const n=(f=this.getBindingContext())===null||f===void 0?void 0:f.getPath();e.forEach(e=>{if(e.aTargets[0].indexOf(n)===0&&l<s(e.type)){l=s(e.type);t=e.type}})}if(typeof t!=="string"){switch(t){case 1:t=o.Error;break;case 2:t=o.Warning;break;case 3:t=o.Success;break;case 5:t=o.Information;break;default:t=o.None}}if(t!==o.None){return t}const u=((a=this.getBindingContext())===null||a===void 0?void 0:a.isInactive())??false;const c=!n&&!r&&!u;return i==="true"&&c?o.Information:o.None};u.__functionName="sap.fe.core.formatters.TableFormatter#rowHighlighting";const c=function(t){var e;const n=(e=this.getBindingContext())===null||e===void 0?void 0:e.getPath();if(n&&t){return t.indexOf(n)===0}else{return false}};c.__functionName="sap.fe.core.formatters.TableFormatter#navigatedRow";const g=function(t,i,o){var s,l;let f=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;let u=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;if(!i){return null}const c=this.getParent();const g=e.getCachedProperties(c);if(!g)return null;const d=g.find(t=>t.name===o);if(!d)return null;let m=n.getMDCColumnWidthFromProperty(d,g,u);const p=((s=d.exportSettings)===null||s===void 0?void 0:s.unit)||((l=d.exportSettings)===null||l===void 0?void 0:l.timezone);m+=p?a.getButtonWidth(p):0;if(t===r.Editable){var y;switch((y=d.typeConfig)===null||y===void 0?void 0:y.baseType){case"Date":case"Time":case"DateTime":m+=2.8;break;default:}}if(f){return m+"rem"}return m};g.__functionName="sap.fe.core.formatters.TableFormatter#getColumnWidth";const d=function(t,e,n){let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const o=i.isSmallDevice();const s=!o;return o&&n||!o&&!n?h.getColumnWidth.call(this,r.Display,t,e,s,a):null};d.__functionName="sap.fe.core.formatters.TableFormatter#getColumnWidthForValueHelpTable";function m(t){if(t.isA("sap.fe.macros.controls.FieldWrapper")){const e=Array.isArray(t.getContentDisplay())?t.getContentDisplay()[0]:t.getContentDisplay();if(e&&e.isA("sap.m.RatingIndicator")){return true}}return false}function p(t,e){const n=Array.isArray(t.getContentDisplay())?t.getContentDisplay()[0]:t.getContentDisplay();const r=Array.isArray(t.getContentEdit())?t.getContentEdit()[0]:t.getContentEdit();if(e){n.addStyleClass("sapUiNoMarginBottom");n.addStyleClass("sapUiNoMarginTop");r.removeStyleClass("sapUiTinyMarginBottom")}else{n.addStyleClass("sapUiNoMarginBottom");n.removeStyleClass("sapUiNoMarginTop");r.addStyleClass("sapUiTinyMarginBottom")}}function y(){const t=this.getItems();let e=false;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++){r[i]=arguments[i]}for(let n=t.length-1;n>=0;n--){if(!e){if(r[n]!==true){e=true;if(m(t[n])){p(t[n],true)}else{t[n].removeStyleClass("sapUiTinyMarginBottom")}}}else if(m(t[n])){p(t[n],false)}else{t[n].addStyleClass("sapUiTinyMarginBottom")}}return true}y.__functionName="sap.fe.core.formatters.TableFormatter#getVBoxVisibility";const h=function(t){if(h.hasOwnProperty(t)){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++){n[r-1]=arguments[r]}return h[t].apply(this,n)}else{return""}};h.validateCreationRowFields=l;h.rowHighlighting=u;h.navigatedRow=c;h.getErrorStatusTextVisibilityFormatter=f;h.getVBoxVisibility=y;h.isRatingIndicator=m;h.getColumnWidth=g;h.getColumnWidthForValueHelpTable=d;return h},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/TableFormatterTypes", [],function(){"use strict";var n={};let r;(function(n){n["Error"]="Error";n["Information"]="Information";n["None"]="None";n["Success"]="Success";n["Warning"]="Warning"})(r||(r={}));n.MessageType=r;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/formatters/ValueFormatter", ["sap/base/strings/whitespaceReplacer","sap/ui/core/Core","sap/ui/core/format/DateFormat"],function(e,t,r){"use strict";var i={};const a=function(e){if(a.hasOwnProperty(e)){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++){r[i-1]=arguments[i]}return a[e].apply(this,r)}else{return""}};const o=(e,r)=>{if(e&&r){return t.getLibraryResourceBundle("sap.fe.core").getText("C_FORMAT_FOR_TEXT_ARRANGEMENT",[e,r])}else{return e||r||""}};o.__functionName="sap.fe.core.formatters.ValueFormatter#formatWithBrackets";const s=(t,r)=>r?o(e(t),e(r)):e(t);s.__functionName="sap.fe.core.formatters.ValueFormatter#formatTitle";const n=e=>e!==null&&e!==undefined?`${e} %`:"";n.__functionName="sap.fe.core.formatters.ValueFormatter#formatWithPercentage";const c=(e,t,r)=>{let i;if(e===undefined){return"0"}const a=typeof e==="string"?parseFloat(e):e;const o=typeof t==="string"?parseFloat(t):t;if(r==="%"){if(a>100){i="100"}else if(a<=0){i="0"}else{i=typeof e==="string"?e:e===null||e===void 0?void 0:e.toString()}}else if(a>o){i="100"}else if(a<=0){i="0"}else{i=a&&o?(a/o*100).toString():"0"}return i};c.__functionName="sap.fe.core.formatters.ValueFormatter#computePercentage";const l=e=>{let t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="sap-icon://message-error"}else if(e==="UI.CriticalityType/Critical"||e==="2"||e===2){t="sap-icon://message-warning"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="sap-icon://message-success"}else if(e==="UI.CriticalityType/Information"||e==="5"||e===5){t="sap-icon://message-information"}else{t=""}return t};l.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityIcon";i.formatCriticalityIcon=l;const f=e=>{let t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="Error"}else if(e==="UI.CriticalityType/Critical"||e==="2"||e===2){t="Warning"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="Success"}else if(e==="UI.CriticalityType/Information"||e==="5"||e===5){t="Information"}else{t="None"}return t};f.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityValueState";i.formatCriticalityValueState=f;const m=e=>{let t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="Reject"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="Accept"}else{t="Default"}return t};m.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityButtonType";i.formatCriticalityButtonType=m;const u=e=>{let t;if(e==="UI.CriticalityType/Negative"||e==="1"||e===1){t="Error"}else if(e==="UI.CriticalityType/Critical"||e==="2"||e===2){t="Critical"}else if(e==="UI.CriticalityType/Positive"||e==="3"||e===3){t="Good"}else{t="Neutral"}return t};u.__functionName="sap.fe.core.formatters.ValueFormatter#formatCriticalityColorMicroChart";i.formatCriticalityColorMicroChart=u;const p=(e,i,a)=>{if(e&&i&&a){var o,s,n;const c=a.split("-");const l=`${c[1]===undefined?a:c[1]}-narrow`;const f=r.getDateInstance();const m=f.oLocaleData.mData;const u=t.getLibraryResourceBundle("sap.fe.macros");let p=a;if(m!==null&&m!==void 0&&(o=m.dateFields[l])!==null&&o!==void 0&&o.displayName){p=m.dateFields[l].displayName}else if(m!==null&&m!==void 0&&(s=m.units)!==null&&s!==void 0&&(n=s.short[a])!==null&&n!==void 0&&n.displayName){p=m.units.short[a].displayName}return u.getText("T_COMMON_PROGRESS_INDICATOR_DISPLAY_VALUE_WITH_UOM",[e,i,p])}};p.__functionName="sap.fe.core.formatters.ValueFormatter#formatProgressIndicatorText";i.formatProgressIndicatorText=p;const y=t=>t===null||t===undefined?"":e(t+"");y.__functionName="sap.fe.core.formatters.ValueFormatter#formatToKeepWhitespace";i.formatToKeepWhitespace=y;a.formatWithBrackets=o;a.formatTitle=s;a.formatWithPercentage=n;a.computePercentage=c;a.formatCriticalityIcon=l;a.formatCriticalityValueState=f;a.formatCriticalityButtonType=m;a.formatCriticalityColorMicroChart=u;a.formatProgressIndicatorText=p;a.formatToKeepWhitespace=y;return a},true);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/fpm/Component", ["sap/fe/core/helpers/ClassSupport","sap/fe/core/TemplateComponent"],function(e,r){"use strict";var i,t,n,a,o,l,u,c,f;var s=e.property;var p=e.defineUI5Class;function b(e,r,i,t){if(!i)return;Object.defineProperty(e,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(t):void 0})}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function d(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;v(e,r)}function v(e,r){v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(r,i){r.__proto__=i;return r};return v(e,r)}function w(e,r,i,t,n){var a={};Object.keys(t).forEach(function(e){a[e]=t[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=i.slice().reverse().reduce(function(i,t){return t(e,r,i)||i},a);if(n&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(n):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,r,a);a=null}return a}function y(e,r){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let h=(i=p("sap.fe.core.fpm.Component",{manifest:"json"}),t=s({type:"string"}),n=s({type:"string"}),a=s({type:"string"}),i(o=(l=function(e){d(r,e);function r(r){var i;if(r.viewType==="JSX"){r._mdxViewName=r.viewName;r.viewName="module:sap/fe/core/jsx-runtime/ViewLoader";delete r.cache}i=e.call(this,r)||this;b(i,"viewName",u,m(i));b(i,"controllerName",c,m(i));b(i,"_mdxViewName",f,m(i));return i}return r}(r),u=w(l.prototype,"viewName",[t],{configurable:true,enumerable:true,writable:true,initializer:null}),c=w(l.prototype,"controllerName",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),f=w(l.prototype,"_mdxViewName",[a],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),l))||o);return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/AdaptiveCardExpressionCompiler", ["sap/base/Log","sap/fe/core/helpers/BindingToolkit"],function(e,t){"use strict";var r={};var n=t.wrapPrimitive;var o=t.isPathInModelExpression;var s=t.isConstant;var a=t.isBindingToolkitExpression;var c=t.escapeXmlAttribute;const i="$";const p={"||":"or","&&":"and"};const u=function(e){return!s(e)&&!o(e)&&a(e)&&e._type!=="IfElse"&&e._type!=="Comparison"&&e._type!=="Not"};function l(e,t){let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(t){if(r){return`(${e})`}else{return e}}else{return`${i}{${e}}`}}function d(t,r){function n(e){const t=m(e,r,true)??"undefined";return l(t,true,u(e))}const{operand1:o,operand2:s,operator:a}=t;let c;switch(a){case"===":c=`equals(${n(o)},${n(s)})`;break;case"!==":c=`not(equals(${n(o)},${n(s)}))`;break;case">=":c=`greaterOrEquals(${n(t.operand1)},${n(s)})`;break;case">":c=`greater(${n(o)},${n(s)})`;break;case"<=":c=`lessOrEquals(${n(o)},${n(s)})`;break;case"<":c=`less(${n(o)},${n(s)})`;break;default:e.warning(`Adaptive card expression compiler: ${a} not supported.`)}return`${c}`}function f(e,t){if(e.value===null||e.value===undefined){return e.value}if(typeof e.value==="object"){throw Error(`${e.toString()} : object as value not supported.`)}if(t){switch(typeof e.value){case"number":case"bigint":case"boolean":return e.value.toString();case"string":return`'${c(e.value.toString())}'`;default:return""}}else{return e.value.toString()}}r.compileConstant=f;function $(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";const r=m(e,t);let n=h(e);if(t&&n.length>0){n=n.map(e=>`${t.replaceAll("/",".")}.${e}`)}return{pathsToQuery:n,compiledExpression:r}}r.getAdaptiveCompilerResult=$;function m(t){let r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let s;try{const e=n(t);switch(e._type){case"Unresolvable":s=undefined;break;case"Constant":s=f(e,o);break;case"PathInModel":s=g(e,r,o);break;case"Comparison":{const t=d(e,r);s=l(t,o);break}case"IfElse":{const t=m(e.condition,r,true);const n=m(e.onTrue,r,true);const a=m(e.onFalse,r,true);const c=`if(${t},${n},${a})`;s=l(c,o);break}case"Set":{const t=e.operands.map(e=>m(e,r,true));const n=p[e.operator];const a=`${n}(${t.join(",")})`;s=l(a,o);break}case"Not":{const t=`not(${m(e.operand,r,true)})`;s=l(t,o);break}case"Truthy":{const t=`not(not(${m(e.operand,r,true)}))`;s=l(t,o);break}case"Ref":case"Function":case"EmbeddedExpressionBinding":case"EmbeddedBinding":case"Concat":case"Length":case"Formatter":case"ComplexType":default:throw Error(`${e._type} : expression type is not supported.`)}}catch(t){const r=t instanceof Error?t.message:String(t);e.error(`Adaptive card expression compiler : ${r}`)}return s}r.compileToAdaptiveExpression=m;function b(e,t){const{modelName:r,path:n}=e;if(r){throw Error(`${r}>${n} : path in model not supported.`)}const o=t?`${t}.`:t;const s=`${o}${n}`;return s.replace("/",".")}function g(e,t,r){if(e.type||e.parameters||e.targetType||e.formatOptions||e.constraints){throw Error(`${e.toString()} : complex binding not supported.`)}else if(r){return`${b(e,t)}`}else{return`${i}{${b(e,t)}}`}}function h(t){let r=[];try{const e=n(t);switch(e._type){case"Unresolvable":throw Error(`${e._type} : expression type is not supported.`);case"Constant":break;case"PathInModel":r=[...r,y(e)];break;case"Comparison":{r=[...r,...E(e)];break}case"IfElse":{const t=h(e.condition);const n=h(e.onTrue);const o=h(e.onFalse);r=[...r,...t,...n,...o];break}case"Set":{const t=e.operands.reduce((e,t)=>[...e,...h(t)],[]);r=[...r,...t];break}case"Not":{const t=h(e.operand);r=[...r,...t];break}case"Truthy":{const t=h(e.operand);r=[...r,...t];break}case"Ref":case"Function":case"EmbeddedExpressionBinding":case"EmbeddedBinding":case"Concat":case"Length":case"Formatter":case"ComplexType":default:throw Error(`${e._type} : expression type is not supported.`)}}catch(t){const r=t instanceof Error?t.message:String(t);e.error(`Adaptive card expression compiler : paths in expression : ${r}`)}r=Array.from(new Set(r));return r}r.getPropertyPathsInExpression=h;function y(e){if(e.type||e.parameters||e.targetType||e.formatOptions||e.constraints){throw Error(`${e.toString()} : complex binding not supported.`)}const{modelName:t,path:r}=e;if(t){throw Error(`${t}>${r} : path in model not supported.`)}return r.replaceAll("/",".")}function E(e){const{operand1:t,operand2:r}=e;return[...h(t),...h(r)]}return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/AnnotationEnum", [],function(){"use strict";var e={};const n={"com.sap.vocabularies.Common.v1.FieldControlType":{Mandatory:7,Optional:3,ReadOnly:0,Inapplicable:0,Disabled:1}};const a=function(e){const[a,o]=e.split("/");if(n.hasOwnProperty(a)){return n[a][o]}else{return false}};e.resolveEnumValue=a;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/AppStartupHelper", ["sap/ui/model/Filter","sap/ui/model/FilterOperator","./ModelHelper"],function(e,t,n){"use strict";const r={_getKeysFromStartupParams:function(e,t){let n=true;const r=e.map(e=>{if(t[e]&&t[e].length===1){return{name:e,value:t[e][0]}}else{n=false;return{name:e,value:""}}});return n?r:undefined},_createFilterFromKeys:function(r,a,s){const i=n.isFilteringCaseSensitive(s);let o=false;const c=r.map(n=>{if(n.name==="IsActiveEntity"){o=true}return new e({path:n.name,operator:t.EQ,value1:n.value,caseSensitive:i})});if(a&&!o){const t=new e({filters:[new e("IsActiveEntity","EQ",false),new e("SiblingEntity/IsActiveEntity","EQ",null)],and:false});c.push(t)}return new e(c,true)},_requestObjectsFromParameters:function(e,t){const n=e.map(e=>{const n=e.semanticKeys||e.technicalKeys||[];const r=this._createFilterFromKeys(n,e.draftMode,t.getMetaModel());const a=t.bindList(e.contextPath,undefined,undefined,r,{$select:n.map(e=>e.name).join(",")});return a.requestContexts(0,2)});return Promise.all(n)},_getReachablePageInfoFromRoute:function(e,t,n,r){var a,s;let i=e.pattern.replace(":?query:","");i=i.replace(/\/$/,"");if(!i||!i.endsWith(")")){return undefined}i=i.replace(/\(\{[^}]*\}\)/g,"(#)");const o=Array.isArray(e.target)?e.target[e.target.length-1]:e.target;const c=t.targets[o];const u=i.split("/");const l=u.length-1;if(l!==0&&(c===null||c===void 0?void 0:(a=c.options)===null||a===void 0?void 0:(s=a.settings)===null||s===void 0?void 0:s.allowDeepLinking)!==true){return undefined}const f=c.options.settings.contextPath||c.options.settings.entitySet&&`/${c.options.settings.entitySet}`;const g=f&&r.getObject(`/$EntityContainer${f}/`);if(!g){return undefined}const p=r.getObject(`/$EntityContainer${f}/@com.sap.vocabularies.Common.v1.SemanticKey`);const h=p?this._getKeysFromStartupParams(p.map(e=>e.$PropertyPath),n):undefined;const d=!h&&l===0?this._getKeysFromStartupParams(g["$Key"],n):undefined;if(h===undefined&&d===undefined){return undefined}const m=r.getObject(`/$EntityContainer${f}@com.sap.vocabularies.Common.v1.DraftRoot`)||r.getObject(`/$EntityContainer${f}@com.sap.vocabularies.Common.v1.DraftNode`)?true:false;return{pattern:i,contextPath:f,draftMode:m,technicalKeys:d,semanticKeys:h,target:o,pageLevel:l}},_getReachablePages:function(e,t,n){const r=e.routes;const a={};r.forEach(r=>{const s=this._getReachablePageInfoFromRoute(r,e,t,n);if(s){if(!a[s.pageLevel]){a[s.pageLevel]=[]}a[s.pageLevel].push(s)}});const s=[];let i=0;while(a[i]){s.push(a[i]);i++}return s},_getStartupPagesFromStartupParams:function(e,t,n){const r=this._getReachablePages(e,t,n);if(r.length===0){return[]}let a=[];const s=[];function i(e){const t=r[e];const n=s.length?s[s.length-1]:undefined;if(t){t.forEach(function(t){if(!n||t.pattern.indexOf(n.pattern)===0){s.push(t);i(e+1);s.pop()}})}if(s.length>a.length){a=s.slice()}}i(0);return a},_getDeepLinkObject:function(e,t){if(t.length===1){return{context:t[0]}}else if(t.length>1){let n=e[e.length-1].pattern;t.forEach(function(e){n=n.replace("(#)",`(${e.getPath().split("(")[1]}`)});return{hash:n}}else{return{}}},getDeepLinkStartupHash:function(e,t,n){let r;return n.getMetaModel().requestObject("/$EntityContainer/").then(()=>{r=this._getStartupPagesFromStartupParams(e,t,n.getMetaModel());return this._requestObjectsFromParameters(r,n)}).then(e=>{if(e.length){const t=[];e.forEach(function(e){if(e.length===1){t.push(e[0])}});return t.length===e.length?this._getDeepLinkObject(r,t):{}}else{return{}}})},getCreateStartupHash:function(e,t,n,r){return r.requestObject(`${t}@`).then(a=>{let s="";let i=true;if(a["@com.sap.vocabularies.Common.v1.DraftRoot"]&&a["@com.sap.vocabularies.Common.v1.DraftRoot"]["NewAction"]){s=`${t}@com.sap.vocabularies.Common.v1.DraftRoot/NewAction@Org.OData.Core.V1.OperationAvailable`}else if(a["@com.sap.vocabularies.Session.v1.StickySessionSupported"]&&a["@com.sap.vocabularies.Session.v1.StickySessionSupported"]["NewAction"]){s=`${t}@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction@Org.OData.Core.V1.OperationAvailable`}if(s){const e=r.getObject(s);if(e===false){i=false}}else{const e=a["@Org.OData.Capabilities.V1.InsertRestrictions"];if(e&&e.Insertable===false){i=false}}if(i){return this.getDefaultCreateHash(e,t,n)}else{return""}})},getDefaultCreateHash:function(e,t,n){let r=e&&e.preferredMode?e.preferredMode[0]:"create";let a="";r=r.includes(":")&&r.length>r.indexOf(":")+1?r.substring(0,r.indexOf(":")):"create";a=`${t.substring(1)}(...)?i-action=${r}`;if(n.getRouteInfoByHash(a)){return a}else{throw new Error(`No route match for creating a new ${t.substring(1)}`)}}};return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/BindingHelper", ["sap/fe/core/helpers/BindingToolkit"],function(t){"use strict";var e={};var i=t.pathInModel;var n=t.or;var s=t.not;var a=t.equal;var r=t.and;const o={IsCreateMode:i("createMode","ui"),IsEditable:i("/isEditable","ui"),IsTransientBinding:a(i("@$ui5.context.isTransient"),true),IsTotal:a(i("@$ui5.node.isTotal"),true),IsExpanded:a(i("@$ui5.node.isExpanded"),true),NodeLevel:i("@$ui5.node.level"),IsInactive:i("@$ui5.context.isInactive")};e.UI=o;const u={HasDraft:i("HasDraftEntity"),HasActive:i("HasActiveEntity"),IsActive:i("IsActiveEntity")};e.Entity=u;const c={IsNewObject:r(s(u.HasActive),s(u.IsActive)),HasNoDraftForCurrentUser:n(s(u.HasDraft),r(u.HasDraft,s(i("DraftAdministrativeData/DraftIsCreatedByMe"))))};e.Draft=c;function d(t,e){return t.singletons.find(t=>t.fullyQualifiedName===e)}const f=function(t,e,i){if(t.indexOf("/")===0){const i=t.split("/").filter(Boolean),n=i.pop(),s=i.join("/"),a=d(e,s);if(a){t=`/${a.name}/${n}`}}else{const e=i.concat();e.push(t);t=e.join("/")}return t};e.singletonPathVisitor=f;function l(t,e,i){if(i){const e=`${i===null||i===void 0?void 0:i.substring(i.lastIndexOf("/")+1)}/`;if(t.startsWith(e)){return t.substring(e.length)}}return f(t,e,[])}e.bindingContextPathVisitor=l;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/BindingToolkit", ["sap/fe/core/helpers/TypeGuards","./AnnotationEnum"],function(e,n){"use strict";var t={};var r=n.resolveEnumValue;var a=e.isProperty;const o={"Edm.Boolean":{type:"sap.ui.model.odata.type.Boolean"},"Edm.Byte":{type:"sap.ui.model.odata.type.Byte"},"Edm.Date":{type:"sap.ui.model.odata.type.Date"},"Edm.DateTimeOffset":{constraints:{$Precision:"precision",$V4:"V4"},type:"sap.ui.model.odata.type.DateTimeOffset"},"Edm.Decimal":{constraints:{"@Org.OData.Validation.V1.Minimum/$Decimal":"minimum","@Org.OData.Validation.V1.Minimum@Org.OData.Validation.V1.Exclusive":"minimumExclusive","@Org.OData.Validation.V1.Maximum/$Decimal":"maximum","@Org.OData.Validation.V1.Maximum@Org.OData.Validation.V1.Exclusive":"maximumExclusive",$Precision:"precision",$Scale:"scale"},type:"sap.ui.model.odata.type.Decimal"},"Edm.Double":{type:"sap.ui.model.odata.type.Double"},"Edm.Guid":{type:"sap.ui.model.odata.type.Guid"},"Edm.Int16":{type:"sap.ui.model.odata.type.Int16"},"Edm.Int32":{type:"sap.ui.model.odata.type.Int32"},"Edm.Int64":{type:"sap.ui.model.odata.type.Int64"},"Edm.SByte":{type:"sap.ui.model.odata.type.SByte"},"Edm.Single":{type:"sap.ui.model.odata.type.Single"},"Edm.Stream":{type:"sap.ui.model.odata.type.Stream"},"Edm.Binary":{type:"sap.ui.model.odata.type.Stream"},"Edm.String":{constraints:{"@com.sap.vocabularies.Common.v1.IsDigitSequence":"isDigitSequence",$MaxLength:"maxLength",$Nullable:"nullable"},type:"sap.ui.model.odata.type.String"},"Edm.TimeOfDay":{constraints:{$Precision:"precision"},type:"sap.ui.model.odata.type.TimeOfDay"}};t.EDM_TYPE_MAPPING=o;const i={_type:"Unresolvable"};t.unresolvableExpression=i;function s(e){return e.replace(/'/g,"\\'")}t.escapeXmlAttribute=s;function u(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++){n[t]=arguments[t]}return n.find(e=>e._type==="Unresolvable")!==undefined}t.hasUnresolvableExpression=u;function l(e,n){if(e._type!==n._type){return false}switch(e._type){case"Unresolvable":return false;case"Constant":case"EmbeddedBinding":case"EmbeddedExpressionBinding":return e.value===n.value;case"Not":return l(e.operand,n.operand);case"Truthy":return l(e.operand,n.operand);case"Set":return e.operator===n.operator&&e.operands.length===n.operands.length&&e.operands.every(e=>n.operands.some(n=>l(e,n)));case"IfElse":return l(e.condition,n.condition)&&l(e.onTrue,n.onTrue)&&l(e.onFalse,n.onFalse);case"Comparison":return e.operator===n.operator&&l(e.operand1,n.operand1)&&l(e.operand2,n.operand2);case"Concat":const t=e.expressions;const r=n.expressions;if(t.length!==r.length){return false}return t.every((e,n)=>l(e,r[n]));case"Length":return l(e.pathInModel,n.pathInModel);case"PathInModel":return e.modelName===n.modelName&&e.path===n.path&&e.targetEntitySet===n.targetEntitySet;case"Formatter":return e.fn===n.fn&&e.parameters.length===n.parameters.length&&e.parameters.every((e,t)=>l(n.parameters[t],e));case"ComplexType":return e.type===n.type&&e.bindingParameters.length===n.bindingParameters.length&&e.bindingParameters.every((e,t)=>l(n.bindingParameters[t],e));case"Function":const a=n;if(e.obj===undefined||a.obj===undefined){return e.obj===a}return e.fn===a.fn&&l(e.obj,a.obj)&&e.parameters.length===a.parameters.length&&e.parameters.every((e,n)=>l(a.parameters[n],e));case"Ref":return e.ref===n.ref}return false}t._checkExpressionsAreEqual=l;function d(e){return e.operands.reduce((n,t)=>{const r=t._type==="Set"&&t.operator===e.operator?t.operands:[t];r.forEach(e=>{if(n.operands.every(n=>!l(n,e))){n.operands.push(e)}});return n},{_type:"Set",operator:e.operator,operands:[]})}function p(e){const n=e.map(m);return e.some((e,t)=>{for(let r=t+1;r<n.length;r++){if(l(e,n[r])){return true}}return false})}function f(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++){n[t]=arguments[t]}const r=d({_type:"Set",operator:"&&",operands:n.map(E)}).operands;if(u(...r)){return i}let a=false;const o=r.filter(e=>{if(P(e)){a=true}return!I(e)});if(a){return g(false)}else if(o.length===0){const e=r.reduce((e,n)=>e&&_(n),true);return g(e)}else if(o.length===1){return o[0]}else if(p(o)){return g(false)}else{return{_type:"Set",operator:"&&",operands:o}}}t.and=f;function c(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++){n[t]=arguments[t]}const r=d({_type:"Set",operator:"||",operands:n.map(E)}).operands;if(u(...r)){return i}let a=false;const o=r.filter(e=>{if(_(e)){a=true}return!I(e)||e.value});if(a){return g(true)}else if(o.length===0){const e=r.reduce((e,n)=>e&&_(n),true);return g(e)}else if(o.length===1){return o[0]}else if(p(o)){return g(true)}else{return{_type:"Set",operator:"||",operands:o}}}t.or=c;function m(e){e=E(e);if(u(e)){return i}else if(I(e)){return g(!e.value)}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="||"&&e.operands.every(e=>I(e)||S(e))){return f(...e.operands.map(e=>m(e)))}else if(typeof e==="object"&&e._type==="Set"&&e.operator==="&&"&&e.operands.every(e=>I(e)||S(e))){return c(...e.operands.map(e=>m(e)))}else if(S(e)){switch(e.operator){case"!==":return{...e,operator:"==="};case"<":return{...e,operator:">="};case"<=":return{...e,operator:">"};case"===":return{...e,operator:"!=="};case">":return{...e,operator:"<="};case">=":return{...e,operator:"<"}}}else if(e._type==="Not"){return e.operand}return{_type:"Not",operand:e}}t.not=m;function y(e){if(I(e)){return g(!!e.value)}else{return{_type:"Truthy",operand:e}}}t.isTruthy=y;function v(e,n){let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];let r=arguments.length>3?arguments[3]:undefined;return h(e,n,t,r)}t.bindingExpression=v;function h(e,n){let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];let r=arguments.length>3?arguments[3]:undefined;if(e===undefined){return i}let a;if(r){a=r(e);if(a===undefined){return i}}else{const n=t.concat();n.push(e);a=n.join("/")}return{_type:"PathInModel",modelName:n,path:a}}t.pathInModel=h;function g(e){let n;if(typeof e==="object"&&e!==null&&e!==undefined){if(Array.isArray(e)){n=e.map(E)}else if(N(e)){n=e.valueOf()}else{n=Object.entries(e).reduce((e,n)=>{let[t,r]=n;const a=E(r);if(a._type!=="Constant"||a.value!==undefined){e[t]=a}return e},{})}}else{n=e}return{_type:"Constant",value:n}}t.constant=g;function $(e,n){if(e!==undefined&&typeof e==="string"&&e.startsWith("{")){const n=/^{(.*)>(.+)}$/;const t=n.exec(e);if(e.startsWith("{=")){return{_type:"EmbeddedExpressionBinding",value:e}}else if(t){return h(t[2]||"",t[1]||undefined)}else{return{_type:"EmbeddedBinding",value:e}}}else if(n==="boolean"&&typeof e==="string"&&(e==="true"||e==="false")){return g(e==="true")}else if(n==="number"&&typeof e==="string"&&(!isNaN(Number(e))||e==="NaN")){return g(Number(e))}else{return g(e)}}t.resolveBindingString=$;function b(e){return{_type:"Ref",ref:e}}t.ref=b;function E(e){if(O(e)){return e}return g(e)}t.wrapPrimitive=E;function O(e){return(e===null||e===void 0?void 0:e._type)!==undefined}t.isBindingToolkitExpression=O;function I(e){return typeof e!=="object"||e._type==="Constant"}t.isConstant=I;function _(e){return I(e)&&e.value===true}function P(e){return I(e)&&e.value===false}function x(e){return(e===null||e===void 0?void 0:e._type)==="PathInModel"}t.isPathInModelExpression=x;function C(e){return(e===null||e===void 0?void 0:e._type)==="ComplexType"}t.isComplexTypeExpression=C;function F(e){return(e===null||e===void 0?void 0:e._type)==="Concat"}function S(e){return e._type==="Comparison"}function T(e){const n=e;return(n===null||n===void 0?void 0:n._type)==="Constant"&&(n===null||n===void 0?void 0:n.value)===undefined}t.isUndefinedExpression=T;function N(e){switch(e.constructor.name){case"String":case"Number":case"Boolean":return true;default:return false}}function D(e){return typeof e==="object"&&!N(e)}function M(e){var n;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let r=arguments.length>2?arguments[2]:undefined;let a=arguments.length>3?arguments[3]:undefined;if(e===undefined){return E(r)}e=(n=e)===null||n===void 0?void 0:n.valueOf();if(!D(e)){return g(e)}switch(e.type){case"Path":return h(e.path,undefined,t,a);case"If":return A(e.If,t,a);case"Not":return m(w(e.Not,t,a));case"Eq":return B(w(e.Eq[0],t,a),w(e.Eq[1],t,a));case"Ne":return q(w(e.Ne[0],t,a),w(e.Ne[1],t,a));case"Gt":return U(w(e.Gt[0],t,a),w(e.Gt[1],t,a));case"Ge":return G(w(e.Ge[0],t,a),w(e.Ge[1],t,a));case"Lt":return W(w(e.Lt[0],t,a),w(e.Lt[1],t,a));case"Le":return Y(w(e.Le[0],t,a),w(e.Le[1],t,a));case"Or":return c(...e.Or.map(function(e){return w(e,t,a)}));case"And":return f(...e.And.map(function(e){return w(e,t,a)}));case"Apply":return V(e,t,a)}return i}t.getExpressionFromAnnotation=M;function w(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let t=arguments.length>2?arguments[2]:undefined;if(e===null||typeof e!=="object"){return g(e)}else if(e.hasOwnProperty("$Or")){return c(...e.$Or.map(function(e){return w(e,n,t)}))}else if(e.hasOwnProperty("$And")){return f(...e.$And.map(function(e){return w(e,n,t)}))}else if(e.hasOwnProperty("$Not")){return m(w(e.$Not,n,t))}else if(e.hasOwnProperty("$Eq")){return B(w(e.$Eq[0],n,t),w(e.$Eq[1],n,t))}else if(e.hasOwnProperty("$Ne")){return q(w(e.$Ne[0],n,t),w(e.$Ne[1],n,t))}else if(e.hasOwnProperty("$Gt")){return U(w(e.$Gt[0],n,t),w(e.$Gt[1],n,t))}else if(e.hasOwnProperty("$Ge")){return G(w(e.$Ge[0],n,t),w(e.$Ge[1],n,t))}else if(e.hasOwnProperty("$Lt")){return W(w(e.$Lt[0],n,t),w(e.$Lt[1],n,t))}else if(e.hasOwnProperty("$Le")){return Y(w(e.$Le[0],n,t),w(e.$Le[1],n,t))}else if(e.hasOwnProperty("$Path")){return h(e.$Path,undefined,n,t)}else if(e.hasOwnProperty("$Apply")){return M({type:"Apply",Function:e.$Function,Apply:e.$Apply},n,undefined,t)}else if(e.hasOwnProperty("$If")){return M({type:"If",If:e.$If},n,undefined,t)}else if(e.hasOwnProperty("$EnumMember")){return g(r(e.$EnumMember))}return g(false)}function A(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let t=arguments.length>2?arguments[2]:undefined;return R(w(e[0],n,t),w(e[1],n,t),w(e[2],n,t))}t.annotationIfExpression=A;function j(e){let n=e;if(e.hasOwnProperty("$Path")){n={type:"Path",path:e.$Path}}else if(e.hasOwnProperty("$If")){n={type:"If",If:e.$If}}else if(e.hasOwnProperty("$Apply")){n={type:"Apply",Function:e.$Function,Apply:e.$Apply}}return n}function V(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];let t=arguments.length>2?arguments[2]:undefined;switch(e.Function){case"odata.concat":return te(...e.Apply.map(e=>M(j(e),n,undefined,t)));case"odata.uriEncode":const r=M(j(e.Apply[0]),n,undefined,t);return ee("odata.uriEncode",[r,"Edm.String"],undefined,true);case"odata.fillUriTemplate":const a=e.Apply[0];const o=e.Apply.slice(1);const i={};o.forEach(e=>{i[e.$Name]=M(j(e.$LabeledElement),n,undefined,t)});return ee("odata.fillUriTemplate",[a,i],undefined,true)}return i}t.annotationApplyExpression=V;function L(e,n,t){const r=E(n);const a=E(t);if(u(r,a)){return i}if(I(r)&&I(a)){switch(e){case"!==":return g(r.value!==a.value);case"===":return g(r.value===a.value);case"<":if(r.value===null||r.value===undefined||a.value===null||a.value===undefined){return g(false)}return g(r.value<a.value);case"<=":if(r.value===null||r.value===undefined||a.value===null||a.value===undefined){return g(false)}return g(r.value<=a.value);case">":if(r.value===null||r.value===undefined||a.value===null||a.value===undefined){return g(false)}return g(r.value>a.value);case">=":if(r.value===null||r.value===undefined||a.value===null||a.value===undefined){return g(false)}return g(r.value>=a.value)}}else{return{_type:"Comparison",operator:e,operand1:r,operand2:a}}}function k(e){if(e._type==="Unresolvable"){return e}return{_type:"Length",pathInModel:e}}t.length=k;function B(e,n){const t=E(e);const r=E(n);if(u(t,r)){return i}if(l(t,r)){return g(true)}function a(e,n){if(e._type==="Comparison"&&_(n)){return e}else if(e._type==="Comparison"&&P(n)){return m(e)}else if(e._type==="IfElse"&&l(e.onTrue,n)){return c(e.condition,B(e.onFalse,n))}else if(e._type==="IfElse"&&l(e.onFalse,n)){return c(m(e.condition),B(e.onTrue,n))}else if(e._type==="IfElse"&&I(e.onTrue)&&I(e.onFalse)&&I(n)&&!l(e.onTrue,n)&&!l(e.onFalse,n)){return g(false)}return undefined}const o=a(t,r)??a(r,t);return o??L("===",t,r)}t.equal=B;function q(e,n){return m(B(e,n))}t.notEqual=q;function G(e,n){return L(">=",e,n)}t.greaterOrEqual=G;function U(e,n){return L(">",e,n)}t.greaterThan=U;function Y(e,n){return L("<=",e,n)}t.lessOrEqual=Y;function W(e,n){return L("<",e,n)}t.lessThan=W;function R(e,n,t){let r=E(e);let a=E(n);let o=E(t);if(r._type==="Not"){[a,o]=[o,a];r=m(r)}if(a._type==="IfElse"&&l(r,a.condition)){a=a.onTrue}if(o._type==="IfElse"&&l(r,o.condition)){o=o.onFalse}if(I(r)){return r.value?a:o}if(l(a,o)){return a}if(P(o)){return f(r,a)}if(_(o)){return c(m(r),a)}if(P(a)){return f(m(r),o)}if(_(a)){return c(r,o)}if(u(r,a,o)){return i}if(C(e)||C(n)||C(t)){let r=0;const a=J([e,n,t],"sap.fe.core.formatters.StandardFormatter#ifElse");const o=[];re(a,"PathInModel",e=>{o.push(e);return h(`$${r++}`,"$")},true);o.unshift(g(JSON.stringify(a)));return J(o,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"IfElse",condition:r,onTrue:a,onFalse:o}}t.ifElse=R;function Q(e){switch(e._type){case"Constant":case"Formatter":case"ComplexType":return false;case"Set":return e.operands.some(Q);case"PathInModel":return e.modelName===undefined;case"Comparison":return Q(e.operand1)||Q(e.operand2);case"IfElse":return Q(e.condition)||Q(e.onTrue)||Q(e.onFalse);case"Not":case"Truthy":return Q(e.operand);default:return false}}function J(e,n,t){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const a=e.map(E);if(u(...a)){return i}if(t){if(!a.some(Q)){t.keys.forEach(e=>a.push(h(e.name,"")))}}let o="";if(typeof n==="string"){o=n}else{o=n.__functionName}const[s,l]=o.split("#");if(!r&&(a.some(C)||a.some(F))){let e=0;const n=J(a,o,undefined,true);const t=[];re(n,"PathInModel",n=>{t.push(n);return h(`$${e++}`,"$")});t.unshift(g(JSON.stringify(n)));return J(t,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}else if(!!l&&l.length>0){a.unshift(g(l))}return{_type:"Formatter",fn:s,parameters:a}}t.formatResult=J;function K(e,n){var t,r,a,o,i,s,u,l,d,p,f,c,m;const y={};if(e!==null&&e!==void 0&&(t=e.constraints)!==null&&t!==void 0&&t.$Scale&&n.scale!==undefined){y.scale=n.scale}if(e!==null&&e!==void 0&&(r=e.constraints)!==null&&r!==void 0&&r.$Precision&&n.precision!==undefined){y.precision=n.precision}if(e!==null&&e!==void 0&&(a=e.constraints)!==null&&a!==void 0&&a.$MaxLength&&n.maxLength!==undefined){y.maxLength=n.maxLength}if(n.nullable===false){y.nullable=false}if(e!==null&&e!==void 0&&(o=e.constraints)!==null&&o!==void 0&&o["@Org.OData.Validation.V1.Minimum/$Decimal"]&&!isNaN((i=n.annotations)===null||i===void 0?void 0:(s=i.Validation)===null||s===void 0?void 0:s.Minimum)){var v,h;y.minimum=`${(v=n.annotations)===null||v===void 0?void 0:(h=v.Validation)===null||h===void 0?void 0:h.Minimum}`}if(e!==null&&e!==void 0&&(u=e.constraints)!==null&&u!==void 0&&u["@Org.OData.Validation.V1.Maximum/$Decimal"]&&!isNaN((l=n.annotations)===null||l===void 0?void 0:(d=l.Validation)===null||d===void 0?void 0:d.Maximum)){var g,$;y.maximum=`${(g=n.annotations)===null||g===void 0?void 0:($=g.Validation)===null||$===void 0?void 0:$.Maximum}`}if((p=n.annotations)!==null&&p!==void 0&&(f=p.Common)!==null&&f!==void 0&&f.IsDigitSequence&&e.type==="sap.ui.model.odata.type.String"&&e!==null&&e!==void 0&&(c=e.constraints)!==null&&c!==void 0&&c["@com.sap.vocabularies.Common.v1.IsDigitSequence"]){y.isDigitSequence=true}if(e!==null&&e!==void 0&&(m=e.constraints)!==null&&m!==void 0&&m.$V4){y.V4=true}return y}t.setUpConstraints=K;function X(e,n){var t,r,i;let s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const u=n;if(e._type!=="Property"&&e._type!=="ActionParameter"){return u}const l=o[e.type];if(!l){return u}if(!u.formatOptions){u.formatOptions={}}u.constraints={};u.type=l.type;if(!s){u.constraints=K(l,e)}if((u===null||u===void 0?void 0:(t=u.type)===null||t===void 0?void 0:t.indexOf("sap.ui.model.odata.type.Int"))===0&&(u===null||u===void 0?void 0:u.type)!=="sap.ui.model.odata.type.Int64"||(u===null||u===void 0?void 0:u.type)==="sap.ui.model.odata.type.Double"){u.formatOptions=Object.assign(u.formatOptions,{parseAsString:false})}if(u.type==="sap.ui.model.odata.type.String"&&a(e)){var d,p;if(!((d=u.constraints)!==null&&d!==void 0&&d.isDigitSequence)||((p=u.constraints)===null||p===void 0?void 0:p.nullable)===false){u.formatOptions.parseKeepsEmptyString=true}const n=Z(e);if(n){u.formatOptions.fiscalType=n;u.type="sap.fe.core.type.FiscalDate"}}const f=["sap.ui.model.odata.type.Int16","sap.ui.model.odata.type.Int32","sap.ui.model.odata.type.Int64","sap.ui.model.odata.type.Single","sap.ui.model.odata.type.Double","sap.ui.model.odata.type.Decimal","sap.ui.model.odata.type.Byte","sap.ui.model.odata.type.SByte"];if(((r=u.constraints)===null||r===void 0?void 0:r.nullable)===false&&u.type&&f.includes(u.type)){u.formatOptions=Object.assign(u.formatOptions,{parseEmptyValueToZero:true})}if(((i=u.constraints)===null||i===void 0?void 0:i.nullable)!==false&&(u.type==="sap.ui.model.odata.type.Int64"||u.type==="sap.ui.model.odata.type.Decimal")){u.formatOptions=Object.assign(u.formatOptions,{emptyString:""})}return u}t.formatWithTypeInformation=X;const Z=function(e){var n,t,r,a,o,i,s,u,l,d,p,f,c,m,y,v;if((n=e.annotations)!==null&&n!==void 0&&(t=n.Common)!==null&&t!==void 0&&t.IsFiscalYear){return"com.sap.vocabularies.Common.v1.IsFiscalYear"}if((r=e.annotations)!==null&&r!==void 0&&(a=r.Common)!==null&&a!==void 0&&a.IsFiscalPeriod){return"com.sap.vocabularies.Common.v1.IsFiscalPeriod"}if((o=e.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&i.IsFiscalYearPeriod){return"com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"}if((s=e.annotations)!==null&&s!==void 0&&(u=s.Common)!==null&&u!==void 0&&u.IsFiscalQuarter){return"com.sap.vocabularies.Common.v1.IsFiscalQuarter"}if((l=e.annotations)!==null&&l!==void 0&&(d=l.Common)!==null&&d!==void 0&&d.IsFiscalYearQuarter){return"com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"}if((p=e.annotations)!==null&&p!==void 0&&(f=p.Common)!==null&&f!==void 0&&f.IsFiscalWeek){return"com.sap.vocabularies.Common.v1.IsFiscalWeek"}if((c=e.annotations)!==null&&c!==void 0&&(m=c.Common)!==null&&m!==void 0&&m.IsFiscalYearWeek){return"com.sap.vocabularies.Common.v1.IsFiscalYearWeek"}if((y=e.annotations)!==null&&y!==void 0&&(v=y.Common)!==null&&v!==void 0&&v.IsDayOfFiscalYear){return"com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"}};t.getFiscalType=Z;function z(e,n,t,r){const a=e.map(E);if(u(...a)){return i}if(a.length===1&&I(a[0])&&!t){return a[0]}else if(t){if(!a.some(Q)){t.keys.forEach(e=>a.push(h(e.name,"")))}}r=H(e[0],r);if(n==="sap.ui.model.odata.type.Unit"){const e=h("/##@@requestUnitsOfMeasure");e.targetType="any";e.mode="OneTime";a.push(e)}else if(n==="sap.ui.model.odata.type.Currency"){const e=h("/##@@requestCurrencyCodes");e.targetType="any";e.mode="OneTime";a.push(e)}return{_type:"ComplexType",type:n,formatOptions:r||{},parameters:{},bindingParameters:a}}t.addTypeInformation=z;function H(e,n){var t;if(!(n&&n.showNumber===false)&&((e===null||e===void 0?void 0:(t=e.type)===null||t===void 0?void 0:t.indexOf("sap.ui.model.odata.type.Int"))===0||(e===null||e===void 0?void 0:e.type)==="sap.ui.model.odata.type.Decimal"||(e===null||e===void 0?void 0:e.type)==="sap.ui.model.odata.type.Double")){if((e===null||e===void 0?void 0:e.type)==="sap.ui.model.odata.type.Int64"||(e===null||e===void 0?void 0:e.type)==="sap.ui.model.odata.type.Decimal"){var r;n=((r=n)===null||r===void 0?void 0:r.showMeasure)===false?{showMeasure:false}:{}}else{var a;n=((a=n)===null||a===void 0?void 0:a.showMeasure)===false?{parseAsString:false,showMeasure:false}:{parseAsString:false}}}return n}function ee(e,n,t){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const a=typeof e==="string"?e:e.__functionName;return{_type:"Function",obj:t!==undefined?E(t):undefined,fn:a,isFormattingFn:r,parameters:n.map(E)}}t.fn=ee;function ne(e){const n=[];re(e,"PathInModel",e=>{n.push(c(B(e,""),B(e,undefined),B(e,null)));return e});return f(...n)}t.isEmpty=ne;function te(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++){n[t]=arguments[t]}const r=n.map(E);if(u(...r)){return i}if(r.every(I)){return g(r.reduce((e,n)=>{if(n.value!==undefined&&n.value!==null){return e+n.value.toString()}return e},""))}else if(r.some(C)){let e=0;const n=J(r,"sap.fe.core.formatters.StandardFormatter#concat",undefined,true);const t=[];re(n,"PathInModel",n=>{t.push(n);return h(`$${e++}`,"$")});t.unshift(g(JSON.stringify(n)));return J(t,"sap.fe.core.formatters.StandardFormatter#evaluateComplexExpression",undefined,true)}return{_type:"Concat",expressions:r}}t.concat=te;function re(e,n,t){let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let a=e;switch(a._type){case"Function":case"Formatter":a.parameters=a.parameters.map(e=>re(e,n,t,r));break;case"Concat":a.expressions=a.expressions.map(e=>re(e,n,t,r));a=te(...a.expressions);break;case"ComplexType":a.bindingParameters=a.bindingParameters.map(e=>re(e,n,t,r));break;case"IfElse":const e=re(a.onTrue,n,t,r);const o=re(a.onFalse,n,t,r);let i=a.condition;if(r){i=re(a.condition,n,t,r)}a=R(i,e,o);break;case"Not":if(r){const e=re(a.operand,n,t,r);a=m(e)}break;case"Truthy":break;case"Set":if(r){const e=a.operands.map(e=>re(e,n,t,r));a=a.operator==="||"?c(...e):f(...e)}break;case"Comparison":if(r){const e=re(a.operand1,n,t,r);const o=re(a.operand2,n,t,r);a=L(a.operator,e,o)}break;case"Constant":const s=a.value;if(typeof s==="object"&&s){Object.keys(s).forEach(e=>{s[e]=re(s[e],n,t,r)})}break;case"Ref":case"Length":case"PathInModel":case"EmbeddedBinding":case"EmbeddedExpressionBinding":case"Unresolvable":break}if(n===a._type){a=t(e)}return a}t.transformRecursively=re;const ae=function(e){return!I(e)&&!x(e)&&O(e)&&e._type!=="IfElse"&&e._type!=="Function"};function oe(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(n&&Object.keys(e.value).length===0){return""}const t=e.value;const r=[];Object.keys(t).forEach(e=>{const a=t[e];const o=de(a,true,false,n);if(o&&o.length>0){r.push(`${e}: ${o}`)}});return`{${r.join(", ")}}`}function ie(e,n){let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(e.value===null){return r?null:"null"}if(e.value===undefined){return r?undefined:"undefined"}if(typeof e.value==="object"){if(Array.isArray(e.value)){const n=e.value.map(e=>de(e,true));return`[${n.join(", ")}]`}else{return oe(e,t)}}if(n){switch(typeof e.value){case"number":case"bigint":case"boolean":return e.value.toString();case"string":return`'${s(e.value.toString())}'`;default:return""}}else{return r?e.value:e.value.toString()}}t.compileConstant=ie;function se(e,n,t){if(e.type||e.parameters||e.targetType||e.formatOptions||e.constraints){const r={path:ye(e),type:e.type,targetType:e.targetType,parameters:e.parameters,formatOptions:e.formatOptions,constraints:e.constraints};const a=de(r,false,false,true);if(n){return`${t}${a}`}return a}else if(n){return`${t}{${ye(e)}}`}else{return`{${ye(e)}}`}}function ue(e){if(e.bindingParameters.length===1){return`{${ce(e.bindingParameters[0],true)}, type: '${e.type}'}`}let n=`], type: '${e.type}'`;if(me(e.formatOptions)){n+=`, formatOptions: ${de(e.formatOptions)}`}if(me(e.parameters)){n+=`, parameters: ${de(e.parameters)}`}n+="}";return`{mode:'TwoWay', parts:[${e.bindingParameters.map(e=>ce(e)).join(",")}${n}`}function le(e,n){let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(n){if(t){return`(${e})`}else{return e}}else{return`{= ${e}}`}}t.wrapBindingExpression=le;function de(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const a=E(e);const o=t?"$":"%";switch(a._type){case"Unresolvable":return undefined;case"Constant":return ie(a,n,r);case"Ref":return a.ref||"null";case"Function":let e=false;if(a.isFormattingFn){re(a,"Function",n=>{if(n!==a&&n.obj===undefined){e=true}return n},true);re(a,"Constant",n=>{if(n!==a&&typeof n.value==="object"){re(n,"PathInModel",n=>{e=true;return n})}return n},true)}const i=`${a.parameters.map(e=>de(e,true)).join(", ")}`;let s=a.obj===undefined?`${a.fn}(${i})`:`${de(a.obj,true)}.${a.fn}(${i})`;if(!n&&e){s=`{= ${s}}`}return s;case"EmbeddedExpressionBinding":return n?`(${a.value.substring(2,a.value.length-1)})`:`${a.value}`;case"EmbeddedBinding":return n?`${o}${a.value}`:`${a.value}`;case"PathInModel":return se(a,n,o);case"Comparison":const u=pe(a);return le(u,n);case"IfElse":const l=`${de(a.condition,true)} ? ${de(a.onTrue,true,t)} : ${de(a.onFalse,true,t)}`;return le(l,n,true);case"Set":const d=a.operands.map(e=>de(e,true)).join(` ${a.operator} `);return le(d,n,true);case"Concat":const p=a.expressions.map(e=>de(e,true,true)).join(" + ");return le(p,n);case"Length":const f=`${de(a.pathInModel,true)}.length`;return le(f,n);case"Not":const c=`!${de(a.operand,true)}`;return le(c,n);case"Truthy":const m=`!!${de(a.operand,true)}`;return le(m,n);case"Formatter":const y=fe(a);return n?`$${y}`:y;case"ComplexType":const v=ue(a);return n?`$${v}`:v;default:return""}}t.compileExpression=de;function pe(e){function n(e){const n=de(e,true)??"undefined";return le(n,true,ae(e))}return`${n(e.operand1)} ${e.operator} ${n(e.operand2)}`}function fe(e){if(e.parameters.length===1){return`{${ce(e.parameters[0],true)}, formatter: '${e.fn}'}`}else{const n=e.parameters.map(e=>{if(e._type==="ComplexType"){return ue(e)}else{return ce(e)}});return`{parts: [${n.join(", ")}], formatter: '${e.fn}'}`}}function ce(e){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let t="";if(e._type==="Constant"){if(e.value===undefined){t=`value: 'undefined'`}else{t=`value: ${ie(e,true)}`}}else if(e._type==="PathInModel"){t=`path: '${ye(e)}'`;t+=e.type?`, type: '${e.type}'`:`, targetType: 'any'`;if(me(e.mode)){t+=`, mode: '${de(e.mode)}'`}if(me(e.constraints)){t+=`, constraints: ${de(e.constraints)}`}if(me(e.formatOptions)){t+=`, formatOptions: ${de(e.formatOptions)}`}if(me(e.parameters)){t+=`, parameters: ${de(e.parameters)}`}}else{return""}return n?t:`{${t}}`}function me(e){return e&&Object.keys(e).length>0}function ye(e){return`${e.modelName?`${e.modelName}>`:""}${e.path}`}return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ClassSupport", ["sap/base/util/merge","sap/base/util/ObjectPath","sap/base/util/uid","sap/ui/base/Metadata","sap/ui/core/mvc/ControllerMetadata"],function(t,e,n,r,o){"use strict";var i={};const a=function(e){e.metadata=t({controllerExtensions:{},properties:{},aggregations:{},associations:{},methods:{},events:{},interfaces:[]},e.metadata||{});return e.metadata};function s(t){return function(e,n){if(!e.override){e.override={}}let r=e.override;if(t){if(!r.extension){r.extension={}}if(!r.extension[t]){r.extension[t]={}}r=r.extension[t]}r[n.toString()]=e[n.toString()]}}i.methodOverride=s;function c(t){return function(e,n){const r=a(e);if(!r.methods[n.toString()]){r.methods[n.toString()]={}}r.methods[n.toString()].overrideExecution=t}}i.extensible=c;function u(){return function(t,e,n){const r=a(t);n.enumerable=true;if(!r.methods[e.toString()]){r.methods[e.toString()]={}}r.methods[e.toString()].public=true}}i.publicExtension=u;function d(){return function(t,e,n){const r=a(t);n.enumerable=true;if(!r.methods[e.toString()]){r.methods[e.toString()]={}}r.methods[e.toString()].public=false}}i.privateExtension=d;function f(){return function(t,e,n){const r=a(t);n.enumerable=true;if(!r.methods[e.toString()]){r.methods[e.toString()]={}}r.methods[e.toString()].final=true}}i.finalExtension=f;function l(t){return function(e,n,r){const o=a(e);delete r.initializer;o.controllerExtensions[n.toString()]=t;return r}}i.usingExtension=l;function g(){return function(t,e){const n=a(t);if(!n.events[e.toString()]){n.events[e.toString()]={}}}}i.event=g;function m(t){return function(e,n,r){const o=a(e);if(!o.properties[n]){o.properties[n]=t}delete r.writable;delete r.initializer;return r}}i.property=m;function p(t){return function(e,n,r){const o=a(e);if(t.multiple===undefined){t.multiple=false}if(!o.aggregations[n]){o.aggregations[n]=t}if(t.isDefault){o.defaultAggregation=n}delete r.writable;delete r.initializer;return r}}i.aggregation=p;function h(t){return function(e,n,r){const o=a(e);if(!o.associations[n]){o.associations[n]=t}delete r.writable;delete r.initializer;return r}}i.association=h;function v(t){return function(e){const n=a(e);n.interfaces.push(t)}}i.implementInterface=v;function y(){return function(t,e){const n=t.constructor;n[e.toString()]=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++){r[o]=arguments[o]}if(r&&r.length){const t=n.getAPI(r[0]);t===null||t===void 0?void 0:t[e.toString()](...r)}}}}i.xmlEventHandler=y;function b(t,e){return function(n){if(!n.prototype.metadata){n.prototype.metadata={}}if(e){for(const t in e){n.prototype.metadata[t]=e[t]}}return S(n,t,n.prototype)}}i.defineUI5Class=b;function x(){return{current:undefined,setCurrent:function(t){this.current=t}}}i.createReference=x;function E(){return function(t,e,n){delete n.writable;delete n.initializer;n.initializer=x;return n}}i.defineReference=E;function S(t,i,a){var s,c,u,d;if(t.getMetadata&&t.getMetadata().isA("sap.ui.core.mvc.ControllerExtension")){Object.getOwnPropertyNames(a).forEach(t=>{const e=Object.getOwnPropertyDescriptor(a,t);if(e&&!e.enumerable){e.enumerable=true}})}const f={};f.metadata=a.metadata||{};f.override=a.override;f.constructor=t;f.metadata.baseType=Object.getPrototypeOf(t.prototype).getMetadata().getName();if((t===null||t===void 0?void 0:(s=t.getMetadata())===null||s===void 0?void 0:s.getStereotype())==="control"){const e=a.renderer||t.renderer||t.render;f.renderer={apiVersion:2};if(typeof e==="function"){f.renderer.render=e}else if(e!=undefined){f.renderer=e}}f.metadata.interfaces=((c=a.metadata)===null||c===void 0?void 0:c.interfaces)||((u=t.metadata)===null||u===void 0?void 0:u.interfaces);Object.keys(t.prototype).forEach(e=>{if(e!=="metadata"){try{f[e]=t.prototype[e]}catch(t){}}});if((d=f.metadata)!==null&&d!==void 0&&d.controllerExtensions&&Object.keys(f.metadata.controllerExtensions).length>0){for(const t in f.metadata.controllerExtensions){f[t]=f.metadata.controllerExtensions[t]}}const l=t.extend(i,f);const g=l.prototype.init;l.prototype.init=function(){var t=this;if(g){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++){n[r]=arguments[r]}g.apply(this,n)}this.metadata=f.metadata;if(f.metadata.properties){const t=Object.keys(f.metadata.properties);t.forEach(t=>{Object.defineProperty(this,t,{configurable:true,set:e=>this.setProperty(t,e),get:()=>this.getProperty(t)})});const e=Object.keys(f.metadata.aggregations);e.forEach(t=>{Object.defineProperty(this,t,{configurable:true,set:e=>this.setAggregation(t,e),get:()=>{const e=this.getAggregation(t);if(f.metadata.aggregations[t].multiple){return e||[]}else{return e}}})});const n=Object.keys(f.metadata.associations);n.forEach(t=>{Object.defineProperty(this,t,{configurable:true,set:e=>this.setAssociation(t,e),get:()=>{const e=this.getAssociation(t);if(f.metadata.associations[t].multiple){return e||[]}else{return e}}})})}if(f.metadata.methods){for(const e in f.metadata.methods){const n=f.metadata.methods[e];if(n.overrideExecution==="AfterAsync"||n.overrideExecution==="BeforeAsync"){if(!this.methodHolder){this.methodHolder=[]}this.methodHolder[e]=[this[e]];Object.defineProperty(this,e,{configurable:true,set:t=>this.methodHolder[e].push(t),get:()=>async function(){const r=t.methodHolder[e];if(n.overrideExecution==="BeforeAsync"){r.reverse()}for(var o=arguments.length,i=new Array(o),a=0;a<o;a++){i[a]=arguments[a]}for(const e of r){await e.apply(t,i)}}})}}}};t.override=function(e){const i={};i.constructor=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++){n[r]=arguments[r]}return t.apply(this,n)};const a=r.createClass(t,`anonymousExtension~${n()}`,i,o);a.getMetadata()._staticOverride=e;a.getMetadata()._override=t.getMetadata()._override;return a};e.set(i,l);return l}return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/DeleteHelper", ["sap/base/Log","sap/fe/core/controllerextensions/editFlow/draft","sap/m/CheckBox","sap/m/MessageToast","sap/m/Text"],function(e,t,n,o,s){"use strict";var l;(function(e){e["deletableContexts"]="deletableContexts";e["draftsWithDeletableActive"]="draftsWithDeletableActive";e["unSavedContexts"]="unSavedContexts";e["draftsWithNonDeletableActive"]="draftsWithNonDeletableActive";e["draftsToDeleteBeforeActive"]="draftsToDeleteBeforeActive"})(l||(l={}));var i;(function(e){e["CHECKBOX"]="checkBox";e["TEXT"]="text"})(i||(i={}));function E(e,t,n,o){const s=[...n];o.forEach(e=>{const t=s.indexOf(e);if(t!==-1){s.splice(t,1)}});e.setProperty(t,[]);return s}function a(e,t){let n=e.getProperty("selectedContexts")||[];if(t.type===l.deletableContexts){n=E(e,l.deletableContexts,n,e.getProperty(l.deletableContexts)||[]);const t=e.getProperty(l.draftsWithDeletableActive)||[];const o=t.map(e=>e.draft);n=E(e,l.draftsWithDeletableActive,n,o)}else{const o=e.getProperty(t.type)||[];n=E(e,t.type,n,o)}e.setProperty("selectedContexts",n);e.setProperty("numberOfSelectedContexts",n.length)}function r(e,t,n,s,l){const{internalModelContext:i,entitySetName:E}=e;if(i){if(i.getProperty("deleteEnabled")!=undefined){t.forEach(e=>{if(e.selected){a(i,e)}})}i.setProperty("deleteEnabled",t.some(e=>!e.selected))}if(n.length===1){o.show(s.getText("C_TRANSACTION_HELPER_DELETE_TOAST_SINGULAR",undefined,E))}else{o.show(s.getText("C_TRANSACTION_HELPER_DELETE_TOAST_PLURAL",undefined,E))}if(e.parentControl!==undefined&&e.parentControl.getMetadata().getName()!=="sap.ui.mdc.MultiValueField"){x.setFocusAfterDelete(e.parentControl,n.length,l)}}async function _(e,t,n){var o;const s=(o=e.getRowBinding())===null||o===void 0?void 0:o.getCount();const l=(s??0)+t;let i;if(n!==-1&&s!==undefined&&s>0){if(n===l-1){i=s-1}else{i=n-t+1}await e.focusRow(i,false)}else{e.focus()}}function T(e){const t=e.getObject()["DraftAdministrativeData"];return t&&t["InProcessByUser"]||""}function c(e,t,n){let o="";if(t===1&&n.length===1){const t=T(n[0]);o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_SINGLE_OBJECT_LOCKED",[t])}else if(n.length==1){const s=T(n[0]);o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_ONE_OBJECT_LOCKED",[t,s])}else if(n.length>1){o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_LOCKED",[n.length,t])}return o}function f(e,t,n){let o="";if(n===t){if(t===1){o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_ONLY_DRAFT_OF_NON_DELETABLE_ACTIVE")}else{o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_ONLY_DRAFTS_OF_NON_DELETABLE_ACTIVE")}}else if(t===1){o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_DRAFT_OF_NON_DELETABLE_ACTIVE")}else{o=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_DRAFTS_OF_NON_DELETABLE_ACTIVE")}return o}function C(e){const t=e.getObject()["DraftAdministrativeData"];let n="";if(t){n=t["LastChangedByUserDescription"]||t["LastChangedByUser"]||""}return n}function N(e,t,n,o){let s="",l="",i=false;if(t===1&&n.length===1){const t=C(n[0]);s=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_CHANGES",[t]);i=true}else if(t===n.length){s=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_CHANGES_MULTIPLE_OBJECTS");i=true}else if(o===n.length){if(n.length===1){const t=C(n[0]);s=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_AND_FEW_OBJECTS_LOCKED_SINGULAR",[t])}else{s=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_UNSAVED_AND_FEW_OBJECTS_LOCKED_PLURAL")}i=true}else if(o>n.length){if(n.length===1){const t=C(n[0]);l=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_UNSAVED_SINGULAR",[t])}else{l=e.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_UNSAVED_PLURAL")}}return{infoTxt:s,optionTxt:l,optionWithoutTxt:i}}function d(e,t,n){const{numberOfSelectedContexts:o,entitySetName:l,lockedContexts:i=[],draftsWithNonDeletableActive:E=[]}=e;const a=o-(i.length+t-E.length);let r="";if(a>0&&(t===0||E.length===t)){if(i.length>0){if(a===1){r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_ALL_REMAINING_NON_DELETABLE_SINGULAR")}else{r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_ALL_REMAINING_NON_DELETABLE_PLURAL")}}else if(a===1){r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_SINGLE_AND_ONE_OBJECT_NON_DELETABLE",undefined,l)}else{r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_MULTIPLE_AND_ALL_OBJECT_NON_DELETABLE",undefined,l)}}else if(a===1){r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_ONE_OBJECT_NON_DELETABLE",[o],l)}else if(a>1){r=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_NON_DELETABLE",[a,o],l)}return r?new s({text:r}):undefined}function A(e,t){return t.reduce((e,t)=>t.selected&&t.type!==l.draftsToDeleteBeforeActive?e.concat(t.contexts):e,e)}function g(e){const t=[];return e.reduce((e,t)=>t.selected&&t.type===l.draftsToDeleteBeforeActive?e.concat(t.contexts):e,t)}function D(e,t,n,o,E,a){const{numberOfSelectedContexts:r,draftsWithDeletableActive:_,unSavedContexts:T,lockedContexts:c,draftsWithNonDeletableActive:f}=e;let C="";if(_.length>0){const e=[];_.forEach(n=>{e.push(n.draft);t.push(n.siblingInfo.targetContext)});if(e.length>0){a.push({type:l.draftsToDeleteBeforeActive,contexts:e,selected:true})}}if(c.length>0){C=x.getLockedObjectsText(o,r,c)||"";E.push(new s({text:C}))}const N=r!=n-f.length+c.length;const d=N&&x.getNonDeletableText(e,n,o);if(d){E.push(d)}if(T.length>0){const e=x.getUnsavedContextsText(o,r,T,n)||{};if(e.infoTxt){E.push(new s({text:e.infoTxt}))}if(e.optionTxt||e.optionWithoutTxt){a.push({type:l.unSavedContexts,contexts:T,text:e.optionTxt,selected:true,control:i.CHECKBOX})}}if(f.length>0){const e=x.getNonDeletableActivesOfDraftsText(o,f.length,n)||"";if(e){a.push({type:l.draftsWithNonDeletableActive,contexts:f,text:e,selected:true,control:n>0?i.CHECKBOX:i.TEXT})}}}function O(e,t){if(e.length===1){const n=e[0];if(n.text){t.push(new s({text:n.text}))}}else if(e.length>1){e.forEach(e=>{if(e.control==="text"&&e.text){t.push(new s({text:e.text}))}});e.forEach(e=>{if(e.control==="checkBox"&&e.text){t.push(new n({text:e.text,selected:true,select:function(t){const n=t.getSource();const o=n.getSelected();e.selected=o}}))}})}}function L(e,t){const{draftsWithDeletableActive:n}=e;const o=n.find(e=>e.siblingInfo.targetContext===t);return o!==null&&o!==void 0&&o.draft?o.draft:t}function u(e,t,n){const{numberOfSelectedContexts:o,entitySetName:s,parentControl:E,description:a,lockedContexts:r,draftsWithNonDeletableActive:_,unSavedContexts:T}=e;const c=t.length+_.length+T.length;const f=o-(r.length+c-_.length);const C=[];if(o===1&&o===t.length){const o=E;const r=o&&o.getParent().getIdentifierColumn();let _;if(r){const o=a&&a.path;let l=t[0];let i=l.getObject();if(!i||Object.keys(i).length===0){l=L(e,l);i=l.getObject()}const E=r?i[r]:undefined;const T=o&&i[o];if(E){if(T&&a&&r!==a.path){_=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTINFO",[E,T],s)}else{_=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_ONLY",[E],s)}}else{_=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,s)}}else{_=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,s)}C.push({type:l.deletableContexts,contexts:t,text:_,selected:true,control:i.TEXT})}else if(T.length!==c&&o>0&&(t.length>0||T.length>0&&_.length>0)){if(o>t.length&&f+r.length>0){let e="";if(c===1){e=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR_NON_DELETABLE",undefined,s)}else{e=n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_PLURAL_NON_DELETABLE",undefined,s)}C.unshift({type:l.deletableContexts,contexts:t,text:e,selected:true,control:i.TEXT})}else{const e=c===1?n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",undefined,s):n.getText("C_TRANSACTION_HELPER_CONFIRM_DELETE_WITH_OBJECTTITLE_PLURAL",undefined,s);C.push({type:l.deletableContexts,contexts:t,text:e,selected:true,control:i.TEXT})}}return C}async function I(n,o,s,l,i,E,a){try{const r=x.getConfirmedDeletableContext([],n);const _=r[r.length-1].getIndex()??-1;const T=g(n);const{beforeDeleteCallBack:c,parentControl:f}=o;if(c){await c({contexts:r})}if(r&&r.length){try{const s=r.length===1?true:false;const c=[];await Promise.allSettled(T.map(async function(n){try{return await t.deleteDraft(n,i,s)}catch(t){e.error(`FE : core : DeleteHelper : Error while discarding draft with path : ${n.getPath()}`);c.push(t)}}));let f=r;if(a){const e=[...r];e.forEach((t,n)=>{if(t===undefined){return}for(let o=n+1;o<e.length;o++){const n=e[o];if(n&&t.isAncestorOf(n)){e[o]=undefined}}});f=e.filter(e=>e!==undefined)}await Promise.all(f.map(async function(e){if(E&&!e.getProperty("IsActiveEntity")){return t.deleteDraft(e,i,s)}if(e.hasPendingChanges()){e.resetChanges()}return e.delete()}));x.afterDeleteProcess(o,n,r,l,_);if(c.length>0){throw Error(`FE : core : DeleteHelper : Errors on draft delete : ${c}`)}}catch(e){await s.showMessageDialog({control:f});throw e}}}catch(e){await s.showMessages();throw e}}async function h(e,n){const o=n.map(e=>{const n=e.getModel().getMetaModel().getMetaContext(e.getCanonicalPath());const o=n.getProperty("@Org.OData.Capabilities.V1.DeleteRestrictions/Deletable/$Path");const s=!o&&n.getProperty("@Org.OData.Capabilities.V1.DeleteRestrictions/Deletable")!==false;const l={context:e,isDraftRoot:!!n.getProperty("@com.sap.vocabularies.Common.v1.DraftRoot"),isDraftNode:!!n.getProperty("@com.sap.vocabularies.Common.v1.DraftNode"),isActive:true,hasActive:false,hasDraft:false,locked:false,deletable:o?e.getProperty(o):s,siblingPromise:Promise.resolve(undefined),siblingInfo:undefined,siblingDeletable:false};if(l.isDraftRoot){var i;l.locked=!!((i=e.getObject("DraftAdministrativeData"))!==null&&i!==void 0&&i.InProcessByUser);l.hasDraft=e.getProperty("HasDraftEntity")}if(l.isDraftRoot){l.isActive=e.getProperty("IsActiveEntity");l.hasActive=e.getProperty("HasActiveEntity");if(!l.isActive&&l.hasActive){l.siblingPromise=t.computeSiblingInformation(e,e).then(async e=>{l.siblingInfo=e;if(o){var t;l.siblingDeletable=await(e===null||e===void 0?void 0:(t=e.targetContext)===null||t===void 0?void 0:t.requestProperty(o))}else{l.siblingDeletable=s}})}}return l});await Promise.all(o.map(e=>e.siblingPromise));const s=[{key:"draftsWithDeletableActive",value:o.filter(e=>e.isDraftRoot&&!e.isActive&&e.hasActive&&e.siblingDeletable)},{key:"draftsWithNonDeletableActive",value:o.filter(e=>e.isDraftRoot&&!e.isActive&&e.hasActive&&!e.siblingDeletable)},{key:"lockedContexts",value:o.filter(e=>e.isDraftRoot&&e.isActive&&e.hasDraft&&e.locked)},{key:"unSavedContexts",value:o.filter(e=>e.isDraftRoot&&e.isActive&&e.hasDraft&&!e.locked)},{key:"deletableContexts",value:o.filter(e=>!e.isDraftRoot&&!e.isDraftNode&&e.deletable||e.isDraftRoot&&e.isActive&&!e.hasDraft&&e.deletable||e.isDraftRoot&&!e.isActive&&!e.hasActive||e.isDraftNode&&e.deletable)}];for(const{key:t,value:n}of s){e.setProperty(t,n.map(e=>t==="draftsWithDeletableActive"?{draft:e.context,siblingInfo:e.siblingInfo}:e.context))}}const x={getNonDeletableText:d,deleteConfirmHandler:I,getOptionsForDeletableTexts:u,updateContentForDeleteDialog:O,updateDraftOptionsForDeletableTexts:D,getConfirmedDeletableContext:A,getLockedObjectsText:c,getUnsavedContextsText:N,getNonDeletableActivesOfDraftsText:f,afterDeleteProcess:r,updateDeleteInfoForSelectedContexts:h,DeleteOptionTypes:l,DeleteDialogContentControl:i,setFocusAfterDelete:_};return x},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/DraftEditState", ["sap/ui/core/Core","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/enums/OperatorValueType","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/json/JSONModel"],function(e,t,a,r,i,n,s,o){"use strict";const A=e.getLibraryResourceBundle("sap.fe.core");const l={ALL:{id:"ALL",display:A.getText("C_DRAFT_EDIT_STATE_DRAFT_ALL_FILTER")},UNCHANGED:{id:"UNCHANGED",display:A.getText("C_DRAFT_EDIT_STATE_DRAFT_UNCHANGED_FILTER")},OWN_DRAFT:{id:"OWN_DRAFT",display:A.getText("C_DRAFT_EDIT_STATE_DRAFT_OWN_DRAFT_FILTER")},LOCKED:{id:"LOCKED",display:A.getText("C_DRAFT_EDIT_STATE_DRAFT_LOCKED_FILTER")},UNSAVED_CHANGES:{id:"UNSAVED_CHANGES",display:A.getText("C_DRAFT_EDIT_STATE_DRAFT_UNSAVED_CHANGES_FILTER")},ALL_HIDING_DRAFTS:{id:"ALL_HIDING_DRAFTS",display:A.getText("C_DRAFT_EDIT_STATE_DRAFT_ALL_HIDING_DRAFTS_FILTER")},SAVED_ONLY:{id:"SAVED_ONLY",display:A.getText("C_DRAFT_EDIT_STATE_DRAFT_SAVED_ONLY_FILTER")},MY_DRAFTS:{id:"MY_DRAFTS",display:A.getText("C_DRAFT_EDIT_STATE_DRAFT_MY_DRAFTS_FILTER")},getEditStatesContext:function(e){let t;if(e.getProperty("isDraftCollaborative")){t=[l.ALL,l.MY_DRAFTS,l.SAVED_ONLY]}else{t=[l.ALL,l.ALL_HIDING_DRAFTS,l.UNCHANGED,l.OWN_DRAFT,l.LOCKED,l.UNSAVED_CHANGES]}return new o(t).bindContext("/").getBoundContext()},getCurrentUserID:function(){var e,t,a;return(e=sap.ushell)===null||e===void 0?void 0:(t=e.Container)===null||t===void 0?void 0:(a=t.getUser())===null||a===void 0?void 0:a.getId()},getFilterForEditState:function(e){switch(e){case l.UNCHANGED.id:return new n({filters:[new n({path:"IsActiveEntity",operator:s.EQ,value1:true}),new n({path:"HasDraftEntity",operator:s.EQ,value1:false})],and:true});case l.OWN_DRAFT.id:return new n({path:"IsActiveEntity",operator:s.EQ,value1:false});case l.LOCKED.id:return new n({filters:[new n({path:"IsActiveEntity",operator:s.EQ,value1:true}),new n({path:"SiblingEntity/IsActiveEntity",operator:s.EQ,value1:null}),new n({path:"DraftAdministrativeData/InProcessByUser",operator:s.NE,value1:""}),new n({path:"DraftAdministrativeData/InProcessByUser",operator:s.NE,value1:null})],and:true});case l.UNSAVED_CHANGES.id:return new n({filters:[new n({path:"IsActiveEntity",operator:s.EQ,value1:true}),new n({path:"SiblingEntity/IsActiveEntity",operator:s.EQ,value1:null}),new n({path:"DraftAdministrativeData/InProcessByUser",operator:s.EQ,value1:""})],and:true});case l.ALL_HIDING_DRAFTS.id:case l.SAVED_ONLY.id:return new n({path:"IsActiveEntity",operator:s.EQ,value1:true});case l.MY_DRAFTS.id:const e=this.getCurrentUserID();return e?new n({filters:[new n({path:"IsActiveEntity",operator:s.EQ,value1:false}),new n({path:"DraftAdministrativeData/DraftAdministrativeUser",operator:s.Any,variable:"user",condition:new n({path:"user/UserID",operator:s.EQ,value1:this.getCurrentUserID()})})],and:true}):new n({path:"IsActiveEntity",operator:s.EQ,value1:false});default:return new n({filters:[new n({path:"IsActiveEntity",operator:s.EQ,value1:false}),new n({path:"SiblingEntity/IsActiveEntity",operator:s.EQ,value1:null})],and:false})}},addDraftEditStateOperator:function(){t.addOperator(new a({name:"DRAFT_EDIT_STATE",filterOperator:"",valueTypes:[i.Self,i.Self],tokenParse:"^(.*)$",format:function(e){return e&&e.values[1]},getModelFilter:function(e){return l.getFilterForEditState(e.values[0])},parse:function(e){return e},validateInput:true,checkValidated:function(e){e.validated=r.Validated}}))}};return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/DynamicAnnotationPathHelper", ["sap/ui/base/BindingParser"],function(s){"use strict";var t={};function r(s,t){if(!s){return null}const e=t.split("/");if(e.length===1){return s[t]}else{return r(s[e[0]],e.splice(1).join("/"))}}function e(t,n){if(t.indexOf("[")!==-1){const i=t.indexOf("[");const u=t.substr(0,i);const a=t.substr(i+1);const l=a.indexOf("]");const o=n.getObject(u);const f=s.parseExpression(a.substr(0,l));if(Array.isArray(o)&&f&&f.result&&f.result.parts&&f.result.parts[0]&&f.result.parts[0].path){let s;let i=false;for(s=0;s<o.length&&!i;s++){const t=r(o[s],f.result.parts[0].path);const e=f.result.formatter(t);if(e){i=true}}if(i){t=e(u+(s-1)+a.substr(l+1),n)}}}return t}t.resolveDynamicExpression=e;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/EditState", [],function(){"use strict";const t={CLEAN:0,PROCESSED:1,DIRTY:2};let e=t.CLEAN;return{setEditStateDirty:function(){e=t.DIRTY},setEditStateProcessed:function(){e=t.PROCESSED},resetEditState:function(){e=t.CLEAN},isEditStateDirty:function(){return e!==t.CLEAN},cleanProcessedEditState:function(){if(e===t.PROCESSED){e=t.CLEAN}}}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ExcelFormatHelper", ["sap/ui/core/format/DateFormat"],function(e){"use strict";const t={getExcelDatefromJSDate:function(){let t=e.getDateInstance().oFormatOptions.pattern.toLowerCase();if(t){const e=/^[^y]*y[^y]*$/m;if(e.exec(t)){t=t.replace("y","yyyy")}}return t},getExcelDateTimefromJSDateTime:function(){let t=e.getDateTimeInstance().oFormatOptions.pattern.toLowerCase();if(t){const e=/^[^y]*y[^y]*$/m;if(e.exec(t)){t=t.replace("y","yyyy")}if(t.includes("a")){t=t.replace("a","AM/PM")}}return t},getExcelTimefromJSTime:function(){let t=e.getTimeInstance().oFormatOptions.pattern;if(t&&t.includes("a")){t=t.replace("a","AM/PM")}return t}};return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/FPMHelper", ["sap/base/Log","sap/base/util/ObjectPath","sap/fe/core/CommonUtils"],function(e,t,n){"use strict";const o={actionWrapper:function(e,i,r,s){return new Promise(function(l){var a,u;const c=e.getSource?e.getSource():e.oSource,g=n.getTargetView(c),f=c.getBindingContext();let d;let p;let b;if(s!==undefined){b=s.contexts||[]}else if(f!==undefined){b=[f]}else{b=[]}if((a=c.getParent())!==null&&a!==void 0&&a.isA("sap.ui.mdc.actiontoolbar.ActionToolbarAction")||(u=c.getParent())!==null&&u!==void 0&&u.isA("sap.m.Menu")){var m;p=(m=o.getMdcTable(c))===null||m===void 0?void 0:m.getRowBinding()}if(g.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"||g.getControllerName()==="sap.fe.templates.ListReport.ListReportController"){d=g.getController().getExtensionAPI()}if(i.startsWith("/extension/")){const e=t.get(i.replace(/\//g,".").substr(1),d);l(e[r](f,b,p))}else{sap.ui.require([i],function(e){l(e[r].bind(d)(f,b,p))})}})},getMdcTable:function(e){const t=e.getParent();if(!t||t.isA("sap.ui.mdc.Table")){return t}return o.getMdcTable(t)},validationWrapper:function(e,t,n,o,i){return new Promise(function(r){let s;if(o.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"||o.getControllerName()==="sap.fe.templates.ListReport.ListReportController"){s=o.getController().getExtensionAPI()}sap.ui.require([e],function(e){r(e[t].bind(s)(i,n))})})},getCustomFunction(o,i,r){let s;if(r.isA("sap.ui.base.Event")){s=r.getSource()}else{s=r}const l=n.getTargetView(s);const a=l.getController().getExtensionAPI();let u;if(o.startsWith("/extension/")){const e=t.get(o.replace(/\//g,".").substring(1),a);u=e?e[i]:undefined}else{var c;const e=sap.ui.require(o);u=e?(c=e[i])===null||c===void 0?void 0:c.bind(a):undefined}if(!u){e.error(`Couldn't find method ${i} in ${o}`)}return u}};return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/KeepAliveHelper", ["sap/base/Log","sap/fe/core/helpers/KeepAliveRefreshTypes","./ModelHelper"],function(t,e,n){"use strict";var o=e.RefreshStrategyType;var r=e.PATH_TO_STORE;const s=function(t,e){const o=n.getEntitySetPath(e);const r=o.includes("$NavigationPropertyBinding")&&t.getObject(o);return r?`/${r}`:e};const i=function(t,e,n){return t===e||n===o.IncludingDependents&&t.startsWith(e)};const c=function(t,e,n,o){let r=e.startsWith("/")?e:`/${e}`,c=n.startsWith("/")?n:`/${n}`;if(!i(r,c,o)){r=s(t,r);if(!i(r,c,o)){c=s(t,c)}else{return true}}return i(r,c,o)};const l=function(t,e){const n=[];const o=t.getModel().getMetaModel();const s=t.getModel("internal");const i=s.getProperty(r)||{};if(e){e.forEach(function(t){const e=t.data("targetCollectionPath");for(const r in i){const s=i[r];if(!n.includes(t)&&c(o,e,r,s)){n.push(t)}}})}return n};const a=function(t,e){const n=t.getModel().getMetaModel();const o=t.getModel("internal");const s=o.getProperty(r)||{};let i;if(e){for(const t in s){const o=s[t];if(c(n,e,t,o)){i=o;if(i==="includingDependents"){break}}}}return i};const f=function(t){const e=t.getViewData(),n=e&&((e===null||e===void 0?void 0:e.contextPath)||`/${e===null||e===void 0?void 0:e.entitySet}`);return h.getControlRefreshStrategyForContextPath(t,n)};const u=function(t,e,n){const o=e&&n&&`${e}-${n}`;const r=t.intents;const s=r&&o&&r[o];const i=!s&&r&&e&&r[e];return s||i||(t===null||t===void 0?void 0:t.defaultBehavior)||(t===null||t===void 0?void 0:t._feDefault)};const g=function(t,e){if(t&&t.getModel("viewData")&&t.getModel("internal")){const n=t.getModel("viewData");const o=n.getProperty(r);if(o){const n=t.getModel("internal");const s=h.getRefreshStrategyForIntent(o,e===null||e===void 0?void 0:e.semanticObject,e===null||e===void 0?void 0:e.action);n.setProperty(r,s)}}};const d=function(e){const n=e.getBindingContext("internal");const o=e.getController();const r=o===null||o===void 0?void 0:o.viewState;let s=Promise.resolve();if(n&&n.getProperty("restoreStatus")==="pending"){if(r.refreshViewBindings){s=r.refreshViewBindings();s.then(function(){t.info(`FE V4: Refresh was triggered successfull: ${e.getId()}`)}).catch(function(n){t.warning(`FE V4: Refresh was unsuccessfull: ${e.getId()}`,n)})}s=s.then(function(){r.onRestore();n.setProperty("restoreStatus","done")}).catch(function(n){t.warning(`FE V4: Restore was unsuccessfull: ${e.getId()}`,n)})}return s};const h={getControlsForRefresh:l,getControlRefreshStrategyForContextPath:a,getViewRefreshInfo:f,getRefreshStrategyForIntent:u,storeControlRefreshStrategyForHash:g,restoreView:d};return h},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/KeepAliveRefreshTypes", [],function(){"use strict";var e={};let n;(function(e){e["Self"]="self";e["IncludingDependents"]="includingDependents"})(n||(n={}));e.RefreshStrategyType=n;const t="/refreshStrategyOnAppRestore";e.PATH_TO_STORE=t;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/LoaderUtils", [],function(){"use strict";var e={};async function n(e){let n;const r=new Promise(e=>{n=e});if(e.length>0){sap.ui.require(e,function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++){r[i]=arguments[i]}n(r)})}else{n([])}return r}e.requireDependencies=n;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/MassEditHelper", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/TemplateModel","sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/library","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/PropertyHelper","sap/fe/macros/field/FieldTemplating","sap/fe/macros/table/TableHelper","sap/m/Button","sap/m/Dialog","sap/m/MessageToast","sap/ui/core/Core","sap/ui/core/Fragment","sap/ui/core/XMLTemplateProcessor","sap/ui/core/util/XMLPreprocessor","sap/ui/mdc/enums/FieldEditMode","sap/ui/model/json/JSONModel","../controllerextensions/messageHandler/messageHandling","../controls/Any","../converters/MetaModelConverter","../templating/FieldControlHelper","../templating/UIFormatters"],function(e,t,n,o,a,i,r,s,l,u,d,c,p,f,g,y,P,h,v,x,E,m,b,T,O){"use strict";var F=O.isMultiValueField;var M=O.getRequiredExpression;var D=O.getEditMode;var C=T.isReadOnlyExpression;var V=b.getInvolvedDataModelObjects;var S=b.convertMetaModelContext;var B=u.setEditStyleProperties;var $=u.getTextBinding;var I=l.hasValueHelpWithFixedValues;var k=l.hasValueHelp;var j=l.hasUnit;var A=l.hasCurrency;var _=l.getAssociatedUnitPropertyPath;var w=l.getAssociatedUnitProperty;var H=s.getRelativePaths;var R=s.enhanceDataModelPath;var L=i.isProperty;var U=a.pathInModel;var N=a.or;var G=a.not;var q=a.ifElse;var Q=a.constant;var K=a.compileExpression;var X=o.isDataFieldTypes;var z=o.isDataFieldForIntentBasedNavigation;var J=o.isDataFieldForAnnotation;var Y=o.isDataFieldForAction;const W={initLastLevelOfPropertyPath:function(e,t){let n;let o=0;const a=e.split("/");let i="";a.forEach(function(a){if(!t[a]&&o===0){t[a]={};n=t[a];i=i+a;o++}else if(!n[a]){i=`${i}/${a}`;if(i!==e){n[a]={};n=n[a]}else{n[a]=[]}}});return n},getUniqueValues:function(e,t,n){return e!=undefined&&e!=null?n.indexOf(e)===t:undefined},getValueForMultiLevelPath:function(e,t){let n;if(e&&e.indexOf("/")>0){const o=e.split("/");o.forEach(function(e){n=t&&t[e]?t[e]:n&&n[e]})}return n},getDefaultSelectionPathComboBox:function(e,t){let n;if(t&&e.length>0){const o=e,a=[];o.forEach(function(e){const n=e.getObject();const o=t.includes("/")&&n.hasOwnProperty(t.split("/")[0]);if(e&&(n.hasOwnProperty(t)||o)){a.push(e.getObject(t))}});const i=a.filter(W.getUniqueValues);if(i.length>1){n=`Default/${t}`}else if(i.length===0){n=`Empty/${t}`}else if(i.length===1){n=`${t}/${i[0]}`}}return n},getHiddenValueForContexts:function(e,t){if(e&&e.$Path){return!t.some(function(t){return t.getObject(e.$Path)===false})}return e},getInputType:function(e,t,n){const o={};let a;if(e){B(o,t,n,true);a=(o===null||o===void 0?void 0:o.editStyle)||""}const i=a&&!["DatePicker","TimePicker","DateTimePicker","RatingIndicator"].includes(a)&&!F(n)&&!I(e);return(i||"")&&a},getIsFieldGrp:function(e){return e&&e.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&e.Target&&e.Target.value&&e.Target.value.indexOf("FieldGroup")>-1},getTextPath:function(e,t,n){let o;if(t&&(t.path||t.parameters&&t.parameters.length)&&e){if(t.path&&n==="Description"){o=t.path}else if(t.parameters){t.parameters.forEach(function(t){if(t.path&&t.path!==e){o=t.path}})}}return o},prepareDataForDialog:function(e,n,o){const a=e&&e.getModel().getMetaModel(),i=e.data("metaPath"),r=W.getTableFields(e),s=a.getContext(`${i}/@`),l=a.getContext(i),u=V(s);const d=new x;let c;let p;let f;let g;let y;let P;r.forEach(function(e){if(!e.annotationPath){return}const r=e.dataProperty;if(r){var s,d,h,x,E,m,b;let F=r&&a.getObject(`${i}/${r}@`);p=e.label||F&&F["@com.sap.vocabularies.Common.v1.Label"]||r;if(u){u.targetObject=u.targetEntityType.entityProperties.filter(function(e){return e.name===r})}u.targetObject=u.targetObject[0]||{};P=$(u,{},true)||{};const B=a.getContext(e.annotationPath),I=S(B),U=a.getContext(`${i}/${r}@`),N=U&&U.getInterface();let G=V(B,l);if(X(I)&&(I===null||I===void 0?void 0:(s=I.Value)===null||s===void 0?void 0:(d=s.path)===null||d===void 0?void 0:d.length)>0){G=R(G,r)}const q=W.getHiddenValueForContexts(B&&B.getObject()["@com.sap.vocabularies.UI.v1.Hidden"],n)||false;const K=F&&F["@com.sap.vocabularies.UI.v1.IsImageURL"];N.context={getModel:function(){return N.getModel()},getPath:function(){return`${i}/${r}`}};if(L(I)){F=I}else if(X(I)){var T;F=I===null||I===void 0?void 0:(T=I.Value)===null||T===void 0?void 0:T.$target}else if(J(I)){var O;F=I===null||I===void 0?void 0:(O=I.Target)===null||O===void 0?void 0:O.$target}else{F=undefined}const Z=F&&F.term&&F.term==="com.sap.vocabularies.UI.v1.Chart";const ee=(Y(I)||z(I))&&!!I.Action;const te=W.getIsFieldGrp(I);if(K||q||Z||ee||te){return}g=(A(F)||j(F))&&_(F)||"";const ne=g&&w(F);f=k(F);y=ne&&k(ne);const oe=(f||y)&&(((h=F)===null||h===void 0?void 0:(x=h.annotations)===null||x===void 0?void 0:(E=x.Common)===null||E===void 0?void 0:E.ValueListRelevantQualifiers)||ne&&(ne===null||ne===void 0?void 0:(m=ne.annotations)===null||m===void 0?void 0:(b=m.Common)===null||b===void 0?void 0:b.ValueListRelevantQualifiers));if(oe){return}const ae=F&&F.Value?F.Value:F;const ie=D(ae,G,false,false,I,Q(true));const re=Object.keys(v);const se=!!ie&&re.includes(ie);const le=!!ie&&(se&&ie===v.Editable||!se);const ue=r.includes("/")&&f;if(!le||ue){return}const de=W.getInputType(F,I,G);if(de){const e=H(G);const a=C(F,e);const s=t.computeDisplayMode(U.getObject());const l=f?f:false;const u=y&&!g.includes("/")?y:false;const d=g&&!r.includes("/")?g:false;c={label:p,dataProperty:r,isValueHelpEnabled:f?f:false,unitProperty:d,isFieldRequired:M(F,I,true,false,{},G),defaultSelectionPath:r?W.getDefaultSelectionPathComboBox(n,r):false,defaultSelectionUnitPath:g?W.getDefaultSelectionPathComboBox(n,g):false,entitySet:i,display:s,descriptionPath:W.getTextPath(r,P,s),nullable:F.nullable!==undefined?F.nullable:true,isPropertyReadOnly:a!==undefined?a:false,inputType:de,editMode:le?ie:undefined,propertyInfo:{hasVH:l,runtimePath:"fieldsInfo>/values/",relativePath:r,propertyFullyQualifiedName:F.fullyQualifiedName,propertyPathForValueHelp:`${i}/${r}`},unitInfo:d&&{hasVH:u,runtimePath:"fieldsInfo>/unitData/",relativePath:d,propertyPathForValueHelp:`${i}/${d}`}};o.push(c)}}});d.setData(o);return d},getTableFields:function(e){const t=e&&e.getColumns()||[];const n=e&&e.getParent().getTableDefinition().columns;return t.map(function(e){const t=e&&e.getDataProperty(),o=n&&n.filter(function(e){return e.name===t&&e.type==="Annotation"});return{dataProperty:t,label:e.getHeader(),annotationPath:o&&o[0]&&o[0].annotationPath}})},getDefaultTextsForDialog:function(e,t,n){const o=n.data("displayModePropertyBinding")==="true";return{keepExistingPrefix:"< Keep",leaveBlankValue:"< Leave Blank >",clearFieldValue:"< Clear Values >",massEditTitle:e.getText("C_MASS_EDIT_DIALOG_TITLE",t.toString()),applyButtonText:o?e.getText("C_MASS_EDIT_SAVE_BUTTON_TEXT"):e.getText("C_MASS_EDIT_APPLY_BUTTON_TEXT"),useValueHelpValue:"< Use Value Help >",cancelButtonText:e.getText("C_COMMON_OBJECT_PAGE_CANCEL"),noFields:e.getText("C_MASS_EDIT_NO_EDITABLE_FIELDS"),okButtonText:e.getText("C_COMMON_DIALOG_OK")}},setDefaultValuesToDialog:function(e,t,n,o){const a=o?n.unitProperty:n.dataProperty,i=n.inputType,r=n.isFieldRequired;const s="Values";e.defaultOptions=e.defaultOptions||[];const l=e.selectOptions&&e.selectOptions.length>0;const u={text:`${t.keepExistingPrefix} ${s} >`,key:`Default/${a}`};if(i==="CheckBox"){const t={text:"No",key:`${a}/false`,textInfo:{value:false}};const n={text:"Yes",key:`${a}/true`,textInfo:{value:true}};e.unshift(t);e.defaultOptions.unshift(t);e.unshift(n);e.defaultOptions.unshift(n);e.unshift(u);e.defaultOptions.unshift(u)}else{var d,c;if(n!==null&&n!==void 0&&(d=n.propertyInfo)!==null&&d!==void 0&&d.hasVH||n!==null&&n!==void 0&&(c=n.unitInfo)!==null&&c!==void 0&&c.hasVH&&o){const n={text:t.useValueHelpValue,key:`UseValueHelpValue/${a}`};e.unshift(n);e.defaultOptions.unshift(n)}if(l){if(r!=="true"&&!o){const n={text:t.clearFieldValue,key:`ClearFieldValue/${a}`};e.unshift(n);e.defaultOptions.unshift(n)}e.unshift(u);e.defaultOptions.unshift(u)}else{const n={text:t.leaveBlankValue,key:`Default/${a}`};e.unshift(n);e.defaultOptions.unshift(n)}}},getTextArrangementInfo:function(t,n,o,a){let i=a.getObject(t),r,s;if(n&&t){switch(o){case"Description":r=a.getObject(n)||"";s=r;break;case"Value":i=a.getObject(t)||"";s=i;break;case"ValueDescription":i=a.getObject(t)||"";r=a.getObject(n)||"";s=r?`${i} (${r})`:i;break;case"DescriptionValue":i=a.getObject(t)||"";r=a.getObject(n)||"";s=r?`${r} (${i})`:i;break;default:e.info(`Display Property not applicable: ${t}`);break}}return{textArrangement:o,valuePath:t,descriptionPath:n,value:i,description:r,fullText:s}},isEditable:function(e){const t=e.getBinding("any");const n=t.getExternalValue();return n===v.Editable},onContextEditableChange:function(e,t){const n=e.getProperty(`/values/${t}/objectsForVisibility`)||[];const o=n.some(W.isEditable);if(o){e.setProperty(`/values/${t}/visible`,o)}},updateOnContextChange:function(e,t,n,o){const a=e.getBinding("any");o.objectsForVisibility=o.objectsForVisibility||[];o.objectsForVisibility.push(e);a===null||a===void 0?void 0:a.attachChange(W.onContextEditableChange.bind(null,t,n))},getBoundObject:function(e,t){const n=new m({any:e});const o=t.getModel();n.setModel(o);n.setBindingContext(t);return n},getFieldVisiblity:function(e,t,n,o,a){const i=W.getBoundObject(e,a);const r=W.isEditable(i);if(!r){W.updateOnContextChange(i,t,n,o)}return r},setRuntimeModelOnDialog:function(e,t,n,o){const a=[];const i=[];const r=[];const s=[];const l=[];const u={values:a,unitData:i,results:r,readablePropertyData:l,selectedKey:undefined,textPaths:s,noFields:n.noFields};const d=new x(u);t.forEach(function(t){let n;let r;let l;const u={};const d={};if(t.dataProperty&&t.dataProperty.indexOf("/")>-1){const o=W.initLastLevelOfPropertyPath(t.dataProperty,a);const i=t.dataProperty.split("/");for(const a of e){const e=a.getObject(t.dataProperty);r=`${t.dataProperty}/${e}`;if(!u[r]&&o[i[i.length-1]]){n=W.getTextArrangementInfo(t.dataProperty,t.descriptionPath,t.display,a);o[i[i.length-1]].push({text:n&&n.fullText||e,key:r,textInfo:n});u[r]=e}}o[i[i.length-1]].textInfo={descriptionPath:t.descriptionPath,valuePath:t.dataProperty,displayMode:t.display}}else{a[t.dataProperty]=a[t.dataProperty]||[];a[t.dataProperty]["selectOptions"]=a[t.dataProperty]["selectOptions"]||[];if(t.unitProperty){i[t.unitProperty]=i[t.unitProperty]||[];i[t.unitProperty]["selectOptions"]=i[t.unitProperty]["selectOptions"]||[]}for(const o of e){const e=o.getObject();r=`${t.dataProperty}/${e[t.dataProperty]}`;if(t.dataProperty&&e[t.dataProperty]&&!u[r]){if(t.inputType!="CheckBox"){n=W.getTextArrangementInfo(t.dataProperty,t.descriptionPath,t.display,o);const i={text:n&&n.fullText||e[t.dataProperty],key:r,textInfo:n};a[t.dataProperty].push(i);a[t.dataProperty]["selectOptions"].push(i)}u[r]=e[t.dataProperty]}if(t.unitProperty&&e[t.unitProperty]){l=`${t.unitProperty}/${e[t.unitProperty]}`;if(!d[l]){if(t.inputType!="CheckBox"){n=W.getTextArrangementInfo(t.unitProperty,t.descriptionPath,t.display,o);const a={text:n&&n.fullText||e[t.unitProperty],key:l,textInfo:n};i[t.unitProperty].push(a);i[t.unitProperty]["selectOptions"].push(a)}d[l]=e[t.unitProperty]}}}a[t.dataProperty].textInfo={descriptionPath:t.descriptionPath,valuePath:t.dataProperty,displayMode:t.display};if(Object.keys(u).length===1){o.setProperty(t.dataProperty,r&&u[r])}if(Object.keys(d).length===1){o.setProperty(t.unitProperty,l&&d[l])}}s[t.dataProperty]=t.descriptionPath?[t.descriptionPath]:[]});t.forEach(function(t){let o={};if(t.dataProperty.indexOf("/")>-1){const e=W.getValueForMultiLevelPath(t.dataProperty,a);if(!e){e.push({text:n.leaveBlankValue,key:`Empty/${t.dataProperty}`})}else{W.setDefaultValuesToDialog(e,n,t)}o=e}else if(a[t.dataProperty]){a[t.dataProperty]=a[t.dataProperty]||[];W.setDefaultValuesToDialog(a[t.dataProperty],n,t);o=a[t.dataProperty]}if(i[t.unitProperty]&&i[t.unitProperty].length){W.setDefaultValuesToDialog(i[t.unitProperty],n,t,true);i[t.unitProperty].textInfo={};i[t.unitProperty].selectedKey=W.getDefaultSelectionPathComboBox(e,t.unitProperty);i[t.unitProperty].inputType=t.inputType}else if(t.dataProperty&&a[t.dataProperty]&&!a[t.dataProperty].length||t.unitProperty&&i[t.unitProperty]&&!i[t.unitProperty].length){const o=a[t.dataProperty]&&a[t.dataProperty].some(function(e){return e.text==="< Clear Values >"||e.text==="< Leave Blank >"});if(t.dataProperty&&!o){a[t.dataProperty].push({text:n.leaveBlankValue,key:`Empty/${t.dataProperty}`})}const r=i[t.unitProperty]&&i[t.unitProperty].some(function(e){return e.text==="< Clear Values >"||e.text==="< Leave Blank >"});if(t.unitProperty){if(!r){i[t.unitProperty].push({text:n.leaveBlankValue,key:`Empty/${t.unitProperty}`})}i[t.unitProperty].textInfo={};i[t.unitProperty].selectedKey=W.getDefaultSelectionPathComboBox(e,t.unitProperty);i[t.unitProperty].inputType=t.inputType}}if(t.isPropertyReadOnly&&typeof t.isPropertyReadOnly==="boolean"){l.push({property:t.dataProperty,value:t.isPropertyReadOnly,type:"Default"})}else if(t.isPropertyReadOnly&&t.isPropertyReadOnly.operands&&t.isPropertyReadOnly.operands[0]&&t.isPropertyReadOnly.operands[0].operand1&&t.isPropertyReadOnly.operands[0].operand2){l.push({property:t.dataProperty,propertyPath:t.isPropertyReadOnly.operands[0].operand1.path,propertyValue:t.isPropertyReadOnly.operands[0].operand2.value,type:"Path"})}if(t.editMode){o.visible=t.editMode===v.Editable||e.some(W.getFieldVisiblity.bind(W,t.editMode,d,t.dataProperty,o))}else{o.visible=true}o.selectedKey=W.getDefaultSelectionPathComboBox(e,t.dataProperty);o.inputType=t.inputType;o.unitProperty=t.unitProperty});return d},getDialogContext:function(e,t){let n=t===null||t===void 0?void 0:t.getBindingContext();if(!n){const t=e.getModel();const o=e.getRowBinding();const a=t.bindList(o.getPath(),o.getContext(),[],[],{$$updateGroupId:"submitLater"});a.refreshInternal=function(){};n=a.create({},true)}return n},onDialogOpen:function(e){const t=e.getSource();const n=t.getModel("fieldsInfo");n.setProperty("/isOpen",true)},closeDialog:function(e){e.close();e.destroy()},messageHandlingForMassEdit:async function(e,t,n,o,a,i){var s,l,u,d;const c=r.DraftStatus;const p=g.getLibraryResourceBundle("sap.fe.core");(s=n.getView())===null||s===void 0?void 0:(l=s.getBindingContext("internal"))===null||l===void 0?void 0:l.setProperty("getBoundMessagesForMassEdit",true);n.messageHandler.showMessages({onBeforeShowMessage:function(o,r){r.fnGetMessageSubtitle=E.setMessageSubtitle.bind({},e,t);const s=[];o.forEach(function(e){if(!e.getTarget()){s.push(e)}});if(a.length>0&&i.length===0){n.editFlow.setDraftStatus(c.Saved);const e=p.getText("C_MASS_EDIT_SUCCESS_TOAST");f.show(e)}else if(i.length<e.getSelectedContexts().length){n.editFlow.setDraftStatus(c.Saved)}else if(i.length===e.getSelectedContexts().length){n.editFlow.setDraftStatus(c.Clear)}if(n.getModel("ui").getProperty("/isEditable")&&s.length===0){r.showMessageBox=false;r.showMessageDialog=false}return r}});if(o.isOpen()){var y,P;W.closeDialog(o);(y=n.getView())===null||y===void 0?void 0:(P=y.getBindingContext("internal"))===null||P===void 0?void 0:P.setProperty("skipPatchHandlers",false)}(u=n.getView())===null||u===void 0?void 0:(d=u.getBindingContext("internal"))===null||d===void 0?void 0:d.setProperty("getBoundMessagesForMassEdit",false)},getSideEffectDataForKey:function(e,t,n,o){const a=e.getProperty("$Type");const i={};o.forEach(e=>{const o=t.getSideEffectsService().computeFieldGroupIds(a,e.propertyFullyQualifiedName??"")??[];i[e.keyValue]=n._sideEffects.getSideEffectsMapForFieldGroups(o)});return i},fnGetPathForSourceProperty:function(e,t,n){const o=e.indexOf("/")>0?"/"+t+"/"+e.substr(0,e.lastIndexOf("/")+1)+"@sapui.name":false,a=!o?Promise.resolve(t):n.requestObject(o);e=o?e.substr(e.lastIndexOf("/")+1):e;return{sPath:e,pOwnerEntity:a,sNavigationPath:o}},fnGetEntityTypeOfOwner:function(e,t,n,o,a){const i=n.getProperty("$Type");const{$Type:r,$Partner:s}=e.getObject(`${n}/${t}`);if(s){const t=e.getObject(`/${r}/${s}`);if(t){const e=t["$Type"];if(e!==i){a.push(o)}}}else{a.push(o)}return a},fnGetTargetsForMassEdit:function(e,t,n,o){const{targetProperties:a,targetEntities:i}=e;const r=[];let s=[];const l=t.getProperty("$Type");if(n===l){i===null||i===void 0?void 0:i.forEach(e=>{e=e["$NavigationPropertyPath"];let n;if(e.includes("/")){n=e.split("/")[0]}else{n=e}s=W.fnGetEntityTypeOfOwner(o,n,t,e,s)})}if(a.length){a.forEach(e=>{const{pOwnerEntity:a}=W.fnGetPathForSourceProperty(e,n,o);r.push(a.then(n=>{if(n===l){s.push(e)}else if(e.includes("/")){const n=e.split("/")[0];s=W.fnGetEntityTypeOfOwner(o,n,t,e,s)}return Promise.resolve(s)}))})}else{r.push(Promise.resolve(s))}return Promise.all(r)},checkIfEntityExistsAsTargetEntity:(e,t)=>{const n=t.getProperty("$Type");const o=Object.values(e).filter(e=>!e.name.includes(n));const a=t.getPath().split("/").pop();const i=o.filter(e=>{const t=e.sideEffects.targetEntities;return t!==null&&t!==void 0&&t.filter(e=>e["$NavigationPropertyPath"]===a).length?e:false});return i.length},handleMassEditFieldUpdateAndRequestSideEffects:async function(e){const{controller:n,fieldPromise:o,sideEffectsMap:a,textPaths:i,groupId:r,key:s,entitySetContext:l,metaModel:u,selectedContext:c,deferredTargetsForAQualifiedName:p}=e;const f=n.getView();const g=[o];const y=l.getProperty("$Type");const P=t.getAppComponent(f).getSideEffectsService();const h=W.checkIfEntityExistsAsTargetEntity(a,l);if(a){for(const e in a){const t=a[e];const o=e.split("#")[0];const i=n._sideEffects.getContextForSideEffects(c,o);p[s]={};if(i){const e=async e=>{const t=await W.fnGetTargetsForMassEdit(e,l,o,u);let n=t[0];const a=e.triggerAction;const r=(e.targetProperties??[]).filter(e=>!n.includes(e));const c=a&&o===y&&!d._isStaticAction(u.getObject(`/${a}`),a)?a:undefined;p[s][e.fullyQualifiedName]={aTargets:r,oContext:i,oDataSideEffect:e,TriggerAction:a&&!c?a:undefined};if(h){n=[]}return{aTargets:n,TriggerAction:c}};g.push(n._sideEffects.requestSideEffects(t.sideEffects,i,r,e));n._sideEffects.unregisterFailedSideEffects(t.sideEffects.fullyQualifiedName,i)}}const e=n._sideEffects.getRegisteredFailedRequests();for(const t of[c,f.getBindingContext()]){if(t){const o=t.getPath();const a=e[o]??[];n._sideEffects.unregisterFailedSideEffectsForAContext(o);for(const e of a){g.push(n._sideEffects.requestSideEffects(e,t))}}}}if(i!==null&&i!==void 0&&i[s]&&i[s].length){g.push(P.requestSideEffects(i[s],c,r))}return Promise.allSettled(g)},createDialog:async function(n,o,a){const i=[],r=g.getLibraryResourceBundle("sap.fe.core"),s=W.getDefaultTextsForDialog(r,o.length,n),l=W.prepareDataForDialog(n,o,i),u=W.getDialogContext(n),d=W.setRuntimeModelOnDialog(o,i,s,u),f=n.getModel(),P=f.getMetaModel(),h=P.getMetaPath(u.getPath()),v=await W.createFragment(P,l,h);const x=await y.load({definition:v});const m=new p({resizable:true,title:s.massEditTitle,content:[x],afterOpen:W.onDialogOpen,beginButton:new c({text:W.helpers.getExpBindingForApplyButtonTxt(s,l.getObject("/")),type:"Emphasized",press:async function(i){var r,s;E.removeBoundTransitionMessages();E.removeUnboundTransitionMessages();(r=a.getView())===null||r===void 0?void 0:(s=r.getBindingContext("internal"))===null||s===void 0?void 0:s.setProperty("skipPatchHandlers",true);const l=t.getAppComponent(a.getView());const u=i.getSource().getParent();const d=u.getModel("fieldsInfo");const c=d.getProperty("/results");const p=n&&n.getModel().getMetaModel(),f=n.data("metaPath"),g=p.getContext(f);const y=[];const P=d.getProperty("/textPaths");const h=d.getProperty("/readablePropertyData");let v;const x=[];const b={};const T=o.length;const O={};const F=W.getSideEffectDataForKey(g,l,a,c);o.forEach(function(t,n){c.forEach(o=>{if(!b.hasOwnProperty(o.keyValue)){b[o.keyValue]=0}if(h){h.some(function(e){if(o.keyValue===e.property){if(e.type==="Default"){return e.value===true}else if(e.type==="Path"&&e.propertyValue&&e.propertyPath){return t.getObject(e.propertyPath)===e.propertyValue}}})}v=`$auto.${n}`;const i=t.setProperty(o.keyValue,o.value,v).catch(async n=>{y.push(t.getObject());e.error("Mass Edit: Something went wrong in updating entries.",n);b[o.keyValue]=b[o.keyValue]+1;return Promise.reject({isFieldUpdateFailed:true})});const r={controller:a,fieldPromise:i,sideEffectsMap:F[o.keyValue],textPaths:P,groupId:v,key:o.keyValue,entitySetContext:g,metaModel:p,selectedContext:t,deferredTargetsForAQualifiedName:O};x.push(W.handleMassEditFieldUpdateAndRequestSideEffects(r))})});await Promise.allSettled(x).then(async function(){v=`$auto.massEditDeferred`;const e=[];const t=Object.values(O);const n=Object.keys(O);t.forEach((t,o)=>{const i=n[o];if(b[i]!==T){const n=Object.values(t);n.forEach(t=>{const{aTargets:n,oContext:o,TriggerAction:i,mSideEffect:r}=t;const s=function(){return n};const l=function(){return{aTargets:s(),TriggerAction:i}};e.push(a._sideEffects.requestSideEffects(r,o,v,l))})}})}).then(function(){W.messageHandlingForMassEdit(n,o,a,u,c,y)}).catch(e=>{W.closeDialog(m);return Promise.reject(e)})}}),endButton:new c({text:s.cancelButtonText,visible:W.helpers.hasEditableFieldsBinding(l.getObject("/"),true),press:function(e){const t=e.getSource().getParent();W.closeDialog(t)}})});m.setModel(d,"fieldsInfo");m.setModel(f);m.setBindingContext(u);return m},createFragment:async function(e,t,o){const a="sap/fe/core/controls/massEdit/MassEditDialog",i=new n(t.getData(),e),r=P.loadTemplate(a,"fragment");return Promise.resolve(h.process(r,{name:a},{bindingContexts:{dataFieldModel:i.createBindingContext("/"),metaModel:e.createBindingContext("/"),contextPath:e.createBindingContext(o)},models:{dataFieldModel:i,metaModel:e,contextPath:e}}))},helpers:{getBindingExpForHasEditableFields:(e,t)=>{const n=e.reduce((e,t)=>N(e,U("/values/"+t.dataProperty+"/visible","fieldsInfo")),Q(false));return t?n:G(n)},getExpBindingForApplyButtonTxt:(e,t)=>{const n=W.helpers.getBindingExpForHasEditableFields(t,true);const o=q(n,Q(e.applyButtonText),Q(e.okButtonText));return K(o)},hasEditableFieldsBinding:(e,t)=>{const n=K(W.helpers.getBindingExpForHasEditableFields(e,t));if(n==="true"){return true}else if(n==="false"){return false}else{return n}}}};return W},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/MessageStrip", ["sap/fe/core/CommonUtils","sap/fe/core/helpers/ResourceModelHelper","sap/ui/core/Core","sap/ui/Device"],function(e,t,n,r){"use strict";var o=t.getLocalizedText;function s(e,t,n,r){const s=n.getModel().getMetaModel(),_=e.map(function(e){if(e==="$search"){return r.getText("M_FILTERBAR_SEARCH")||""}if(e==="$editState"){return r.getText("FILTERBAR_EDITING_STATUS")||""}const _=s.getObject(`${t}${e}@com.sap.vocabularies.Common.v1.Label`)??e;return o(_,n)});return _}function _(t,r,o){let s="";let _=[];const c=i();if(!c){return""}const R=e.getTargetView(r);const a=R.getController().getChartControl();const l=(a===null||a===void 0?void 0:a.data("draftSupported"))==="true";const L=n.getLibraryResourceBundle("sap.fe.macros");o=o&&t.includes(L.getText("M_FILTERBAR_SEARCH"));const g=`C_LR_MULTIVIZ_CHART_${T(t)}_IGNORED_FILTER_${u()}`;if(l&&(t.length===2&&o||t.length===1)){s=t.length===1?"C_MULTIVIZ_CHART_IGNORED_FILTER_DRAFT_DATA":"C_LR_MULTIVIZ_CHART_IGNORED_FILTER_DRAFT_DATA_AND_SEARCH"}else{s=g;_=[t.join(", ")]}return c.getText(s,_)}function c(e,t,n){const r=i();return r?r.getText(`C_LR_MULTITABLES_${T(e)}_IGNORED_FILTER_${u()}`,[e.join(", "),o(n,t)]):""}function u(){return r.system.desktop?"LARGE":"SMALL"}function T(e){return e.length===1?"SINGLE":"MULTI"}function i(){return n.getLibraryResourceBundle("sap.fe.templates")}const R={getALPText:_,getText:c,getLabels:s};return R},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/MetaModelFunction", ["sap/fe/core/converters/helpers/IssueManager","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/ModelHelper","sap/fe/core/type/EDM"],function(e,t,r,i){"use strict";var o={};var n=i.isTypeFilterable;var s=t.pathInModel;var a=t.or;var l=t.not;var c=t.compileExpression;var u=e.IssueSeverity;var p=e.IssueCategoryType;var g=e.IssueCategory;function d(e,t){let i;let o;const n="$NavigationPropertyBinding";const s="@Org.OData.Capabilities.V1.SearchRestrictions";const a=e.replaceAll("%2F","/").split("/").filter(r.filterOutNavPropBinding);const l=r.getEntitySetPath(e,t);const c=l.split("/").filter(r.filterOutNavPropBinding);const u=t.getObject(`/${a.join("/")}/$ContainsTarget`)?true:false;const p=u?a[a.length-1]:"";if(!u){i=t.getObject(`${l}${s}`)}if(a.length>1){const e=u?p:c[c.length-1];const r=u?l:`/${c.slice(0,-1).join(`/${n}/`)}`;const i=U.getNavigationRestrictions(t,r,e.replaceAll("%2F","/"));o=i===null||i===void 0?void 0:i.SearchRestrictions}return o??i}o.getSearchRestrictions=d;function f(e,t,r){const i=e.getObject(`${t}@Org.OData.Capabilities.V1.NavigationRestrictions`);const o=i===null||i===void 0?void 0:i.RestrictedProperties;return o===null||o===void 0?void 0:o.find(function(e){var t;return((t=e.NavigationProperty)===null||t===void 0?void 0:t.$NavigationPropertyPath)===r})}o.getNavigationRestrictions=f;function v(e,t,r){let i=false;const o=e.getObject(`${t}@Org.OData.Capabilities.V1.FilterRestrictions`);if(o!==null&&o!==void 0&&o.NonFilterableProperties){i=o.NonFilterableProperties.some(function(e){return e.$NavigationPropertyPath===r||e.$PropertyPath===r})}return i}function P(e,t,r){let i=false;const o=e.getObject(t+"@Org.OData.Aggregation.V1.ApplySupported")?true:false;if(o){const o=e.getObject(`${t}@`);const n=U.getAllCustomAggregates(o);const s=n?Object.keys(n):undefined;if(s!==null&&s!==void 0&&s.includes(r)){i=true}}return i}o.isCustomAggregate=P;function b(e,t,r,i){let o=e.split("/").length===2&&!r.includes("/")?!v(t,e,r)&&!P(t,e,r):!h(t,e,r);if(o&&i){const e=$(i);if(e){o=e?n(e):false}else{o=false}}return o}function h(e,t,r){const i=`${t}/${r}`,o=i.split("/").splice(0,2),n=i.split("/").splice(2);let s=false,a="";t=o.join("/");s=n.some(function(r,i,o){if(a.length>0){a+=`/${r}`}else{a=r}if(i===o.length-2){const i=U.getNavigationRestrictions(e,t,r);const n=i===null||i===void 0?void 0:i.FilterRestrictions;const s=n===null||n===void 0?void 0:n.NonFilterableProperties;const a=o[o.length-1];if(s!==null&&s!==void 0&&s.find(function(e){return e.$PropertyPath===a})){return true}}if(i===o.length-1){s=v(e,t,a)}else if(e.getObject(`${t}/$NavigationPropertyBinding/${r}`)){s=v(e,t,a);a="";t=`/${e.getObject(`${t}/$NavigationPropertyBinding/${r}`)}`}return s});return s}function $(e){let t=e.getProperty("$Type");if(!e.getProperty("$kind")){switch(t){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":t=undefined;break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":t=e.getProperty("Value/$Path/$Type");break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":default:const r=e.getProperty("Target/$AnnotationPath");if(r){if(r.includes("com.sap.vocabularies.Communication.v1.Contact")){t=e.getProperty("Target/$AnnotationPath/fn/$Path/$Type")}else if(r.includes("com.sap.vocabularies.UI.v1.DataPoint")){t=e.getProperty("Value/$Path/$Type")}else{t=undefined}}else{t=undefined}break}}return t}function y(e,t,r,i){if(typeof r!=="string"){throw new Error("sProperty parameter must be a string")}if(e.getObject(`${t}/@com.sap.vocabularies.Common.v1.ResultContext`)===true){return true}const o=e.createBindingContext(`${t}/${r}`);if(o&&!i){if(o.getProperty("@com.sap.vocabularies.UI.v1.Hidden")===true||o.getProperty("@com.sap.vocabularies.UI.v1.HiddenFilter")===true){return false}const e=o.getProperty("@com.sap.vocabularies.UI.v1.Hidden/$Path");const t=o.getProperty("@com.sap.vocabularies.UI.v1.HiddenFilter/$Path");if(e&&t){return c(l(a(s(e),s(t))))}else if(e){return c(l(s(e)))}else if(t){return c(l(s(t)))}}return b(t,e,r,o)}o.isPropertyFilterable=y;function R(e,t,r){const i=e.getObject(`${t}/`).$Key;const o=[];const n=[];const s=e.getObject(`${t}/`);for(const a in s){if(s[a].$kind&&s[a].$kind==="Property"){const l=e.getObject(`${t}/${a}@`)||{},c=i.includes(a),d=l["@Org.OData.Core.V1.Immutable"],f=!l["@Org.OData.Core.V1.Computed"],v=!l["@com.sap.vocabularies.UI.v1.Hidden"],P=l["@Org.OData.Core.V1.ComputedDefaultValue"],b=c&&s[a].$Type==="Edm.Guid"?P&&l["@com.sap.vocabularies.Common.v1.Text"]:false;if((b||c&&s[a].$Type!=="Edm.Guid")&&f&&v){o.push(a)}else if(d&&f&&v){n.push(a)}if(!f&&P&&r){const e=r.getDiagnostics();const t="Core.ComputedDefaultValue is ignored as Core.Computed is already set to true";e.addIssue(g.Annotation,u.Medium,t,p,p.Annotations.IgnoredAnnotation)}}}const a=U.getRequiredPropertiesFromInsertRestrictions(t,e);if(a.length){a.forEach(function(r){const i=e.getObject(`${t}/${r}@`),s=!(i!==null&&i!==void 0&&i["@com.sap.vocabularies.UI.v1.Hidden"]);if(s&&!o.includes(r)&&!n.includes(r)){o.push(r)}})}return o.concat(n)}o.getNonComputedVisibleFields=R;function m(e,t){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;const o=[];let n=[];const s="$NavigationPropertyBinding";let a=null;if(e.endsWith("$")){e=e.replace("/$","")}const l=e.replaceAll("%2F","/").split("/").filter(r.filterOutNavPropBinding);const c=r.getEntitySetPath(e,t);const u=c.split("/").filter(r.filterOutNavPropBinding);const p=t.getObject(`/${l.join("/")}/$ContainsTarget`)?true:false;const g=p?l[l.length-1]:"";if(!p){a=t.getObject(`${c}@`)}if(l.length>1){const e=p?g:u[u.length-1];const r=p?c:`/${u.slice(0,-1).join(`/${s}/`)}`;const o=U.getNavigationRestrictions(t,r,e.replaceAll("%2F","/"));if(o!==undefined&&U.hasRestrictedPropertiesInAnnotations(o,true,i)){var d,f;n=i?((d=o.UpdateRestrictions)===null||d===void 0?void 0:d.RequiredProperties)??[]:((f=o.InsertRestrictions)===null||f===void 0?void 0:f.RequiredProperties)??[]}if(!n.length&&U.hasRestrictedPropertiesInAnnotations(a,false,i)){n=U.getRequiredPropertiesFromAnnotations(a,i)}}else if(U.hasRestrictedPropertiesInAnnotations(a,false,i)){n=U.getRequiredPropertiesFromAnnotations(a,i)}n.forEach(function(e){const t=e.$PropertyPath;o.push(t)});return o}function O(e,t){return U.getRequiredProperties(e,t)}o.getRequiredPropertiesFromInsertRestrictions=O;function I(e,t){return U.getRequiredProperties(e,t,true)}o.getRequiredPropertiesFromUpdateRestrictions=I;function F(e){var t;let r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(r){var i;return(e===null||e===void 0?void 0:(i=e["@Org.OData.Capabilities.V1.UpdateRestrictions"])===null||i===void 0?void 0:i.RequiredProperties)??[]}return(e===null||e===void 0?void 0:(t=e["@Org.OData.Capabilities.V1.InsertRestrictions"])===null||t===void 0?void 0:t.RequiredProperties)??[]}function C(e){var t;let r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(r){var o;const t=e;if(i){var n;return t!==null&&t!==void 0&&(n=t.UpdateRestrictions)!==null&&n!==void 0&&n.RequiredProperties?true:false}return t!==null&&t!==void 0&&(o=t.InsertRestrictions)!==null&&o!==void 0&&o.RequiredProperties?true:false}else if(i){var s;const t=e;return t!==null&&t!==void 0&&(s=t["@Org.OData.Capabilities.V1.UpdateRestrictions"])!==null&&s!==void 0&&s.RequiredProperties?true:false}const a=e;return a!==null&&a!==void 0&&(t=a["@Org.OData.Capabilities.V1.InsertRestrictions"])!==null&&t!==void 0&&t.RequiredProperties?true:false}function A(e){const t={};let r;for(const i in e){if(i.startsWith("@Org.OData.Aggregation.V1.CustomAggregate")){r=i.replace("@Org.OData.Aggregation.V1.CustomAggregate#","");const o=r.split("@");if(o.length==2){const r={};if(o[1]=="Org.OData.Aggregation.V1.ContextDefiningProperties"){r.contextDefiningProperties=e[i]}if(o[1]=="com.sap.vocabularies.Common.v1.Label"){r.label=e[i]}t[o[0]]=r}else if(o.length==1){t[o[0]]={name:o[0],propertyPath:o[0],label:`Custom Aggregate (${r})`,sortable:true,sortOrder:"both",custom:true}}}}return t}o.getAllCustomAggregates=A;function D(e){const t={sortable:true,propertyInfo:{}};const r=e["@Org.OData.Capabilities.V1.SortRestrictions"];if(!r){return t}if(r.Sortable===false){t.sortable=false}for(const e of r.NonSortableProperties||[]){const r=e.$PropertyPath;t.propertyInfo[r]={sortable:false}}for(const e of r.AscendingOnlyProperties||[]){const r=e.$PropertyPath;t.propertyInfo[r]={sortable:true,sortDirection:"asc"}}for(const e of r.DescendingOnlyProperties||[]){const r=e.$PropertyPath;t.propertyInfo[r]={sortable:true,sortDirection:"desc"}}return t}o.getSortRestrictionsInfo=D;function N(e){let t,r;const i={filterable:true,requiresFilter:(e===null||e===void 0?void 0:e.RequiresFilter)||false,propertyInfo:{},requiredProperties:[]};if(!e){return i}if(e.Filterable===false){i.filterable=false}if(e.RequiredProperties){for(t=0;t<e.RequiredProperties.length;t++){r=e.RequiredProperties[t].$PropertyPath;i.requiredProperties.push(r)}}if(e.NonFilterableProperties){for(t=0;t<e.NonFilterableProperties.length;t++){r=e.NonFilterableProperties[t].$PropertyPath;i.propertyInfo[r]={filterable:false}}}if(e.FilterExpressionRestrictions){for(t=0;t<e.FilterExpressionRestrictions.length;t++){var o;r=(o=e.FilterExpressionRestrictions[t].Property)===null||o===void 0?void 0:o.$PropertyPath;if(r){i.propertyInfo[r]={filterable:true,allowedExpressions:e.FilterExpressionRestrictions[t].AllowedExpressions}}}}return i}o.getFilterRestrictionsInfo=N;function q(e){let t=true;switch(e){case"SearchExpression":case"SingleRange":case"SingleValue":t=false;break;default:break}return t}o.isMultiValueFilterExpression=q;const U={getRequiredProperties:m,getRequiredPropertiesFromAnnotations:F,hasRestrictedPropertiesInAnnotations:C,getRequiredPropertiesFromInsertRestrictions:O,getNavigationRestrictions:f,getAllCustomAggregates:A};o.METAMODEL_FUNCTIONS=U;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ModelHelper", ["sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/ui/model/BindingMode","sap/ui/model/json/JSONModel"],function(t,e,n,o){"use strict";var i=e.isEntitySet;var r=t.getInvolvedDataModelObjects;const a={disableCollaborationDraft:false,isStickySessionSupported:function(t){const e=t.getObject("/");for(const n in e){if(e[n].$kind==="EntitySet"&&t.getObject(`/${n}@com.sap.vocabularies.Session.v1.StickySessionSupported`)){return true}}return false},isDraftSupported:function(t,e){const n=t.getMetaContext(e);const o=r(n);return this.isObjectPathDraftSupported(o)},isObjectPathDraftSupported:function(t){var e,n,o,i,r,s,d;const l=t.targetEntitySet;const c=a.isDraftRoot(l);const u=a.isDraftNode(l);const g=(e=t.targetObject)!==null&&e!==void 0&&e.containsTarget&&((n=t.startingEntitySet)!==null&&n!==void 0&&(o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&i.DraftRoot||(r=t.startingEntitySet)!==null&&r!==void 0&&(s=r.annotations)!==null&&s!==void 0&&(d=s.Common)!==null&&d!==void 0&&d.DraftNode)?true:false;return c||u||!l&&g},isCollaborationDraftSupported:function(t,e){if(!this.disableCollaborationDraft){var n;const o=(e===null||e===void 0?void 0:(n=e.context)===null||n===void 0?void 0:n.getModel())||t;const i=o.getObject("/");for(const t in i){if(i[t].$kind==="EntitySet"&&o.getObject(`/${t}@com.sap.vocabularies.Common.v1.DraftRoot/ShareAction`)){return true}}}return false},getDraftRootPath:function(e){const n=e.getModel().getMetaModel();const o=function(e,i){var r;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const s=a?e:(r=new RegExp(/.*(?=\/)/).exec(e))===null||r===void 0?void 0:r[0];if(s&&s!=="/"){var d,l;const e=n.getMetaPath(s);const r=t.getInvolvedDataModelObjects(n.getContext(e));if((d=r.targetEntitySet)!==null&&d!==void 0&&(l=d.annotations.Common)!==null&&l!==void 0&&l.DraftRoot){return s}return o(s,i,false)}return undefined};return o(e.getPath(),e.getModel())},getStickyRootPath:function(e){const n=e.getModel().getMetaModel();const o=function(e,i){var r;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const s=a?e:(r=new RegExp(/.*(?=\/)/).exec(e))===null||r===void 0?void 0:r[0];if(s&&s!=="/"){var d,l,c;const e=n.getMetaPath(s);const r=t.getInvolvedDataModelObjects(n.getContext(e));if((d=r.targetEntitySet)!==null&&d!==void 0&&(l=d.annotations)!==null&&l!==void 0&&(c=l.Session)!==null&&c!==void 0&&c.StickySessionSupported){return s}return o(s,i,false)}return undefined};return o(e.getPath(),e.getModel())},getTargetEntitySet:function(t){const e=t.getPath();if(t.getObject("$kind")==="EntitySet"||t.getObject("$kind")==="Action"||t.getObject("0/$kind")==="Action"){return e}const n=a.getEntitySetPath(e);return`/${t.getObject(n)}`},getEntitySetPath:function(t,e){let n="";if(!e){n=`/${t.split("/").filter(a.filterOutNavPropBinding).join("/$NavigationPropertyBinding/")}`}else{const o=t.split("/").filter(a.filterOutNavPropBinding);if(o.length>1){const t={growingPath:"/",pendingNavPropBinding:""};const i=o.reduce((t,n,o)=>{const i=!!o&&"/$NavigationPropertyBinding/"||"";let{growingPath:r,pendingNavPropBinding:a}=t;const s=r+i;const d=e.getObject(s);const l=a?`${a}/${n}`:n;if(d&&Object.keys(d).length>0&&d.hasOwnProperty(l)){r=s+l.replace("/","%2F");a=""}else{a+=a?`/${n}`:n}return{growingPath:r,pendingNavPropBinding:a}},t);n=i.growingPath}else{n=`/${o[0]}`}}return n},getActionParameterItemsModelPath:function(t){return t&&t.$Name?`{path: 'mvfview>/${t.$Name}'}`:undefined},filterOutNavPropBinding:function(t){return t!==""&&t!=="$NavigationPropertyBinding"},enhanceInternalJSONModel:function(t){const e=t.bindContext;t.bindContext=function(t,n,o){for(var i=arguments.length,r=new Array(i>3?i-3:0),a=3;a<i;a++){r[a-3]=arguments[a]}n=e.apply(this,[t,n,o,...r]);const s=n.getBoundContext;n.getBoundContext=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++){e[n]=arguments[n]}const o=s.apply(this,...e);if(o&&!o.setProperty){o.setProperty=function(t,e){if(this.getObject()===undefined){this.getModel().setProperty(this.getPath(),{})}const n=t.split("/");for(let t=0;t<n.length-1;t++){if(this.getObject(n[t])===undefined){this.getModel().setProperty(this.getPath(n[t]),{})}}this.getModel().setProperty(t,e,this)}}return o};return n}},enhanceUiJSONModel:function(t,e){const n=t.setProperty;t.setProperty=function(){for(var o=arguments.length,i=new Array(o),r=0;r<o;r++){i[r]=arguments[r]}const a=i[1];if(i[0]==="/isEditable"){t.setProperty("/editMode",a?e.EditMode.Editable:e.EditMode.Display,i[2],i[3])}return n.apply(this,[...i])}},enhanceViewJSONModel:function(t){const e=t._getObject;t._getObject=function(t,n){if(t===undefined||t===""){t="/"}return e.apply(this,[t,n])}},isFilteringCaseSensitive:function(t){if(!t){return undefined}const e=t.getObject("/@Org.OData.Capabilities.V1.FilterFunctions");return e?e.indexOf("tolower")===-1:true},getMetaPathForContext:function(t){const e=t.getModel(),n=e.getMetaModel(),o=t.getPath();return n&&o&&n.getMetaPath(o)},getRootEntitySetPath:function(t){let e="";const n=t?t.split("/"):[];if(n.length>1){e=n[1]}return e},getAbsoluteMetaPathForListBinding:function(t,e){const n=t.getModel().getMetaModel();let o;if(typeof e==="string"){if(e.startsWith("/")){o=n.getMetaPath(e)}else{const i=t.getBindingContext();const r=i.getPath();o=n.getMetaPath(`${r}/${e}`)}}else{const t=e;const i=t.getRootBinding();if(t===i){o=n.getMetaPath(t.getPath())}else{const e=i.getPath();const r=t.getPath();o=n.getMetaPath(`${e}/${r}`)}}return o},isDraftRoot:function(t){return this.getDraftRoot(t)!==undefined},isDraftNode:function(t){return this.getDraftNode(t)!==undefined},isSticky:function(t){return this.getStickySession(t)!==undefined},isUpdateHidden:function(t,e){if(i(t)){var n,o;return((n=t.annotations.UI)===null||n===void 0?void 0:n.UpdateHidden)??(e===null||e===void 0?void 0:(o=e.annotations.UI)===null||o===void 0?void 0:o.UpdateHidden)}},getDraftRoot:function(t){var e;return i(t)?(e=t.annotations.Common)===null||e===void 0?void 0:e.DraftRoot:undefined},getDraftNode:function(t){var e;return i(t)?(e=t.annotations.Common)===null||e===void 0?void 0:e.DraftNode:undefined},getStickySession:function(t){var e;return i(t)?(e=t.annotations.Session)===null||e===void 0?void 0:e.StickySessionSupported:undefined},getDeleteHidden:function(t,e){if(i(t)){var n,o;return((n=t.annotations.UI)===null||n===void 0?void 0:n.DeleteHidden)??((o=e.annotations.UI)===null||o===void 0?void 0:o.DeleteHidden)}},getAbsolutePathFromListBinding(t){const e=t.getModel().getMetaModel();let n;const o=t.getRootBinding();if(t===o){n=e.getMetaPath(t.getPath())}else{const i=o===null||o===void 0?void 0:o.getPath();const r=t.getPath();n=e.getMetaPath(`${i}/${r}`)}return n},enhanceODataModel(t){const e=t.setMessages;const i=new o({});i.setDefaultBindingMode(n.OneWay);const r=i.setProperty;i.setProperty=function(t,e,n,o){let i=t;if(n){i=n.getPath(t)}const a=i.split("/");let s="";for(let t=0;t<a.length-1;t++){if(t>0){s+="/"}s+=a[t];if(this.getObject(s)===undefined){this.setProperty(s,{})}}return r.apply(this,[t,e,n,o])};function a(t,e){for(const n in e){if(typeof e[n]==="object"){e[n]=a(t,e[n]);if(Object.keys(e[n]).length===0){delete e[n]}}for(const o of t){if(n.endsWith(o)){delete e[n]}}}return e}t._localAnnotationModel=i;t.getLocalAnnotationModel=function(){return this._localAnnotationModel};t.setMessages=function(t){const n=a(["@$ui5.fe.messageType","@$ui5.fe.messageText"],this._localAnnotationModel.getData());this._localAnnotationModel.setData(n);for(const e in t){this._localAnnotationModel.setProperty(`${e}@$ui5.fe.messageType`,t[e][0].getType());this._localAnnotationModel.setProperty(`${e}@$ui5.fe.messageText`,t[e][0].getMessage())}e.apply(this,[t])};const s=t.bindProperty.bind(t);t.bindProperty=function(t,e,n){if(t.includes("@$ui5.fe.")){return this._localAnnotationModel.bindProperty(t)}return s(t,e,n)};const d=t.destroy.bind(t);t.destroy=function(){this._localAnnotationModel.destroy();return d.apply(this)}}};return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/PasteHelper", ["sap/base/Log","sap/m/MessageBox","sap/ui/core/Core","sap/ui/core/util/PasteHelper"],function(e,t,r,n){"use strict";const o=function(e,t,r,n){const o=r.getProperty(e),s={parseKeepsEmptyString:true},i=n.getUI5Type(`${t}/${e}`,s),a=!o||r.getProperty(`${e}@Org.OData.Core.V1.Computed`);return{property:e,ignore:a,type:i}};const s=function(e){const n=[...e];const o=r.getLibraryResourceBundle("sap.fe.core"),s=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_CORRECTION_MESSAGE"),i=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_CORRECTION_NOTE");let a;if(n.length>1){a=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_MESSAGE_PLURAL",[n.length])}else{a=o.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_MESSAGE_SINGULAR")}n.unshift("");n.unshift(i);n.unshift(s);t.error(a,{title:o.getText("C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR"),details:n.join("<br>")})};const i={displayErrorMessages:s,formatCustomMessage:function(e,t){let n="";const o=e.length;const s=r.getLibraryResourceBundle("sap.fe.core"),i=s.getText("T_MESSAGE_GROUP_DESCRIPTION_TABLE_ROW");if(o>0){n+=`${i} ${t}: `;e.forEach((e,t)=>{if(e.messageText){n+=e.messageText+(t+1!==o?" ":"")}})}return n},getColumnInfo:function(e){const t=e.getRowBinding().getModel(),r=t.getMetaModel(),n=t.resolve(e.getRowBinding().getPath(),e.getRowBinding().getContext()),o=r.getMetaContext(n);return e.getControlDelegate().fetchProperties(e).then(t=>{const s=Object.assign({},...t.map(e=>({[e.name]:e})));const i=[];e.getColumns().forEach(e=>{const t=s[e.getDataProperty()];if(t.propertyInfos){t.propertyInfos.forEach(e=>{const t=s[e];if(t.exportSettings!==null){if(e.indexOf("/")>-1){i.push({property:t.path,ignore:true})}else{i.push(this.getInfoForEntityProperty(t.path,n,o,r))}}});if(t.exportDataPointTargetValue){i.push({property:"targetValueFromDataPoint",ignore:true})}}else if(t.exportSettings!==null){if(t.path){i.push(this.getInfoForEntityProperty(t.path,n,o,r))}else{i.push({property:"unused",type:null,ignore:true})}}});return i})},getInfoForEntityProperty:o,parsePastedData:function(e,t){return this.getColumnInfo(t).then(function(t){const r=e.length?e[0].length:0;let o=-1;for(let e=0;e<t.length&&o<0;e++){if(!t[e].ignore){o=e}}return o<0||o>r-1?Promise.resolve({}):n.parse(e,t)}).then(e=>{if(e.errors){const t=e.errors.map(function(e){return e.message});this.displayErrorMessages(t);return[]}else{return e.parsedData?e.parsedData:[]}})},pasteData:function(t,r,n){const o=n.editFlow;const s=r.getParent().getTableDefinition();let i=[];return this.parsePastedData(t,r).then(e=>{i=e||[];return Promise.all(i.map(e=>{var t;return o.validateDocument(r.getBindingContext(),{data:e,customValidationFunction:s===null||s===void 0?void 0:(t=s.control)===null||t===void 0?void 0:t.customValidationFunction})}))}).then(e=>{const t=e.reduce(function(e,t,r){if(t.length>0){e.push({messages:t,row:r+1})}return e},[]);if(t.length>0){const e=t.map(e=>this.formatCustomMessage(e.messages,e.row));this.displayErrorMessages(e);return[]}return i}).then(e=>{var t;return e.length>0?o.createMultipleDocuments(r.getRowBinding(),e,s===null||s===void 0?void 0:(t=s.control)===null||t===void 0?void 0:t.createAtEnd,true,n.editFlow.onBeforeCreate):undefined}).catch(t=>{e.error("Error while pasting data",t)})}};return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/RecommendationHelper", [],function(){"use strict";var t={};const e={sortRecommendationsData(t){const e=t.recommendations;e.sort((t,e)=>{if(t.probability&&e.probability){if(t.probability<e.probability){return 1}else if(t.probability>e.probability){return-1}}return 0});const o=t;delete o["recommendations"];o.additionalValues=e},transformRecommendationsForInternalStorage(t){if(t.hasOwnProperty("recommendations")){this.sortRecommendationsData(t);return}else if(Array.isArray(t)){t.forEach(t=>{Object.values(t).forEach(t=>{if(typeof t==="object"){this.transformRecommendationsForInternalStorage(t)}})})}else{Object.values(t).forEach(t=>{if(typeof t==="object"){this.transformRecommendationsForInternalStorage(t)}})}},clearRecommendations:(t,e)=>{const o=t.getModel("internal");const r=o.getProperty("/currentCtxt");const n=t.getBindingContext("ui").getProperty("createMode");if((r===null||r===void 0?void 0:r.getPath())!==(e===null||e===void 0?void 0:e.getPath())||n){o.setProperty("/recommendationsData",{})}}};t.recommendationHelper=e;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ResourceModelHelper", ["sap/base/Log"],function(e){"use strict";var t={};function o(e){if(e.isA("sap.ui.core.mvc.Controller")||e.isA("sap.ui.core.mvc.ControllerExtension")){var t;return(t=e.getView())===null||t===void 0?void 0:t.getModel("sap.fe.i18n")}else{return e.getModel("sap.fe.i18n")}}t.getResourceModel=o;function r(t,r){const n=/{([A-Za-z0-9_.|@]+)>([A-Za-z0-9_.|]+)}/.exec(t);if(n){try{if(n[1]==="sap.fe.i18n"){return o(r).getText(n[2])}else{const e=r.getModel(n[1]).getResourceBundle();return e.getText(n[2])}}catch(o){e.info(`Unable to retrieve localized text ${t}`)}}return t}t.getLocalizedText=r;return{getResourceModel:o,getLocalizedText:r}},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/SemanticDateOperators", ["sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/ValidateException","../templating/DisplayModeFormatter"],function(e,t,a,o,r,n){"use strict";var s=n.ODATA_TYPE_MAPPING;const l=["DATE","FROM","TO","DATERANGE"];const i="DYNAMIC.DATE";const c="FIXED.DATE";const T="DYNAMIC.DATE.INT";const u="DYNAMIC.DATERANGE";const E="DYNAMIC.MONTH";const y="FIXED.WEEK";const p="FIXED.MONTH";const A="FIXED.QUARTER";const f="FIXED.YEAR";const d="DYNAMIC.WEEK.INT";const O="DYNAMIC.MONTH.INT";const D="DYNAMIC.QUARTER.INT";const R="DYNAMIC.YEAR.INT";const g="DYNAMIC.MINUTE.INT";const S="DYNAMIC.HOUR.INT";const M={EQ:{key:"EQ",category:i},BT:{key:"BT",category:u}};const N={DATE:{key:"DATE",category:i},FROM:{key:"FROM",category:i},TO:{key:"TO",category:i},DATERANGE:{key:"DATERANGE",category:u},SPECIFICMONTH:{key:"SPECIFICMONTH",category:E},TODAY:{key:"TODAY",category:c},TODAYFROMTO:{key:"TODAYFROMTO",category:T},YESTERDAY:{key:"YESTERDAY",category:c},TOMORROW:{key:"TOMORROW",category:c},LASTDAYS:{key:"LASTDAYS",category:T},NEXTDAYS:{key:"NEXTDAYS",category:T},THISWEEK:{key:"THISWEEK",category:y},LASTWEEK:{key:"LASTWEEK",category:y},LASTWEEKS:{key:"LASTWEEKS",category:d},NEXTWEEK:{key:"NEXTWEEK",category:y},NEXTWEEKS:{key:"NEXTWEEKS",category:d},THISMONTH:{key:"THISMONTH",category:p},LASTMONTH:{key:"LASTMONTH",category:p},LASTMONTHS:{key:"LASTMONTHS",category:O},NEXTMONTH:{key:"NEXTMONTH",category:p},NEXTMONTHS:{key:"NEXTMONTHS",category:O},THISQUARTER:{key:"THISQUARTER",category:A},LASTQUARTER:{key:"LASTQUARTER",category:A},LASTQUARTERS:{key:"LASTQUARTERS",category:D},NEXTQUARTER:{key:"NEXTQUARTER",category:A},NEXTQUARTERS:{key:"NEXTQUARTERS",category:D},QUARTER1:{key:"QUARTER1",category:A},QUARTER2:{key:"QUARTER2",category:A},QUARTER3:{key:"QUARTER3",category:A},QUARTER4:{key:"QUARTER4",category:A},THISYEAR:{key:"THISYEAR",category:f},LASTYEAR:{key:"LASTYEAR",category:f},LASTYEARS:{key:"LASTYEARS",category:R},NEXTYEAR:{key:"NEXTYEAR",category:f},NEXTYEARS:{key:"NEXTYEARS",category:R},LASTMINUTES:{key:"LASTMINUTES",category:g},NEXTMINUTES:{key:"NEXTMINUTES",category:g},LASTHOURS:{key:"LASTHOURS",category:S},NEXTHOURS:{key:"NEXTHOURS",category:S},YEARTODATE:{key:"YEARTODATE",category:f},DATETOYEAR:{key:"DATETOYEAR",category:f}};const m=["TODAY","TOMORROW","YESTERDAY"];function F(){return new t({name:"DATERANGE",filterOperator:o.BT,alias:{Date:"DATERANGE",DateTime:"DATERANGE"},valueTypes:[{name:"sap.ui.model.odata.type.Date"},{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return H.getModelFilterForDateRange(e,t,a,this)},validate:function(e,a){if(e.length<2){throw new r("Date Range must have two values")}else{const t=new Date(e[0]);const a=new Date(e[1]);if(t.getTime()>a.getTime()){throw new r("From Date Should Be Less Than To Date")}}t.prototype.validate.apply(this,[e,a])}})}function k(){return new t({name:"DATE",alias:{Date:"DATE",DateTime:"DATE"},filterOperator:o.EQ,valueTypes:[{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return H.getModelFilterForDate(e,t,a,this)}})}function v(){return new t({name:"FROM",alias:{Date:"FROM",DateTime:"FROM"},filterOperator:o.GE,valueTypes:[{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return H.getModelFilterForFrom(e,t,a,this)}})}function I(){return new t({name:"TO",alias:{Date:"TO",DateTime:"TO"},filterOperator:o.LE,valueTypes:[{name:"sap.ui.model.odata.type.Date"}],getModelFilter:function(e,t,a){return H.getModelFilterForTo(e,t,a,this)}})}function Y(e,t){if(!t){return true}t=Array.isArray(t)?t:[t];let a;t.some(function(t){let o;if(!t.path){return false}const r=e[t.path];const n=t.exclude||false;let s;if(t.contains&&r){s=t.contains.split(",");a=n;for(o=0;o<s.length;o++){if(n&&r.indexOf(s[o])>-1){a=false;return true}else if(!n&&r.indexOf(s[o])>-1){a=true;return true}}}if(t.equals&&r){s=t.equals.split(",");a=n;for(o=0;o<s.length;o++){if(n&&r===s[o]){a=false;return true}else if(!n&&r===s[o]){a=true;return true}}}return false});return a}function h(e){return e==="Edm.DateTimeOffset"?Object.assign({},N,M):N}const H={addSemanticDateOperators:function(){e.addOperator(F());e.addOperator(k());e.addOperator(v());e.addOperator(I())},getSupportedOperations:function(){return l},getSemanticDateOperations:function(e){const t=h(e);return Object.keys(t)},removeSemanticDateOperators:function(){},getFilterOperations:function(e,t){const a=[];const o=h(t);for(const t in o){const r=o[t];if(Y(r,e)){a.push(r)}}return a.map(function(e){return e.key})},hasSemanticDateOperations:function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;const a=this.getSemanticDateOperations();for(const o in e){const r=e[o];const n=r.find(function(e){return a.includes(e.operator)});if(n){if(t){return true}else{return!l.includes(n.operator)}}}return false},getSemanticOpsFilterProperties:function(e){const t=[];for(const[a,o]of Object.entries(e)){const e=o[0].SemanticDates;if(e&&!l.includes(e.operator)){t.push({filterName:a,filterSemanticInfo:e,filterType:""})}}return t},getModelFilterForDate:function(e,t,r,n){if(r.isA("sap.ui.model.odata.type.DateTimeOffset")){const s=n._createLocalType(n.valueTypes[0]);let l=e.values[0];const i=s.getModelFormat();const c=i.parse(l,false);l=r.getModelValue(c);c.setHours(23);c.setMinutes(59);c.setSeconds(59);c.setMilliseconds(999);const T=r.getModelValue(c);return new a({path:t,operator:o.BT,value1:l,value2:T})}else{return new a({path:t,operator:n.filterOperator,value1:e.values[0]})}},getModelFilterForTo:function(e,t,r,n){if(r.isA("sap.ui.model.odata.type.DateTimeOffset")){const s=n._createLocalType(n.valueTypes[0]);const l=e.values[0];const i=s.getModelFormat();const c=i.parse(l,false);c.setHours(23);c.setMinutes(59);c.setSeconds(59);c.setMilliseconds(999);const T=r.getModelValue(c);return new a({path:t,operator:o.LE,value1:T})}else{return new a({path:t,operator:n.filterOperator,value1:e.values[0]})}},getModelFilterForFrom:function(e,t,r,n){if(r.isA("sap.ui.model.odata.type.DateTimeOffset")){const s=n._createLocalType(n.valueTypes[0]);const l=e.values[0];const i=s.getModelFormat();const c=i.parse(l,false);c.setHours(0);c.setMinutes(0);c.setSeconds(0);c.setMilliseconds(0);const T=r.getModelValue(c);return new a({path:t,operator:o.GE,value1:T})}else{return new a({path:t,operator:n.filterOperator,value1:e.values[0]})}},getModelFilterForDateRange:function(e,t,r,n){if(r.isA("sap.ui.model.odata.type.DateTimeOffset")){let s=n._createLocalType(n.valueTypes[0]);let l=e.values[0];let i=s.getModelFormat();let c=i.parse(l,false);l=r.getModelValue(c);s=n._createLocalType(n.valueTypes[1]);i=s.getModelFormat();let T=e.values[1];c=i.parse(T,false);c.setHours(23);c.setMinutes(59);c.setSeconds(59);c.setMilliseconds(999);T=r.getModelValue(c);return new a({path:t,operator:o.BT,value1:l,value2:T})}else{return new a({path:t,operator:n.filterOperator,value1:e.values[0],value2:e.values[1]})}},getSemanticDateFiltersWithFlpPlaceholders(e,t){const o=[];const r={};e.forEach(e=>{var n;let{filterName:l,filterSemanticInfo:i,filterType:c}=e;const T=t.find(e=>e.key===l);if(T&&(n=T.typeConfig)!==null&&n!==void 0&&n.className){var u;c=s[(u=T.typeConfig)===null||u===void 0?void 0:u.className]}const E=i.operator;const y=i.high;const p=i.low;if(E){let e;if(m.includes(E)&&c!=="Edm.DateTimeOffset"){const t=`${l}placeholder`;e=new a({path:l,operator:"EQ",value1:t});r[t]=`{${c}%%DynamicDate.${E}%%}`}else{const t=[E,y,p].filter(e=>e!==undefined&&e!==null).join(".");const o=`${l}placeholderStart`;const n=`${l}placeholderEnd`;const s=`${c}%%DynamicDate.${t}`;e=new a({filters:[new a({path:l,operator:"GE",value1:o}),new a({path:l,operator:"LE",value1:n})],and:true});r[o]=`{${s}.start%%}`;r[n]=`{${s}.end%%}`}o.push(e)}});return[r,o]}};return H},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/SemanticKeyHelper", ["sap/base/Log"],function(e){"use strict";const t={getSemanticKeys:function(e,t){return e.getObject(`/${t}/@com.sap.vocabularies.Common.v1.SemanticKey`)},getSemanticObjectInformation:function(e,t){const n=e.getObject(`/${t}/@com.sap.vocabularies.Common.v1.SemanticObject`);const i=this.getSemanticKeys(e,t);return{semanticObject:n,semanticKeys:i}},getSemanticPath:function(t){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const i=t.getModel().getMetaModel(),a=i.getMetaContext(t.getPath()).getObject("@sapui.name"),o=this.getSemanticObjectInformation(i,a);let c,s;if(t.isA("sap.ui.model.odata.v4.ODataListBinding")&&t.isRelative()){c=t.getHeaderContext().getPath()}else{c=t.getPath()}if(this._isPathForSemantic(c)&&o.semanticKeys){const n=o.semanticKeys,c=i.getObject(`/${i.getObject(`/${a}`).$Type}`);try{const e=n.map(function(e){const i=e.$PropertyPath;let a=t.getProperty(i);if(a===undefined||a===null){throw new Error(`Couldn't resolve semantic key value for ${i}`)}else{if(c[i].$Type==="Edm.String"){a=`'${encodeURIComponent(a)}'`}if(n.length>1){a=`${i}=${a}`}return a}}).join(",");s=`/${a}(${e})`}catch(t){e.info(t)}}return n?s:s||c},_isPathForSemantic:function(e){return/^[^()]+\([^()]+\)$/.test(e)}};return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/SizeHelper", ["sap/m/Button","sap/ui/core/Core","sap/ui/dom/units/Rem"],function(t,i,n){"use strict";const e={calls:0,hiddenButton:undefined,init:function(){this.calls++;this.hiddenButton=this.hiddenButton?this.hiddenButton:(new t).placeAt(i.getStaticAreaRef());this.hiddenButton.setVisible(false)},getButtonWidth:function(t){var i;if(!t||!this.hiddenButton){return 0}this.hiddenButton.setVisible(true);this.hiddenButton.setText(t);this.hiddenButton.rerender();const e=n.fromPx((i=this.hiddenButton.getDomRef())===null||i===void 0?void 0:i.scrollWidth);this.hiddenButton.setVisible(false);return Math.round(e*100)/100},exit:function(){this.calls--;if(this.calls===0){var t;(t=this.hiddenButton)===null||t===void 0?void 0:t.destroy();this.hiddenButton=undefined}}};return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/StableIdHelper", [],function(){"use strict";var a={};const e=a=>{var e;const t=[a.SemanticObject.valueOf(),(e=a.Action)===null||e===void 0?void 0:e.valueOf()];if(a.RequiresContext){t.push("RequiresContext")}return t.filter(a=>a).join("::")};const t=a=>{const e=a.Value;if(e.path){return e.path}else if(e.Apply&&e.Function==="odata.concat"){return e.Apply.map(a=>a.$Path).join("::")}return s(e.replace(/ /g,"_"))};const i=a=>{const e=a.Value;if(e!==null&&e!==void 0&&e.path){return e.path}else if(e!==null&&e!==void 0&&e.Apply&&e.Function==="odata.concat"){return e.Apply.map(a=>a.$Path).join("::")}const t=a.Url;if(t!==null&&t!==void 0&&t.path){return t.path}else if(t!==null&&t!==void 0&&t.Apply&&t.Function==="odata.concat"){return t.Apply.map(a=>a.$Path).join("::")}return s(e===null||e===void 0?void 0:e.replace(/ /g,"_"))};const n=a=>/^([A-Za-z_][-A-Za-z0-9_.:]*)$/.test(a);const r=a=>{a=a.replace("com.sap.vocabularies.UI.v1.","");a=a.replace("com.sap.vocabularies.Communication.v1.","");return a};const o=function(a){var e;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;let i;switch(a.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":i=a.ID??a.Target.value;break;case"com.sap.vocabularies.UI.v1.CollectionFacet":i=a.ID??"undefined";break;case"com.sap.vocabularies.UI.v1.FieldGroupType":i=a.Label;break;default:i=l(a);break}i=(e=i)===null||e===void 0?void 0:e.toString();return i&&t?u(i):i};a.createIdForAnnotation=o;const c=a=>{const e=a.map(a=>{if(typeof a==="string"||!a){return a}return o(a.targetObject||a,false)});const t=e.filter(a=>a).join("::");return u(t)};a.generate=c;const l=function(a){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let r="";switch(a.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":r=`DataFieldForAction::${a.Action}`;break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":r=`DataFieldForIntentBasedNavigation::${e(a)}`;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":r=`DataFieldForAnnotation::${a.Target.value}`;break;case"com.sap.vocabularies.UI.v1.DataFieldWithAction":r=`DataFieldWithAction::${t(a)}::${a.Action}`;break;case"com.sap.vocabularies.UI.v1.DataField":r=`DataField::${t(a)}`;break;case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":r=`DataFieldWithIntentBasedNavigation::${t(a)}::${e(a)}`;break;case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":r=`DataFieldWithNavigationPath::${t(a)}`;if(a.Target.type==="NavigationPropertyPath"&&!n){r=`${r}::${a.Target.value}`}break;case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":r=`DataFieldWithUrl::${i(a)}`;break;default:break}return r?u(r):undefined};a.getStableIdPartFromDataField=l;const s=a=>{if(a.includes(" ")){throw Error(`${a} - Spaces are not allowed in ID parts.`)}a=a.replace(/^\/|^@|^#|^\*/,"").replace(/\/$|@$|#$|\*$/,"").replace(/\/|@|\(|\)|#|\*/g,"::");while(a.includes("::::")){a=a.replace("::::","::")}if(a.slice(-2)=="::"){a=a.slice(0,-2)}return a};a.replaceSpecialChars=s;const u=function(a){a=s(r(a));if(n(a)){return a}else{throw Error(`${a} - Stable Id could not be generated due to insufficient information.`)}};a.prepareId=u;return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/StandardRecommendationHelper", ["sap/fe/core/converters/MetaModelConverter","../templating/UIFormatters"],function(e,t){"use strict";var o={};var n=t.getDisplayMode;const d={storeRecommendations:(e,t,o)=>{const n=t.getProperty("/recommendationsData")||{};d.clearRecommendationsForContextOnly(n,o);d.enhanceRecommendationModel(e,n);n["version"]=2;t.setProperty("/recommendationsData",n);t.refresh(true)},clearRecommendationsForContextOnly:(e,t)=>{if(t){Object.keys(e).forEach(o=>{const n=o.lastIndexOf(")");if(t.find(e=>e.getPath()===o.substring(0,n+1))){delete e[o]}})}},enhanceRecommendationModel:(e,t)=>{e===null||e===void 0?void 0:e.forEach(e=>{const o=e.AIRecommendedFieldPath;if(o){var n;const d=[];let a=false;(n=e._AIAltvRecmddFldVals)===null||n===void 0?void 0:n.forEach(t=>{const o={value:t.AIRecommendedFieldValue,probability:t.AIRecommendedFieldScoreValue};if(e.AIRecommendedFieldValue===t.AIRecommendedFieldValue){a=true}d.push(o)});t[o]={value:a?e.AIRecommendedFieldValue:undefined,text:a?e.AIRecommendedFieldDescription:undefined,additionalValues:d}}})},getStandardRecommendations:function(e,t,o){if(e&&t){const n=e.getPath()+"/"+t;return o[n]||undefined}},getDisplayModeForTargetPath(e,t){const o=d.getInvolvedDataModelObjectsForTargetPath(e,t);const a=o&&n(o);return a?a:"DescriptionValue"},getInvolvedDataModelObjectsForTargetPath(t,o){var n,d;const a=o===null||o===void 0?void 0:(n=o.getMetaModel())===null||n===void 0?void 0:n.getMetaPath(t);const l=a?o===null||o===void 0?void 0:(d=o.getMetaModel())===null||d===void 0?void 0:d.getContext(a):undefined;return l&&e.getInvolvedDataModelObjects(l)},isRecommendationFieldNull(e,t,o){const n=d.getInvolvedDataModelObjectsForTargetPath(t,e===null||e===void 0?void 0:e.getModel());if(!(e!==null&&e!==void 0&&e.getProperty(o))){const o=d.getDisplayModeForTargetPath(t,e===null||e===void 0?void 0:e.getModel());if(o&&o!=="Value"){var a,l,i,r;const t=n===null||n===void 0?void 0:(a=n.targetObject)===null||a===void 0?void 0:(l=a.annotations)===null||l===void 0?void 0:(i=l.Common)===null||i===void 0?void 0:(r=i.Text)===null||r===void 0?void 0:r.path;return t?!(e!==null&&e!==void 0&&e.getProperty(t)):true}return true}return false}};o.standardRecommendationHelper=d;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/Synchronization", [],function(){"use strict";let e=function(){function e(){this._fnResolve=null;this._isResolved=false}var s=e.prototype;s.waitFor=function e(){if(this._isResolved){return Promise.resolve()}else{return new Promise(e=>{this._fnResolve=e})}};s.resolve=function e(){if(!this._isResolved){this._isResolved=true;if(this._fnResolve){this._fnResolve()}}};return e}();return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/TitleHelper", ["sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataFieldFormatters","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters"],function(e,t,n,o,i,a,r){"use strict";var l={};var s=a.getRelativePaths;var d=a.getContextRelativeTargetObjectPath;var v=a.enhanceDataModelPath;var u=i.getLabelForConnectedFields;var c=o.isPropertyPathExpression;var T=o.isPathAnnotationExpression;var f=n.transformRecursively;var p=n.resolveBindingString;var E=n.pathInModel;var m=n.or;var g=n.not;var _=n.isUndefinedExpression;var I=n.isEmpty;var O=n.isConstant;var A=n.ifElse;var y=n.getExpressionFromAnnotation;var N=n.formatWithTypeInformation;var D=n.formatResult;var h=n.constant;var C=n.concat;var F=n.compileExpression;var x=t.UI;var L=t.Draft;const P=function(e,t){return f(e,"PathInModel",e=>{let n=e;if(e.modelName===undefined){const o=v(t,e.path);n=N(o.targetObject,e)}return n})};l.formatValueRecursively=P;const R=e=>{const t=e.targetObject;return c(t)?t.$target:t};const b=e=>{var t,n,o,i,a,r;const l=(t=e.targetEntitySet)===null||t===void 0?void 0:(n=t.annotations)===null||n===void 0?void 0:(o=n.Common)===null||o===void 0?void 0:o.DraftRoot;const s=(i=e.targetEntitySet)===null||i===void 0?void 0:(a=i.annotations)===null||a===void 0?void 0:(r=a.Common)===null||r===void 0?void 0:r.DraftNode;if(!!l||!!s){return g(L.IsNewObject)}return false};const M=e=>e._type==="Constant"?h(!e.value):I(e);const U=function(e,t,n){var o,i,a,l;const d=n===null||n===void 0?void 0:n.displayMode;const v=R(e);const u=d||r.getDisplayMode(e);const c=v===null||v===void 0?void 0:(o=v.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Text;const T=s(e);if(v){t=N(v,t)}let f=[t];if(u!=="Value"&&c){switch(u){case"Description":f=[y(c,T)];break;case"DescriptionValue":const e=(n===null||n===void 0?void 0:n.splitTitleOnTwoLines)===undefined?A(!!((a=c.annotations)!==null&&a!==void 0&&(l=a.UI)!==null&&l!==void 0&&l.TextArrangement),t,h("")):A(!!(n!==null&&n!==void 0&&n.splitTitleOnTwoLines),h(""),y(c,T));f=[y(c,T),e];break;case"ValueDescription":f=[t,A(!!(n!==null&&n!==void 0&&n.splitTitleOnTwoLines),h(""),y(c,T))];break}}return f};const H=function(e,t){return f(e,"PathInModel",e=>{if(e.modelName!==undefined)return e;const n=v(t,e.path);return U(n,e)})};const B=function(t,n){let{TypeName:o}=n;const i=E("T_NEW_OBJECT","sap.fe.i18n");let a=i;if(t.resourceModel.getText("T_NEW_OBJECT",undefined,t.entitySet)===t.resourceModel.getText("T_NEW_OBJECT_DEFAULT",undefined,t.entitySet)){const e=t.resourceModel.getText("T_ANNOTATION_HELPER_DEFAULT_OBJECT_PAGE_HEADER_TITLE",undefined,t.entitySet);a=o?C(e,": ",p(o.toString())):i}return D([a],e.formatTitle)};const $=e=>{var t,n;const o=R(e);if(o&&(t=o.annotations)!==null&&t!==void 0&&(n=t.Core)!==null&&n!==void 0&&n.Computed){return x.IsInactive}else{return h(false)}};const S=function(e,t,n){var o;let i;if(t.$Type==="com.sap.vocabularies.UI.v1.DataField"){var a,r,l,s,d,c;i=y(t.Value);if((a=t.Value)!==null&&a!==void 0&&(r=a.$target)!==null&&r!==void 0&&(l=r.annotations.Common)!==null&&l!==void 0&&(s=l.Text)!==null&&s!==void 0&&(d=s.annotations)!==null&&d!==void 0&&(c=d.UI)!==null&&c!==void 0&&c.TextArrangement){i=H(i,e)}i=P(i,e)}if(t.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((o=t.Target.$target)===null||o===void 0?void 0:o.$Type)==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"){const t=v(e,"$Type/@UI.HeaderInfo/Title/Target/$AnnotationPath");i=u(t,n,false)}return i};const V=function(t,n,o,i,a,r){var l;const s=r||e.formatTitle;let u=E("T_NEW_OBJECT","sap.fe.i18n");let c;let f=false;if(i!==null&&i!==void 0&&(l=i.Title)!==null&&l!==void 0&&l.$Type&&a){c=S(t,i.Title,n);u=B(a,i);if(O(c)&&c.value===""){f=true}}else if(i&&(i.Title===undefined||i.Title.toString()==="")){f=true}if(c&&O(c)){return F(c)}if(T(t.targetObject)){t=v(t,t.targetObject.path)}const p=E(d(t));let I;if(c){I=Array.isArray(c)?c:[c]}else{I=U(t,p,o)}const y=M(I[0]);const N=$(t);const C=D(I,s);c=A(y,A(m(f&&b(t),N),"",A(_(h(r)),A(m(x.IsCreateMode,g(b(t))),u,E("T_ANNOTATION_HELPER_DEFAULT_HEADER_TITLE_NO_HEADER_INFO","sap.fe.i18n")),A(g(b(t)),a===null||a===void 0?void 0:a.resourceModel.getText("T_NEW_OBJECT"),a===null||a===void 0?void 0:a.resourceModel.getText("T_ANNOTATION_HELPER_DEFAULT_HEADER_TITLE_NO_HEADER_INFO")))),C);return F(c)};l.getTitleBindingExpression=V;return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/ToES6Promise", [],function(){"use strict";function r(r){return new Promise((e,n)=>{r.then(function(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++){n[t]=arguments[t]}e(Array.prototype.slice.call(n))}).catch(function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++){e[t]=arguments[t]}n(Array.prototype.slice.call(e))})})}return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/helpers/TypeGuards", [],function(){"use strict";var n={};function t(n){var t,i;return n===null||n===void 0?void 0:(t=(i=n).isA)===null||t===void 0?void 0:t.call(i,"sap.ui.model.Context")}n.isContext=t;function i(n){return Array.isArray(n)&&n.length>0&&n.every(n=>typeof n==="function")}n.isFunctionArray=i;function o(n,t){return n.$Type===t}n.isAnnotationOfType=o;function e(n){return(n===null||n===void 0?void 0:n.hasOwnProperty("_type"))??false}n.isServiceObject=e;function r(n){return(n===null||n===void 0?void 0:n._type)==="ComplexType"}n.isComplexType=r;function u(n){return(n===null||n===void 0?void 0:n._type)==="TypeDefinition"}n.isTypeDefinition=u;function l(n){return(n===null||n===void 0?void 0:n._type)==="EntityContainer"}n.isEntityContainer=l;function y(n){return(n===null||n===void 0?void 0:n._type)==="EntitySet"}n.isEntitySet=y;function p(n){return(n===null||n===void 0?void 0:n._type)==="Singleton"}n.isSingleton=p;function v(n){return(n===null||n===void 0?void 0:n._type)==="EntityType"}n.isEntityType=v;function s(n){return(n===null||n===void 0?void 0:n._type)==="Property"}n.isProperty=s;function a(n){return(n===null||n===void 0?void 0:n._type)==="NavigationProperty"}n.isNavigationProperty=a;function d(n){return a(n)&&!n.isCollection}n.isSingleNavigationProperty=d;function c(n){return a(n)&&n.isCollection}n.isMultipleNavigationProperty=c;function f(n){return(n===null||n===void 0?void 0:n.type)==="Path"}n.isPathAnnotationExpression=f;function P(n){return(n===null||n===void 0?void 0:n.type)==="AnnotationPath"}n.isAnnotationPath=P;function _(n){return(n===null||n===void 0?void 0:n.type)==="PropertyPath"}n.isPropertyPathExpression=_;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/Fragment", [],function(){"use strict";var e={};let t=function e(){};t.isFragment=true;e=t;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/ViewLoader", ["sap/fe/core/helpers/ClassSupport","sap/m/Page","sap/ui/base/ManagedObject","sap/ui/core/mvc/View","sap/fe/core/jsx-runtime/jsx"],function(e,r,t,n,i){"use strict";var a,o,s,c,l;var u={};var f=e.property;var p=e.defineUI5Class;function d(e,r,t,n){if(!t)return;Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;h(e,r)}function h(e,r){h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(r,t){r.__proto__=t;return r};return h(e,r)}function m(e,r,t,n,i){var a={};Object.keys(n).forEach(function(e){a[e]=n[e]});a.enumerable=!!a.enumerable;a.configurable=!!a.configurable;if("value"in a||a.initializer){a.writable=true}a=t.slice().reverse().reduce(function(t,n){return n(e,r,t)||t},a);if(i&&a.initializer!==void 0){a.value=a.initializer?a.initializer.call(i):void 0;a.initializer=undefined}if(a.initializer===void 0){Object.defineProperty(e,r,a);a=null}return a}function w(e,r){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let y=(a=p("sap.fe.core.jsx-runtime.MDXViewLoader"),o=f({type:"string"}),a(s=(c=function(e){v(n,e);function n(){var r;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++){n[i]=arguments[i]}r=e.call(this,...n)||this;d(r,"viewName",l,b(r));return r}u=n;var a=n.prototype;a.loadDependency=async function e(r){return new Promise(e=>{sap.ui.require([r],async r=>{e(r)})})};a.getControllerName=function e(){const r=this.getViewData();return r.controllerName};a.createContent=async function e(a){const o=this.getViewData();const s=o.viewContent||await this.loadDependency(o._mdxViewName);n.preprocessorData=this.mPreprocessors.xml;n.controller=a;const c=t.runWithPreprocessors(()=>s(),{id:e=>this.createId(e),settings:function(){this.controller=a}});return i(r,{class:"sapUiContentPadding",children:{content:c}})};return n}(n),l=m(c.prototype,"viewName",[o],{configurable:true,enumerable:true,writable:true,initializer:null}),c))||s);u=y;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/jsx-control", ["sap/base/Log","sap/fe/core/helpers/BindingToolkit","sap/m/Text","sap/ui/base/DataType","sap/ui/core/mvc/EventHandlerResolver"],function(e,t,n,s,o){"use strict";var i=t.isConstant;var l=t.isBindingToolkitExpression;var r=t.compileExpression;var a=t.compileConstant;const c=function(e,t,n){if(n===undefined||typeof n==="string"){return}if(!e[t]){e[t]=[]}if(f(n)){e[t].push(n)}else if(Array.isArray(n)){n.forEach(n=>{c(e,t,n)})}else{Object.keys(n).forEach(t=>{c(e,t,n[t])})}};const f=function(e){var t,n;return e===null||e===void 0?void 0:(t=(n=e).isA)===null||t===void 0?void 0:t.call(n,"sap.ui.core.Element")};const d=function(e){return!!(e!==null&&e!==void 0&&e.getMetadata)};function u(e,t){const n=e.getAllAggregations();const s=e.getDefaultAggregationName();const o={};c(o,s,t.children);delete t.children;Object.keys(n).forEach(e=>{if(o[e]!==undefined){if(t.hasOwnProperty(e)){t[e].template=o[e][0]}else{t[e]=o[e]}}})}function p(e,t){let n;const o={};for(n in t){const u=t[n];if(l(u)){const e=u;if(i(e)){t[n]=a(e,false,true,true)}else{t[n]=r(e)}}else if(u!==null&&typeof u==="object"&&u.then){o[n]=u;delete t[n]}else if(typeof u==="string"&&!u.startsWith("{")){var c,f,d;const o=(c=e.getAllProperties()[n])===null||c===void 0?void 0:(f=(d=c).getType)===null||f===void 0?void 0:f.call(d);if(o&&o instanceof s&&["boolean","int","float"].includes(o.getName())){t[n]=o.parseValue(u)}}}return o}function g(e,t){const n=t["jsx:command"];if(n){const[s,i]=n.split("|");const l=e.getAllEvents()[i];if(l&&s.startsWith("cmd:")){t[l.name]=o.resolveEventHandler(s)}}delete t["jsx:command"]}const v=function(t,s,o,i){let l;if(t!==null&&t!==void 0&&t.isFragment){l=s.children}else if(t!==null&&t!==void 0&&t.isRuntime){const e=new t(s);l=e.getContent(i.view,i.appComponent)}else if(d(t)){const n=t.getMetadata();if(o!==undefined){s["key"]=o}g(n,s);u(n,s);const i=s.class;const r=s.ref;delete s.ref;delete s.class;const a=p(n,s);const c=new t(s);if(i){c.addStyleClass(i)}if(r){r.setCurrent(c)}for(const n in a){a[n].then(e=>c.setProperty(n,e)).catch(s=>{e.error(`Couldn't set property ${n} on ${t.getMetadata().getName()}`,s,"jsxControl")})}l=c}else if(typeof t==="function"){const e=t;l=e(s)}else{l=new n({text:"Missing component "+t})}return l};return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/jsx-xml", [],function(){"use strict";const e=function(e){if(Array.isArray(e)){return e.join("")}else{return e}};const t=function(e,n,s){if(s===undefined){return}if(!e[n]){e[n]=[]}if(typeof s==="string"&&s.trim().length>0){e[n].push(s)}else if(Array.isArray(s)){s.forEach(s=>{t(e,n,s)})}else{Object.keys(s).forEach(n=>{t(e,n,s[n])})}};const n="fl:delegate";const s=function(s,i,r){const o=s.getMetadata();const a=o.getName().split(".");if(r!==undefined){i["key"]=r}const c=o.getAllProperties();const f=o.getAllAggregations();c["class"]={name:"class"};c["id"]={name:"id"};c[n]={name:n};c["xmlns:fl"]={name:n};if(o.getName()==="sap.ui.core.Fragment"){c["fragmentName"]={name:"fragmentName"}}const l=a.slice(0,-1);const g=a[a.length-1];const u=l[l.length-1];const $=`${u}:${g}`;const h=[];const m=[];const y=o.getDefaultAggregationName();Object.keys(c).forEach(e=>{if(i.hasOwnProperty(e)&&i[e]!==undefined){if(typeof i[e]==="object"){h.push(`${e}='${JSON.stringify(i[e])}'`)}else{h.push(`${e}='${i[e]}'`)}}});const d={[y]:[]};t(d,y,i.children);Object.keys(f).forEach(t=>{if(d.hasOwnProperty(t)&&d[t].length>0){m.push(`<${u}:${t}>\n\t\t\t\t\t\t${e(d[t])}\n\t\t\t\t\t</${u}:${t}>`)}if(i.hasOwnProperty(t)&&i[t]!==undefined){h.push(`${t}='${JSON.stringify(i[t])}'`)}});return`<${$} xmlns:${u}="${l.join(".")}" ${h.join(" ")}>${m.join("")}</${$}>`};return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/jsx", ["sap/fe/core/jsx-runtime/jsx-control","sap/fe/core/jsx-runtime/jsx-xml"],function(e,t){"use strict";let n=false;const r=function(r,u,o){if(!n){return e(r,u,o,s)}else{return t(r,u,o)}};r.renderAsXML=function(e){n=true;const t=e();n=false;return t};let s={};r.getContext=function(){return s};r.withContext=function(e,t){s=e;const n=t();s={};return n};return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/jsxs", ["sap/fe/core/jsx-runtime/jsx"],function(e){"use strict";return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/jsx-runtime/useMDXComponents", ["sap/base/Log","sap/fe/core/buildingBlocks/BuildingBlockTemplateProcessor","sap/fe/core/helpers/ClassSupport","sap/fe/core/jsx-runtime/ViewLoader","sap/fe/macros/macroLibrary","sap/m/FormattedText","sap/m/HBox","sap/m/Panel","sap/m/Title","sap/ui/codeeditor/CodeEditor","sap/ui/core/Fragment","sap/ui/core/library","sap/ui/core/util/XMLPreprocessor","sap/fe/core/jsx-runtime/jsx"],function(e,r,t,n,i,a,s,o,l,c,u,d,p,h){"use strict";var m=d.TitleLevel;var f=t.createReference;var g=r.parseXMLString;function v(e){const r=Array.isArray(e.children)?e.children.map(e=>{let r;if(typeof e==="string"){r=e}else{switch(e.getMetadata().getName()){case"sap.m.Link":r=`<a href="${e.getHref()}">${e.getText()}</a>`;break;case"sap.ui.codeeditor.CodeEditor":r=`<code>${e.getValue()}</code>`;break}}return r}).join(""):e.children;return h(a,{htmlText:r,class:"sapUiTinyMarginBottom"})}function x(e){return h(l,{text:e.children,level:m.H1,class:"sapUiTinyMarginBottom"})}function y(e){return`<a href={strValue.href}>${e.children}</a>`}function T(e){const r=`<ul>${Array.isArray(e.children)?e.children.join(""):e.children}</ul>`;return h(a,{htmlText:r})}function b(e){return`<li>${Array.isArray(e.children)?e.children.join(""):e.children}</li>`}function B(e){return h(l,{text:e.children,level:m.H2,class:"sapUiSmallMarginTop sapUiTinyMarginBottom"})}function M(e){return e.children}function L(r){const t=f();const a=r.binding?{path:r.binding}:undefined;const l=h(o,{headerText:r.headerText||"",class:"sapUiSmallMarginTop",children:h(s,{ref:t})});if(a){l.bindElement(a)}i.register();const c=p.process(g(`<root>${r.children}</root>`,true)[0],{name:"myBuildingBlockFragment"},n.preprocessorData);Promise.resolve(c).then(e=>u.load({definition:e.firstElementChild,controller:n.controller})).then(e=>{t.current.removeAllItems();t.current.addItem(e)}).catch(r=>{e.error(r)});return l}function j(e){var r,t,n;const i=((r=e.children)===null||r===void 0?void 0:r.trim())||"";const a=e.lineCount||Math.max((t=i.split("\n"))===null||t===void 0?void 0:t.length,3);const s=e.type||(e===null||e===void 0?void 0:(n=e.className)===null||n===void 0?void 0:n.split("-")[1])||"js";const o=h(c,{class:"sapUiTinyMargin",lineNumbers:e.lineNumbers||false,type:s,editable:e.editable||false,maxLines:a,height:"auto",width:"98%"});o.setValue(i);if(e.source){fetch(e.source).then(e=>e.text()).then(r=>{let t=r.split("\n");if(e.start){t=t.slice(e.start-1,e.end)}const n=Math.max(t.length,3);o.setMaxLines(n);o.setValue(t.join("\n"));return}).catch(e=>{o.setValue(e.message)})}return o}const k=function(){return{p:v,a:y,h1:x,h2:B,ul:T,li:b,pre:M,code:j,CodeBlock:j,BuildingBlockPlayground:L}};return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/library", ["sap/base/Log","sap/fe/core/formatters/FPMFormatter","sap/fe/core/formatters/StandardFormatter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/services/AsyncComponentServiceFactory","sap/fe/core/services/CacheHandlerServiceFactory","sap/fe/core/services/CollaborativeToolsServiceFactory","sap/fe/core/services/EnvironmentServiceFactory","sap/fe/core/services/NavigationServiceFactory","sap/fe/core/services/ResourceModelServiceFactory","sap/fe/core/services/RoutingServiceFactory","sap/fe/core/services/ShellServicesFactory","sap/fe/core/services/SideEffectsServiceFactory","sap/fe/core/services/TemplatedViewServiceFactory","./services/CollaborationManagerServiceFactory","sap/fe/core/type/DateTimeWithTimezone","sap/fe/core/type/Email","sap/fe/core/type/FiscalDate","sap/fe/navigation/library","sap/fe/placeholder/library","sap/ui/base/DataType","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/mvc/View","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/fl/library","sap/ui/mdc/library","./controllerextensions/HookSupport"],function(e,r,a,o,i,s,t,n,c,l,p,f,v,d,u,S,y,g,m,C,b,w,F,D,E,M,N,I){"use strict";var h={};var A=I.xmlViewPreprocessor;var L=n.EnvironmentServiceFactory;const R="sap.fe";h.feNamespace=R;const T="sap.fe.core";h.feCoreNamespace=T;const x="sap.fe.core.controllerextensions";h.feCextNamespace=x;const P="sap.fe.core.fpm";h.feFpmNamespace=P;const V=w.initLibrary({name:"sap.fe.core",dependencies:["sap.ui.core","sap.fe.navigation","sap.fe.placeholder","sap.ui.fl","sap.ui.mdc","sap.f"],types:["sap.fe.core.CreationMode","sap.fe.core.VariantManagement"],interfaces:[],controls:[],elements:[],version:"1.120.0",noLibraryCSS:true,extensions:{"sap.ui.support":{publicRules:true,internalRules:true},flChangeHandlers:{"sap.fe.core.controls.FilterBar":"sap/ui/mdc/flexibility/FilterBar"}}});V.InvocationGrouping={Isolated:"Isolated",ChangeSet:"ChangeSet"};V.CreationMode={NewPage:"NewPage",Sync:"Sync",Async:"Async",Deferred:"Deferred",Inline:"Inline",CreationRow:"CreationRow",InlineCreationRows:"InlineCreationRows",External:"External"};V.VariantManagement={None:"None",Page:"Page",Control:"Control"};V.Constants={CancelActionDialog:"cancel",ActionExecutionFailed:"actionExecutionFailed",CreationFailed:"creationFailed"};V.ProgrammingModel={Draft:"Draft",Sticky:"Sticky",NonDraft:"NonDraft"};V.DraftStatus={Saving:"Saving",Saved:"Saved",Clear:"Clear"};V.EditMode={Display:"Display",Editable:"Editable"};V.TemplateContentView={Hybrid:"Hybrid",Chart:"Chart",Table:"Table"};let H;(function(e){e["Enabled"]="Enabled";e["Disabled"]="Disabled";e["Auto"]="Auto"})(H||(H={}));h.InitialLoadMode=H;V.InitialLoadMode=H;V.StartupMode={Normal:"Normal",Deeplink:"Deeplink",Create:"Create",AutoCreate:"AutoCreate"};const k=b.createType("sap.fe.core.InitialLoadMode",{defaultValue:V.InitialLoadMode.Auto,isValid:function(r){if(typeof r==="boolean"){e.warning("DEPRECATED: boolean value not allowed for 'initialLoad' manifest setting - supported values are: Disabled|Enabled|Auto")}return r===undefined||r===null||typeof r==="boolean"||V.InitialLoadMode.hasOwnProperty(r)}});k.setNormalizer(function(e){if(!e){return V.InitialLoadMode.Disabled}return e===true?V.InitialLoadMode.Enabled:e});E.register("sap.fe.core.services.TemplatedViewService",new d);E.register("sap.fe.core.services.ResourceModelService",new l);E.register("sap.fe.core.services.CacheHandlerService",new s);E.register("sap.fe.core.services.CollaborationManagerService",new u);E.register("sap.fe.core.services.NavigationService",new c);E.register("sap.fe.core.services.RoutingService",new p);E.register("sap.fe.core.services.SideEffectsService",new v);E.register("sap.fe.core.services.ShellServices",new f);E.register("sap.fe.core.services.EnvironmentService",new L);E.register("sap.fe.core.services.AsyncComponentService",new i);E.register("sap.fe.core.services.CollaborativeToolsService",new t);D.registerPreprocessor("controls",A,"XML",false,true);return V},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/manifestMerger/ChangePageConfiguration", ["sap/base/Log","sap/base/util/ObjectPath"],function(t,n){"use strict";var o={};let e={};function i(n,o){const e=o.getContent();const i=e===null||e===void 0?void 0:e.page;const a=e===null||e===void 0?void 0:e.entityPropertyChange;if((a===null||a===void 0?void 0:a.operation)!=="UPSERT"||!(a!==null&&a!==void 0&&a.propertyPath)||(a===null||a===void 0?void 0:a.propertyValue)===undefined||a!==null&&a!==void 0&&a.propertyPath.startsWith("/")){t.error("Change content is not a valid");return n}return r(n,i,a.propertyPath,a.propertyValue)}o.applyChange=i;function r(o,i,r,l,u){const c=s(o,i);if(c){const t=a(r);n.set(t,l,c);if(u){e[i]=e[i]||[];e[i].push(r)}}else{t.error(`No Fiori elements page with ID ${i} found in routing targets.`)}return o}o.changeConfiguration=r;function a(t){let n=t.split("/");if(n[0]==="controlConfiguration"){let t="";for(let o=1;o<n.length;o++){t+=(o>1?"/":"")+n[o];if(t.includes("@")){n=["controlConfiguration",t].concat(n.slice(o+1));break}}}return n}function s(t,n){var o,e;let i;const r=((o=t["sap.ui5"])===null||o===void 0?void 0:(e=o.routing)===null||e===void 0?void 0:e.targets)??{};for(const t in r){if(r[t].id===n&&r[t].name.startsWith("sap.fe.templates.")){var a;i=((a=r[t].options)===null||a===void 0?void 0:a.settings)??{};break}}return i}function l(t,o,i,r){o=o??{};const s=e[r]||[];for(const e of s){const i=a(e);const r=n.get(i,t);n.set(i,r,o)}return o}o.applyPageConfigurationChanges=l;function u(){e={}}o.cleanPageConfigurationChanges=u;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/operationsHelper", ["sap/m/MessageBox","sap/ui/core/message/Message","sap/ui/model/json/JSONModel","./controllerextensions/dialog/OperationsDialog.block","./controllerextensions/messageHandler/messageHandling","./formatters/TableFormatterTypes"],function(e,t,n,s,i,o){"use strict";var r=o.MessageType;function l(o,l,a,c,d,g,f,u,_){const E=o.label;const M=o.model;const S=d===null||d===void 0?void 0:d.strictHandlingPromises;let C;let O=l.getText("C_COMMON_DIALOG_CANCEL");let T="";let G="";T=o.bGrouped?l.getText("C_COMMON_DIALOG_CANCEL_MESSAGE_TEXT",[E]):l.getText("C_COMMON_DIALOG_SKIP_SINGLE_MESSAGE_TEXT");if(c.length===1){const t=c[0].getMessage();const n=c[0].getAdditionalText();G=l.getText("C_COMMON_DIALOG_CANCEL_SINGLE_MESSAGE_TEXT");if(!g){C=`${t}\n${l.getText("PROCEED")}`}else if(n!==undefined&&n!==""){O=o.bGrouped?O:l.getText("C_COMMON_DIALOG_SKIP");const e=o.control.getParent().getTableDefinition().headerInfoTypeName;if(e){C=`${e.toString()} ${n}: ${t}\n\n${T}`}else{C=`${n}: ${t}\n\n${T}`}}else{O=o.bGrouped?O:l.getText("C_COMMON_DIALOG_SKIP");C=`${t}\n\n${T}`}if(g){C=`${G}\n\n${C}`}e.warning(C,{title:l.getText("WARNING"),actions:[E,O],emphasizedAction:E,onClose:function(t){if(t===E){if(_){f(true);M.submitBatch(u);if(o.requestSideEffects){o.requestSideEffects()}}else if(!g){S[0].resolve(true);M.submitBatch(S[0].groupId);if(S[0].requestSideEffects){S[0].requestSideEffects()}}else{S.forEach(function(e){e.resolve(true);M.submitBatch(e.groupId);if(e.requestSideEffects){e.requestSideEffects()}});const e=d===null||d===void 0?void 0:d.strictHandlingTransitionFails;if(e.length>0){a===null||a===void 0?void 0:a.removeTransitionMessages()}}if(d){d.is412Executed=true}}else{if(d){d.is412Executed=false}if(_){f(false)}else if(!g){S[0].resolve(false)}else{S.forEach(function(e){e.resolve(false)})}if(o.bGrouped){e.information(l.getText("M_CHANGESET_CANCEL_MESSAGES"),{contentWidth:"150px"})}}if(d){d.strictHandlingWarningMessages=[]}}})}else if(c.length>1){if(g){O=o.bGrouped?O:l.getText("C_COMMON_DIALOG_SKIP");const e=o.bGrouped?l.getText("C_COMMON_DIALOG_CANCEL_MESSAGES_WARNING"):l.getText("C_COMMON_DIALOG_SKIP_MESSAGES_WARNING");const n=o.bGrouped?l.getText("C_COMMON_DIALOG_CANCEL_MESSAGES_TEXT",[E]):l.getText("C_COMMON_DIALOG_SKIP_MESSAGES_TEXT",[E]);const s=new t({message:e,type:r.Warning,target:undefined,persistent:true,description:n});c=[s].concat(c)}const _=new n;_.setData(c);const C=true;const T=i.prepareMessageViewForDialog(_,C,g);const G=new s({messageObject:T,isMultiContext412:g,isGrouped:o===null||o===void 0?void 0:o.bGrouped,resolve:f,model:M,groupId:u,actionName:E,strictHandlingUtilities:d,strictHandlingPromises:S,messageHandler:a,messageDialogModel:_,cancelButtonTxt:O,showMessageInfo:function t(){e.information(l.getText("M_CHANGESET_CANCEL_MESSAGES"),{contentWidth:"150px"})}});G.open()}}async function a(e,t,n,s,i,o,r,l,a){let d;if(s===null&&o===null||s===1&&o===1){return new Promise(function(s){c.renderMessageView(t,n,r,a,l,false,s,e,true)})}if(a.length){var g,f;const n=new Promise(function(n){d={requestSideEffects:t.requestSideEffects,resolve:n,groupId:e}});l.strictHandlingPromises.push(d);const s=l.strictHandlingWarningMessages;const r=(g=t.control)===null||g===void 0?void 0:(f=g.getParent())===null||f===void 0?void 0:f.getIdentifierColumn();let c="";if(r&&o&&o>1){c=i&&i.getObject(r)}a.forEach(function(e){e.setType("Warning");e.setAdditionalText(c);s.push(e)});l.strictHandlingWarningMessages=s;t.internalOperationsPromiseResolve();return n}}const c={renderMessageView:l,fnOnStrictHandlingFailed:a};return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/rootView/Fcl.controller", ["sap/base/Log","sap/f/FlexibleColumnLayoutSemanticHelper","sap/f/library","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/m/IllustratedMessage","sap/m/Link","sap/m/MessageBox","sap/m/Page","./RootViewBaseController"],function(e,t,n,o,i,r,l,s,a,u,g){"use strict";var c,C,h,d,f;var m=i.usingExtension;var p=i.defineUI5Class;function F(e,t,n,o){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function w(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function E(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}function P(e,t){P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return P(e,t)}function b(e,t,n,o,i){var r={};Object.keys(o).forEach(function(e){r[e]=o[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}function y(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}const M=n.LayoutType;const v={page:{names:["BeginColumn","MidColumn","EndColumn"],currentGetter:{prefix:"getCurrent",suffix:"Page"},getter:{prefix:"get",suffix:"Pages"}}};const x=function(e){if(e.isA("sap.ui.core.ComponentContainer")){return e.getComponentInstance().getRootControl()}else{return e}};let T=(c=p("sap.fe.core.rootView.Fcl"),C=m(o.override({applyInitialStateOnly:function(){return false},adaptBindingRefreshControls:function(e){this.getView().getController()._getAllVisibleViews().forEach(function(t){const n=Promise.resolve(t);e.push(n)})},adaptStateControls:function(e){this.getView().getController()._getAllVisibleViews().forEach(function(t){const n=Promise.resolve(t);e.push(n)})},onRestore:function(){const e=this.getView().getController();const t=e.getAppContentContainer();const n=t.getModel("internal");const o=n.getProperty("/pages");for(const e in o){n.setProperty(`/pages/${e}/restoreStatus`,"pending")}e.onContainerReady()},onSuspend:function(){const e=this.getView().getController();const t=e.getFclControl();const n=t.getBeginColumnPages()||[];const o=t.getMidColumnPages()||[];const i=t.getEndColumnPages()||[];const r=[].concat(n,o,i);r.forEach(function(e){const t=x(e);const n=t&&t.getController();if(n&&n.viewState&&n.viewState.onSuspend){n.viewState.onSuspend()}})}})),c(h=(d=function(n){E(o,n);function o(){var e;for(var t=arguments.length,o=new Array(t),i=0;i<t;i++){o[i]=arguments[i]}e=n.call(this,...o)||this;F(e,"viewState",f,w(e));return e}var i=o.prototype;i.onInit=function e(){n.prototype.onInit.call(this);this._internalInit()};i.manageDataReceived=function e(t){if(t.getParameter("error")){var n;const e=t.getParameter("path"),o=this._getAllVisibleViews().find(t=>{var n;return((n=t.getBindingContext())===null||n===void 0?void 0:n.getPath())===e});if(e&&o!==null&&o!==void 0&&(n=o.getBindingContext())!==null&&n!==void 0&&n.isKeepAlive()){o.getController()._routing.onDataReceived(t)}}};i.attachRouteMatchers=function e(){this.getRouter().attachBeforeRouteMatched(this._getViewForNavigatedRowsComputation,this);n.prototype.attachRouteMatchers.call(this);this._internalInit();this.getRouter().attachBeforeRouteMatched(this.onBeforeRouteMatched,this);this.getRouter().attachRouteMatched(this.onRouteMatched,this);this.getFclControl().attachStateChange(this._saveLayout,this)};i._internalInit=function e(){var t,n;if(this._oRouterProxy){return}this.sCurrentRouteName="";this.sCurrentArguments={};this.SQUERYKEYNAME="?query";const o=this.getAppComponent();const i=this.getAppComponent().getModel();i===null||i===void 0?void 0:i.attachEvent("dataReceived",this.manageDataReceived.bind(this));this._oRouterProxy=o.getRouterProxy();this._oFCLConfig={maxColumnsCount:3};const r=o.getManifest()["sap.ui5"].routing;if(r!==null&&r!==void 0&&(t=r.config)!==null&&t!==void 0&&t.flexibleColumnLayout){const e=r.config.flexibleColumnLayout;if(e.defaultTwoColumnLayoutType){this._oFCLConfig.defaultTwoColumnLayoutType=e.defaultTwoColumnLayoutType}if(e.defaultThreeColumnLayoutType){this._oFCLConfig.defaultThreeColumnLayoutType=e.defaultThreeColumnLayoutType}if(e.limitFCLToTwoColumns===true){this._oFCLConfig.maxColumnsCount=2}}if(r!==null&&r!==void 0&&(n=r.config)!==null&&n!==void 0&&n.controlAggregation){this._oFCLConfig.defaultControlAggregation=r.config.controlAggregation}this._initializeTargetAggregation(o);this._initializeRoutesInformation(o);this.getFclControl().attachStateChange(this.onStateChanged,this);this.getFclControl().attachAfterEndColumnNavigate(this.onStateChanged,this)};i.getFclControl=function e(){return this.getAppContentContainer()};i._saveLayout=function e(t){this.sPreviousLayout=t.getParameters().layout};i._getViewForNavigatedRowsComputation=function e(){const t=this._getAllVisibleViews(this.sPreviousLayout);const n=t[t.length-1];let o;this.getRouter().attachEventOnce("routeMatched",e=>{o=x(e.getParameter("views")[e.getParameter("views").length-1]);if(n){if(o.getViewData()&&o.getViewData().viewLevel===this._oFCLConfig.maxColumnsCount){this.oAdditionalViewForNavRowsComputation=o}if(o.getViewData()&&n.getViewData()&&n.getViewData().viewLevel<this._oFCLConfig.maxColumnsCount&&n.getViewData()&&n.getViewData().viewLevel>o.getViewData().viewLevel&&o!==n){this.oAdditionalViewForNavRowsComputation=n}}})};i.getViewForNavigatedRowsComputation=function e(){return this.oAdditionalViewForNavRowsComputation};i.onExit=function e(){this.getRouter().detachRouteMatched(this.onRouteMatched,this);this.getRouter().detachBeforeRouteMatched(this.onBeforeRouteMatched,this);this.getFclControl().detachStateChange(this.onStateChanged,this);this.getFclControl().detachAfterEndColumnNavigate(this.onStateChanged,this);this._oTargetsAggregation=null;this._oTargetsFromRoutePattern=null;g.prototype.onExit.bind(this)()};i.isFclEnabled=function e(){return true};i.displayErrorPage=function e(t,n){const o=this.getFclControl();if(this._oFCLConfig&&n.FCLLevel>=this._oFCLConfig.maxColumnsCount){n.FCLLevel=this._oFCLConfig.maxColumnsCount-1}if(!this.aMessagePages){this.aMessagePages=[null,null,null]}let i=this.aMessagePages[n.FCLLevel];if(!i){i=new u({showHeader:false});const e=new l({title:t,description:n.description||"",illustrationType:`sapIllus-${n.errorType}`});i.insertContent(e,0);this.aMessagePages[n.FCLLevel]=i;switch(n.FCLLevel){case 0:o.addBeginColumnPage(i);break;case 1:o.addMidColumnPage(i);break;default:o.addEndColumnPage(i)}}i.setText(t);if(n.technicalMessage){i.setCustomDescription(new s({text:n.description||n.technicalMessage,press:function(){a.show(n.technicalMessage,{icon:a.Icon.ERROR,title:n.title,actions:[a.Action.OK],defaultAction:a.Action.OK,details:n.technicalDetails||"",contentWidth:"60%"})}}))}else{i.setDescription(n.description||"")}o.to(i.getId());return Promise.resolve(true)};i._initializeTargetAggregation=function e(t){const n=t.getManifest(),o=n["sap.ui5"].routing?n["sap.ui5"].routing.targets:null;this._oTargetsAggregation={};if(o){Object.keys(o).forEach(e=>{const t=o[e];if(t.controlAggregation){this._oTargetsAggregation[e]={aggregation:t.controlAggregation,pattern:t.contextPattern}}else{this._oTargetsAggregation[e]={aggregation:"page",pattern:null}}})}};i._initializeRoutesInformation=function e(t){const n=t.getManifest(),o=n["sap.ui5"].routing?n["sap.ui5"].routing.routes:null;this._oTargetsFromRoutePattern={};if(o){o.forEach(e=>{this._oTargetsFromRoutePattern[e.pattern]=e.target})}};i.getCurrentArgument=function e(){return this.sCurrentArguments};i.getCurrentRouteName=function e(){return this.sCurrentRouteName};i.getConstants=function e(){return v};i.getTargetAggregation=function e(){return this._oTargetsAggregation};i.onRouteMatched=function e(t){const n=t.getParameter("name");this.sCurrentRouteName=n;this.sCurrentArguments=t.getParameter("arguments")};i._scrollTablesToLastNavigatedItems=function e(){const t=this._getAllVisibleViews();if(t.length>1||t[0].getViewData().viewLevel<this._oFCLConfig.maxColumnsCount){let e;const n=this.getViewForNavigatedRowsComputation();if(n&&!t.includes(n)){t.push(n)}for(let n=t.length-1;n>0;n--){const o=t[n],i=t[n-1];if(o.getBindingContext()){e=o.getBindingContext().getPath();i.getController()._scrollTablesToRow(e)}}}};i.onStateChanged=function e(t){const n=t.getParameter("isNavigationArrow");if(this.sCurrentArguments!==undefined){if(!this.sCurrentArguments[this.SQUERYKEYNAME]){this.sCurrentArguments[this.SQUERYKEYNAME]={}}this.sCurrentArguments[this.SQUERYKEYNAME].layout=t.getParameter("layout")}this._forceModelContextChangeOnBreadCrumbs(t);if(n){this._oRouterProxy.navTo(this.sCurrentRouteName,this.sCurrentArguments)}const o=this.getRightmostView();if(o){this._computeTitleHierarchy(o)}};i._forceModelContextChangeOnBreadCrumbs=function e(t){const n=t.getSource();let o=[];o=o.concat(n.getBeginColumnPages()).concat(n.getMidColumnPages()).concat(n.getEndColumnPages());o.forEach(function(e){const t=x(e);const n=t.byId&&t.byId("breadcrumbs");if(n){n.fireModelContextChange()}})};i._updateShareButtonVisibility=function e(t,n){let o;switch(n){case"OneColumn":o=t==="beginColumn";break;case"MidColumnFullScreen":case"ThreeColumnsBeginExpandedEndHidden":case"ThreeColumnsMidExpandedEndHidden":case"TwoColumnsBeginExpanded":case"TwoColumnsMidExpanded":o=t==="midColumn";break;case"EndColumnFullScreen":case"ThreeColumnsEndExpanded":case"ThreeColumnsMidExpanded":o=t==="endColumn";break;default:o=false}return o};i._updateEditButtonVisiblity=function e(t,n){let o=true;switch(t){case"midColumn":switch(n){case"TwoColumnsMidExpanded":case"ThreeColumnsMidExpanded":case"ThreeColumnsEndExpanded":o=false;break}break;case"endColumn":switch(n){case"ThreeColumnsMidExpanded":case"ThreeColumnsEndExpanded":o=false}break}return o};i.updateUIStateForView=function e(t,n){const o=this.getHelper().getCurrentUIState(),i=["beginColumn","midColumn","endColumn"],r=this.getFclControl().getLayout();let l;if(!t.getModel("fclhelper")){t.setModel(this._createHelperModel(),"fclhelper")}if(n>=this._oFCLConfig.maxColumnsCount){l=i[this._oFCLConfig.maxColumnsCount-1];o.actionButtonsInfo.midColumn.fullScreen=null;o.actionButtonsInfo.midColumn.exitFullScreen=null;o.actionButtonsInfo.midColumn.closeColumn=null;o.actionButtonsInfo.endColumn.exitFullScreen=null;o.actionButtonsInfo.endColumn.fullScreen=null;o.actionButtonsInfo.endColumn.closeColumn=null}else{l=i[n]}if(n>=this._oFCLConfig.maxColumnsCount||r==="EndColumnFullScreen"||r==="MidColumnFullScreen"||r==="OneColumn"){t.getModel("fclhelper").setProperty("/breadCrumbIsVisible",true)}else{t.getModel("fclhelper").setProperty("/breadCrumbIsVisible",false)}o.actionButtonsInfo.beginColumn={fullScreen:null,exitFullScreen:null,closeColumn:null};const s=Object.assign({},o.actionButtonsInfo[l]);s.switchVisible=s.fullScreen!==null||s.exitFullScreen!==null;s.switchIcon=s.fullScreen!==null?"sap-icon://full-screen":"sap-icon://exit-full-screen";s.isFullScreen=s.fullScreen===null;s.closeVisible=s.closeColumn!==null;t.getModel("fclhelper").setProperty("/actionButtonsInfo",s);t.getModel("fclhelper").setProperty("/showEditButton",this._updateEditButtonVisiblity(l,r));t.getModel("fclhelper").setProperty("/showShareIcon",this._updateShareButtonVisibility(l,r))};i.onBeforeRouteMatched=function e(t){if(t){const e=t.getParameters().arguments[this.SQUERYKEYNAME];let n=e?e.layout:null;if(!n){const e=this.getHelper().getNextUIState(0);n=e.layout}const o=t.getParameter("config").target;n=this._correctLayoutForTargets(n,o);if(n){this.getFclControl().setLayout(n)}}};i.getHelper=function e(){return t.getInstanceFor(this.getFclControl(),this._oFCLConfig)};i.calculateLayout=function e(t,n,o){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!o){o=i?this.getFclControl().getLayout():this.getHelper().getNextUIState(t).layout}const r=this.getRouter().getRouteByHash(`${n}?layout=${o}`);const l=this._oTargetsFromRoutePattern[r.getPattern()];return this._correctLayoutForTargets(o,l)};i._correctLayoutForTargets=function e(t,n){const o={2:["TwoColumnsMidExpanded","TwoColumnsBeginExpanded","MidColumnFullScreen"],3:["ThreeColumnsMidExpanded","ThreeColumnsEndExpanded","ThreeColumnsMidExpandedEndHidden","ThreeColumnsBeginExpandedEndHidden","MidColumnFullScreen","EndColumnFullScreen"]};if(n&&!Array.isArray(n)){n=[n]}if(!n){return t}else if(n.length>1){const e=o[n.length];if(e.indexOf(t)<0){t=e[0]}}else{const e=this.getTargetAggregation()[n[0]].aggregation||this._oFCLConfig.defaultControlAggregation;switch(e){case"beginColumnPages":t="OneColumn";break;case"midColumnPages":t="MidColumnFullScreen";break;case"endColumnPages":t="EndColumnFullScreen";break}}return t};i.getInstancedViews=function e(){const t=this.getFclControl();const n=[...t.getBeginColumnPages(),...t.getMidColumnPages(),...t.getEndColumnPages()];return n.map(e=>{if(e&&e.isA("sap.ui.core.ComponentContainer")){return e.getComponentInstance().getRootControl()}else{return e}})};i._getAllVisibleViews=function t(n){const o=[];n=n?n:this.getFclControl().getLayout();switch(n){case M.EndColumnFullScreen:if(this.getFclControl().getCurrentEndColumnPage()){o.push(x(this.getFclControl().getCurrentEndColumnPage()))}break;case M.MidColumnFullScreen:if(this.getFclControl().getCurrentMidColumnPage()){o.push(x(this.getFclControl().getCurrentMidColumnPage()))}break;case M.OneColumn:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(x(this.getFclControl().getCurrentBeginColumnPage()))}break;case M.ThreeColumnsEndExpanded:case M.ThreeColumnsMidExpanded:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(x(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){o.push(x(this.getFclControl().getCurrentMidColumnPage()))}if(this.getFclControl().getCurrentEndColumnPage()){o.push(x(this.getFclControl().getCurrentEndColumnPage()))}break;case M.TwoColumnsBeginExpanded:case M.TwoColumnsMidExpanded:case M.ThreeColumnsMidExpandedEndHidden:case M.ThreeColumnsBeginExpandedEndHidden:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(x(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){o.push(x(this.getFclControl().getCurrentMidColumnPage()))}break;default:e.error(`Unhandled switch case for ${this.getFclControl().getLayout()}`)}return o};i._getAllViews=function t(n){const o=[];n=n?n:this.getFclControl().getLayout();switch(n){case M.OneColumn:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(x(this.getFclControl().getCurrentBeginColumnPage()))}break;case M.ThreeColumnsEndExpanded:case M.ThreeColumnsMidExpanded:case M.ThreeColumnsMidExpandedEndHidden:case M.ThreeColumnsBeginExpandedEndHidden:case M.EndColumnFullScreen:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(x(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){o.push(x(this.getFclControl().getCurrentMidColumnPage()))}if(this.getFclControl().getCurrentEndColumnPage()){o.push(x(this.getFclControl().getCurrentEndColumnPage()))}break;case M.TwoColumnsBeginExpanded:case M.TwoColumnsMidExpanded:if(this.getFclControl().getCurrentBeginColumnPage()){o.push(x(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){o.push(x(this.getFclControl().getCurrentMidColumnPage()))}break;case M.MidColumnFullScreen:const t=this.getHelper().getCurrentUIState().actionButtonsInfo.midColumn.exitFullScreen;if(this.getFclControl().getCurrentBeginColumnPage()){o.push(x(this.getFclControl().getCurrentBeginColumnPage()))}if(this.getFclControl().getCurrentMidColumnPage()){o.push(x(this.getFclControl().getCurrentMidColumnPage()))}if(t.indexOf("ThreeColumn")>=0){if(this.getFclControl().getCurrentEndColumnPage()){o.push(x(this.getFclControl().getCurrentEndColumnPage()))}}break;default:e.error(`Unhandled switch case for ${this.getFclControl().getLayout()}`)}return o};i.onContainerReady=function e(){const t=this._getAllVisibleViews();const n=t.reduce(function(e,t){e.push(r.restoreView(t));return e},[]);return Promise.all(n)};i.getRightmostContext=function e(){const t=this.getRightmostView();return t&&t.getBindingContext()};i.getRightmostView=function e(){return this._getAllViews().pop()};i.isContextUsedInPages=function e(t){if(!this.getFclControl()){return false}const n=this._getAllViews();for(const e of n){if(e){if(e.getBindingContext()===t){return true}}else{return false}}return false};i._setShellMenuTitle=function e(t,n,o){if(this.getHelper().getCurrentUIState().isFullScreen!==true){t.getShellServices().setTitle(o)}else{t.getShellServices().setTitle(n)}};return o}(g),f=b(d.prototype,"viewState",[C],{configurable:true,enumerable:true,writable:true,initializer:null}),d))||h);return T},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/rootView/NavContainer.controller", ["sap/base/Log","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/KeepAliveHelper","sap/m/IllustratedMessage","sap/m/Page","./RootViewBaseController"],function(e,t,n,r,o,i,a,s){"use strict";var l,c,u,g,f;var p=r.usingExtension;var d=r.defineUI5Class;function h(e,t,n,r){if(!n)return;Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function C(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;w(e,t)}function w(e,t){w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return w(e,t)}function P(e,t,n,r,o){var i={};Object.keys(r).forEach(function(e){i[e]=r[e]});i.enumerable=!!i.enumerable;i.configurable=!!i.configurable;if("value"in i||i.initializer){i.writable=true}i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i);if(o&&i.initializer!==void 0){i.value=i.initializer?i.initializer.call(o):void 0;i.initializer=undefined}if(i.initializer===void 0){Object.defineProperty(e,t,i);i=null}return i}function b(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let y=(l=d("sap.fe.core.rootView.NavContainer"),c=p(n.override({applyInitialStateOnly:function(){return false},adaptBindingRefreshControls:function(e){const t=this.getView(),n=t.getController();e.push(n._getCurrentPage(t))},adaptStateControls:function(e){const t=this.getView(),n=t.getController();e.push(n._getCurrentPage(t))},onRestore:function(){const e=this.getView(),t=e.getController(),n=t.getAppContentContainer();const r=n.getModel("internal");const o=r.getProperty("/pages");for(const e in o){r.setProperty(`/pages/${e}/restoreStatus`,"pending")}t.onContainerReady()},onSuspend:function(){const e=this.getView(),n=e.getController(),r=n.getAppContentContainer();const o=r.getPages();o.forEach(function(e){const n=t.getTargetView(e);const r=n&&n.getController();if(r&&r.viewState&&r.viewState.onSuspend){r.viewState.onSuspend()}})}})),l(u=(g=function(n){v(r,n);function r(){var e;for(var t=arguments.length,r=new Array(t),o=0;o<t;o++){r[o]=arguments[o]}e=n.call(this,...r)||this;h(e,"viewState",f,C(e));return e}var s=r.prototype;s.onContainerReady=function e(){const n=this.getView(),r=this._getCurrentPage(n);return r.then(function(e){const n=t.getTargetView(e);return o.restoreView(n)})};s._getCurrentPage=function e(n){const r=this.getAppContentContainer();return new Promise(function(e){const o=r.getCurrentPage();if(o&&o.getController&&o.getController().isPlaceholder&&o.getController().isPlaceholder()){o.getController().attachEventOnce("targetPageInsertedInContainer",function(r){const o=r.getParameter("targetpage");const i=t.getTargetView(o);e(i!==n&&i)})}else{const r=t.getTargetView(o);e(r!==n&&r)}})};s._getNavContainer=function e(){return this.getAppContentContainer()};s.getInstancedViews=function e(){return this._getNavContainer().getPages().map(e=>{if(e&&e.isA("sap.ui.core.ComponentContainer")){return e.getComponentInstance().getRootControl()}else{return e}})};s.isFclEnabled=function e(){return false};s._scrollTablesToLastNavigatedItems=function e(){};s.displayErrorPage=function n(r,o){return new Promise((n,s)=>{try{const e=this._getNavContainer();if(!this.oPage){this.oPage=new a({showHeader:false});this.oIllustratedMessage=new i({title:r,description:o.description||"",illustrationType:`sapIllus-${o.errorType}`});this.oPage.insertContent(this.oIllustratedMessage,0);e.addPage(this.oPage)}if(o.handleShellBack){const n=e.getCurrentPage(),r=t.getAppComponent(e.getCurrentPage());r.getShellServices().setBackNavigation(function(){e.to(n.getId());r.getShellServices().setBackNavigation()})}e.attachAfterNavigate(function(){n(true)});e.to(this.oPage.getId())}catch(t){s(false);e.info(t)}})};return r}(s),f=P(g.prototype,"viewState",[c],{configurable:true,enumerable:true,writable:true,initializer:null}),g))||u);return y},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/rootView/RootViewBaseController", ["sap/base/Log","sap/fe/core/BaseController","sap/fe/core/CommonUtils","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/controllerextensions/ViewState","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/SizeHelper","sap/ui/base/BindingParser","sap/ui/core/Core","sap/ui/core/routing/HashChanger","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/AnnotationHelper","sap/ui/thirdparty/URI"],function(e,t,o,n,i,r,a,s,c,l,u,h,f){"use strict";var p,g,d,m,y,b,P;var C=r.usingExtension;var v=r.defineUI5Class;function R(e,t,o,n){if(!o)return;Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function I(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;H(e,t)}function H(e,t){H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return H(e,t)}function T(e,t,o,n,i){var r={};Object.keys(n).forEach(function(e){r[e]=n[e]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(e,t,r);r=null}return r}function w(e,t){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let M=(p=v("sap.fe.core.rootView.RootViewBaseController"),g=C(n),d=C(i),p(m=(y=function(t){_(n,t);function n(){var e;for(var o=arguments.length,n=new Array(o),i=0;i<o;i++){n[i]=arguments[i]}e=t.call(this,...n)||this;R(e,"oPlaceholder",b,I(e));R(e,"viewState",P,I(e));e.bIsComputingTitleHierachy=false;return e}var i=n.prototype;i.onInit=function e(){a.init();this._aHelperModels=[]};i.getPlaceholder=function e(){return this.oPlaceholder};i.attachRouteMatchers=function e(){this.oPlaceholder.attachRouteMatchers();this.getAppComponent().getRoutingService().attachAfterRouteMatched(this._onAfterRouteMatched,this)};i.onExit=function e(){this.getAppComponent().getRoutingService().detachAfterRouteMatched(this._onAfterRouteMatched,this);this.oRouter=undefined;a.exit();this._aHelperModels.forEach(function(e){e.destroy()})};i.getResourceBundle=function e(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()};i.getRouter=function e(){if(!this.oRouter){this.oRouter=this.getAppComponent().getRouter()}return this.oRouter};i._createHelperModel=function e(){const t=new u;this._aHelperModels.push(t);return t};i.waitForRightMostViewReady=function e(t){return new Promise(function(e){const o=t.getParameter("views")??[],n=[];o.forEach(function(e){let t=e;if(e&&e.getComponentInstance){const o=e.getComponentInstance();t=o.getRootControl()}if(t&&t.getController()&&t.getController().pageReady){n.push(t)}});const i=n[n.length-1];if(i&&i.getController().pageReady.isPageReady()){e(i)}else if(i){i.getController().pageReady.attachEventOnce("pageReady",function(){e(i)})}})};i.restoreFocusFromHistory=function e(){var t;switch(history.state.focusInfo.type){case"Row":const e=c.byId(history.state.focusInfo.tableId);const o=e.getRowBinding().getCurrentContexts().findIndex(e=>e.getPath()===history.state.focusInfo.contextPathFocus);if(o!==-1){e.focusRow(o)}break;default:(t=c.byId(history.state.focusInfo.controlId))===null||t===void 0?void 0:t.focus()}history.replaceState(Object.assign(history.state,{focusInfo:null}),"")};i._onAfterRouteMatched=function t(o){if(!this._oRouteMatchedPromise){this._oRouteMatchedPromise=this.waitForRightMostViewReady(o).then(e=>{const t=this.getView().getContent()[0];if(t&&t.getAutoFocus&&!t.getAutoFocus()){t.setProperty("autoFocus",true,true)}const o=this.getAppComponent();this._scrollTablesToLastNavigatedItems();if(o.getEnvironmentCapabilities().getCapabilities().UShell){this._computeTitleHierarchy(e)}const n=o.getRouterProxy().isFocusForced();o.getRouterProxy().setFocusForced(false);if(e.getController()&&e.getController().onPageReady&&e.getParent().onPageReady){e.getParent().onPageReady({forceFocus:n})}if(history.state.focusInfo){this.restoreFocusFromHistory()}else if(!n){o.getRouterProxy().restoreFocusForCurrentHash()}if(this.onContainerReady){this.onContainerReady()}}).catch(function(t){e.error("An error occurs while computing the title hierarchy and calling focus method",t)}).finally(()=>{this._oRouteMatchedPromise=null})}};i._getTitleHierarchyCache=function e(){if(!this.oTitleHierarchyCache){this.oTitleHierarchyCache={}}return this.oTitleHierarchyCache};i._computeTitleInfo=function e(t,o,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";const r=n.split("/");if(r[r.length-1].indexOf("?")===-1){n+="?restoreHistory=true"}else{n+="&restoreHistory=true"}return{title:t,subtitle:o,intent:n,icon:i}};i._formatTitle=function e(t,o,n){let i="";switch(t){case"Value":i=`${o}`;break;case"ValueDescription":i=`${o} (${n})`;break;case"DescriptionValue":i=`${n} (${o})`;break;case"Description":i=`${n}`;break;default:}return i};i._fetchTitleValue=async function t(n){const i=this.getAppComponent(),r=this.getView().getModel(),a=i.getMetaModel(),c=a.getMetaPath(n),l=r.createBindingContext(n),u=h.format(a.getObject(`${c}/@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value`),{context:a.createBindingContext("/")});if(!u){return Promise.resolve("")}const f=h.format(a.getObject(`${c}/@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value/$Path@com.sap.vocabularies.Common.v1.Text`),{context:a.createBindingContext("/")}),p=a.getObject(`${c}/@com.sap.vocabularies.UI.v1.HeaderInfo/Title/Value/$Path@`),g=[],d=s.complexParser(u),m=new Promise(function(e){const t=o.computeDisplayMode(p);e(t)});g.push(m);const y=d.parts?d.parts[0].path:d.path,b=d.formatter,P=r.bindProperty(y,l,{$$groupId:"$auto.Heroes"});P.initialize();const C=new Promise(function(e){const t=function(o){const n=b?b(o.getSource().getValue()):o.getSource().getValue();P.detachChange(t);e(n)};P.attachChange(t)});g.push(C);if(f){const e=s.complexParser(f);let t=e.parts?e.parts[0].path:e.path;t=y.lastIndexOf("/")>-1?`${y.slice(0,y.lastIndexOf("/"))}/${t}`:t;const o=e.formatter,n=r.bindProperty(t,l,{$$groupId:"$auto.Heroes"});n.initialize();const i=new Promise(function(e){const t=function(i){const r=o?o(i.getSource().getValue()):i.getSource().getValue();n.detachChange(t);e(r)};n.attachChange(t)});g.push(i)}try{const e=await Promise.all(g);let t="";if(typeof e!=="string"){t=this._formatTitle(e[0],e[1],e[2])}return t}catch(t){e.error("Error while fetching the title from the header info :"+t)}return""};i._getAppSpecificHash=function e(){const t=l.getInstance();return"hrefForAppSpecificHash"in t?f.decode(t.hrefForAppSpecificHash("")):"#/"};i._getHash=function e(){return l.getInstance().getHash()};i.getTitleInfoFromPath=function e(t){const o=this._getTitleHierarchyCache();if(o[t]){return Promise.resolve(o[t])}const n=this.getAppComponent().getMetaModel();const i=n.getMetaPath(t);const r=n.getObject(`${i}/@com.sap.vocabularies.UI.v1.HeaderInfo/TypeName`);const a=this._getAppSpecificHash();const s=a+t.slice(1);return this._fetchTitleValue(t).then(e=>{const n=this._computeTitleInfo(r,e,s);o[t]=n;return n})};i._ensureHierarchyElementsAreStrings=function e(t){const o=[];for(const e in t){const n=t[e];const i={};for(const e in n){i[e]=typeof n[e]!=="string"?String(n[e]):n[e]}o.push(i)}return o};i._getTargetTypeFromHash=function e(t){var o;const n=this.getAppComponent();let i="";const r=((o=n.getManifestEntry("sap.ui5").routing)===null||o===void 0?void 0:o.routes)??[];for(const e of r){const o=n.getRouter().getRoute(e.name);if(o!==null&&o!==void 0&&o.match(t)){const t=Array.isArray(e.target)?e.target[0]:e.target;i=n.getRouter().getTarget(t)._oOptions.name;break}}return i};i._computeTitleHierarchy=function t(o){const n=this.getAppComponent(),i=o.getBindingContext(),r=o.getParent(),a=[],s=this._getAppSpecificHash(),c=n.getManifestEntry("sap.app"),l=c.title||"",u=c.subTitle||"",h=c.icon||"";let f,p;if(r&&r._getPageTitleInformation){if(i){if(this._getTargetTypeFromHash("")==="sap.fe.templates.ListReport"){a.push(Promise.resolve(this._computeTitleInfo(l,u,s,h)))}p=i.getPath();const e=p.split("/");let t="";e.shift();e.pop();e.forEach(e=>{t+=`/${e}`;const o=n.getMetaModel(),i=o.getMetaPath(t),r=o.getObject(`${i}/@com.sap.vocabularies.Common.v1.ResultContext`);if(!r){a.push(this.getTitleInfoFromPath(t))}})}f=r._getPageTitleInformation();f=this._computeTitleInfo(f.title,f.subtitle,s+this._getHash());if(i){this._getTitleHierarchyCache()[p]=f}else{this._getTitleHierarchyCache()[s]=f}}else{a.push(Promise.reject("Title information missing in HeaderInfo"))}return Promise.all(a).then(e=>{const t=this._ensureHierarchyElementsAreStrings(e),o=f.title;t.reverse();n.getShellServices().setHierarchy(t);this._setShellMenuTitle(n,o,l)}).catch(function(t){e.error(t)}).finally(()=>{this.bIsComputingTitleHierachy=false}).catch(function(t){e.error(t)})};i.calculateLayout=function e(t,o,n){let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;return""};i.onContextBoundToView=function e(t){if(t){const e=this.getView().getModel("internal").getProperty("/deepestPath"),o=t.getPath();if(!e||e.indexOf(o)!==0){this.getView().getModel("internal").setProperty("/deepestPath",o,undefined,true)}}};i.displayErrorPage=function e(t,o){return Promise.resolve(true)};i.updateUIStateForView=function e(t,o){};i.getInstancedViews=function e(){return[]};i._scrollTablesToLastNavigatedItems=function e(){};i.isFclEnabled=function e(){return false};i._setShellMenuTitle=function e(t,o,n){t.getShellServices().setTitle(o)};i.getAppContentContainer=function e(){var t,o;const n=this.getAppComponent();const i=((t=n.getManifestEntry("sap.ui5").routing)===null||t===void 0?void 0:(o=t.config)===null||o===void 0?void 0:o.controlId)??"appContent";return this.getView().byId(i)};return n}(t),b=T(y.prototype,"oPlaceholder",[g],{configurable:true,enumerable:true,writable:true,initializer:null}),P=T(y.prototype,"viewState",[d],{configurable:true,enumerable:true,writable:true,initializer:null}),y))||m);return M},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/AsyncComponentServiceFactory", ["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(t,e){"use strict";function r(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;n(t,e)}function n(t,e){n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,r){e.__proto__=r;return e};return n(t,e)}let o=function(t){r(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.init=function t(){this.initPromise=new Promise((t,e)=>{this.resolveFn=t;this.rejectFn=e});const e=this.getContext();const r=e.scopeObject;const n=r._getManifestEntry("/sap.ui5/services",true);Promise.all(Object.keys(n).filter(t=>n[t].startup==="waitFor"&&n[t].factoryName!=="sap.fe.core.services.AsyncComponentService").map(t=>r.getService(t).then(e=>{const n=`get${t[0].toUpperCase()}${t.substring(1)}`;if(!r.hasOwnProperty(n)){r[n]=function(){return e}}}))).then(()=>r.pRootControlLoaded||Promise.resolve()).then(()=>{if(r.onServicesStarted){r.onServicesStarted()}this.resolveFn(this)}).catch(this.rejectFn)};return e}(t);let i=function(t){r(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;n.createInstance=function t(e){const r=new o(e);return r.initPromise};return e}(e);return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/CacheHandlerServiceFactory", ["sap/base/strings/hash","sap/ui/core/cache/CacheManager","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,n,i){"use strict";var s={};function o(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;r(e,t)}function r(e,t){r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return r(e,t)}function a(e,t,n){return new Promise(function(i){jQuery.ajax(e,{method:"GET"}).done(function(s,o,r){n[e]=r.getResponseHeader("ETag")||r.getResponseHeader("Last-Modified");i(t===n[e])}).fail(function(){n[e]="";i(false)})})}let c=function(n){o(i,n);function i(){return n.apply(this,arguments)||this}s.CacheHandlerService=i;var r=i.prototype;r.init=function e(){const t=this.getContext();this.oFactory=t.factory;const n=t.settings;if(!n.metaModel){throw new Error("a `metaModel` property is expected when instantiating the CacheHandlerService")}this.oMetaModel=n.metaModel;this.oAppComponent=n.appComponent;this.oComponent=n.component;this.initPromise=this.oMetaModel.fetchEntityContainer().then(()=>this);this.mCacheNeedsInvalidate={}};r.exit=function e(){this.oFactory.removeGlobalInstance(this.oMetaModel)};r.validateCacheKey=async function e(n,i){let s=true;let o;try{const e=await t.get(n);const r=this.getETags(i);o=JSON.stringify(r);if(e){const t={};const n=JSON.parse(e.cachedETags);const i=await Promise.all(Object.keys(n).map(function(e){if(n[e]){if(r[e]){t[e]=r[e];return n[e]===r[e]}else{return a(e,n[e],t)}}else{t[e]=r[e];return n[e]===r[e]}}));s=i.includes(false);if(Object.keys(t).some(function(e){return!t[e]})){o=null}else{o=s?JSON.stringify(t):e.viewCacheKey}}else if(Object.keys(r).some(function(e){return!r[e]})){s=true;o=null}}catch(e){s=true;o=null}this.mCacheNeedsInvalidate[n]=s;return o};r.invalidateIfNeeded=function e(n,i,s){const o=JSON.stringify(this.getETags(s));if(this.mCacheNeedsInvalidate[i]||n&&n!==o){const e={};e.cachedETags=o;e.viewCacheKey=n;return t.set(i,e)}else{return Promise.resolve()}};r.getETags=function t(n){const i=this.oMetaModel.getETags();Object.keys(i).forEach(function(e){if(i[e]instanceof Date){i[e]=i[e].toISOString()}});const s=this.oAppComponent.getManifest();const o=e(JSON.stringify({sapApp:s["sap.app"],viewData:n.getViewData()}));i["manifest"]=o;return i};r.getInterface=function e(){return this};return i}(n);s.CacheHandlerService=c;let u=function(e){o(t,e);function t(){var t;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++){i[s]=arguments[s]}t=e.call(this,...i)||this;t._oInstanceRegistry={};return t}var n=t.prototype;n.createInstance=function e(t){const n=t.settings.metaModel.getId();let i=this._oInstanceRegistry[n];if(!i){this._oInstanceRegistry[n]=i=new c(Object.assign({factory:this,scopeObject:null,scopeType:"service"},t))}return i.initPromise.then(()=>this._oInstanceRegistry[n]).catch(e=>{this._oInstanceRegistry[n]=null;throw e})};n.getInstance=function e(t){return this._oInstanceRegistry[t.getId()]};n.removeGlobalInstance=function e(t){this._oInstanceRegistry[t.getId()]=null};return t}(i);return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/CollaborationManagerServiceFactory", ["sap/base/Log","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,i){"use strict";function r(e){return new Promise((t,i)=>{sap.ui.require([e],i=>{if(!(i&&i.__esModule)){i=i===null||!(typeof i==="object"&&e.endsWith("/library"))?{default:i}:i;Object.defineProperty(i,"__esModule",{value:true})}t(i)},e=>{i(e)})})}var s={};function n(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;a(e,t)}function a(e,t){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return a(e,t)}let o=function(t){n(i,t);function i(){var e;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++){r[s]=arguments[s]}e=t.call(this,...r)||this;e.__implements__sap_insights_ICardProvider=true;e.registered=false;return e}s.CollaborationManagerService=i;var a=i.prototype;a.getCardsChannel=async function e(){const{default:t}=await r("sap/insights/CardHelper");const i=await t.getServiceAsync("UIService");return i.getCardsChannel()};a.connect=async function t(i,r){try{const e=await this.getCardsChannel();if(e.isEnabled()){this.onRetrieveAvailableCards=r;this.channel=e;this.id=i;this.consumers={};this.sharedCards=[];await this.registerProvider()}}catch(t){e.debug("Collaboration Manager connection failed",t)}return this};a.onConsumerConnected=async function e(t){if(!this.consumers[t]){var i;this.consumers[t]=true;await((i=this.onRetrieveAvailableCards)===null||i===void 0?void 0:i.call(this));this.shareAvailableCards(t)}return Promise.resolve(Object.keys(this.consumers).length)};a.onConsumerDisconnected=async function e(t){if(this.consumers[t]){delete this.consumers[t]}return Promise.resolve(Object.keys(this.consumers).length)};a.onCardRequested=function e(t,i){const r=this.sharedCards.find(e=>(e===null||e===void 0?void 0:e.id)===i);r===null||r===void 0?void 0:r.callback(r.card);return r};a.onViewUpdate=async function e(t){if(this.registered!==t){if(t){await this.registerProvider();this.updateConsumers()}else{await this.unregisterProvider()}}else if(this.registered){this.updateConsumers()}};a.registerProvider=async function e(){if(this.channel){await this.channel.registerProvider(this.id,this);this.registered=true}};a.unregisterProvider=async function e(){if(this.channel){await this.channel.unregister(this.id);this.registered=false;this.consumers={};this.sharedCards=[]}};a.updateConsumers=function e(){this.shareAvailableCards()};a.shareAvailableCards=function e(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"*";this.channel.publishAvailableCards(this.id,this.sharedCards,t)};a.addCardsToCollaborationManager=function e(t,i){this.sharedCards=[];for(const[e,r]of Object.entries(t)){this.sharedCards.push({id:e,title:r.title,parentAppId:i,callback:r.callback,card:r.card})}};a.publishCard=function e(t){this.channel.publishCard(this.id,{id:t["sap.app"].id,descriptorContent:t},"*")};return i}(t);s.CollaborationManagerService=o;let c=function(e){n(t,e);function t(){return e.apply(this,arguments)||this}s=t;var i=t.prototype;i.createInstance=async function e(t){this.instance=new o(t);return Promise.resolve(this.instance)};i.getInstance=function e(){return this.instance};return t}(i);c.serviceClass=o;s=c;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/CollaborativeToolsServiceFactory", ["sap/suite/ui/commons/collaboration/ServiceContainer","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(t,i,e){"use strict";var n={};function o(t,i){t.prototype=Object.create(i.prototype);t.prototype.constructor=t;a(t,i)}function a(t,i){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(i,e){i.__proto__=e;return i};return a(t,i)}let r=function(i){o(e,i);function e(){return i.apply(this,arguments)||this}n.CollaborativeToolsService=e;var a=e.prototype;a.init=function t(){this.teamsIntegration={isInitialized:false};this.initPromise=Promise.resolve(this)};a.getInterface=function t(){return this};a.initializeMSTeams=async function i(){const e=await t.getServiceAsync();this.teamsIntegration.isInitialized=true;this.teamsIntegration.helperService=e;this.teamsIntegration.isContactsCollaborationSupported=typeof e.isContactsCollaborationSupported==="function"&&e.isContactsCollaborationSupported()};a.getMailPopoverFromMsTeamsIntegration=async function t(i){if(!this.teamsIntegration.isInitialized){await this.initializeMSTeams()}try{var e;return await((e=this.teamsIntegration.helperService)===null||e===void 0?void 0:e.enableMinimalContactsCollaboration(i))}catch{return undefined}};a.isContactsCollaborationSupported=async function t(){if(!this.teamsIntegration.isInitialized){await this.initializeMSTeams()}return this.teamsIntegration.isContactsCollaborationSupported===true};a.getTeamContactOptions=async function t(){if(!this.teamsIntegration.isInitialized){await this.initializeMSTeams()}if(!this.teamsIntegration.isContactsCollaborationSupported){return undefined}if(!this.teamsIntegration.contactOptions){try{var i;this.teamsIntegration.contactOptions=await((i=this.teamsIntegration.helperService)===null||i===void 0?void 0:i.getTeamsContactCollabOptions())}catch{return undefined}}return this.teamsIntegration.contactOptions};return e}(i);n.CollaborativeToolsService=r;let s=function(t){o(i,t);function i(){return t.apply(this,arguments)||this}var e=i.prototype;e.createInstance=async function t(i){const e=new r(i);return e.initPromise};return i}(e);return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/EnvironmentServiceFactory", ["sap/suite/ui/commons/collaboration/CollaborationHelper","sap/ui/VersionInfo","sap/ui/core/Core","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","../converters/MetaModelConverter"],function(e,t,i,n,r,a){"use strict";var s={};var o=a.DefaultEnvironmentCapabilities;function c(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;l(e,t)}function l(e,t){l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,i){t.__proto__=i;return t};return l(e,t)}let p=function(e){c(n,e);function n(){return e.apply(this,arguments)||this}s.EnvironmentCapabilitiesService=n;var r=n.prototype;r.init=function e(){this.initPromise=new Promise((e,t)=>{this.resolveFn=e;this.rejectFn=t});const i=this.getContext();this.environmentCapabilities=Object.assign({},o);t.load().then(async e=>{this.environmentCapabilities.Chart=!!e.libraries.find(e=>e.name==="sap.viz");this.environmentCapabilities.MicroChart=!!e.libraries.find(e=>e.name==="sap.suite.ui.microchart");this.environmentCapabilities.UShell=!!(sap&&sap.ushell&&sap.ushell.Container);this.environmentCapabilities.IntentBasedNavigation=!!(sap&&sap.ushell&&sap.ushell.Container);this.environmentCapabilities.InsightsSupported=!!e.libraries.find(e=>e.name==="sap.insights")&&await h();this.environmentCapabilities=Object.assign(this.environmentCapabilities,i.settings);this.resolveFn(this);return null}).catch(this.rejectFn)};n.resolveLibrary=async function e(t){return new Promise(function(e){try{i.loadLibrary(`${t.replace(/\./g,"/")}`,{async:true}).then(function(){e(true)}).catch(function(){e(false)})}catch(t){e(false)}})};r.setCapabilities=function e(t){this.environmentCapabilities=t};r.setCapability=function e(t,i){this.environmentCapabilities[t]=i};r.getCapabilities=function e(){return this.environmentCapabilities};r.getInterface=function e(){return this};return n}(n);s.EnvironmentCapabilitiesService=p;let u=function(e){c(t,e);function t(){return e.apply(this,arguments)||this}s.EnvironmentServiceFactory=t;var i=t.prototype;i.createInstance=function e(t){const i=new p(t);return i.initPromise};return t}(r);s.EnvironmentServiceFactory=u;async function h(){return new Promise(async e=>{try{const t=await p.resolveLibrary("sap.insights");if(t){sap.ui.require(["sap/insights/CardHelper"],async t=>{try{await t.getServiceAsync("UIService");e(!await v())}catch{e(false)}})}else{e(false)}}catch{e(false)}})}s.getInsightsEnabled=h;async function v(){let t=false;try{t=await e.isTeamsModeActive()}catch{return false}return t}s.getMSTeamsActive=v;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/NavigationServiceFactory", ["sap/fe/navigation/NavigationHandler","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/thirdparty/jquery"],function(e,t,n,jQuery){"use strict";var r={};function i(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;o(e,t)}function o(e,t){o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return o(e,t)}let s=function(t){a(n,t);function n(){return t.apply(this,arguments)||this}r.NavigationService=n;var i=n.prototype;i.init=function t(){const n=this.getContext(),r=n&&n.scopeObject;this.oNavHandler=new e(r);this.oNavHandler.setModel(r.getModel());this.initPromise=Promise.resolve(this)};i.exit=function e(){this.oNavHandler.destroy()};i.navigate=function e(t,n,r,i,a,o,s){this.oNavHandler.navigate(t,n,r,i,a,o,s)};i.parseNavigation=function e(){return this.oNavHandler.parseNavigation()};i._processBeforeSmartLinkPopoverOpens=function e(t,n,r){return this.oNavHandler.processBeforeSmartLinkPopoverOpens(t,n,r)};i.getAppSpecificHash=async function e(t){return this.oNavHandler._getAppSpecificHash(t)};i.getAppStateKeyAndUrlParameters=function e(t){return this.oNavHandler._getAppStateKeyAndUrlParameters(t)};i.getTechnicalParameters=function e(){return this.oNavHandler.getTechnicalParameters()};i.setTechnicalParameters=function e(t){this.oNavHandler.setTechnicalParameters(t)};i.setModel=function e(t){this.oNavHandler.setModel(t)};i.storeInnerAppStateAsync=function e(t,n,r){return new Promise((e,i)=>this.oNavHandler.storeInnerAppStateAsync(t,n,r).then(e,i))};i.storeInnerAppStateWithImmediateReturn=function e(t,n){return this.oNavHandler.storeInnerAppStateWithImmediateReturn(t,n)};i.replaceHash=function e(t){this.oNavHandler.replaceHash(t)};i.replaceInnerAppStateKey=function e(t,n){return this.oNavHandler._replaceInnerAppStateKey(t,n)};i.getUrlParametersFromSelectionVariant=function e(t){return this.oNavHandler._getURLParametersFromSelectionVariant(t)};i.saveAppStateWithImmediateReturn=function e(t){if(t){const e=t.toJSONString(),n=JSON.parse(e),r={selectionVariant:n},i=this.oNavHandler._saveAppStateWithImmediateReturn(r);return i!==null&&i!==void 0&&i.appStateKey?i.appStateKey:""}else{return undefined}};i.mixAttributesAndSelectionVariant=function e(t,n,r){return this.oNavHandler.mixAttributesAndSelectionVariant(t,n,r)};i.constructContextUrl=function e(t,n){return this.oNavHandler.constructContextUrl(t,n)};i.getInterface=function e(){return this};i.getIAppStateKey=function e(){return this.oNavHandler.getIAppStateKey()};return n}(t);r.NavigationService=s;function c(){return{}}function u(){return Promise.resolve({})}function p(){const e=jQuery.Deferred();e.resolve({},{},"initial");return e.promise()}function l(){return""}let f=function(e){a(t,e);function t(){var t;t=e.call(this)||this;t.createEmptyAppState=c;t.storeInnerAppStateWithImmediateReturn=c;t.mixAttributesAndSelectionVariant=c;t.getAppState=u;t.getStartupAppState=u;t.parseNavigation=p;t.constructContextUrl=l;t.getIAppStateKey=l;t.initPromise=Promise.resolve(i(t));return t}r.NavigationServicesMock=t;var n=t.prototype;n.getInterface=function e(){return this};n.replaceInnerAppStateKey=function e(t){return t?t:""};n.navigate=function e(){};return t}(n);r.NavigationServicesMock=f;let v=function(e){a(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.createInstance=function e(t){const n=sap.ushell&&sap.ushell.Container?new s(t):new f;return n.initPromise.then(function(e){return e})};return t}(n);return v},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/ResourceModelServiceFactory", ["sap/fe/core/ResourceModel","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,n){"use strict";var o={};function s(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return c(e,t)}let r=function(t){s(n,t);function n(){return t.apply(this,arguments)||this}o.ResourceModelService=n;var c=n.prototype;c.init=function t(){const n=this.getContext();const o=n.settings;this.oFactory=n.factory;const s=o.bundles.concat(o.enhanceI18n||[]).map(function(e){return typeof e.isA==="function"&&e.isA("sap.ui.model.resource.ResourceModel")?e.getResourceBundle():{bundleName:e.replace(/\//g,".")}});this.oResourceModel=new e({bundleName:s[0].bundleName,enhanceWith:s.slice(1),async:true});if(n.scopeType==="component"){const e=n.scopeObject;e.setModel(this.oResourceModel,o.modelName)}this.initPromise=Promise.all([this.oResourceModel.getResourceBundle(),this.oResourceModel._pEnhanced||Promise.resolve()]).then(e=>{this.oResourceModel.__bundle=e[0];return this})};c.getResourceModel=function e(){return this.oResourceModel};c.getInterface=function e(){return this};c.exit=function e(){this.oFactory.removeGlobalInstance()};return n}(t);o.ResourceModelService=r;let i=function(e){s(t,e);function t(){var t;for(var n=arguments.length,o=new Array(n),s=0;s<n;s++){o[s]=arguments[s]}t=e.call(this,...o)||this;t._oInstances={};return t}var n=t.prototype;n.createInstance=function e(t){const n=`${t.scopeObject.getId()}_${t.settings.bundles.join(",")}`+(t.settings.enhanceI18n?`,${t.settings.enhanceI18n.join(",")}`:"");if(!this._oInstances[n]){this._oInstances[n]=new r(Object.assign({factory:this},t))}return this._oInstances[n].initPromise};n.removeGlobalInstance=function e(){this._oInstances={}};return t}(n);return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/RoutingServiceFactory", ["sap/base/Log","sap/fe/core/controllerextensions/BusyLocker","sap/fe/core/controllerextensions/Placeholder","sap/fe/core/controllerextensions/messageHandler/messageHandling","sap/fe/core/controllerextensions/routing/NavigationReason","sap/fe/core/helpers/AppStartupHelper","sap/fe/core/helpers/ClassSupport","sap/fe/core/helpers/EditState","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticKeyHelper","sap/suite/ui/commons/collaboration/CollaborationHelper","sap/ui/base/BindingParser","sap/ui/base/EventProvider","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/model/odata/v4/ODataUtils","../converters/MetaModelConverter"],function(t,e,o,n,i,r,a,s,u,h,c,l,g,f,p,d,v){"use strict";var m,P,R,C,_,y,M;var x={};var b=a.event;var L=a.defineUI5Class;function T(t,e,o,n){if(!o)return;Object.defineProperty(t,e,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function S(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function w(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;E(t,e)}function E(t,e){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,o){e.__proto__=o;return e};return E(t,e)}function I(t,e,o,n,i){var r={};Object.keys(n).forEach(function(t){r[t]=n[t]});r.enumerable=!!r.enumerable;r.configurable=!!r.configurable;if("value"in r||r.initializer){r.writable=true}r=o.slice().reverse().reduce(function(o,n){return n(t,e,o)||o},r);if(i&&r.initializer!==void 0){r.value=r.initializer?r.initializer.call(i):void 0;r.initializer=undefined}if(r.initializer===void 0){Object.defineProperty(t,e,r);r=null}return r}function A(t,e){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let O=(m=L("sap.fe.core.services.RoutingServiceEventing"),P=b(),R=b(),m(C=(_=function(t){w(e,t);function e(){var e;for(var o=arguments.length,n=new Array(o),i=0;i<o;i++){n[i]=arguments[i]}e=t.call(this,...n)||this;T(e,"routeMatched",y,S(e));T(e,"afterRouteMatched",M,S(e));return e}return e}(g),y=I(_.prototype,"routeMatched",[P],{configurable:true,enumerable:true,writable:true,initializer:null}),M=I(_.prototype,"afterRouteMatched",[R],{configurable:true,enumerable:true,writable:true,initializer:null}),_))||C);let H=function(a){w(g,a);function g(){var t;for(var e=arguments.length,o=new Array(e),n=0;n<e;n++){o[n]=arguments[n]}t=a.call(this,...o)||this;t.navigationInfoQueue=[];return t}x.RoutingService=g;var f=g.prototype;f.init=function t(){const e=this.getContext();if(e.scopeType==="component"){var o;this.oAppComponent=e.scopeObject;this.oModel=this.oAppComponent.getModel();this.oMetaModel=this.oModel.getMetaModel();this.oRouter=this.oAppComponent.getRouter();this.oRouterProxy=this.oAppComponent.getRouterProxy();this.eventProvider=new O;const t=this.oAppComponent.getManifestEntry("sap.ui5").routing;this._parseRoutingConfiguration(t);const n=this.oAppComponent.getManifestEntry("sap.app");this.outbounds=(o=n.crossNavigation)===null||o===void 0?void 0:o.outbounds}this.initPromise=Promise.resolve(this)};f.beforeExit=function t(){this.oRouter.detachRouteMatched(this._fnOnRouteMatched,this);this.eventProvider.fireEvent("routeMatched",{})};f.exit=function t(){this.eventProvider.destroy()};f._parseRoutingConfiguration=function e(o){var n;const i=(o===null||o===void 0?void 0:(n=o.config)===null||n===void 0?void 0:n.routerClass)==="sap.f.routing.Router";this._mTargets={};Object.keys(o.targets).forEach(t=>{this._mTargets[t]=Object.assign({targetName:t},o.targets[t]);if(this._mTargets[t].contextPattern!==undefined){this._mTargets[t].viewLevel=this._getViewLevelFromPattern(this._mTargets[t].contextPattern,0)}});this._mRoutes={};for(const e in o.routes){const n=o.routes[e],r=Array.isArray(n.target)?n.target:[n.target],a=Array.isArray(o.routes)?n.name:e,s=n.pattern;if(s.length<8||s.indexOf(":?query:")!==s.length-8){t.warning(`Pattern for route ${a} doesn't end with ':?query:' : ${s}`)}const u=this._getViewLevelFromPattern(s,0);this._mRoutes[a]={name:a,pattern:s,targets:r,routeLevel:u};for(let t=0;t<r.length;t++){const e=this._mTargets[r[t]].parent;if(e){r.push(e)}}if(!i){if(this._mTargets[r[0]].viewLevel===undefined||this._mTargets[r[0]].viewLevel<u){this._mTargets[r[0]].viewLevel=u}this._mTargets[r[0]].FCLLevel=-1}else if(r.length===1&&this._mTargets[r[0]].controlAggregation!=="beginColumnPages"){this._mTargets[r[0]].FCLLevel=3}else{r.forEach(t=>{switch(this._mTargets[t].controlAggregation){case"beginColumnPages":this._mTargets[t].FCLLevel=0;break;case"midColumnPages":this._mTargets[t].FCLLevel=1;break;default:this._mTargets[t].FCLLevel=2}})}}Object.keys(this._mTargets).forEach(t=>{while(this._mTargets[t].parent){const e=this._mTargets[t].parent;this._mTargets[e].viewLevel=this._mTargets[e].viewLevel||this._mTargets[t].viewLevel;this._mTargets[e].contextPattern=this._mTargets[e].contextPattern||this._mTargets[t].contextPattern;this._mTargets[e].FCLLevel=this._mTargets[e].FCLLevel||this._mTargets[t].FCLLevel;this._mTargets[e].controlAggregation=this._mTargets[e].controlAggregation||this._mTargets[t].controlAggregation;t=e}});const r=[];const a=[];let s;for(const t in this._mRoutes){const e=this._mRoutes[t].routeLevel;if(e===0){r.push(t)}else if(e===1){a.push(t)}}if(r.length===1){s=r[0]}else if(a.length===1){s=a[0]}if(s){const e=this._mRoutes[s].targets.slice(-1)[0];this.sContextPath="";if(this._mTargets[e].options&&this._mTargets[e].options.settings){const t=this._mTargets[e].options.settings;this.sContextPath=t.contextPath||`/${t.entitySet}`}if(!this.sContextPath){t.warning(`Cannot determine default contextPath: contextPath or entitySet missing in default target: ${e}`)}}else{t.warning("Cannot determine default contextPath: no default route found.")}Object.keys(this._mTargets).map(t=>this._mTargets[t]).sort((t,e)=>t.viewLevel<e.viewLevel?-1:1).forEach(t=>{if(t.options){const e=t.options.settings;const o=e.contextPath||(e.entitySet?`/${e.entitySet}`:"");if(!e.fullContextPath&&o){e.fullContextPath=`${o}/`}Object.keys(e.navigation||{}).forEach(o=>{const n=this._mRoutes[e.navigation[o].detail.route];if(n&&n.targets){n.targets.forEach(n=>{if(this._mTargets[n].options&&this._mTargets[n].options.settings&&!this._mTargets[n].options.settings.fullContextPath){if(t.viewLevel===0){this._mTargets[n].options.settings.fullContextPath=`${(o.startsWith("/")?"":"/")+o}/`}else{this._mTargets[n].options.settings.fullContextPath=`${e.fullContextPath+o}/`}}})}})}})};f._getViewLevelFromPattern=function t(e,o){e=e.replace(":?query:","");const n=new RegExp("/[^/]*$");if(e&&e[0]!=="/"&&e[0]!=="?"){e=`/${e}`}if(e.length){e=e.replace(n,"");if(this.oRouter.match(e)||e===""){return this._getViewLevelFromPattern(e,++o)}else{return this._getViewLevelFromPattern(e,o)}}else{return o}};f._getRouteInformation=function t(e){return this._mRoutes[e]};f._getTargetInformation=function t(e){return this._mTargets[e]};f._getComponentId=function t(e,o){if(o.indexOf(`${e}---`)===0){return o.substr(e.length+3)}return o};f.getTargetInformationFor=function t(e){const o=this._getComponentId(e._sOwnerId,e.getId());let n=null;Object.keys(this._mTargets).forEach(t=>{if(this._mTargets[t].id===o||this._mTargets[t].viewId===o){n=t}});return this._getTargetInformation(n)};f.getLastSemanticMapping=function t(){return this.oLastSemanticMapping};f.setLastSemanticMapping=function t(e){this.oLastSemanticMapping=e};f.navigateTo=function t(e,o,n,i){let r,a;if(e.getModel()&&e.getModel().getMetaModel&&e.getModel().getMetaModel()){a=u.isStickySessionSupported(e.getModel().getMetaModel())}if(!n){r=Promise.resolve(h.getSemanticPath(e))}else{r=this.prepareParameters(n,o,e).then(t=>this.oRouter.getURL(o,t))}return r.then(t=>{this.oRouterProxy.navToHash(t,i,false,false,!a)})};f.prepareParameters=function e(o,n,i){let r;try{const t=i.getPath();const e=i.getModel().getMetaModel();const n=t.split("/");const a=Object.keys(o).map(t=>{const r=o[t];const a=l.complexParser(r);const s=a.parts||[a];const u=s.map(function(t){const o=t.path.split("../");const r=n.slice(0,n.length-o.length+1);const a=r.join("/");const s=a===i.getPath()?i:i.getModel().bindContext(a).getBoundContext();const u=e.getMetaContext(a+"/"+o[o.length-1]);return s.requestProperty(o[o.length-1]).then(function(t){const e=u.getObject();const o=e.$Type;return d.formatLiteral(t,o)})});return Promise.all(u).then(e=>{const o=a.formatter?a.formatter.apply(this,e):e.join("");return{key:t,value:o}})});r=Promise.all(a).then(function(t){const e={};t.forEach(function(t){e[t.key]=t.value});return e})}catch(e){t.error(`Could not parse the parameters for the navigation to route ${n}`);r=Promise.resolve(undefined)}return r};f._fireRouteMatchEvents=function t(e){this.eventProvider.fireEvent("routeMatched",e);this.eventProvider.fireEvent("afterRouteMatched",e);s.cleanProcessedEditState()};f.navigateToContext=function t(e){let o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let i=arguments.length>2?arguments[2]:undefined;let r=arguments.length>3?arguments[3]:undefined;let a="";let s;const h=u.isStickySessionSupported(this.oMetaModel);if(o!==null&&o!==void 0&&o.targetPath&&i!==null&&i!==void 0&&i.navigation){const t=i.navigation;const n=t[o.targetPath].detail;a=n.route;if(n.parameters&&e.isA("sap.ui.model.odata.v4.Context")){s=this.prepareParameters(n.parameters,a,e)}}let c=this._getPathFromContext(e,o);if(c.length===0&&this.bExitOnNavigateBackToRoot){this.oRouterProxy.exitFromApp();return Promise.resolve(true)}if(o!==null&&o!==void 0&&o.createOnNavigateParameters){c+="(...)"}const l=this._calculateLayout(c,o);if(l){c+=`?layout=${l}`}const g={createOnNavigateParameters:o.createOnNavigateParameters,bTargetEditable:o===null||o===void 0?void 0:o.editable,bPersistOPScroll:o===null||o===void 0?void 0:o.persistOPScroll,bShowPlaceholder:(o===null||o===void 0?void 0:o.showPlaceholder)!==undefined?o===null||o===void 0?void 0:o.showPlaceholder:true,reason:o===null||o===void 0?void 0:o.reason};if((o===null||o===void 0?void 0:o.updateFCLLevel)!==-1&&(o===null||o===void 0?void 0:o.recreateContext)!==true){if(e.isA("sap.ui.model.odata.v4.Context")){g.useContext=e}}if(o!==null&&o!==void 0&&o.checkNoHashChange){const t=this.oRouterProxy.getHash().replace(/[&?]{1}sap-iapp-state=[A-Z0-9]+/,"");if(c===t){const t=this.oRouter.getRouteInfoByHash(this.oRouterProxy.getHash());if(t){t.navigationInfo=g;t.routeInformation=this._getRouteInformation(this.sCurrentRouteName);t.routePattern=this.sCurrentRoutePattern;t.views=this.aCurrentViews}this.oRouterProxy.setFocusForced(!!o.forceFocus);this._fireRouteMatchEvents(t);return Promise.resolve(true)}}if(o!==null&&o!==void 0&&o.transient&&!!o.editable&&!c.includes("(...)")){if(c.includes("?")){c+="&i-action=create"}else{c+="?i-action=create"}}if((r===null||r===void 0?void 0:r.name)==="sap.fe.templates.ListReport"){const t=this.oRouter.getRouteInfoByHash(c);if(t){const e=this._getRouteInformation(t.name);if(e&&e.targets&&e.targets.length>0){const t=e.targets[e.targets.length-1];const o=this._getTargetInformation(t);if(o&&o.name==="sap.fe.templates.ObjectPage"){n.removeUnboundTransitionMessages()}}}}this.navigationInfoQueue.push(g);if(a&&s){return s.then(t=>{Object.assign(t,{bIsStickyMode:h});this.oRouter.navTo(a,t);return true})}return this.oRouterProxy.navToHash(c,false,o===null||o===void 0?void 0:o.noPreservationCache,o===null||o===void 0?void 0:o.forceFocus,!h).then(t=>{if(!t){this.navigationInfoQueue.pop()}return t})};f.navigateToRoute=function t(e,o){this.setLastSemanticMapping(undefined);const n=this.oRouter.getURL(e,o);return this.oRouterProxy.navToHash(n,undefined,undefined,undefined,!o.bIsStickyMode)};f.isCurrentStateImpactedBy=function t(e){const o=e.getPath();if(this.oRouterProxy.isCurrentStateImpactedBy(o)){return true}else if(/^[^()]+\([^()]+\)$/.test(o)){let t;if(this.oLastSemanticMapping&&this.oLastSemanticMapping.technicalPath===o){t=this.oLastSemanticMapping.semanticPath}else{t=h.getSemanticPath(e)}return t!=o?this.oRouterProxy.isCurrentStateImpactedBy(t):false}else{return false}};f._findPathToNavigate=function t(e){const o=new RegExp("/[^/]*$");e=e.replace(o,"");if(this.oRouter.match(e)||e===""){return e}else{return this._findPathToNavigate(e)}};f._checkIfContextSupportsSemanticPath=function t(e){const o=e.getPath();if(!/^\/[^(]+\([^)]+\)$/.test(o)){return false}const n=e.getModel().getMetaModel();const i=v.getInvolvedDataModelObjects(n.getMetaContext(e.getPath())).targetObject;const r=i.name;if(!h.getSemanticKeys(n,r)){return false}return u.isDraftRoot(i)};f._getPathFromContext=function t(e,o){let n="";if(e.isA("sap.ui.model.odata.v4.ODataListBinding")){var i;n=((i=e.getHeaderContext())===null||i===void 0?void 0:i.getPath())??""}else{n=e.getPath();if(o.updateFCLLevel===-1){var r;n=this._findPathToNavigate(n);if(((r=this.oLastSemanticMapping)===null||r===void 0?void 0:r.technicalPath)===n){n=this.oLastSemanticMapping.semanticPath}}else if(this._checkIfContextSupportsSemanticPath(e)){const t=h.getSemanticPath(e,true);if(!t){this.setLastSemanticMapping(undefined)}else if(t!==n){this.setLastSemanticMapping({technicalPath:n,semanticPath:t});n=t}}}if(n[0]==="/"){n=n.substring(1)}return n};f._calculateLayout=function t(e,o){let n=o.FCLLevel??0;if(o.updateFCLLevel){n+=o.updateFCLLevel;if(n<0){n=0}}if(o.updateFCLLevel!==undefined&&o.updateFCLLevel<0&&!o.layout){o.layout=this.oRouterProxy.findLayoutForHash(e)}return this.oAppComponent.getRootViewController().calculateLayout(n,e,o.layout,o.keepCurrentLayout)};f._beforeRouteMatched=function t(){const n=(new o).isPlaceholderEnabled();if(!n){const t=this.oAppComponent.getRootControl();e.lock(t)}};f._isNavigationTriggeredByRouterProxy=function t(){var e;return((e=history.state)===null||e===void 0?void 0:e.feLevel)!==undefined};f._onRouteMatched=function n(r){const a=this.oAppComponent.getAppStateHandler(),s=this.oAppComponent.getRootControl();const u=(new o).isPlaceholderEnabled();if(e.isLocked(s)&&!u){e.unlock(s)}const h=r.getParameters();if(this.navigationInfoQueue.length){h.navigationInfo=this.navigationInfoQueue[0];this.navigationInfoQueue=this.navigationInfoQueue.slice(1)}else{h.navigationInfo={}}if(a.checkIfRouteChangedByIApp()){h.navigationInfo.reason=i.AppStateChanged;a.resetRouteChangedByIApp()}else if(this.oRouterProxy.checkRestoreHistoryWasTriggered()){h.navigationInfo.reason=i.RestoreHistory;this.oRouterProxy.resetRestoreHistoryFlag()}this.sCurrentRouteName=r.getParameter("name");this.sCurrentRoutePattern=h.config.pattern;this.aCurrentViews=r.getParameter("views");h.routeInformation=this._getRouteInformation(this.sCurrentRouteName);h.routePattern=this.sCurrentRoutePattern;this._fireRouteMatchEvents(h);if(!this._isNavigationTriggeredByRouterProxy()){this.oRouterProxy.restoreHistory().then(()=>{this.oRouterProxy.resolveRouteMatch()}).catch(function(e){t.error("Error while restoring history",e)})}else{this.oRouterProxy.resolveRouteMatch()}};f.attachRouteMatched=function t(e,o,n){this.eventProvider.attachEvent("routeMatched",e,o,n)};f.detachRouteMatched=function t(e,o){this.eventProvider.detachEvent("routeMatched",e,o)};f.attachAfterRouteMatched=function t(e,o,n){this.eventProvider.attachEvent("afterRouteMatched",e,o,n)};f.detachAfterRouteMatched=function t(e,o){this.eventProvider.detachEvent("afterRouteMatched",e,o)};f.getRouteFromHash=function t(e,o){const n=e.getHashChanger().hash;const i=e.getRouteInfoByHash(n);return o.getMetadata().getManifestEntry("/sap.ui5/routing/routes").filter(function(t){return t.name===i.name})[0]};f.getTargetsFromRoute=function t(e){const o=e.target;if(typeof o==="string"){return[this._mTargets[o]]}else{const t=[];o.forEach(e=>{t.push(this._mTargets[e])});return t}};f.initializeRouting=async function e(){await c.processAndExpandHash();this._fnOnRouteMatched=this._onRouteMatched.bind(this);this.oRouter.attachRouteMatched(this._fnOnRouteMatched,this);const n=(new o).isPlaceholderEnabled();if(!n){this.oRouter.attachBeforeRouteMatched(this._beforeRouteMatched.bind(this))}this.navigationInfoQueue=[];s.resetEditState();this.bExitOnNavigateBackToRoot=!this.oRouter.match("");const i=this.oRouter.getHashChanger().getHash().includes("sap-iapp-state");try{const t=await this.oAppComponent.getStartupParameters();const e=t!==undefined&&Object.keys(t).length!==0;const o=this.oRouter.getHashChanger().getHash();if(!i&&e&&!o){if(t.preferredMode&&t.preferredMode[0].toUpperCase().includes("CREATE")){await this._manageCreateStartup(t)}else{await this._manageDeepLinkStartup(t)}}}catch(e){t.error("Error during routing initialization",e)}};f.getDefaultCreateHash=function t(e){return r.getDefaultCreateHash(e,this.getContextPath(),this.oRouter)};f._manageCreateStartup=function t(e){return r.getCreateStartupHash(e,this.getContextPath(),this.oRouter,this.oMetaModel).then(t=>{if(t){this.oRouter.getHashChanger().replaceHash(t);if(e!==null&&e!==void 0&&e.preferredMode&&e.preferredMode[0].toUpperCase().indexOf("AUTOCREATE")!==-1){this.oAppComponent.setStartupModeAutoCreate()}else{this.oAppComponent.setStartupModeCreate()}this.bExitOnNavigateBackToRoot=true}})};f._manageDeepLinkStartup=function t(e){return r.getDeepLinkStartupHash(this.oAppComponent.getManifest()["sap.ui5"].routing,e,this.oModel).then(t=>{let e;if(t.context){const o=t.context.getPath();const n=this._checkIfContextSupportsSemanticPath(t.context)?h.getSemanticPath(t.context):o;if(n!==o){this.setLastSemanticMapping({technicalPath:o,semanticPath:n})}e=n.substring(1)}else if(t.hash){e=t.hash}if(e){this.oRouter.getHashChanger().replaceHash(e);this.oAppComponent.setStartupModeDeeplink()}})};f.getOutbounds=function t(){return this.outbounds};f.getContextPath=function t(){return this.sContextPath};f.getInterface=function t(){return this};return g}(f);x.RoutingService=H;let k=function(t){w(e,t);function e(){return t.apply(this,arguments)||this}var o=e.prototype;o.createInstance=function t(e){const o=new H(e);return o.initPromise};return e}(p);return k},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/ShellServicesFactory", ["sap/base/Log","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory"],function(e,t,n){"use strict";function i(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;r(e,t)}function r(e,t){r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return r(e,t)}let s=function(e){i(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.init=function e(){this.initPromise=Promise.resolve(this);this.instanceType="mock"};n.getLinks=function e(){return Promise.resolve([])};n.getLinksWithCache=function e(){return Promise.resolve([])};n.toExternal=function e(){};n.getStartupAppState=function e(){return Promise.resolve(undefined)};n.backToPreviousApp=function e(){};n.hrefForExternal=function e(){return""};n.getHash=function e(){return window.location.href};n.hrefForExternalAsync=function e(){return Promise.resolve({})};n.getAppState=function e(){return Promise.resolve({})};n.createEmptyAppState=function e(){return Promise.resolve({})};n.createEmptyAppStateAsync=function e(){return Promise.resolve({})};n.isNavigationSupported=function e(){return Promise.resolve({})};n.isInitialNavigation=function e(){return false};n.isInitialNavigationAsync=function e(){return Promise.resolve({})};n.expandCompactHash=function e(){return Promise.resolve({})};n.parseShellHash=function e(){return{}};n.splitHash=function e(){return Promise.resolve({})};n.constructShellHash=function e(){return""};n.setDirtyFlag=function e(){};n.registerDirtyStateProvider=function e(){};n.deregisterDirtyStateProvider=function e(){};n.createRenderer=function e(){return{}};n.getUser=function e(){return{}};n.hasUShell=function e(){return false};n.registerNavigationFilter=function e(){};n.unregisterNavigationFilter=function e(){};n.setBackNavigation=function e(){};n.setHierarchy=function e(){};n.setTitle=function e(){};n.getContentDensity=function e(){if(document.body.classList.contains("sapUiSizeCozy")){return"cozy"}else if(document.body.classList.contains("sapUiSizeCompact")){return"compact"}else{return""}};n.getPrimaryIntent=function e(){return Promise.resolve()};n.waitForPluginsLoad=function e(){return Promise.resolve(true)};n.getTitle=function e(){return""};return t}(t);function o(e){return new Promise((t,n)=>{e.done(t).fail(n)})}let c=function(t){i(n,t);function n(){return t.apply(this,arguments)||this}var r=n.prototype;r.init=function e(){const t=this.getContext();const n=t.scopeObject;this.oShellContainer=t.settings.shellContainer;this.instanceType="real";this.linksCache={};this.fnFindSemanticObjectsInCache=function(e){const t=e;const n=[];const i=[];for(let r=0;r<t.length;r++){if(!!t[r][0]&&!!t[r][0].semanticObject){if(this.linksCache[t[r][0].semanticObject]){n.push(this.linksCache[t[r][0].semanticObject].links);Object.defineProperty(e[r][0],"links",{value:this.linksCache[t[r][0].semanticObject].links})}else{i.push(t[r])}}}return{oldArgs:e,newArgs:i,cachedLinks:n}};this.initPromise=new Promise((e,t)=>{this.resolveFn=e;this.rejectFn=t});const i=this.oShellContainer.getServiceAsync("CrossApplicationNavigation");const r=this.oShellContainer.getServiceAsync("URLParsing");const s=this.oShellContainer.getServiceAsync("ShellNavigation");const o=this.oShellContainer.getServiceAsync("PluginManager");const c=n.getService("ShellUIService");Promise.all([i,r,s,c,o]).then(e=>{let[t,n,i,r,s]=e;this.crossAppNavService=t;this.urlParsingService=n;this.shellNavigation=i;this.shellUIService=r;this.shellPluginManager=s;this.resolveFn()}).catch(this.rejectFn)};r.getLinks=async function e(t){return new Promise((e,n)=>{this.crossAppNavService.getLinks(t).fail(e=>{n(new Error(`${e} sap.fe.core.services.ShellServicesFactory.getLinks`))}).then(e)})};r.getLinksWithCache=function e(t){return new Promise((e,n)=>{if(t.length===0){e([])}else{const i=this.fnFindSemanticObjectsInCache(t);if(i.newArgs.length===0){e(i.cachedLinks)}else{this.crossAppNavService.getLinks(i.newArgs).fail(e=>{n(new Error(`${e} sap.fe.core.services.ShellServicesFactory.getLinksWithCache`))}).then(t=>{if(t.length!==0){const e={};for(let n=0;n<t.length;n++){if(t[n].length>0&&i.newArgs[n][0].links===undefined){e[i.newArgs[n][0].semanticObject]={links:t[n]};this.linksCache=Object.assign(this.linksCache,e)}}}if(i.cachedLinks.length===0){e(t)}else{const n=[];let r=0;for(let e=0;e<i.oldArgs.length;e++){if(r<t.length){if(t[r].length>0&&i.oldArgs[e][0].semanticObject===i.newArgs[r][0].semanticObject){n.push(t[r]);r++}else{n.push(i.oldArgs[e][0].links)}}else{n.push(i.oldArgs[e][0].links)}}e(n)}})}}})};r.getShellContainer=function e(){return this.oShellContainer};r.toExternal=function e(t,n){this.crossAppNavService.toExternal(t,n)};r.getStartupAppState=function e(t){return new Promise((e,n)=>{this.crossAppNavService.getStartupAppState(t).fail(e=>{n(new Error(`${e} sap.fe.core.services.ShellServicesFactory.getStartupAppState`))}).then(t=>e(t))})};r.backToPreviousApp=function e(){return this.crossAppNavService.backToPreviousApp()};r.hrefForExternal=function e(t,n,i){return this.crossAppNavService.hrefForExternal(t,n,!!i)};r.hrefForExternalAsync=function e(t,n){return this.crossAppNavService.hrefForExternalAsync(t,n)};r.getAppState=function e(t,n){return o(this.crossAppNavService.getAppState(t,n))};r.createEmptyAppState=function e(t){return this.crossAppNavService.createEmptyAppState(t)};r.createEmptyAppStateAsync=function e(t){return this.crossAppNavService.createEmptyAppStateAsync(t)};r.isNavigationSupported=function e(t,n){return o(this.crossAppNavService.isNavigationSupported(t,n))};r.isInitialNavigation=function e(){return this.crossAppNavService.isInitialNavigation()};r.isInitialNavigationAsync=function e(){return this.crossAppNavService.isInitialNavigationAsync()};r.expandCompactHash=function e(t){return this.crossAppNavService.expandCompactHash(t)};r.getHash=function e(){return`#${this.urlParsingService.getShellHash(window.location.href)}`};r.parseShellHash=function e(t){return this.urlParsingService.parseShellHash(t)};r.splitHash=function e(t){return this.urlParsingService.splitHash(t)};r.constructShellHash=function e(t){return this.urlParsingService.constructShellHash(t)};r.setDirtyFlag=function e(t){this.oShellContainer.setDirtyFlag(t)};r.registerDirtyStateProvider=function e(t){this.oShellContainer.registerDirtyStateProvider(t)};r.deregisterDirtyStateProvider=function e(t){this.oShellContainer.deregisterDirtyStateProvider(t)};r.createRenderer=function e(){return this.oShellContainer.createRenderer()};r.getUser=function e(){return this.oShellContainer.getUser()};r.hasUShell=function e(){return true};r.registerNavigationFilter=function e(t){this.shellNavigation.registerNavigationFilter(t)};r.unregisterNavigationFilter=function e(t){this.shellNavigation.unregisterNavigationFilter(t)};r.setBackNavigation=function e(t){this.shellUIService.setBackNavigation(t)};r.setHierarchy=function e(t){this.shellUIService.setHierarchy(t)};r.setTitle=function e(t){this.shellUIService.setTitle(t)};r.getTitle=function e(){return this.shellUIService.getTitle()};r.getContentDensity=function e(){return this.oShellContainer.getUser().getContentDensity()};r.getPrimaryIntent=function e(t,n){return new Promise((e,i)=>{this.crossAppNavService.getPrimaryIntent(t,n).fail(e=>{i(new Error(`${e} sap.fe.core.services.ShellServicesFactory.getPrimaryIntent`))}).then(e)})};r.waitForPluginsLoad=function t(){return new Promise(t=>{var n;if(!((n=this.shellPluginManager)!==null&&n!==void 0&&n.getPluginLoadingPromise)){t(false)}else{this.shellPluginManager.getPluginLoadingPromise("RendererExtensions").fail(n=>{e.error(n,"sap.fe.core.services.ShellServicesFactory.waitForPluginsLoad");t(false)}).then(()=>t(true))}})};return n}(t);let a=function(e){i(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;n.createInstance=function e(t){t.settings.shellContainer=sap.ushell&&sap.ushell.Container;const n=t.settings.shellContainer?new c(t):new s(t);return n.initPromise.then(()=>{t.scopeObject.getShellServices=()=>n;return n})};return t}(n);return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/SideEffectsServiceFactory", ["sap/base/Log","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/PropertyHelper","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","../templating/DataModelPathHelper"],function(t,e,i,r,o,n,s){"use strict";var a={};var c=s.getTargetObjectPath;var f=s.getTargetNavigationPath;var u=s.enhanceDataModelPath;var l=r.getAssociatedTextPropertyPath;var d=i.isProperty;var g=i.isEntityType;var p=i.isComplexType;var h=e.getInvolvedDataModelObjects;var y=e.convertTypes;function E(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;m(t,e)}function m(t,e){m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,i){e.__proto__=i;return e};return m(t,e)}let v=function(i){E(r,i);function r(){return i.apply(this,arguments)||this}a.SideEffectsService=r;var o=r.prototype;o.init=function t(){this.sideEffectsRegistry={oData:{entities:{},actions:{}},control:{}};this.recommendationRegistry={roles:{}};this.isInitialized=false;this.initPromise=Promise.resolve(this)};o.addControlSideEffects=function t(e,i){if(i.sourceControlId){const t={...i,fullyQualifiedName:`${e}/SideEffectsForControl/${i.sourceControlId}`};const r=this.sideEffectsRegistry.control[e]||{};r[t.sourceControlId]=t;this.sideEffectsRegistry.control[e]=r}};o.executeAction=function t(e,i,r){const o=i.getModel().bindContext(`${e}(...)`,i);return o.execute(r||i.getBinding().getUpdateGroupId())};o.getConvertedMetaModel=function t(){return y(this.getMetaModel(),this.capabilities)};o.getEntityTypeFromContext=function t(e){const i=e.getModel().getMetaModel(),r=i.getMetaPath(e.getPath()),o=i.getObject(r)["$Type"];return o};o.getODataEntitySideEffects=function t(e){return this.sideEffectsRegistry.oData.entities[e]||{}};o.getGlobalODataEntitySideEffects=function t(e){const i=this.getODataEntitySideEffects(e);const r=[];for(const t in i){const e=i[t];if(!e.sourceEntities&&!e.sourceProperties){r.push(e)}}return r};o.getODataActionSideEffects=function t(e,i){if(i){const t=this.getEntityTypeFromContext(i);if(t){var r;return(r=this.sideEffectsRegistry.oData.actions[t])===null||r===void 0?void 0:r[e]}}return undefined};o.initializeSideEffects=function t(e){this.capabilities=e;if(!this.isInitialized){const t={entities:{},properties:{}};const e=this.getConvertedMetaModel();e.entityTypes.forEach(e=>{this.mapFieldAnnotations(e);this.sideEffectsRegistry.oData.entities[e.fullyQualifiedName]=this.retrieveODataEntitySideEffects(e);this.sideEffectsRegistry.oData.actions[e.fullyQualifiedName]=this.retrieveODataActionsSideEffects(e);this.mapSideEffectSources(e,t)});this.sourcesToSideEffectMappings=t;this.isInitialized=true}};o.mapFieldAnnotations=function t(e){e.entityProperties.forEach(t=>{const i=t.annotations.Common;if(i!==null&&i!==void 0&&i.RecommendationRole){const r=i.RecommendationRole;if(r.valueOf().includes("Input")){if(!this.recommendationRegistry.roles.hasOwnProperty(`${e.name}`)){this.recommendationRegistry.roles[`${e.name}`]={input:[]}}this.recommendationRegistry.roles[`${e.name}`].input.push(t.name)}}})};o.getRecommendationsMapping=function t(){return this.recommendationRegistry};o.checkIfFieldIsRecommendationRelevant=function t(i){const r=i.getBindingContext();const o=i.data().sourcePath.split("/").pop();if(r){var n,s,a;const t=r===null||r===void 0?void 0:r.getModel().getMetaModel();const i=t===null||t===void 0?void 0:t.getMetaContext(r.getPath());const c=e.getInvolvedDataModelObjects(i).targetObject;const f=((n=c.entityType)===null||n===void 0?void 0:n.name)||((s=c.targetType)===null||s===void 0?void 0:s.name);const u=this.recommendationRegistry.roles[f];if(u!==null&&u!==void 0&&(a=u.input)!==null&&a!==void 0&&a.includes(o)){return true}}return false};o.removeControlSideEffects=function t(e){Object.keys(this.sideEffectsRegistry.control).forEach(t=>{if(this.sideEffectsRegistry.control[t][e]){delete this.sideEffectsRegistry.control[t][e]}})};o.requestSideEffects=function t(e,i,r){this.logRequest(e,i);return i.requestSideEffects(e,r)};o.requestSideEffectsForODataAction=function t(e,i){var r,o;let n;if((r=e.triggerActions)!==null&&r!==void 0&&r.length){n=e.triggerActions.map(t=>this.executeAction(t,i))}else{n=[]}if((o=e.pathExpressions)!==null&&o!==void 0&&o.length){n.push(this.requestSideEffects(e.pathExpressions,i))}return n.length?Promise.all(n):Promise.resolve([])};o.requestSideEffectsForNavigationProperty=function e(i,r,o){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const s=this.getEntityTypeFromContext(r);if(s){const e=`${i}/`;const a=this.getODataEntitySideEffects(s);let c=[];let f=[];let u=[];Object.keys(a).filter(t=>{var r;const o=a[t];return(o.sourceEntities||[]).some(t=>t.$NavigationPropertyPath===i)||((r=o.sourceProperties)===null||r===void 0?void 0:r.length)===1&&o.sourceProperties.some(t=>t.startsWith(e)&&!t.replace(e,"").includes("/"))}).forEach(t=>{const e=a[t];if(e.triggerAction&&!n){this.executeAction(e.triggerAction,r,o)}c=c.concat(e.targetProperties);f=f.concat(e.targetEntities)});const l=this.removeDuplicateTargets({targetProperties:c,targetEntities:f});u=[...l.targetProperties,...l.targetEntities];if(u.length){return this.requestSideEffects(u,r,o).catch(e=>t.error(`SideEffects - Error while processing SideEffects for Navigation Property ${i}`,e))}}return Promise.resolve()};o.getControlEntitySideEffects=function t(e){return this.sideEffectsRegistry.control[e]||{}};o.getSideEffectWhereEntityIsSource=function t(e){return this.sourcesToSideEffectMappings.entities[e]||[]};o.computeFieldGroupIds=function t(e,i){const r=this.getSideEffectWhereEntityIsSource(e).map(t=>this.getFieldGroupIdForSideEffect(t,true));return r.concat(this.getSideEffectWherePropertyIsSource(i).map(t=>this.getFieldGroupIdForSideEffect(t)))};o.getSideEffectWherePropertyIsSource=function t(e){return this.sourcesToSideEffectMappings.properties[e]||[]};o.addTextProperties=function t(e,i){const r=new Set(e.targetProperties);const o=new Set(e.targetEntities.map(t=>t.$NavigationPropertyPath));const n=e.targetProperties.reduce((t,e)=>t.concat(this.getDataModelPropertiesFromAPath(e,i)),[]);for(const t of n){const e=l(t.targetObject);if(e){const i=u(t,e);const n=f(i,true);const s=c(i,true);if(d(i.targetObject)&&!r.has(s)&&!r.has(`${n}${i.navigationProperties.length?"/":""}*`)&&!o.has(`${n}`)){if(t.targetEntitySet!==i.targetEntitySet&&i.navigationProperties&&i.targetEntityType){o.add(n)}else{r.add(s)}}}}return{targetProperties:Array.from(r),targetEntities:Array.from(o).map(t=>({$NavigationPropertyPath:t}))}};o.convertSideEffects=function t(e,i,r){const o=e.TriggerAction;const n=this.convertSideEffectsFormat(e);let s={targetProperties:n.targetProperties,targetEntities:n.targetEntities};s=this.removeBindingParameter(s,r);s=this.addTextProperties(s,i);s=this.removeDuplicateTargets(s);return{...n,...{targetEntities:s.targetEntities,targetProperties:s.targetProperties,triggerAction:o}}};o.convertSideEffectsFormat=function e(i){const r=e=>e?e.reduce((e,r)=>{const o=r.type&&r.value||r;if(o){e.push(o)}else{t.error(`SideEffects - Error while processing TargetProperties for SideEffects ${i.fullyQualifiedName}`)}return e},[]):e;const o=t=>t?t.map(t=>({$NavigationPropertyPath:t.value})):t;return{fullyQualifiedName:i.fullyQualifiedName,sourceProperties:r(i.SourceProperties),sourceEntities:o(i.SourceEntities),targetProperties:r(i.TargetProperties)??[],targetEntities:o(i.TargetEntities)??[]}};o.getDataModelPropertiesFromAPath=function t(e,i){let r=[];const o=this.getConvertedMetaModel();const n=o.entitySets.find(t=>t.entityType===i)||o.singletons.find(t=>t.entityType===i);if(n){const t=this.getMetaModel(),i=t.createBindingContext(`/${n.name}`);if(i){const t=h(i);const o=u(t,e.replace("*","")||"/"),n=o.targetObject;if(d(n)){if(p(n.targetType)){r=r.concat(n.targetType.properties.map(t=>u(o,t.name)))}else{r.push(o)}}else if(g(n)){r=r.concat(o.targetEntityType.entityProperties.map(t=>u(o,t.name)))}i.destroy()}}return r.filter(t=>t.targetObject)};o.getMetaModel=function t(){const e=this.getContext();const i=e.scopeObject;return i.getModel().getMetaModel()};o.getSideEffectsFromSource=function t(e){var i;let r="";const o=g(e);const n=o?e:e.sourceEntityType;const s=(i=e.annotations)===null||i===void 0?void 0:i.Common;if(n&&s){if(!o){var a;const t=(a=e.parameters)===null||a===void 0?void 0:a.find(t=>t.type===n.fullyQualifiedName);r=(t===null||t===void 0?void 0:t.fullyQualifiedName.split("/")[1])??""}return this.getSideEffectsAnnotationFromSource(e).map(t=>this.convertSideEffects(t,n,r))}return[]};o.getSideEffectsAnnotationFromSource=function t(e){var i;const r=[];const o=(i=e.annotations)===null||i===void 0?void 0:i.Common;for(const t in o){const e=o[t];if(this.isSideEffectsAnnotation(e)){r.push(e)}}return r};o.isSideEffectsAnnotation=function t(e){return(e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.Common.v1.SideEffectsType"};o.logRequest=function e(i,r){const o=i.reduce(function(t,e){return`${t}\n\t\t${e.$NavigationPropertyPath||e||""}`},"");t.debug(`SideEffects - Request:\n\tContext path : ${r.getPath()}\n\tProperty paths :${o}`)};o.removeBindingParameter=function t(e,i){if(i){const t=function(t){return t.replace(new RegExp(`^${i}/?`),"")};return{targetProperties:e.targetProperties.map(e=>t(e)),targetEntities:e.targetEntities.map(e=>({$NavigationPropertyPath:t(e.$NavigationPropertyPath)}))}}return{targetProperties:e.targetProperties,targetEntities:e.targetEntities}};o.removeDuplicateTargets=function t(e){const i=e.targetEntities.map(t=>t.$NavigationPropertyPath);const r=new Set(i);const o=new Set(e.targetProperties);const n=Array.from(r).map(t=>({$NavigationPropertyPath:t}));return{targetProperties:Array.from(o),targetEntities:n}};o.retrieveODataActionsSideEffects=function t(e){const i={};const r=e.actions;if(r){Object.keys(r).forEach(t=>{const r=e.actions[t];const o=new Set;let n=[];let s=[];this.getSideEffectsFromSource(r).forEach(t=>{const e=t.triggerAction;n=n.concat(t.targetProperties);s=s.concat(t.targetEntities);if(e){o.add(e)}});const a=this.removeDuplicateTargets({targetProperties:n,targetEntities:s});i[t]={pathExpressions:[...a.targetProperties,...a.targetEntities],triggerActions:Array.from(o)}})}return i};o.retrieveODataEntitySideEffects=function t(e){const i={};this.getSideEffectsFromSource(e).forEach(t=>{i[t.fullyQualifiedName]=t});return i};o.mapSideEffectSources=function t(e,i){for(const t of this.getSideEffectsAnnotationFromSource(e)){var r;for(const r of t.SourceEntities??[]){var o;const n=r.value?(o=r.$target)===null||o===void 0?void 0:o.targetType:e;if(n){if(!i.entities[n.fullyQualifiedName]){i.entities[n.fullyQualifiedName]=[]}i.entities[n.fullyQualifiedName].push({entity:e.fullyQualifiedName,qualifier:t.qualifier})}}const n=((r=t.SourceProperties)===null||r===void 0?void 0:r.length)===1;for(const r of t.SourceProperties??[]){if(r.$target){if(!i.properties[r.$target.fullyQualifiedName]){i.properties[r.$target.fullyQualifiedName]=[]}i.properties[r.$target.fullyQualifiedName].push({entity:e.fullyQualifiedName,qualifier:t.qualifier,hasUniqueSourceProperty:n})}}}};o.getFieldGroupIdForSideEffect=function t(e){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const r=e.qualifier?`${e.entity}#${e.qualifier}`:e.entity;return i||e.hasUniqueSourceProperty===true?`${r}$$ImmediateRequest`:r};o.getInterface=function t(){return this};return r}(o);a.SideEffectsService=v;let P=function(t){E(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;i.createInstance=function t(e){const i=new v(e);return i.initPromise};return e}(n);return P},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/TemplatedViewServiceFactory", ["sap/base/Log","sap/fe/core/TemplateModel","sap/fe/core/helpers/LoaderUtils","sap/fe/core/helpers/ModelHelper","sap/fe/core/manifestMerger/ChangePageConfiguration","sap/ui/Device","sap/ui/VersionInfo","sap/ui/core/Component","sap/ui/core/mvc/View","sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/model/json/JSONModel","../helpers/DynamicAnnotationPathHelper"],function(e,t,n,o,i,r,s,a,c,l,u,p,g,d){"use strict";var f=d.resolveDynamicExpression;var h=i.applyPageConfigurationChanges;var v=n.requireDependencies;function m(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}function C(e,t){C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return C(e,t)}let w=function(n){m(i,n);function i(){return n.apply(this,arguments)||this}var l=i.prototype;l.init=function e(){const t=[];const n=this.getContext();const o=n.scopeObject;const i=a.getOwnerComponentFor(o);const r=i.getMetaModel();this.pageId=i.getLocalId(o.getId());const c=`${i.getMetadata().getComponentName()}::${this.pageId}`;const l=o.getEnhanceI18n()||[];let u;this.oFactory=n.factory;if(l){u=i.getMetadata().getComponentName();for(let e=0;e<l.length;e++){const t=i.getModel(l[e]);if(t&&t.isA("sap.ui.model.resource.ResourceModel")){l[e]=t}else{l[e]=`${u}.${l[e].replace(".properties","")}`}}}const g=`${i.getMetadata().getName()}_${c}_${sap.ui.getCore().getConfiguration().getLanguageTag()}`;t.push(p.get("sap.fe.core.services.ResourceModelService").createInstance({scopeType:"component",scopeObject:o,settings:{bundles:["sap.fe.core.messagebundle","sap.fe.macros.messagebundle","sap.fe.templates.messagebundle"],enhanceI18n:l,modelName:"sap.fe.i18n"}}).then(e=>{this.oResourceModelService=e;return e.getResourceModel()}));t.push(p.get("sap.fe.core.services.CacheHandlerService").createInstance({settings:{metaModel:r,appComponent:i,component:o}}).then(e=>{this.oCacheHandlerService=e;return e.validateCacheKey(g,o)}));t.push(s.load().then(function(e){let t="";if(!e.libraries){t=sap.ui.buildinfo.buildtime}else{e.libraries.forEach(function(e){t+=e.buildTimestamp})}return t}).catch(function(){return"<NOVALUE>"}));this.initPromise=Promise.all(t).then(async e=>{const t=e[0];const n=e[1];const o=i.getSideEffectsService();const r=await i.getService("environmentCapabilities");o.initializeSideEffects(r.getCapabilities());const[s,a]=await v(["sap/fe/core/converters/TemplateConverter","sap/fe/core/converters/MetaModelConverter"]);return this.createView(t,c,n,s,a)}).then(function(e){const t=p.get("sap.fe.core.services.CacheHandlerService").getInstance(r);t.invalidateIfNeeded(e,g,o)})};l.refreshView=function t(n){const o=n.getRootControl();if(o){o.destroy()}else if(this.oView){this.oView.destroy()}return this.createView(this.resourceModel,this.stableId,"",this.TemplateConverter,this.MetaModelConverter).then(function(){n.oContainer.invalidate()}).catch(function(t){n.oContainer.invalidate();e.error(t)})};l.createView=async function n(i,s,l,u,p){this.resourceModel=i;this.stableId=s;this.TemplateConverter=u;this.MetaModelConverter=p;const d=this.getContext();const v=d.settings;const m=v.converterType;const C=d.scopeObject;const w=a.getOwnerComponentFor(C);const y=w.getRoutingService().getTargetInformationFor(C).options.settings.fullContextPath;const M=w.getMetaModel();const V=w.getManifest();const I=new g(r).setDefaultBindingMode("OneWay");const S=new g(V);const O=false;let x,D,N,P;function j(){const e=y.split("/");const t=e.reduce(function(e,t){if(t===""){return e}if(e===""){e=`/${t}`}else{const n=M.getObject(`${e}/$NavigationPropertyBinding/${t}`);if(n&&Object.keys(n).length>0){e+="/$NavigationPropertyBinding"}e+=`/${t}`}return e},"");let n=v.viewType||C.getViewType()||"XML";if(n!=="XML"){n=undefined}return{type:n,preprocessors:{xml:{bindingContexts:{entitySet:t?M.createBindingContext(t):null,fullContextPath:y?M.createBindingContext(y):null,contextPath:y?M.createBindingContext(y):null,converterContext:x.createBindingContext("/",undefined,{noResolve:true}),viewData:P?D.createBindingContext("/"):null},models:{entitySet:M,fullContextPath:M,contextPath:M,"sap.fe.i18n":i,metaModel:M,device:I,manifest:S,converterContext:x,viewData:D},appComponent:w},controls:{}},id:s,viewName:v.viewName||C.getViewName(),viewData:P,cache:{keys:[l],additionalData:{getAdditionalCacheData:()=>x.getData(),setAdditionalCacheData:e=>{x.setData(e)}}},models:{"sap.fe.i18n":i},height:"100%"}}const T=t=>{e.error(t.message,t);N.viewName=v.errorViewName||"sap.fe.core.services.view.TemplatingErrorPage";N.preprocessors.xml.models["error"]=new g(t);return C.runAsOwner(()=>c.create(N).then(e=>{this.oView=e;this.oView.setModel(new g(this.oView),"$view");C.setAggregation("rootControl",this.oView);return l}))};try{var $;const n=await w.getService("routingService");const a=n.getTargetInformationFor(C);const d=V["sap.app"]&&V["sap.app"].crossNavigation&&V["sap.app"].crossNavigation.outbounds||{};const v=C.getNavigation()||{};Object.keys(v).forEach(function(e){const t=v[e];let n;if(t.detail&&t.detail.outbound&&d[t.detail.outbound]){n=d[t.detail.outbound];t.detail.outboundDetail={semanticObject:n.semanticObject,action:n.action,parameters:n.parameters}}if(t.create&&t.create.outbound&&d[t.create.outbound]){n=d[t.create.outbound];t.create.outboundDetail={semanticObject:n.semanticObject,action:n.action,parameters:n.parameters}}});P={appComponent:w,navigation:v,viewLevel:a.viewLevel,stableId:s,contentDensities:($=V["sap.ui5"])===null||$===void 0?void 0:$.contentDensities,resourceModel:i,fullContextPath:y,isDesktop:r.system.desktop,isPhone:r.system.phone};if(C.getViewData){var E,F,R,B,L;Object.assign(P,C.getViewData());const e=(V===null||V===void 0?void 0:(E=V["sap.ui5"])===null||E===void 0?void 0:(F=E.routing)===null||F===void 0?void 0:(R=F.targets)===null||R===void 0?void 0:(B=R[this.pageId])===null||B===void 0?void 0:(L=B.options)===null||L===void 0?void 0:L.settings)||{};P=h(e,P,w,this.pageId)}P.isShareButtonVisibleForMyInbox=b.getShareButtonVisibilityForMyInbox(w);const I=w.getShellServices();P.converterType=m;P.shellContentDensity=I.getContentDensity();P.retrieveTextFromValueList=V["sap.fe"]&&V["sap.fe"].form?V["sap.fe"].form.retrieveTextFromValueList:undefined;D=new g(P);if(P.controlConfiguration){for(const e in P.controlConfiguration){if(e.includes("[")){const t=f(e,M);P.controlConfiguration[t]=P.controlConfiguration[e]}}}p.convertTypes(M,w.getEnvironmentCapabilities().getCapabilities());x=new t(()=>{try{const t=w.getDiagnostics();const n=t.getIssues().length;const o=u.convertPage(m,M,P,t,y,w.getEnvironmentCapabilities().getCapabilities(),C);const i=t.getIssues();const r=i.slice(n);if(r.length>0){e.warning("Some issues have been detected in your project, please check the UI5 support assistant rule for sap.fe.core")}return o}catch(t){e.error(t,t);return{}}},M);if(!O){N=j();C.setModel(x,"_pageModel");return C.runAsOwner(()=>c.create(N).catch(T).then(e=>{this.oView=e;const t=new g(this.oView);o.enhanceViewJSONModel(t);this.oView.setModel(t,"$view");this.oView.setModel(D,"viewData");C.setAggregation("rootControl",this.oView);return l}).catch(t=>e.error(t.message,t)))}}catch(t){e.error(t.message,t);throw new Error(`Error while creating view : ${t}`)}};l.getView=function e(){return this.oView};l.getInterface=function e(){return this};l.exit=function e(){if(this.oResourceModelService){this.oResourceModelService.destroy()}if(this.oCacheHandlerService){this.oCacheHandlerService.destroy()}this.oFactory.removeGlobalInstance()};return i}(l);let b=function(e){m(t,e);function t(){var t;for(var n=arguments.length,o=new Array(n),i=0;i<n;i++){o[i]=arguments[i]}t=e.call(this,...o)||this;t._oInstanceRegistry={};return t}var n=t.prototype;n.createInstance=function e(n){t.iCreatingViews++;const o=new w(Object.assign({factory:this},n));return o.initPromise.then(function(){t.iCreatingViews--;return o})};n.removeGlobalInstance=function e(){this._oInstanceRegistry={}};t.getShareButtonVisibilityForMyInbox=function e(t){const n=t.getComponentData();if(n!==undefined&&n.feEnvironment){return n.feEnvironment.getShareControlVisibility()}return undefined};t.getNumberOfViewsInCreationState=function e(){return t.iCreatingViews};return t}(u);return b},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/services/view/TemplatingErrorPage.controller", ["sap/fe/core/controllerextensions/InternalRouting","sap/fe/core/helpers/ClassSupport","sap/ui/core/mvc/Controller"],function(e,r,i){"use strict";var t,n,o,a,l;var u=r.usingExtension;var c=r.defineUI5Class;function s(e,r,i,t){if(!i)return;Object.defineProperty(e,r,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(t):void 0})}function f(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;b(e,r)}function b(e,r){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(r,i){r.__proto__=i;return r};return b(e,r)}function d(e,r,i,t,n){var o={};Object.keys(t).forEach(function(e){o[e]=t[e]});o.enumerable=!!o.enumerable;o.configurable=!!o.configurable;if("value"in o||o.initializer){o.writable=true}o=i.slice().reverse().reduce(function(i,t){return t(e,r,i)||i},o);if(n&&o.initializer!==void 0){o.value=o.initializer?o.initializer.call(n):void 0;o.initializer=undefined}if(o.initializer===void 0){Object.defineProperty(e,r,o);o=null}return o}function v(e,r){throw new Error("Decorating class property failed. Please ensure that "+"proposal-class-properties is enabled and runs after the decorators transform.")}let g=(t=c("sap.fe.core.services.view.TemplatingErrorPage"),n=u(e),t(o=(a=function(e){p(r,e);function r(){var r;for(var i=arguments.length,t=new Array(i),n=0;n<i;n++){t[n]=arguments[n]}r=e.call(this,...t)||this;s(r,"_routing",l,f(r));return r}return r}(i),l=d(a.prototype,"_routing",[n],{configurable:true,enumerable:true,writable:true,initializer:null}),a))||o);return g},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/support/CommonHelper", ["sap/fe/core/converters/helpers/IssueManager","sap/ui/support/library"],function(e,t){"use strict";var s={};var i=e.IssueSeverity;var r=e.IssueCategory;const o=t.Categories,n=t.Severity,a=t.Audiences;s.Categories=o;s.Audiences=a;s.Severity=n;const c=function(e){switch(e){case i.Low:return n.Low;case i.High:return n.High;case i.Medium:return n.Medium}};s.getSeverity=c;const u=function(e,t,s,i){const o=t.getComponents();let n;Object.keys(o).forEach(e=>{var t,s;const i=o[e];if((i===null||i===void 0?void 0:(t=i.getMetadata())===null||t===void 0?void 0:(s=t.getParent())===null||s===void 0?void 0:s.getName())==="sap.fe.core.AppComponent"){n=i}});if(n){const t=n.getDiagnostics().getIssuesByCategory(r[s],i);t.forEach(function(t){e.addIssue({severity:c(t.severity),details:t.details,context:{id:t.category}})})}};s.getIssueByCategory=u;return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/support/Diagnostics", [],function(){"use strict";let s=function(){function s(){this._issues=[]}var e=s.prototype;e.addIssue=function s(e,t,i,r,u){const n=this.checkIfIssueExists(e,t,i,r,u);if(!n){this._issues.push({category:e,severity:t,details:i,subCategory:u})}};e.getIssues=function s(){return this._issues};e.getIssuesByCategory=function s(e,t){if(t){return this._issues.filter(s=>s.category===e&&s.subCategory===t)}else{return this._issues.filter(s=>s.category===e)}};e.checkIfIssueExists=function s(e,t,i,r,u){if(r&&r[e]&&u){return this._issues.some(s=>s.category===e&&s.severity===t&&s.details.replace(/\n/g,"")===i.replace(/\n/g,"")&&s.subCategory===u)}return this._issues.some(s=>s.category===e&&s.severity===t&&s.details.replace(/\n/g,"")===i.replace(/\n/g,""))};return s}();return s},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/ActionHelper", ["sap/fe/core/helpers/BindingToolkit","../converters/MetaModelConverter","../helpers/BindingHelper","./FieldControlHelper"],function(e,t,n,r){"use strict";var o={};var i=r.isActionParameterRequiredExpression;var s=n.bindingContextPathVisitor;var a=t.convertTypes;var c=e.getExpressionFromAnnotation;var l=e.equal;var u=e.compileExpression;function d(e,t){var n,r;const o=e.isBound?(n=e.parameters[0])===null||n===void 0?void 0:n.fullyQualifiedName:undefined;const i=c((r=e.annotations.Common)===null||r===void 0?void 0:r.IsActionCritical,[],undefined,e=>s(e,t,o));return l(i,true)}o.getIsActionCriticalExpression=d;const v=function(e){const t=e.getInterface(0).getPath();const n=e.getInterface(1).getPath();const r=e.getInterface(0).getModel();if(t&&n&&r){const e=a(r);const o=e.resolvePath(t);const s=o.target;const c=e.resolvePath(n);const l=c.target;if(s&&l){return u(i(s,l,e))}}};v.requiresIContext=true;o.isActionParameterRequired=v;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/CommonFormatters", ["sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters","../converters/helpers/DataFieldHelper"],function(t,e,a,n,r,o){"use strict";var i={};var s=o.isReferencePropertyStaticallyHidden;var c=n.getRelativePaths;var l=n.getContextRelativeTargetObjectPath;var p=n.enhanceDataModelPath;var d=a.isPathAnnotationExpression;var v=e.pathInModel;var u=e.getExpressionFromAnnotation;var g=e.formatWithTypeInformation;var f=e.formatResult;var h=e.compileExpression;const m=function(t){return h(t)};i.getExpressionBinding=m;const b=function(e,a,n,o){var i,s;const l=n===null||n===void 0?void 0:n.displayMode;let p=a;const d=e.targetObject.type==="PropertyPath"?e.targetObject.$target:e.targetObject;const v=l||r.getDisplayMode(e);const h=(i=d.annotations)===null||i===void 0?void 0:(s=i.Common)===null||s===void 0?void 0:s.Text;const m=c(e);const b=o||t.formatWithBrackets;a=g(d,a);if(v!=="Value"&&h){switch(v){case"Description":p=u(h,m);break;case"DescriptionValue":p=f([u(h,m),a],b);break;case"ValueDescription":p=f([a,u(h,m)],b);break}}return p};i.getBindingWithTextArrangement=b;const D=function(t,e){let a=t;if(d(t===null||t===void 0?void 0:t.targetObject)){var n;a=p(t,(n=t.targetObject)===null||n===void 0?void 0:n.path)}const r=a.targetObject;let o=v(l(a));o=g(r,o,true);const i=b(a,o,{},e);return r.annotations.UI&&!s(r.annotations.UI.DataFieldDefault)&&h(i)||undefined};i.getBindingWithText=D;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/CriticalityFormatters", ["sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper"],function(i,t){"use strict";var e={};var r=t.getRelativePaths;var o=i.or;var n=i.ifElse;var a=i.getExpressionFromAnnotation;var c=i.equal;var l=i.constant;var s=i.compileExpression;const y={error:"Error",critical:"Critical",good:"Good",neutral:"Neutral"};const p=(i,t)=>{const e=i.targetObject?i.targetObject:i;const y=e===null||e===void 0?void 0:e.Criticality;const p=t?r(t):undefined;const u=a(y,p);let d;if(y){d=n(o(c(u,l("UI.CriticalityType/Negative")),c(u,l(1)),c(u,l("1"))),l("Error"),n(o(c(u,l("UI.CriticalityType/Critical")),c(u,l(2)),c(u,l("2"))),l("Warning"),n(o(c(u,l("UI.CriticalityType/Positive")),c(u,l(3)),c(u,l("3"))),l("Success"),n(o(c(u,l("UI.CriticalityType/Information")),c(u,l(5)),c(u,l("5"))),l("Information"),l("None")))))}else{d=l("None")}return s(d)};e.buildExpressionForCriticalityColor=p;const u=(i,t)=>{const e=i!==null&&i!==void 0&&i.targetObject?i.targetObject:i;const y=e===null||e===void 0?void 0:e.Criticality;const p=t?r(t):undefined;const u=a(y,p);const d=(e===null||e===void 0?void 0:e.CriticalityRepresentation)&&(e===null||e===void 0?void 0:e.CriticalityRepresentation)==="UI.CriticalityRepresentationType/WithoutIcon";let v;if(!d){if(y){v=n(o(c(u,l("UI.CriticalityType/Negative")),c(u,l(1)),c(u,l("1"))),l("sap-icon://message-error"),n(o(c(u,l("UI.CriticalityType/Critical")),c(u,l(2)),c(u,l("2"))),l("sap-icon://message-warning"),n(o(c(u,l("UI.CriticalityType/Positive")),c(u,l(3)),c(u,l("3"))),l("sap-icon://message-success"),n(o(c(u,l("UI.CriticalityType/Information")),c(u,l(5)),c(u,l("5"))),l("sap-icon://message-information"),l("")))))}else{v=l("")}}else{v=l("")}return s(v)};e.buildExpressionForCriticalityIcon=u;const d=i=>{const t=i!==null&&i!==void 0&&i.targetObject?i.targetObject:i;const e=t===null||t===void 0?void 0:t.Criticality;const r=a(e);let y;if(e){y=n(o(c(r,l("UI.CriticalityType/Negative")),c(r,l(1)),c(r,l("1"))),l("Reject"),n(o(c(r,l("UI.CriticalityType/Positive")),c(r,l(3)),c(r,l("3"))),l("Accept"),l("Default")))}else{y=l("Ghost")}return s(y)};e.buildExpressionForCriticalityButtonType=d;const v=i=>{const t=i!==null&&i!==void 0&&i.targetObject?i.targetObject:i;const e=C(t);return s(e)};e.buildExpressionForCriticalityColorMicroChart=v;const C=function(i){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:y;const e=i===null||i===void 0?void 0:i.Criticality;const r=a(e);let s;if(e){s=n(o(c(r,l("UI.CriticalityType/Negative")),c(r,l(1)),c(r,l("1"))),l(t.error),n(o(c(r,l("UI.CriticalityType/Critical")),c(r,l(2)),c(r,l("2"))),l(t.critical),n(o(c(r,l("UI.CriticalityType/Positive")),c(r,l(3)),c(r,l("3"))),l(t.good),l(t.neutral))))}else{s=l(t.neutral)}return s};e.buildExpressionForCriticality=C;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/DataFieldFormatters", ["sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/UIFormatters"],function(t,e,a,o,n){"use strict";var r={};var i=n.isVisible;var s=n.getConverterContext;var c=o.enhanceDataModelPath;var l=a.or;var d=a.not;var v=a.ifElse;var p=a.equal;var u=a.constant;var f=a.concat;var h=a.compileExpression;var g=a.and;var b=e.UI;var y=t.getInvolvedDataModelObjects;const $=function(t,e){const a=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${a}`)}let o=false;if(typeof t==="object"&&(t.hasOwnProperty("$Path")||t.hasOwnProperty("$AnnotationPath"))){o=true}else if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a DataField object but to a ${t.$kind}`)}let n=s(t,e);if(o){n=n.$target}return n};r.getDataField=$;const m=function(t,e){const a=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${a}`)}if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a Property object but to a ${t.$kind}`)}let o=y(e.context);if(o.targetObject&&o.targetObject.type==="Path"){o=c(o,o.targetObject.path)}if(o.targetObject&&o.targetObject.type==="AnnotationPath"){o=c(o,o.targetObject)}if(a.endsWith("$Path")||a.endsWith("$AnnotationPath")){o=c(o,t)}return o};r.getDataFieldObjectPath=m;const P=function(t,e){const a=$(t,e);return a.$Type==="com.sap.vocabularies.UI.v1.ConnectedFieldsType"};r.isSemanticallyConnectedFields=P;const F=/(?:({[^}]+})[^{]*)/g;const D=/{([^}]+)}(.*)/;const I=function(t,e){let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const o=t.targetObject;const n=o.Template.toString().match(F);if(!n){return""}const r=n.reduce((a,n)=>{const r=n.match(D);if(r&&r.length>1){const n=r[1];const i=o.Data[n];if(i){const o=c(t,i.fullyQualifiedName.replace(t.targetEntityType.fullyQualifiedName,""));o.targetObject=o.targetObject.Value;a.push(e(o,{}));if(r.length>2){a.push(u(r[2]))}}}return a},[]);return a?h(f(...r)):f(...r)};r.getLabelForConnectedFields=I;const j=function(t,e){var a,o;let n;if(t){switch(t.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataPointType":n=t.Value.$target;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if((t===null||t===void 0?void 0:(a=t.Target)===null||a===void 0?void 0:(o=a.$target)===null||o===void 0?void 0:o.$Type)==="com.sap.vocabularies.UI.v1.DataPointType"){var r;n=(r=t.Target.$target)===null||r===void 0?void 0:r.Value.$target;break}case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldForAction":default:n=undefined}}const s=e!==null&&e!==void 0&&e.isAnalytics?b.IsExpanded:u(false);const c=e!==null&&e!==void 0&&e.isAnalytics?p(b.NodeLevel,0):u(false);return g(...[i(t),v(!!n,n&&i(n),true),l(d(s),c)])};r.generateVisibleExpression=j;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/DataModelPathHelper", ["sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards"],function(t,e){"use strict";var n={};var i=e.isProperty;var r=e.isPathAnnotationExpression;var o=e.isNavigationProperty;var a=e.isMultipleNavigationProperty;var l=e.isEntityType;var s=e.isEntitySet;var c=e.isComplexType;var u=t.unresolvableExpression;var v=t.getExpressionFromAnnotation;var g=t.equal;var d=t.constant;const f=function(t){return p(t===null||t===void 0?void 0:t.contextLocation,t===null||t===void 0?void 0:t.navigationProperties).map(t=>t.name)};n.getRelativePaths=f;const p=function(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];const n=t=>{let e=0;while(t.length>1&&e!=t.length-1){const n=t[e];const i=t[e+1];if(o(n)&&n.partner===i.name){t.splice(0,2)}else{e++}}return t};const i=(t,e,n)=>{const i=[];t.forEach((t,r)=>{if(e[r]!==t){i.push(n?t:e[r])}});return i};if(!t){return e}if(e.length>=t.navigationProperties.length){let r=i(t.navigationProperties,e,false);r=r.concat(e.slice(t.navigationProperties.length));return n(r)}let r=i(e,t.navigationProperties,true);r=r.concat(t.navigationProperties.slice(e.length));n(r);r=r.map(t=>o(t)?t.targetType.navigationProperties.find(e=>e.name===t.partner):t);return r};n.getPathRelativeLocation=p;const y=function(t,e){let n="";if(r(e)){n=e.path}else if(typeof e==="string"){n=e}let i;if(r(e)){i=e.$target}else if(P(t)){var o;i=(o=t.convertedTypes.resolvePath(`${j(t)}/${n}`))===null||o===void 0?void 0:o.target}else{if(n.startsWith("/")){n=n.substring(1)}i=t.targetEntityType.resolvePath(n)}const a=n.split("/");let l=t;for(const t of a){l=h(l,t)}l.targetObject=i;return l};n.enhanceDataModelPath=y;const h=function(t,e){let n;let i;const r=t.navigationProperties.concat();const o=r.length;const a=o?r[o-1].targetType:t.targetEntityType;if(!a){return t}else if(l(a)||c(a)){const o=t.targetEntitySet;const l=a.navigationProperties.find(t=>t.name===e);if(l){r.push(l);i=l.targetType;const t=b(r);if(t&&o!==null&&o!==void 0&&o.navigationPropertyBinding.hasOwnProperty(t)){n=o.navigationPropertyBinding[t]}}else{const t=(a.entityProperties||a.properties).find(t=>t.name===e);if(t!==null&&t!==void 0&&t.targetType){r.push(t)}}}return{startingEntitySet:t.startingEntitySet,navigationProperties:r,contextLocation:t.contextLocation,targetEntitySet:n??t.targetEntitySet,targetEntityType:i??t.targetEntityType,targetObject:t.targetObject,convertedTypes:t.convertedTypes}};const P=function(t){return t.navigationProperties.find(t=>c(t===null||t===void 0?void 0:t.targetType))!==undefined};const b=function(t){const e=t.length;if(e){const n=t[e-1];const i=c(n.targetType);let r="";if(e>1&&!i){for(let n=0;n<e-1;n++){const e=t[n];if(c(e.targetType)){r+=`${e.name}/`}else{r=""}}}return i?"":`${r}${n.name}`}return""};const O=function(t){const e=`/${t.startingEntitySet.name}`;let n=e;let i=t.startingEntitySet;const r=t.navigationProperties;let o;for(let t=0;t<r.length;t++){o=b(r.slice(0,t+1));if(i&&i.navigationPropertyBinding.hasOwnProperty(o)){n+=`/$NavigationPropertyBinding/${o.replace("/","%2F")}`;i=i.navigationPropertyBinding[o]}}n+="/$";return n};n.getTargetEntitySetPath=O;const j=function(t){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let n="";if(!t.startingEntitySet){return"/"}if(!e){n+=`/${t.startingEntitySet.name}`}if(t.navigationProperties.length>0){n=F(n);n+=t.navigationProperties.map(t=>t.name).join("/")}return n};n.getTargetNavigationPath=j;const E=function(t){var e,n;let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let r=j(t,i);if((e=t.targetObject)!==null&&e!==void 0&&e.name&&!o(t.targetObject)&&!l(t.targetObject)&&!s(t.targetObject)&&!c((n=t.targetObject)===null||n===void 0?void 0:n.targetType)&&t.targetObject!==t.startingEntitySet){r=F(r);r+=`${t.targetObject.name}`}else if(t.targetObject&&t.targetObject.hasOwnProperty("term")){r=F(r);r+=`@${t.targetObject.term}`;if(t.targetObject.hasOwnProperty("qualifier")&&!!t.targetObject.qualifier){r+=`#${t.targetObject.qualifier}`}}return r};n.getTargetObjectPath=E;const m=function(t){var e;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(((e=t.contextLocation)===null||e===void 0?void 0:e.startingEntitySet)!==t.startingEntitySet){return E(t)}return T(t,n,i)};n.getContextRelativeTargetObjectPath=m;const T=function(t){var e;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!t.targetObject){return undefined}const r=p(t.contextLocation,t.navigationProperties);if(n){if(r.some(a)){return undefined}}let u=i?r.map(t=>{const e=a(t);return e?`${t.name}*`:t.name}).join("/"):r.map(t=>t.name).join("/");if((t.targetObject.name||t.targetObject.type==="PropertyPath"&&t.targetObject.value)&&!o(t.targetObject)&&!l(t.targetObject)&&!s(t.targetObject)&&!c((e=t.targetObject)===null||e===void 0?void 0:e.targetType)&&t.targetObject!==t.startingEntitySet){u=F(u);u+=t.targetObject.type==="PropertyPath"?`${t.targetObject.value}`:`${t.targetObject.name}`}else if(t.targetObject.hasOwnProperty("term")){u=F(u);u+=`@${t.targetObject.term}`;if(t.targetObject.hasOwnProperty("qualifier")&&!!t.targetObject.qualifier){u+=`#${t.targetObject.qualifier}`}}return u};const S=function(t,e){var n,i,r,o;let a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;const l=a?t.contextLocation:t;const s=l===null||l===void 0?void 0:(n=l.navigationProperties)===null||n===void 0?void 0:n.slice(-1)[0];const c=e(s===null||s===void 0?void 0:(i=s.annotations)===null||i===void 0?void 0:i.Capabilities);return c!==null&&c!==void 0&&c.length?c:e(l===null||l===void 0?void 0:(r=l.targetEntitySet)===null||r===void 0?void 0:(o=r.annotations)===null||o===void 0?void 0:o.Capabilities)||[]};n.getContextPropertyRestriction=S;const $=function(t,e){return q(t,t=>{var e;return t===null||t===void 0?void 0:(e=t.UpdateRestrictions)===null||e===void 0?void 0:e.Updatable},e)};n.isPathUpdatable=$;const x=function(t,e){return q(t,t=>{var e;return t===null||t===void 0?void 0:(e=t.SearchRestrictions)===null||e===void 0?void 0:e.Searchable},e)};n.isPathSearchable=x;const R=function(t,e){return q(t,t=>{var e;return t===null||t===void 0?void 0:(e=t.DeleteRestrictions)===null||e===void 0?void 0:e.Deletable},e)};n.isPathDeletable=R;const N=function(t,e){return q(t,t=>{var e;return t===null||t===void 0?void 0:(e=t.InsertRestrictions)===null||e===void 0?void 0:e.Insertable},e)};n.isPathInsertable=N;const w=function(t,e){return q(t,n=>{if(n&&"FilterRestrictions"in n){var i;const o=(n===null||n===void 0?void 0:(i=n.FilterRestrictions)===null||i===void 0?void 0:i.FilterExpressionRestrictions)||[];const a=o.find(e=>e.Property.$target===t.targetObject);if(a){var r;return e.includes(a===null||a===void 0?void 0:(r=a.AllowedExpressions)===null||r===void 0?void 0:r.toString())}else{return false}}else{return false}})};n.checkFilterExpressionRestrictions=w;const C=t=>{let e=false;let n=[];let r=t.startingEntitySet;let o=null;let a=r;let l="";for(const s of t.navigationProperties){if(e){n=[]}n.push(s.name);l=n.join("/");if(i(s)||!s.containsTarget){if(r&&r.navigationPropertyBinding.hasOwnProperty(l)){o=r;r=r.navigationPropertyBinding[l];a=r;e=true}else{o=r;r=null;e=true}}else{o=r;a=null}}return{parentEntitySet:o,targetEntitySet:a,parentNavigationPath:l}};n.getTargetEntitySetInfo=C;const B=(t,e,n)=>{const i=t.navigationProperties;const{parentEntitySet:r,parentNavigationPath:o}=C(t);let a,l;if(r!==null){var s,c,u;const d=r;(s=d.annotations)===null||s===void 0?void 0:(c=s.Capabilities)===null||c===void 0?void 0:(u=c.NavigationRestrictions)===null||u===void 0?void 0:u.RestrictedProperties.forEach(r=>{var s;if(((s=r.NavigationProperty)===null||s===void 0?void 0:s.type)==="NavigationPropertyPath"){const s=e(r);if(o===r.NavigationProperty.value&&s!==undefined){const e=i.slice(0,-1);l=e;const r=p(t===null||t===void 0?void 0:t.contextLocation,l).map(t=>t.name);const o=n!==null&&n!==void 0&&n.pathVisitor?D(n.pathVisitor,r):undefined;a=g(v(s,r,undefined,o),true)}}})}return a};const L=(t,e,n)=>{var i;const r=t.targetEntityType;let o;const{targetEntitySet:a}=C(t);let l=e(a===null||a===void 0?void 0:(i=a.annotations)===null||i===void 0?void 0:i.Capabilities);if(a===null&&l===undefined){var s;l=e(r===null||r===void 0?void 0:(s=r.annotations)===null||s===void 0?void 0:s.Capabilities)}if(l!==undefined){const e=f(t);const i=n!==null&&n!==void 0&&n.pathVisitor?D(n.pathVisitor,e):undefined;o=g(v(l,e,undefined,i),true)}return o};const q=function(t,e,n){if(!t||!t.startingEntitySet){return d(true)}t=y(t,n===null||n===void 0?void 0:n.propertyPath);const i=B(t,e,n);const r=n!==null&&n!==void 0&&n.ignoreTargetCollection?undefined:L(t,e,n);return i||r||(n!==null&&n!==void 0&&n.authorizeUnresolvable?u:d(true))};n.checkOnPath=q;const F=function(t){if(t.length&&!t.endsWith("/")){return`${t}/`}return t};const D=function(t,e){return function(n){return t(n,e)}};return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/DisplayModeFormatter", ["sap/fe/core/helpers/TypeGuards"],function(e){"use strict";var t={};var a=e.isPropertyPathExpression;var o=e.isPathAnnotationExpression;const i={"sap.ui.model.odata.type.Boolean":"Edm.Boolean","sap.ui.model.odata.type.Byte":"Edm.Byte","sap.ui.model.odata.type.Date":"Edm.Date","sap.ui.model.odata.type.DateTimeOffset":"Edm.DateTimeOffset","sap.ui.model.odata.type.Decimal":"Edm.Decimal","sap.ui.model.odata.type.Double":"Edm.Double","sap.ui.model.odata.type.Guid":"Edm.Guid","sap.ui.model.odata.type.Int16":"Edm.Int16","sap.ui.model.odata.type.Int32":"Edm.Int32","sap.ui.model.odata.type.Int64":"Edm.Int64","sap.ui.model.odata.type.SByte":"Edm.SByte","sap.ui.model.odata.type.Single":"Edm.Single","sap.ui.model.odata.type.Stream":"Edm.Stream","sap.ui.model.odata.type.TimeOfDay":"Edm.TimeOfDay","sap.ui.model.odata.type.String":"Edm.String"};t.ODATA_TYPE_MAPPING=i;const n=function(e,t){var i,n,d,l,s,p,u,m,r,y,v;if(!e||typeof e==="string"){return"Value"}const T=(o(e)||a(e))&&e.$target||e;const E=t&&t.targetEntityType;const f=(i=T.annotations)===null||i===void 0?void 0:(n=i.Common)===null||n===void 0?void 0:n.Text;const g=typeof f!=="string"&&(f===null||f===void 0?void 0:(d=f.annotations)===null||d===void 0?void 0:(l=d.UI)===null||l===void 0?void 0:(s=l.TextArrangement)===null||s===void 0?void 0:s.toString())||(E===null||E===void 0?void 0:(p=E.annotations)===null||p===void 0?void 0:(u=p.UI)===null||u===void 0?void 0:(m=u.TextArrangement)===null||m===void 0?void 0:m.toString());let c=f?"DescriptionValue":"Value";if(f&&g||E!==null&&E!==void 0&&(r=E.annotations)!==null&&r!==void 0&&(y=r.UI)!==null&&y!==void 0&&(v=y.TextArrangement)!==null&&v!==void 0&&v.toString()){if(g==="UI.TextArrangementType/TextOnly"){c="Description"}else if(g==="UI.TextArrangementType/TextLast"){c="ValueDescription"}else if(g==="UI.TextArrangementType/TextSeparate"){c="Value"}else{c="DescriptionValue"}}return c};t.getDisplayMode=n;return t},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/EntitySetHelper", ["sap/fe/core/helpers/TypeGuards"],function(i){"use strict";var o={};var e=i.isEntitySet;const t=function(i){var o,t,n;let r=[];if(e(i)){var a,l;if(((a=i.annotations.Capabilities)===null||a===void 0?void 0:(l=a.SortRestrictions)===null||l===void 0?void 0:l.Sortable)===false){r.push(...i.entityType.entityProperties.map(i=>i.name))}else{var s,v,d;r=((s=i.annotations.Capabilities)===null||s===void 0?void 0:(v=s.SortRestrictions)===null||v===void 0?void 0:(d=v.NonSortableProperties)===null||d===void 0?void 0:d.map(i=>i.value))||[]}}else{return[]}(o=i.annotations.Capabilities)===null||o===void 0?void 0:(t=o.NavigationRestrictions)===null||t===void 0?void 0:(n=t.RestrictedProperties)===null||n===void 0?void 0:n.forEach(o=>{var e;if((o===null||o===void 0?void 0:(e=o.SortRestrictions)===null||e===void 0?void 0:e.Sortable)===false){var t;const e=i.entityType.navigationProperties.by_name(o===null||o===void 0?void 0:(t=o.NavigationProperty)===null||t===void 0?void 0:t.value);if(e){r.push(...e.targetType.entityProperties.map(i=>`${e.name}/${i.name}`))}}else{var n,a;const i=o===null||o===void 0?void 0:(n=o.SortRestrictions)===null||n===void 0?void 0:(a=n.NonSortableProperties)===null||a===void 0?void 0:a.map(i=>i.value);if(i){r.push(...i)}}});return r};o.getNonSortablePropertiesRestrictions=t;return o},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/EntityTypeHelper", ["sap/base/Log","sap/fe/core/helpers/BindingToolkit"],function(o,n){"use strict";var e={};var i=n.pathInModel;var a=n.getExpressionFromAnnotation;var t=n.concat;const l=n=>{var e,l,r,d,s,v,u,c;const p=(e=n.annotations)===null||e===void 0?void 0:(l=e.UI)===null||l===void 0?void 0:(r=l.HeaderInfo)===null||r===void 0?void 0:r.Title;if(p){switch(p.$Type){case"com.sap.vocabularies.UI.v1.DataField":return a(p.Value);case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":o.error("DataFieldForAnnotation with connected fields not supported for HeaderInfo.Title");return a((d=n.annotations)===null||d===void 0?void 0:(s=d.UI)===null||s===void 0?void 0:(v=s.HeaderInfo)===null||v===void 0?void 0:v.TypeName)}}const f=(u=n.annotations)===null||u===void 0?void 0:(c=u.Common)===null||c===void 0?void 0:c.SemanticKey;if(f){return t(...f.map(o=>i(o.value)))}};e.getTitleExpression=l;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/FieldControlHelper", ["sap/fe/core/helpers/BindingToolkit","../converters/annotations/DataField","../helpers/BindingHelper","../helpers/TypeGuards"],function(o,n,i,t){"use strict";var l={};var d=t.isProperty;var r=i.bindingContextPathVisitor;var e=n.isDataFieldForAnnotation;var a=n.isDataField;var v=o.or;var s=o.isConstant;var u=o.getExpressionFromAnnotation;var m=o.equal;const C=function(o,n){var i,t;const l=u(o===null||o===void 0?void 0:(i=o.annotations)===null||i===void 0?void 0:(t=i.Common)===null||t===void 0?void 0:t.FieldControl,n);if(!s(l)){return v(m(l,1),m(l,"1"))}else{return m(l,"Common.FieldControlType/ReadOnly")}};l.isReadOnlyExpression=C;const c=function(o,n){var i,t;const l=u(o===null||o===void 0?void 0:(i=o.annotations)===null||i===void 0?void 0:(t=i.Common)===null||t===void 0?void 0:t.FieldControl,n);if(!s(l)){return v(m(l,0),m(l,"0"))}else{return m(l,"Common.FieldControlType/Inapplicable")}};l.isDisabledExpression=c;const p=function(o,n){return v(C(o,n),c(o,n))};l.isNonEditableExpression=p;const f=function(o){var n,i;const t=(n=o.annotations)===null||n===void 0?void 0:(i=n.Common)===null||i===void 0?void 0:i.FieldControl;return t&&t.toString()!=="Common.FieldControlType/Mandatory"?true:false};l.hasFieldControlNotMandatory=f;function y(o){var n,i,t,l,r,v,s;const u=(n=o.annotations)===null||n===void 0?void 0:(i=n.Common)===null||i===void 0?void 0:i.FieldControl;if(d(o)||e(o)){return(u===null||u===void 0?void 0:u.toString())==="Common.FieldControlType/Mandatory"}if(a(o)){if((u===null||u===void 0?void 0:u.toString())==="Common.FieldControlType/Mandatory"){return true}if((u===null||u===void 0?void 0:u.toString())!==undefined){return false}else{var m,C,c,p,f;return(o===null||o===void 0?void 0:(m=o.Value)===null||m===void 0?void 0:(C=m.$target)===null||C===void 0?void 0:(c=C.annotations)===null||c===void 0?void 0:(p=c.Common)===null||p===void 0?void 0:(f=p.FieldControl)===null||f===void 0?void 0:f.toString())==="Common.FieldControlType/Mandatory"}}return(o===null||o===void 0?void 0:(t=o.Value)===null||t===void 0?void 0:(l=t.$target)===null||l===void 0?void 0:(r=l.annotations)===null||r===void 0?void 0:(v=r.Common)===null||v===void 0?void 0:(s=v.FieldControl)===null||s===void 0?void 0:s.toString())==="Common.FieldControlType/Mandatory"}l.isStaticallyMandatory=y;const F=function(o,n){var i,t;const l=(i=o.annotations)===null||i===void 0?void 0:(t=i.Common)===null||t===void 0?void 0:t.FieldControl;const d=u(l,n);return T(d)};l.isRequiredExpression=F;const g=function(o,n,i){var t,l,d;const e=n.isBound?(t=n.parameters[0])===null||t===void 0?void 0:t.fullyQualifiedName:undefined;const a=(l=o.annotations)===null||l===void 0?void 0:(d=l.Common)===null||d===void 0?void 0:d.FieldControl;const v=u(a,[],undefined,o=>r(o,i,e));return T(v)};l.isActionParameterRequiredExpression=g;const T=o=>v(s(o)&&m(o,"Common.FieldControlType/Mandatory"),m(o,7),m(o,"7"));return l},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/FilterHelper", ["sap/base/Log","sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/PropertyHelper","sap/fe/core/type/EDM","sap/ui/mdc/condition/Condition","sap/ui/mdc/enums/ConditionValidated"],function(e,t,n,o,i,a){"use strict";var r={};var s=o.isTypeFilterable;var d=n.hasValueHelp;var l=t.getInvolvedDataModelObjects;const c={Contains:"NotContains",StartsWith:"NotStartsWith",EndsWith:"NotEndsWith",Empty:"NotEmpty",NotEmpty:"Empty",LE:"NOTLE",GE:"NOTGE",LT:"NOTLT",GT:"NOTGT",BT:"NOTBT",NE:"EQ",EQ:"NE"};function u(e){let t;if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,4})/)){t=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,4})/)[0]}else if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)){t=`${e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)[0]}+0000`}else if(e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)){t=`${e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]}T00:00:00+0000`}else if(e.indexOf("Z")===e.length-1){t=`${e.split("Z")[0]}+0100`}else{t=undefined}return t}r._getDateTimeOffsetCompliantValue=u;function f(e){return e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)?e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]:e.match(/^(\d{8})/)&&e.match(/^(\d{8})/)[0]}r._getDateCompliantValue=f;function p(e,t,n){var o;if(!s(t)||!n){return undefined}if(e===undefined||e===null){return e}let i=e;switch(t){case"Edm.Boolean":if(typeof e==="boolean"){i=e}else{i=e==="true"||(e==="false"?false:undefined)}break;case"Edm.Double":case"Edm.Single":if(e===""&&n==="EQ"){break}const t=Number(e);i=isNaN(t)?undefined:parseFloat(e.toString());break;case"Edm.Byte":case"Edm.Int16":case"Edm.Int32":case"Edm.SByte":if(i===""&&n==="EQ"){break}const a=Number(e);i=isNaN(a)?undefined:parseInt(e.toString(),10);break;case"Edm.Date":i=f(e);break;case"Edm.DateTimeOffset":i=u(e);break;case"Edm.TimeOfDay":i=e.toString().match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)?(o=e.toString().match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/))===null||o===void 0?void 0:o[0]:undefined;break;default:}return i===null?undefined:i}r.getTypeCompliantValue=p;function m(t,n,o,i){let a=n,r,s;if(n===undefined||n===null){return undefined}switch(t){case"CP":s="Contains";if(a){const t=a.indexOf("*");const n=a.lastIndexOf("*");if(t>-1){if(t===0&&n!==a.length-1){s="EndsWith";a=a.substring(1,a.length)}else if(t!==0&&n===a.length-1){s="StartsWith";a=a.substring(0,a.length-1)}else{a=a.substring(1,a.length-1)}}else{e.warning("Contains Option cannot be used without '*'.");return undefined}}break;case"EQ":s=n===""?"Empty":t;break;case"NE":s=n===""?"NotEmpty":t;break;case"BT":if(o===undefined||o===null){return}r=o;s=t;break;case"LE":case"GE":case"GT":case"LT":s=t;break;default:e.warning(`Selection Option is not supported : '${t}'`);return undefined}if(i==="E"){s=c[s]}const d={values:[],isEmpty:null,operator:s};if(s!=="Empty"){d.values.push(a);if(r){d.values.push(r)}}return d}r.resolveConditionValues=m;function g(e){return e.indexOf("/")>0?e.split("/")[1]:e}r.getRangeProperty=g;function E(e,t,n,o){const i=[];const a=d(t);e===null||e===void 0?void 0:e.forEach(e=>{const r=o?o(e,t,n):b(e,t.type,a);if(r){i.push(r)}});return i}function h(e,t,n){const o=t.getMetaContext(`${n}/${e}`),i=l(o);return i.targetObject}function v(e,t,n,o){const i=e.PropertyName,a={},r=i.value||i.$PropertyPath,s=e.Ranges;const d=h(r,t,n);if(d){const e=E(s,d,r,o);if(e.length){a[r]=(a[r]||[]).concat(e)}}return a}function y(e,t,n,o){let i={};if(!n){return i}const r=n.SelectOptions,s=n.Parameters;r===null||r===void 0?void 0:r.forEach(n=>{const a=n.PropertyName,r=a.value||a.$PropertyPath;if(Object.keys(i).includes(r)){i[r]=i[r].concat(v(n,t,e,o)[r])}else{i={...i,...v(n,t,e,o)}}});s===null||s===void 0?void 0:s.forEach(e=>{const t=e.PropertyName.value||e.PropertyName.$PropertyPath;const n=o?{operator:"EQ",value1:e.PropertyValue,value2:null,path:t,isParameter:true}:{operator:"EQ",values:[e.PropertyValue],isEmpty:null,validated:a.Validated,isParameter:true};i[t]=[n]});return i}r.getFiltersConditionsFromSelectionVariant=y;function b(t,n,o){let r;try{const e=g(t.Sign);const s=g(t.Option);const d=p(t.Low,n,s);const l=t.High?p(t.High,n,s):undefined;const c=m(s,d,l,e);if(c){const e=o&&c.operator==="EQ"?a.Validated:a.NotValidated;r=i.createCondition(c.operator,c.values,null,null,e)}}catch(t){const n=t instanceof Error?t.message:String(t);e.error(`FE : Core : FilterHelper : getConditions : ${n}`)}return r}r.getConditions=b;const T=function(e,t){const n={};const o=e.getInterface(1).getPath(),r=e.getInterface(1).getModel();if(t){for(const e in t){const t=r.getObject(`${o}/${e}@com.sap.vocabularies.Common.v1.FilterDefaultValue`);if(t!==undefined){const o=e;n[o]=[i.createCondition("EQ",[t],null,null,a.Validated)]}}}return n};const N=function(e,t,n){const o={};const a=e.getInterface(1);const r=a.getModel();const s=a.getPath();for(const e in n){if(n[e][0]){const t=e.split("::");let a="";const d=t.length;const l=t.slice(0,t.length-1).join("/");const c=t[d-1];if(l){const e=r.getObject(s+"/"+l);if(e.$kind==="NavigationProperty"&&e.$isCollection){a+=`${l}*/`}else if(e.$kind==="NavigationProperty"){a+=`${l}/`}}a+=c;const u="values"in n[e][0]?n[e][0].values:[];o[a]=[i.createCondition(n[e][0].operator,u,null,null,null)]}}return o};function C(){const e={};e["$editState"]=[i.createCondition("DRAFT_EDIT_STATE",["ALL"],null,null,a.Validated)];return e}r.getEditStatusFilter=C;function O(e,t){var n,o;let i;const a=e.getInterface(1).getPath(),r=e.getInterface(1).getModel(),s=r.getObject(`${a}@`),d=r.getObject(`${a}/`);if(s&&(s["@com.sap.vocabularies.Common.v1.DraftRoot"]||s["@com.sap.vocabularies.Common.v1.DraftNode"])){i=C()}const l=(n=t)===null||n===void 0?void 0:n.selectionVariant;const c=((o=t)===null||o===void 0?void 0:o.defaultSemanticDates)||{};const u=T(e,d);const f=N(e,d,c);if(l){t=y(a,r,l)}else if(u){t=u}if(f){t={...t,...f}}if(i){t={...t,...i}}return Object.keys(t).length>0?JSON.stringify(t).replace(/([{}])/g,"\\$1"):undefined}r.getFilterConditions=O;function P(e){return(e===null||e===void 0?void 0:e.$Type)==="com.sap.vocabularies.UI.v1.SelectionVariantType"}r.isSelectionVariant=P;O.requiresIContext=true;return r},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/FilterTemplating", ["sap/fe/core/helpers/TypeGuards"],function(t){"use strict";var i={};var e=t.isEntitySet;function n(t,i){var n,o;const l=t.getEntitySet();let r;if(e(l)){r=l.annotations.Capabilities}const s=(n=r)===null||n===void 0?void 0:(o=n.FilterRestrictions)===null||o===void 0?void 0:o.RequiredProperties;let a=false;if(s){s.forEach(function(t){if(i===(t===null||t===void 0?void 0:t.value)){a=true}})}return a}i.getIsRequired=n;function o(t,i){var n,o;let l,r;const s=t.getEntityType();const a=t.getEntitySet();let v;if(e(a)){v=a.annotations.Capabilities}const u=(n=v)===null||n===void 0?void 0:(o=n.FilterRestrictions)===null||o===void 0?void 0:o.NonFilterableProperties;const d=s.entityProperties;d.forEach(t=>{const e=t.name;if(e===i){var n,o,l;r=(n=t.annotations)===null||n===void 0?void 0:(o=n.UI)===null||o===void 0?void 0:(l=o.Hidden)===null||l===void 0?void 0:l.valueOf()}});if(u&&u.length>0){for(let t=0;t<u.length;t++){var f;const e=(f=u[t])===null||f===void 0?void 0:f.value;if(e===i){l=true}}}return l||r}i.isPropertyFilterable=o;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/PropertyFormatters", ["sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/DataModelPathHelper","./PropertyHelper","./UIFormatters"],function(t,e,r,o){"use strict";var n={};var a=o.getConverterContext;var c=e.getTargetObjectPath;var s=e.enhanceDataModelPath;var i=t.getInvolvedDataModelObjects;const u=function(t,e){const r=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${r}`)}let o=false;if(typeof t==="object"&&t.hasOwnProperty("$Path")){o=true}else if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a Property object but to a ${t.$kind}`)}let n=a(t,e);if(o){n=n.$target}return n};n.getProperty=u;const l=function(t,e){const r=e.context.getPath();if(!t){throw new Error(`Unresolved context path ${r}`)}if(typeof t==="object"&&t.hasOwnProperty("$kind")&&t.$kind!=="Property"){throw new Error(`Context does not resolve to a Property object but to a ${t.$kind}`)}let o=i(e.context);if(o.targetObject&&o.targetObject.type==="Path"){o=s(o,o.targetObject.path)}return o};n.getPropertyObjectPath=l;const p=function(t,e){const o=u(t,e);return r.isKey(o)};n.isKey=p;const h=function(t,e){const o=u(t,e);return r.hasValueHelp(o)};n.hasValueHelp=h;const f=function(t,e){const o=u(t,e);return r.hasDateType(o)};n.hasDateType=f;const P=function(t,e){const o=u(t,e);return r.hasValueHelpWithFixedValues(o)};n.hasValueHelpWithFixedValues=P;const y=function(t,e){const r=u(t,e);return r.name};n.getName=y;const d=function(t,e){const o=u(t,e);return r.getLabel(o)};n.getLabel=d;const g=function(t,e){const r=l(t,e);return c(r)};n.getPropertyPath=g;const b=function(t,e){const r=l(t,e);return c(r,true)};n.getRelativePropertyPath=b;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/PropertyHelper", ["sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/SemanticObjectHelper"],function(n,o){"use strict";var i={};var t=n.isPathAnnotationExpression;const e=function(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Core)!==null&&i!==void 0&&(t=i.Computed)!==null&&t!==void 0&&t.valueOf())};i.isComputed=e;const u=function(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Core)!==null&&i!==void 0&&(t=i.Immutable)!==null&&t!==void 0&&t.valueOf())};i.isImmutable=u;const l=function(n){return!!n.isKey};i.isKey=l;const d=function(n,o){var i,t,e,u;const l=(i=o.contextLocation)===null||i===void 0?void 0:(t=i.targetEntityType)===null||t===void 0?void 0:(e=t.annotations)===null||e===void 0?void 0:(u=e.Common)===null||u===void 0?void 0:u.SemanticKey;return(l===null||l===void 0?void 0:l.some(function(o){var i;return(o===null||o===void 0?void 0:(i=o.$target)===null||i===void 0?void 0:i.fullyQualifiedName)===n.fullyQualifiedName}))??false};i.isSemanticKey=d;const a=function(n){return["Edm.Date","Edm.DateTime","Edm.DateTimeOffset"].includes(n.type)};i.hasDateType=a;const v=function(n){var o,i,t;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:(t=i.Label)===null||t===void 0?void 0:t.toString())||""};i.getLabel=v;const r=function(n){return o.hasSemanticObject(n)};i.hasSemanticObject=r;const s=function(n){var o,i,e,u;return t(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Timezone)?(e=n.annotations)===null||e===void 0?void 0:(u=e.Common)===null||u===void 0?void 0:u.Timezone.$target:undefined};i.getAssociatedTimezoneProperty=s;const c=function(n){var o,i,e,u,l;return t(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Timezone)?n===null||n===void 0?void 0:(e=n.annotations)===null||e===void 0?void 0:(u=e.Common)===null||u===void 0?void 0:(l=u.Timezone)===null||l===void 0?void 0:l.path:undefined};i.getAssociatedTimezonePropertyPath=c;const m=function(n){var o,i,e,u;return t(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Text)?(e=n.annotations)===null||e===void 0?void 0:(u=e.Common)===null||u===void 0?void 0:u.Text.$target:undefined};i.getAssociatedTextProperty=m;const f=function(n){var o,i;return n&&t((o=n.annotations.Measures)===null||o===void 0?void 0:o.Unit)?(i=n.annotations.Measures)===null||i===void 0?void 0:i.Unit.$target:undefined};i.getAssociatedUnitProperty=f;const C=function(n){var o,i,e,u;return t(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.Unit)?(e=n.annotations)===null||e===void 0?void 0:(u=e.Measures)===null||u===void 0?void 0:u.Unit.path:undefined};i.getAssociatedUnitPropertyPath=C;const y=function(n){var o,i;return n&&t((o=n.annotations.Measures)===null||o===void 0?void 0:o.ISOCurrency)?(i=n.annotations.Measures)===null||i===void 0?void 0:i.ISOCurrency.$target:undefined};i.getAssociatedCurrencyProperty=y;const p=function(n){var o,i,e,u;return t(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.ISOCurrency)?(e=n.annotations)===null||e===void 0?void 0:(u=e.Measures)===null||u===void 0?void 0:u.ISOCurrency.path:undefined};i.getAssociatedCurrencyPropertyPath=p;const T=function(n){var o,i,e,u;const l=((o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.ISOCurrency)??((e=n.annotations)===null||e===void 0?void 0:(u=e.Measures)===null||u===void 0?void 0:u.Unit);if(!l||t(l)){return undefined}return`${l}`};i.getStaticUnitOrCurrency=T;const h=function(n){var o,i;const e=(o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Timezone;if(!e||t(e)){return undefined}return`${e}`};i.getStaticTimezone=h;const g=function(n){var o,i,e,u;return t((o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Text)?(e=n.annotations)===null||e===void 0?void 0:(u=e.Common)===null||u===void 0?void 0:u.Text.path:undefined};i.getAssociatedTextPropertyPath=g;const O=function(n){var o,i,t,e,u,l,d,a;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&i.ValueList)||!!((t=n.annotations)!==null&&t!==void 0&&(e=t.Common)!==null&&e!==void 0&&e.ValueListReferences)||!!((u=n.annotations)!==null&&u!==void 0&&(l=u.Common)!==null&&l!==void 0&&l.ValueListWithFixedValues)||!!((d=n.annotations)!==null&&d!==void 0&&(a=d.Common)!==null&&a!==void 0&&a.ValueListMapping)};i.hasValueHelp=O;const U=function(n){var o,i,t;return!!(n!==null&&n!==void 0&&(o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&(t=i.ValueListWithFixedValues)!==null&&t!==void 0&&t.valueOf())};i.hasValueHelpWithFixedValues=U;const I=function(n){var o,i;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.ValueListForValidation)!==undefined};i.hasValueListForValidation=I;const M=function(n){var o,i;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Timezone)!==undefined};i.hasTimezone=M;const S=function(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&(t=i.IsUnit)!==null&&t!==void 0&&t.valueOf())};i.isUnit=S;const x=function(n){var o,i;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Common)===null||i===void 0?void 0:i.Text)!==undefined};i.hasText=x;const L=function(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.UI)!==null&&i!==void 0&&(t=i.IsImageURL)!==null&&t!==void 0&&t.valueOf())};i.isImageURL=L;const P=function(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&(t=i.IsCurrency)!==null&&t!==void 0&&t.valueOf())};i.isCurrency=P;const V=function(n){var o,i;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.ISOCurrency)!==undefined};i.hasCurrency=V;const z=function(n){var o,i;return((o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:i.Unit)!==undefined};i.hasUnit=z;const A=function(n){return n.type==="Edm.Guid"};i.isGuid=A;const b=function(n){var o,i,t;return(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.Measures)===null||i===void 0?void 0:(t=i.Unit)===null||t===void 0?void 0:t.toString())==="%"};i.hasStaticPercentUnit=b;function $(n){var o,i,t;return(n===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(i=o.UI)===null||i===void 0?void 0:(t=i.MultiLineText)===null||t===void 0?void 0:t.valueOf())===true}i.isMultiLineText=$;function E(n){var o,i,t;return!!((o=n.annotations)!==null&&o!==void 0&&(i=o.Common)!==null&&i!==void 0&&(t=i.IsTimezone)!==null&&t!==void 0&&t.valueOf())}i.isTimezone=E;return i},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/SemanticObjectHelper", [],function(){"use strict";var n={};const o=n=>{const o=n===null||n===void 0?void 0:n.match(/{(.*?)}/);if(o!==null&&o!==void 0&&o.length&&o.length>1){return o[1]}return null};n.getDynamicPathFromSemanticObject=o;const t=function(n){var o;const t=(o=n.annotations)===null||o===void 0?void 0:o.Common;if(t){for(const n in t){var i;if(((i=t[n])===null||i===void 0?void 0:i.term)==="com.sap.vocabularies.Common.v1.SemanticObject"){return true}}}return false};n.hasSemanticObject=t;const i=function(n){var o;const t=[];const i=(o=n.annotations)===null||o===void 0?void 0:o.Common;if(i){for(const n in i){var a;if(((a=i[n])===null||a===void 0?void 0:a.term)==="com.sap.vocabularies.Common.v1.SemanticObject"){t.push(i[n])}}}return t};n.getSemanticObjects=i;const a=function(n){var o;const t=[];const i=(o=n.annotations)===null||o===void 0?void 0:o.Common;if(i){for(const n in i){var a;if(((a=i[n])===null||a===void 0?void 0:a.term)==="com.sap.vocabularies.Common.v1.SemanticObjectMapping"){t.push(i[n])}}}return t};n.getSemanticObjectMappings=a;const c=function(n){var o;const t=[];const i=(o=n.annotations)===null||o===void 0?void 0:o.Common;if(i){for(const n in i){var a;if(((a=i[n])===null||a===void 0?void 0:a.term)==="com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions"){t.push(i[n])}}}return t};n.getSemanticObjectUnavailableActions=c;return n},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/templating/UIFormatters", ["sap/fe/core/converters/MetaModelConverter","sap/fe/core/formatters/ValueFormatter","sap/fe/core/helpers/BindingHelper","sap/fe/core/helpers/BindingToolkit","sap/fe/core/helpers/TypeGuards","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/templating/DisplayModeFormatter","sap/fe/core/templating/FieldControlHelper","sap/fe/core/templating/PropertyHelper","sap/ui/mdc/enums/FieldEditMode"],function(e,t,n,i,o,a,l,r,s,d){"use strict";var u={};var c=s.isMultiLineText;var v=s.isKey;var f=s.isImmutable;var p=s.isComputed;var g=s.hasValueHelp;var m=s.hasStaticPercentUnit;var y=s.getAssociatedUnitProperty;var h=s.getAssociatedCurrencyProperty;var b=r.isRequiredExpression;var T=r.isReadOnlyExpression;var E=r.isNonEditableExpression;var x=r.isDisabledExpression;var D=a.isPathUpdatable;var I=a.getTargetObjectPath;var $=a.getRelativePaths;var M=a.getContextRelativeTargetObjectPath;var O=a.enhanceDataModelPath;var P=o.isProperty;var C=o.isPathAnnotationExpression;var V=o.isMultipleNavigationProperty;var U=i.unresolvableExpression;var F=i.pathInModel;var j=i.or;var w=i.notEqual;var A=i.not;var S=i.isTruthy;var q=i.isConstant;var B=i.ifElse;var N=i.getExpressionFromAnnotation;var R=i.formatWithTypeInformation;var W=i.formatResult;var z=i.equal;var L=i.constant;var k=i.compileExpression;var H=i.and;var K=i.addTypeInformation;var G=i.EDM_TYPE_MAPPING;var _=n.singletonPathVisitor;var Q=n.bindingContextPathVisitor;var Y=n.UI;var J=e.getInvolvedDataModelObjects;var X=e.convertMetaModelContext;const Z=function(e){return l.getDisplayMode(e.targetObject,e)};u.getDisplayMode=Z;const ee=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let n=arguments.length>2?arguments[2]:undefined;let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Y.IsEditable;let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;return te(e,t,n,true,i,o)};u.getEditableExpressionAsObject=ee;const te=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let n=arguments.length>2?arguments[2]:undefined;let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:Y.IsEditable;let a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:true;if(!e||typeof e==="string"){return k(false)}let l=L(true);if(t!==null){l=B(E(t),false,o)}const r=C(e)?e.$target:e;const s=$(n);const d=D(n,{propertyPath:e,pathVisitor:(e,t)=>_(e,n.convertedTypes,t)});if(k(d)==="false"&&a){return i?d:"false"}const u=r!==undefined?B(j(H(A(d),a),p(r),v(r),f(r),E(r,s)),B(j(p(r),E(r,s)),false,Y.IsTransientBinding),o):U;if(i){return H(u,l)}return k(H(u,l))};u.getEditableExpression=te;const ne=function(e,t){var n;const i=I(e);const o=F(`/collaboration/activities${i}`,"internal");const a=e===null||e===void 0?void 0:(n=e.targetEntityType)===null||n===void 0?void 0:n.keys;const l=[];a===null||a===void 0?void 0:a.forEach(function(e){const t=F(e.name);l.push(t)});return W([o,...l],t)};u.getCollaborationExpression=ne;const ie=function(e,t,n){return oe(e,t,true,n)};u.getEnabledExpressionAsObject=ie;const oe=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let i=arguments.length>3?arguments[3]:undefined;if(!e||typeof e==="string"){return k(true)}let o;if(i){o=$(i)}let a=L(true);if(t!==null){a=B(x(t),false,true)}const l=C(e)?e.$target:e;const r=l!==undefined?B(x(l,o),false,true):U;if(n){return H(r,a)}return k(H(r,a))};u.getEnabledExpression=oe;const ae=function(e,t){var n,i,o,a;let l=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let u=arguments.length>5&&arguments[5]!==undefined?arguments[5]:Y.IsEditable;if(!e||typeof e==="string"||(s===null||s===void 0?void 0:s.$Type)==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){return d.Display}const c=C(e)?e.$target:e;const v=$(t);const g=D(t,{propertyPath:c,pathVisitor:(e,n)=>_(e,t.convertedTypes,n)});const m=ee(e,s,t,u,false);const b=ie(e,s,t);const E=h(c);const x=E||y(c);let I=L(d.Editable);if(x){const e=T(x,v);I=B(j(e,p(x),H(f(x),A(Y.IsTransientBinding)),l),B(!q(e)&&e,d.EditableReadOnly,d.EditableDisplay),d.Editable)}if(!x&&(c!==null&&c!==void 0&&(n=c.annotations)!==null&&n!==void 0&&(i=n.Measures)!==null&&i!==void 0&&i.ISOCurrency||c!==null&&c!==void 0&&(o=c.annotations)!==null&&o!==void 0&&(a=o.Measures)!==null&&a!==void 0&&a.Unit)){I=L(d.EditableDisplay)}const M=j(T(c,v),T(s));const O=B(j(g,Y.IsTransientBinding),B(b,B(m,I,B(H(!q(M)&&M,u),d.ReadOnly,d.Display)),B(u,d.Disabled,d.Display)),d.Display);if(r){return O}return k(O)};u.getEditMode=ae;const le=function(e){var t,n,i,o;const a=e.targetObject;const l=(t=a.annotations)===null||t===void 0?void 0:(n=t.Measures)===null||n===void 0?void 0:n.ISOCurrency;const r=l?l:(i=a.annotations)===null||i===void 0?void 0:(o=i.Measures)===null||o===void 0?void 0:o.Unit;if(r){return k(j(S(N(r)),A(Y.IsTotal)))}else{return k(L(true))}};u.hasValidAnalyticalCurrencyOrUnit=le;const re=function(e,t,n){var i,o;const a=C(e)&&e.$target||e;const l=((i=a.annotations)===null||i===void 0?void 0:(o=i.Common)===null||o===void 0?void 0:o.Text)!==undefined;return g(a)?k(t):l?k(B(z(n,"Editable"),"Value",t)):"Value"};u.getFieldDisplay=re;const se=function(e,t){var n,i,o,a;const l=G[e===null||e===void 0?void 0:e.type]||(t?G[t]:undefined);const r={type:l.type,constraints:{},formatOptions:{}};if(P(e)){var s,d,u,c,v,f,p,g,m,y,h,b,T,E,x,D,I,$;r.constraints={scale:(s=l.constraints)!==null&&s!==void 0&&s.$Scale?e.scale:undefined,precision:(d=l.constraints)!==null&&d!==void 0&&d.$Precision?e.precision:undefined,maxLength:(u=l.constraints)!==null&&u!==void 0&&u.$MaxLength?e.maxLength:undefined,nullable:(c=l.constraints)!==null&&c!==void 0&&c.$Nullable?e.nullable:undefined,minimum:(v=l.constraints)!==null&&v!==void 0&&v["@Org.OData.Validation.V1.Minimum/$Decimal"]&&!isNaN((f=e.annotations)===null||f===void 0?void 0:(p=f.Validation)===null||p===void 0?void 0:p.Minimum)?`${(g=e.annotations)===null||g===void 0?void 0:(m=g.Validation)===null||m===void 0?void 0:m.Minimum}`:undefined,maximum:(y=l.constraints)!==null&&y!==void 0&&y["@Org.OData.Validation.V1.Maximum/$Decimal"]&&!isNaN((h=e.annotations)===null||h===void 0?void 0:(b=h.Validation)===null||b===void 0?void 0:b.Maximum)?`${(T=e.annotations)===null||T===void 0?void 0:(E=T.Validation)===null||E===void 0?void 0:E.Maximum}`:undefined,isDigitSequence:r.type==="sap.ui.model.odata.type.String"&&(x=l.constraints)!==null&&x!==void 0&&x["@com.sap.vocabularies.Common.v1.IsDigitSequence"]&&(D=e.annotations)!==null&&D!==void 0&&(I=D.Common)!==null&&I!==void 0&&I.IsDigitSequence?true:undefined,V4:($=l.constraints)!==null&&$!==void 0&&$.$V4?true:undefined}}r.formatOptions={parseAsString:(r===null||r===void 0?void 0:(n=r.type)===null||n===void 0?void 0:n.indexOf("sap.ui.model.odata.type.Int"))===0||(r===null||r===void 0?void 0:(i=r.type)===null||i===void 0?void 0:i.indexOf("sap.ui.model.odata.type.Double"))===0?false:undefined,emptyString:(r===null||r===void 0?void 0:(o=r.type)===null||o===void 0?void 0:o.indexOf("sap.ui.model.odata.type.Int"))===0||(r===null||r===void 0?void 0:(a=r.type)===null||a===void 0?void 0:a.indexOf("sap.ui.model.odata.type.Double"))===0?"":undefined,parseKeepsEmptyString:r.type==="sap.ui.model.odata.type.String"?true:undefined};return r};u.getTypeConfig=se;const de=function(e,n,i,o){var a,l,r,s;const d=e.targetObject;let u=(a=d.annotations)===null||a===void 0?void 0:(l=a.Measures)===null||l===void 0?void 0:l.Unit;const c=$(e);n=R(d,n);if(m(d)){if((o===null||o===void 0?void 0:o.showMeasure)===false){return n}return W([n],t.formatWithPercentage)}const v=u?"sap.ui.model.odata.type.Unit":"sap.ui.model.odata.type.Currency";u=u?u:(r=d.annotations)===null||r===void 0?void 0:(s=r.Measures)===null||s===void 0?void 0:s.ISOCurrency;const f=C(u)&&u.$target?R(u.$target,N(u,c),i):N(u,c);return K([n,f],v,undefined,o)};u.getBindingWithUnitOrCurrency=de;const ue=function(e){var t,n,i,o;const a=e.targetObject;let l=(t=a.annotations)===null||t===void 0?void 0:(n=t.Measures)===null||n===void 0?void 0:n.Unit;if(m(a)){return L("%")}const r=$(e);const s=l?"sap.ui.model.odata.type.Unit":"sap.ui.model.odata.type.Currency";l=l?l:(i=a.annotations)===null||i===void 0?void 0:(o=i.Measures)===null||o===void 0?void 0:o.ISOCurrency;const d=C(l)&&l.$target?R(l.$target,N(l,r)):N(l,r);let u=F(M(e));u=R(a,u,true);return K([u,d],s,undefined,{parseKeepsEmptyString:true,showNumber:false})};u.getBindingForUnitOrCurrency=ue;const ce=function(e,t){var n,i;let o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let l=arguments.length>4?arguments[4]:undefined;const r=e.targetObject;const s=(n=r.annotations)===null||n===void 0?void 0:(i=n.Common)===null||i===void 0?void 0:i.Timezone;const d=$(e);t=R(r,t);const u="sap.fe.core.type.DateTimeWithTimezone";const c=s.$target?R(s.$target,N(s,d),o):N(s,d);let v={};if(a){v={showTimezoneForEmptyValues:false}}if(l!==null&&l!==void 0&&l.showTime){v={...v,...{showTime:l.showTime==="false"?false:true}}}if(l!==null&&l!==void 0&&l.showDate){v={...v,...{showDate:l.showDate==="false"?false:true}}}if(l!==null&&l!==void 0&&l.showTimezone){v={...v,...{showTimezone:l.showTimezone==="false"?false:true}}}return K([t,c],u,undefined,v)};u.getBindingWithTimezone=ce;const ve=function(e,t){const n=e.targetObject;t=R(n,t);t.type="any";const i="sap.ui.model.odata.type.DateTimeWithTimezone";const o={showTime:false,showDate:false,showTimezone:true};return K([null,t],i,undefined,o)};u.getBindingForTimezone=ve;const fe=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Begin";let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"Begin";return k(B(z(e,"Display"),t,n))};u.getAlignmentExpression=fe;const pe=function(e,t){if(t&&t.context){return X(t.context)}return null};pe.requiresIContext=true;u.getConverterContext=pe;const ge=function(e,t){if(t&&t.context){return J(t.context)}return null};ge.requiresIContext=true;u.getDataModelObjectPath=ge;const me=function(e){var t;if((t=e.navigationProperties)!==null&&t!==void 0&&t.length){const t=(e===null||e===void 0?void 0:e.navigationProperties.findIndex(t=>{if(V(t)){var n,i;if((n=e.contextLocation)!==null&&n!==void 0&&(i=n.navigationProperties)!==null&&i!==void 0&&i.length){var o;return((o=e.contextLocation)===null||o===void 0?void 0:o.navigationProperties.findIndex(e=>e.name===t.name))===-1}return true}return false}))>-1;if(t){return true}}return false};u.isMultiValueField=me;const ye=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return he(e,t,n,true)};u.getRequiredExpressionAsObject=ye;const he=function(e,t){let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;let o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};let a=arguments.length>5?arguments[5]:undefined;const l=o.requiredPropertiesFromInsertRestrictions;const r=o.requiredPropertiesFromUpdateRestrictions;if(!e||typeof e==="string"){if(i){return L(false)}return k(L(false))}let s;if(a){s=$(a)}let d=L(false);if(t!==null&&t!==undefined){d=b(t)}let u=L(false);let c=L(false);const v=C(e)&&e.$target||e;const f=b(v,s);const p=n||Y.IsEditable;if(l!==null&&l!==void 0&&l.includes(e.name)){u=Y.IsCreateMode}if(r!==null&&r!==void 0&&r.includes(e.name)){c=H(Y.IsEditable,A(Y.IsCreateMode))}const g=j(H(j(f,d),p),u,c);if(i){return g}return k(g)};u.getRequiredExpression=he;const be=function(e){var t,n;const i=e===null||e===void 0?void 0:(t=e.targetObject)===null||t===void 0?void 0:(n=t.$target)===null||n===void 0?void 0:n.Data;const o=Object.keys(i);const a=[];let l;const r=[];for(const e of o){if(i[e]["$Type"]&&i[e]["$Type"].indexOf("DataField")>-1){a.push(i[e])}}for(const e of a){switch(e.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithAction":if(typeof e.Value==="object"){l=e.Value.$target}break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":if(e.Target.$target){if(e.Target.$target.$Type==="com.sap.vocabularies.UI.v1.DataField"||e.Target.$target.$Type==="com.sap.vocabularies.UI.v1.DataPointType"){if(typeof e.Target.$target.Value==="object"){l=e.Target.$target.Value.$target}}else{if(typeof e.Target==="object"){l=e.Target.$target}break}}break}r.push(ye(l,e,false))}return k(j(...r))};u.getRequiredExpressionForConnectedDataField=be;function Te(e){var t,n;return A(z(N(e===null||e===void 0?void 0:(t=e.annotations)===null||t===void 0?void 0:(n=t.UI)===null||n===void 0?void 0:n.Hidden),true))}u.isVisible=Te;const Ee=function(e){return c(e.targetObject)};u.isMultiLine=Ee;function xe(e,t,n,i){var o,a,l;let r="";if(n&&i&&i===true&&(o=n.contextLocation)!==null&&o!==void 0&&o.targetEntityType&&n.contextLocation.targetEntityType!==e.sourceEntityType){const t=$(n);let i=O(n.contextLocation);for(const n of t){i=O(i,n);if(i.targetEntityType===e.sourceEntityType){r=`${$(i).join("/")}/`;break}}}const s=e.isBound?(a=e.parameters[0])===null||a===void 0?void 0:a.fullyQualifiedName:undefined;const d=N((l=e.annotations.Core)===null||l===void 0?void 0:l.OperationAvailable,[],undefined,e=>`${r}${Q(e,t,s)}`);return w(d,false)}u.getActionEnabledExpression=xe;return u},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/DateTimeWithTimezone", ["sap/fe/core/helpers/ClassSupport","sap/ui/model/odata/type/DateTimeWithTimezone"],function(e,t){"use strict";var o,r;var n=e.defineUI5Class;function i(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;u(e,t)}function u(e,t){u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,o){t.__proto__=o;return t};return u(e,t)}let a=(o=n("sap.fe.core.type.DateTimeWithTimezone"),o(r=function(e){i(t,e);function t(t,o){var r;r=e.call(this,t,o)||this;r.bShowTimezoneForEmptyValues=(t===null||t===void 0?void 0:t.showTimezoneForEmptyValues)??true;return r}var o=t.prototype;o.formatValue=function t(o,r){const n=o&&o[0];if(n===undefined||!n&&!this.bShowTimezoneForEmptyValues){return null}return e.prototype.formatValue.call(this,o,r)};return t}(t))||r);return a},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/EDM", [],function(){"use strict";var e={};const d={"Edm.Binary":{modelType:undefined},"Edm.Boolean":{modelType:"Bool"},"Edm.Byte":{modelType:"Int"},"Edm.Date":{modelType:"Date"},"Edm.DateTime":{modelType:"Date"},"Edm.DateTimeOffset":{modelType:"DateTimeOffset"},"Edm.Decimal":{modelType:"Decimal"},"Edm.Duration":{modelType:undefined},"Edm.Double":{modelType:"Float"},"Edm.Float":{modelType:"Float"},"Edm.Guid":{modelType:"Guid"},"Edm.Int16":{modelType:"Int"},"Edm.Int32":{modelType:"Int"},"Edm.Int64":{modelType:"Int"},"Edm.SByte":{modelType:"Int"},"Edm.Single":{modelType:"Float"},"Edm.String":{modelType:"String"},"Edm.Time":{modelType:"TimeOfDay"},"Edm.TimeOfDay":{modelType:"TimeOfDay"},"Edm.Stream":{modelType:undefined}};e.DefaultTypeForEdmType=d;function m(e){var m;return!!((m=d[e])!==null&&m!==void 0&&m.modelType)}e.isTypeFilterable=m;function l(e){var m;return(m=d[e])===null||m===void 0?void 0:m.modelType}e.getModelType=l;return e},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/Email", ["sap/fe/core/helpers/ClassSupport","sap/ui/core/Core","sap/ui/model/odata/type/String","sap/ui/model/ValidateException"],function(t,e,o,r){"use strict";var a,n;var p=t.defineUI5Class;function i(t,e){t.prototype=Object.create(e.prototype);t.prototype.constructor=t;s(t,e)}function s(t,e){s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function t(e,o){e.__proto__=o;return e};return s(t,e)}const u=/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$/;let c=(a=p("sap.fe.core.type.Email"),a(n=function(t){i(o,t);function o(){return t.apply(this,arguments)||this}var a=o.prototype;a.validateValue=function o(a){if(!u.test(a)){throw new r(e.getLibraryResourceBundle("sap.fe.core").getText("T_EMAILTYPE_INVALID_VALUE"))}t.prototype.validateValue.call(this,a)};return o}(o))||n);return c},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.predefine("sap/fe/core/type/FiscalDate", ["sap/fe/core/formatters/FiscalFormat","sap/fe/core/helpers/ClassSupport","sap/ui/core/CalendarType","sap/ui/core/Core","sap/ui/model/odata/type/String","sap/ui/model/ValidateException"],function(a,e,r,t,o,s){"use strict";var i,c,l;var n=e.defineUI5Class;function m(a,e){a.prototype=Object.create(e.prototype);a.prototype.constructor=a;u(a,e)}function u(a,e){u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function a(e,r){e.__proto__=r;return e};return u(a,e)}let p=(i=n("sap.fe.core.type.FiscalDate"),i(c=(l=function(e){m(o,e);function o(t,s){var i;if((t.fiscalType==="com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"||t.fiscalType==="com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"||t.fiscalType==="com.sap.vocabularies.Common.v1.IsFiscalYearWeek")&&s!==null&&s!==void 0&&s.maxLength){s.maxLength=s.maxLength+1}i=e.call(this,t,s)||this;i.annotationType=t.fiscalType;const c=o.dateFormats[i.annotationType];if(c){i.formatter=a.getDateInstance({format:c,calendarType:r.Gregorian})}return i}var i=o.prototype;i.getPattern=function a(){var e;return(e=this.formatter)===null||e===void 0?void 0:e.getPattern()};i.formatValue=function a(r,t){return this.formatter?this.formatter.format(e.prototype.formatValue.call(this,r,t)):e.prototype.formatValue.call(this,r,t)};i.parseValue=function a(r,t){return this.formatter?this.formatter.parse(e.prototype.parseValue.call(this,r,t)):e.prototype.parseValue.call(this,r,t)};i.validateValue=function a(r){try{e.prototype.validateValue.call(this,r)}catch(a){if(!this.formatter){throw a}if(!this.formatter.validate(r)){throw new s(this.getErrorMessage(this.annotationType))}}if(!this.formatter||r===""||r===null){return}if(!this.formatter.validate(r)){throw new s(this.getErrorMessage(this.annotationType))}};i.getErrorMessage=function a(e){let r="";this.fullYear=this.fullYear||(new Date).getFullYear().toString();switch(e){case"com.sap.vocabularies.Common.v1.IsFiscalYear":r=this.fullYear;break;case"com.sap.vocabularies.Common.v1.IsFiscalPeriod":r="001";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearPeriod":r=this.fullYear+"001";break;case"com.sap.vocabularies.Common.v1.IsFiscalQuarter":r="1";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearQuarter":r=this.fullYear+"1";break;case"com.sap.vocabularies.Common.v1.IsFiscalWeek":r="01";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearWeek":r=this.fullYear+"01";break;case"com.sap.vocabularies.Common.v1.IsDayOfFiscalYear":r="1";break;case"com.sap.vocabularies.Common.v1.IsFiscalYearVariant":break;default:r=this.fullYear}return t.getLibraryResourceBundle("sap.fe.core").getText("FISCAL_VALIDATION_FAILS",[this.formatValue(r,"string")])};i.getName=function a(){return"sap.fe.core.type.FiscalDate"};i.getFormatter=function a(){return this.formatter};return o}(o),l.dateFormats={["com.sap.vocabularies.Common.v1.IsFiscalYear"]:"YYYY",["com.sap.vocabularies.Common.v1.IsFiscalPeriod"]:"PPP",["com.sap.vocabularies.Common.v1.IsFiscalYearPeriod"]:"YYYYPPP",["com.sap.vocabularies.Common.v1.IsFiscalQuarter"]:"Q",["com.sap.vocabularies.Common.v1.IsFiscalYearQuarter"]:"YYYYQ",["com.sap.vocabularies.Common.v1.IsFiscalWeek"]:"WW",["com.sap.vocabularies.Common.v1.IsFiscalYearWeek"]:"YYYYWW",["com.sap.vocabularies.Common.v1.IsDayOfFiscalYear"]:"d",["com.sap.vocabularies.Common.v1.IsFiscalYearVariant"]:""},l))||c);return p},false);
sap.ui.require.preload({
	"sap/fe/core/controls/ActionParameterDialog.fragment.xml":'\n<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcField="sap.ui.mdc.field"\n\txmlns:form="sap.ui.layout.form"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tFE_MODEL: \'sap/fe/core/helpers/ModelHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\',\n\t\tACTION: \'sap/fe/core/templating/ActionHelper\'\n\t}"\n><form:SimpleForm binding="{$Parameter}" width="20rem"><template:repeat list="{action>$Parameter}" var="parameter"><template:with path="parameter>" helper="COMMON.gotoActionParameter" var="actionParameter"><template:if test="{= !${action>$IsBound} || ${parameter>$Name} !== ${action>$Parameter/0/$Name} }"><Label\n\t\t\t\t\t\tunittest:id="ActionParameterDialogLabelExpressionTest"\n\t\t\t\t\t\tid="{= ID.generate([\'APD_\', ${parameter>$Name}, \'Label\']) }"\n\t\t\t\t\t\ttext="{= ${actionParameter>@com.sap.vocabularies.Common.v1.Label} ? ${actionParameter>@com.sap.vocabularies.Common.v1.Label} : ${parameter>$Name}}"\n\t\t\t\t\t/><template:if test="{=  !${parameter>$isCollection} }"><template:then><mdc:Field\n\t\t\t\t\t\t\t\tdelegate="{name:\'sap/fe/macros/field/FieldBaseDelegate\', payload:{retrieveTextFromValueList:true}}"\n\t\t\t\t\t\t\t\tunittest:id="ActionParameterDialogFieldExpressionTest"\n\t\t\t\t\t\t\t\tid="{= ID.generate([\'APD_\', ${parameter>$Name}]) }"\n\t\t\t\t\t\t\t\tvalue="{parameter>@@MODEL.format}"\n\t\t\t\t\t\t\t\tplaceholder="{actionParameter>@com.sap.vocabularies.UI.v1.Placeholder@@MODEL.value}"\n\t\t\t\t\t\t\t\tdisplay="{actionParameter>@@FIELD.getAPDialogDisplayFormat}"\n\t\t\t\t\t\t\t\teditMode="{actionParameter>@@COMMON.getParameterEditMode}"\n\t\t\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\t\t\tmultipleLines="{= UI.isMultiLine(${actionParameter>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\trequired="{parts: [{path: \'actionParameter>\'}, {path: \'action>\'}], formatter: \'ACTION.isActionParameterRequired\'}"\n\t\t\t\t\t\t\t\tchange="{= \'.handleChange($event, \\\'\' + ${parameter>$Name} + \'\\\')\' }"\n\t\t\t\t\t\t\t\tvalueHelp="{= FIELD.getActionParameterDialogValueHelp(${actionParameter>@}, ${actionName>@sapui.name}, ${parameter>$Name}) }"\n\t\t\t\t\t\t\t\tvisible="{= (${actionParameter>$Name} === \'ResultIsActiveEntity\') ? false : ${actionParameter>@com.sap.vocabularies.UI.v1.Hidden@@FIELD.getActionParameterVisibility} }"\n\t\t\t\t\t\t\t\tariaLabelledBy="{= ID.generate([\'APD_\', ${parameter>$Name}, \'Label\']) }"\n\t\t\t\t\t\t\t><core:Fragment fragmentName="sap.fe.core.controls.ActionParameterDialogValueHelp" type="XML" /></mdc:Field></template:then><template:else><mdc:MultiValueField\n\t\t\t\t\t\t\t\tid="{= ID.generate([\'APD_\', ${parameter>$Name}]) }"\n\t\t\t\t\t\t\t\tplaceholder="{actionParameter>@com.sap.vocabularies.UI.v1.Placeholder@@MODEL.value}"\n\t\t\t\t\t\t\t\titems="{actionParameter>@@FE_MODEL.getActionParameterItemsModelPath}"\n\t\t\t\t\t\t\t\tdelegate="{name: \'sap/fe/core/controls/MultiValueParameterDelegate\'}"\n\t\t\t\t\t\t\t\tunittest:id="ActionParameterDialogMultiValueFieldExpressionTest"\n\t\t\t\t\t\t\t\tdisplay="{actionParameter>@@FIELD.getAPDialogDisplayFormat}"\n\t\t\t\t\t\t\t\teditMode="{actionParameter>@@COMMON.getParameterEditMode}"\n\t\t\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\t\t\tmultipleLines="{= UI.isMultiLine(${actionParameter>@@UI.getDataModelObjectPath}) }"\n\t\t\t\t\t\t\t\trequired="{parts: [{path: \'actionParameter>\'}, {path: \'action>\'}], formatter: \'ACTION.isActionParameterRequired\'}"\n\t\t\t\t\t\t\t\tvalueHelp="{= FIELD.getActionParameterDialogValueHelp(${actionParameter>@}, ${actionName>@sapui.name}, ${parameter>$Name}) }"\n\t\t\t\t\t\t\t\tchange="{= \'.handleChange($event, \\\'\' + ${parameter>$Name} + \'\\\')\' }"\n\t\t\t\t\t\t\t\tvisible="{actionParameter>@com.sap.vocabularies.UI.v1.Hidden@@FIELD.getActionParameterVisibility}"\n\t\t\t\t\t\t\t\tariaLabelledBy="{= ID.generate([\'APD_\', ${parameter>$Name}, \'Label\']) }"\n\t\t\t\t\t\t\t><mdcField:MultiValueFieldItem\n\t\t\t\t\t\t\t\t\tkey="{path: \'mvfview>Key\', type:\'sap.ui.model.type.String\'}"\n\t\t\t\t\t\t\t\t\tdescription="{mvfview>Desc}"\n\t\t\t\t\t\t\t\t/><core:Fragment fragmentName="sap.fe.core.controls.ActionParameterDialogValueHelp" type="XML" /></mdc:MultiValueField></template:else></template:if></template:if></template:with></template:repeat></form:SimpleForm></core:FragmentDefinition>\n',
	"sap/fe/core/controls/ActionParameterDialogValueHelp.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\txmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\'\n\t}"\n><template:if test="{= FIELD.hasValueHelpAnnotation(${actionParameter>@}) }"><mdc:dependents><mdc:ValueHelp\n\t\t\t\tunittest:id="ActionParameterDialogValuehelpExpressionTest"\n\t\t\t\tid="{= ID.generate([${actionName>@sapui.name},${parameter>$Name}]) }"\n\t\t\t\tdelegate="{= FIELD.getValueHelpDelegate(${action>$IsBound}, ${entitySet>@@COMMON.getContextPath}, ${actionName>@sapui.name}, ${parameter>$Name}) }"\n\t\t\t\tvalidateInput="{= ValueHelpTemplating.requiresValidation(${actionParameter>@@Property.getProperty})}"\n\t\t\t><mdc:typeahead><mdcv:Popover><mdcvc:MTable\n\t\t\t\t\t\t\tid="{= ID.generate([${actionName>@sapui.name},${parameter>$Name}]) }::Popover::qualifier::"\n\t\t\t\t\t\t\tcaseSensitive="{= ValueHelpTemplating.useCaseSensitiveFilterRequests(${actionParameter>@@Property.getPropertyObjectPath}, ${actionParameter>/@Org.OData.Capabilities.V1.FilterFunctions})}"\n\t\t\t\t\t\t\tuseAsValueHelp="{= ${actionParameter>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} || false}"\n\t\t\t\t\t\t/></mdcv:Popover></mdc:typeahead><template:if\n\t\t\t\t\ttest="{= ${actionParameter>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} ? (${actionParameter>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} === \'true\') : true}"\n\t\t\t\t><mdc:dialog><mdcv:Dialog /></mdc:dialog></template:if></mdc:ValueHelp></mdc:dependents></template:if></core:FragmentDefinition>\n',
	"sap/fe/core/controls/NonComputedVisibleKeyFieldsDialog.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\txmlns:form="sap.ui.layout.form"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tMODEL: \'sap/ui/model/odata/v4/AnnotationHelper\',\n\t\tCOMMON: \'sap/fe/macros/CommonHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tFIELD: \'sap/fe/macros/field/FieldHelper\',\n\t\tUI: \'sap/fe/core/templating/UIFormatters\'\n\t}"\n><template:with path="fields>" var="allFields"><form:SimpleForm><template:repeat list="{allFields>}" var="key"><template:with path="key>" helper="COMMON.getPathToKey" var="immutableKey"><Label text="{= ${immutableKey>@com.sap.vocabularies.Common.v1.Label}}" /><mdc:Field\n\t\t\t\t\t\tdelegate="{name:\'sap/fe/macros/field/FieldBaseDelegate\', payload:{retrieveTextFromValueList:true}}"\n\t\t\t\t\t\tid="{= ID.generate([\'CreateDialog\', ${entitySet>@sapui.name}, ${immutableKey>@sapui.name}]) }"\n\t\t\t\t\t\tvalue="{immutableKey>@@MODEL.format}"\n\t\t\t\t\t\tplaceholder="{immutableKey>@com.sap.vocabularies.UI.v1.Placeholder@@MODEL.value}"\n\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\trequired="{= FIELD.getRequired(${immutableKey>@sapui.name}, ${immutableKey>@@UI.getDataModelObjectPath}, ${requiredProperties>})}"\n\t\t\t\t\t\tdisplay="{immutableKey>@@FIELD.getAPDialogDisplayFormat}"\n\t\t\t\t\t\tchange="{= \'.handleChange($event, \\\'\' + ${immutableKey>@sapui.name} + \'\\\')\' }"\n\t\t\t\t\t\tliveChange=".handleLiveChange"\n\t\t\t\t\t\tvalueHelp="{= ${immutableKey>@@Property.hasValueHelp} ? ID.generate([${immutableKey>@sapui.name},\'VH\']) : undefined }"\n\t\t\t\t\t\tcustomData:fieldName="{immutableKey>@sapui.name}"\n\t\t\t\t\t\teditMode="{= ${immutableKey>@com.sap.vocabularies.Common.v1.FieldControl} &amp;&amp; ${immutableKey>@com.sap.vocabularies.Common.v1.FieldControl/$EnumMember} &amp;&amp; ${immutableKey>@com.sap.vocabularies.Common.v1.FieldControl/$EnumMember} === \'com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly\' ? \'Display\' : \'Editable\'}"\n\t\t\t\t\t><template:if test="{immutableKey>@@Property.hasValueHelp}"><template:then><mdc:dependents><mdc:ValueHelp\n\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${immutableKey>@sapui.name},\'VH\']) }"\n\t\t\t\t\t\t\t\t\t\tdelegate="{= FIELD.getValueHelpDelegateForNonComputedVisibleKeyField(${immutableKey>@@Property.getPropertyPath}) }"\n\t\t\t\t\t\t\t\t\t\tvalidateInput="{= ValueHelpTemplating.requiresValidation(${immutableKey>@@Property.getProperty})}"\n\t\t\t\t\t\t\t\t\t><mdc:typeahead><mdcv:Popover><mdcvc:MTable\n\t\t\t\t\t\t\t\t\t\t\t\t\tid="{= ID.generate([${immutableKey>@sapui.name},\'VH\']) }::Popover::qualifier::"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcaseSensitive="{= ValueHelpTemplating.useCaseSensitiveFilterRequests(${immutableKey>@@Property.getPropertyObjectPath}, ${immutableKey>/@Org.OData.Capabilities.V1.FilterFunctions})}"\n\t\t\t\t\t\t\t\t\t\t\t\t\tuseAsValueHelp="{= ${immutableKey>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} || false}"\n\t\t\t\t\t\t\t\t\t\t\t\t/></mdcv:Popover></mdc:typeahead><template:if\n\t\t\t\t\t\t\t\t\t\t\ttest="{= ${immutableKey>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} ? (${immutableKey>@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} === \'true\') : true}"\n\t\t\t\t\t\t\t\t\t\t><mdc:dialog><mdcv:Dialog /></mdc:dialog></template:if></mdc:ValueHelp></mdc:dependents></template:then></template:if></mdc:Field></template:with></template:repeat></form:SimpleForm></template:with></core:FragmentDefinition>\n',
	"sap/fe/core/controls/massEdit/MassEditDialog.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcField="sap.ui.mdc.field"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:l="sap.ui.layout"\n\ttemplate:require="{\n\t\tMED: \'sap/fe/core/helpers/MassEditHelper\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\'\n\t}"\n><f:Form visible="{= MED.helpers.hasEditableFieldsBinding(${dataFieldModel>}, true) }"><f:layout><f:ResponsiveGridLayout\n\t\t\t\tlabelSpanXL="4"\n\t\t\t\tlabelSpanL="4"\n\t\t\t\tlabelSpanM="12"\n\t\t\t\tlabelSpanS="12"\n\t\t\t\tadjustLabelSpan="false"\n\t\t\t\temptySpanXL="0"\n\t\t\t\temptySpanL="0"\n\t\t\t\temptySpanM="0"\n\t\t\t\temptySpanS="0"\n\t\t\t\tcolumnsXL="2"\n\t\t\t\tcolumnsL="2"\n\t\t\t\tcolumnsM="1"\n\t\t\t\tsingleContainerFullSize="false"\n\t\t\t/></f:layout><f:formContainers><f:FormContainer><f:formElements><template:repeat list="{dataFieldModel>}" var="dataField"><f:FormElement visible="{= \'{fieldsInfo>/values/\' + ${dataField>dataProperty} + \'/visible}\' }"><f:label><Label\n\t\t\t\t\t\t\t\t\ttext="{dataField>label}"\n\t\t\t\t\t\t\t\t\tid="{= ID.generate([\'MED_\', ${dataField>entitySet}, ${dataField>dataProperty}, \'Label\']) }"\n\t\t\t\t\t\t\t\t/></f:label><f:fields><template:with path="dataField>propertyInfo" var="property"><core:Fragment fragmentName="sap.fe.core.controls.massEdit.MassEditField" type="XML" /></template:with><template:if test="{dataField>unitInfo}"><template:with path="dataField>unitInfo" var="property"><core:Fragment fragmentName="sap.fe.core.controls.massEdit.MassEditField" type="XML" /></template:with></template:if></f:fields></f:FormElement></template:repeat></f:formElements></f:FormContainer></f:formContainers></f:Form><Text\n\t\tvisible="{= MED.helpers.hasEditableFieldsBinding(${dataFieldModel>}, false) }"\n\t\ttext="{fieldsInfo>/noFields}"\n\t\tclass="sapUiSmallMargin"\n\t/>\n\t/></core:FragmentDefinition>\n',
	"sap/fe/core/controls/massEdit/MassEditField.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns:core="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcField="sap.ui.mdc.field"\n\txmlns:control="sap.fe.core.controls"\n\txmlns:macro="sap.fe.macros"\n\txmlns:f="sap.ui.layout.form"\n\txmlns:l="sap.ui.layout"\n\txmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"\n\ttemplate:require="{\n\t\tProperty: \'sap/fe/core/templating/PropertyFormatters\',\n\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\tValueHelpTemplating: \'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\'\n\t}"\n><template:if test="{property>hasVH}"><template:then><template:with path="property>propertyPathForValueHelp" var="vhProperty"><mdc:Field\n\t\t\t\t\tdelegate="{name: \'sap/fe/macros/field/FieldBaseDelegate\'}"\n\t\t\t\t\tid="{= ID.generate([\'MED_\', ${dataField>entitySet}, ${property>relativePath}, \'_MDCField\']) }"\n\t\t\t\t\tcore:require="{MassEditHandlers: \'sap/fe/core/controls/massEdit/MassEditHandlers\'}"\n\t\t\t\t\tchange="{= \'MassEditHandlers.handleMDCFieldChange($event, \\\'\' + ${property>relativePath} + \'\\\')\' }"\n\t\t\t\t\tlabel="{dataField>label}"\n\t\t\t\t\twidth="100%"\n\t\t\t\t\trequired="{dataField>isFieldRequired}"\n\t\t\t\t\tvalueHelp="{= ID.generate([\'MED_\', ${dataField>entitySet}, \'VHD\', ${vhProperty>@@Property.getRelativePropertyPath} ]) }"\n\t\t\t\t\tdisplay="{dataField>display}"\n\t\t\t\t\tvalue="{= ${property>relativePath} ? \'{path: \\\'\' + ${property>relativePath} + \'\\\', parameters: {$$noPatch: true} }\' : undefined }"\n\t\t\t\t\tadditionalValue="{= ${dataField>descriptionPath} ? \'{path: \\\'\' + ${dataField>descriptionPath} + \'\\\', parameters: {$$noPatch: true} }\' : undefined }"\n\t\t\t\t><mdc:layoutData><l:GridData\n\t\t\t\t\t\t\tspan="{= (!${dataField>unitProperty}) ? \'XL12 L12 M12 S12\' : ((${property>relativePath} === ${dataField>unitProperty}) ? \'XL4 L4 M4 S4\' : \'XL8 L8 M8 S8\') }"\n\t\t\t\t\t\t/></mdc:layoutData><control:MassEditSelect\n\t\t\t\t\t\tcore:require="{MassEditHandlers: \'sap/fe/core/controls/massEdit/MassEditHandlers\'}"\n\t\t\t\t\t\tid="{= ID.generate([\'MED_\', ${dataField>entitySet}, ${property>relativePath}]) }"\n\t\t\t\t\t\titems="{= \'{path : \\\'\' + ${property>runtimePath} + ${property>relativePath} + \'\\\'}\' }"\n\t\t\t\t\t\tchange="MassEditHandlers.handleSelectionChange($event)"\n\t\t\t\t\t\tselectedKey="{= \'{\' + ${property>runtimePath} + ${property>relativePath} + \'/selectedKey}\' }"\n\t\t\t\t\t\tselectValue="{= (${dataField>inputType} !== \'CheckBox\') &amp;&amp; (\'{ parts : [{ path:\\\'\' +  ${property>relativePath} + \'\\\'}, {value: \\\'\' + ${property>relativePath} + \'\\\' }, {value: \\\'\' + ID.generate([\'MED_\', ${dataField>entitySet}, ${property>relativePath}, \'_MDCField\']) + \'\\\' }], formatter: \\\'MassEditHandlers.contextPropertyChange\\\' }\') }"\n\t\t\t\t\t\twidth="100%"\n\t\t\t\t\t\tcustomData:fieldPath="{property>relativePath}"\n\t\t\t\t\t\tcustomData:propertyFullyQualifiedName="{property>propertyFullyQualifiedName}"\n\t\t\t\t\t\tariaLabelledBy="{= ID.generate([\'MED_\', ${dataField>entitySet}, ${dataField>dataProperty}, \'Label\']) }"\n\t\t\t\t\t><control:items><core:Item key="{fieldsInfo>key}" text="{fieldsInfo>text}" /></control:items><control:layoutData><l:GridData span="XL12 L12 M12 S12" /></control:layoutData></control:MassEditSelect><template:if test="{= ${dataField>inputType} !== \'CheckBox\' }"><mdc:dependents><macro:ValueHelp\n\t\t\t\t\t\t\t\tcontextPath="{contextPath>}"\n\t\t\t\t\t\t\t\tidPrefix="{= ID.generate([\'MED_\', ${dataField>entitySet}, \'VHD\' ]) }"\n\t\t\t\t\t\t\t\tproperty="{vhProperty>}"\n\t\t\t\t\t\t\t\tuseMultiValueField="true"\n\t\t\t\t\t\t\t/></mdc:dependents></template:if></mdc:Field></template:with></template:then><template:else><ComboBox\n\t\t\t\tid="{= ID.generate([\'MED_\', ${dataField>entitySet}, ${property>relativePath}]) }"\n\t\t\t\tcore:require="{MassEditHandlers: \'sap/fe/core/controls/massEdit/MassEditHandlers\'}"\n\t\t\t\titems="{= \'{path : \\\'\' + ${property>runtimePath} + ${property>relativePath} + \'\\\'}\' }"\n\t\t\t\tchange="MassEditHandlers.handleSelectionChange($event)"\n\t\t\t\tselectedKey="{= \'{\' + ${property>runtimePath} + ${property>relativePath} + \'/selectedKey}\' }"\n\t\t\t\tvisible="{= \'{\' + ${property>runtimePath} + ${property>relativePath} + \'/visible}\' }"\n\t\t\t\tcustomData:fieldPath="{property>relativePath}"\n\t\t\t\tcustomData:propertyFullyQualifiedName="{property>propertyFullyQualifiedName}"\n\t\t\t><items><core:Item key="{fieldsInfo>key}" text="{fieldsInfo>text}" /></items><layoutData><l:GridData\n\t\t\t\t\t\tspan="{= (!${dataField>unitProperty}) ? \'XL12 L12 M12 S12\' : ((${property>relativePath} === ${dataField>unitProperty}) ? \'XL4 L4 M4 S4\' : \'XL8 L8 M8 S8\') }"\n\t\t\t\t\t/></layoutData></ComboBox></template:else></template:if></core:FragmentDefinition>\n',
	"sap/fe/core/filter/DraftEditState.fragment.xml":'<core:FragmentDefinition\n\txmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"\n\txmlns="sap.m"\n\txmlns:mdc="sap.ui.mdc"\n\txmlns:mdcf="sap.ui.mdc.field"\n\txmlns:mdcv="sap.ui.mdc.valuehelp"\n\txmlns:mdcvc="sap.ui.mdc.valuehelp.content"\n\txmlns:core="sap.ui.core"\n\ttemplate:require="{\n\t\t\t\t\t\t\tID: \'sap/fe/core/helpers/StableIdHelper\',\n\t\t\t\t\t\t\tEDITSTATE: \'sap/fe/core/helpers/DraftEditState\'\n\t\t\t\t\t\t}"\n><mdc:FilterField\n\t\tlabel="{sap.fe.i18n>FILTERBAR_EDITING_STATUS}"\n\t\tmaxConditions="1"\n\t\tid="{= ID.generate([${this>id}, \'FilterField\', \'DraftEditingStatus\' ]) }"\n\t\toperators="DRAFT_EDIT_STATE"\n\t\tdataType="sap.ui.model.odata.type.String"\n\t\tconditions="{$filters>/conditions/$editState}"\n\t\tvalueHelp="{= ID.generate([${this>id}, \'FilterFieldValueHelp\', \'DraftEditingStatus\' ]) }"\n\t\tdisplay="Description"\n\t><mdc:dependents><mdc:ValueHelp id="{= ID.generate([${this>id}, \'FilterFieldValueHelp\', \'DraftEditingStatus\' ]) }"><mdc:typeahead><mdcv:Popover><mdcvc:FixedList useFirstMatch="true"><template:with path="this>" helper="EDITSTATE.getEditStatesContext" var="states"><template:repeat list="{states>}" var="state"><mdcf:ListFieldHelpItem key="{state>id}" text="{state>display}" /></template:repeat></template:with></mdcvc:FixedList></mdcv:Popover></mdc:typeahead></mdc:ValueHelp></mdc:dependents></mdc:FilterField></core:FragmentDefinition>\n',
	"sap/fe/core/fpm/manifest.json":'{"_version":"1.14.0","sap.app":{"id":"sap.fe.core.fpm","type":"component","applicationVersion":{"version":"1.120.0"},"title":"Object Page","tags":{"keywords":["Object Page"]},"ach":"CA-UI5-FE","offline":false,"resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"config":{"sapFiori2Adaptation":{"style":true,"hierarchy":true}},"services":{"templatedViewService":{"factoryName":"sap.fe.core.services.TemplatedViewService","startup":"waitFor","settings":{"converterType":"None"}},"asyncComponentService":{"factoryName":"sap.fe.core.services.AsyncComponentService","startup":"waitFor"}},"handleValidation":true,"dependencies":{"minUI5Version":"${sap.ui5.core.version}","libs":{"sap.f":{},"sap.fe.macros":{},"sap.m":{},"sap.ui.core":{},"sap.ui.layout":{},"sap.ui.mdc":{},"sap.ui.fl":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/fe/core/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.core","type":"library","embeds":["fpm"],"applicationVersion":{"version":"1.120.0"},"title":"UI5 library: sap.fe.core","description":"UI5 library: sap.fe.core","ach":"CA-UI5-FE","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"libs":{"sap.ui.core":{},"sap.f":{},"sap.fe.navigation":{},"sap.fe.placeholder":{},"sap.m":{},"sap.ui.layout":{"lazy":true},"sap.ui.mdc":{},"sap.ui.fl":{}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"css":false,"content":{"controls":[],"elements":[],"types":["sap.fe.core.CreationMode","sap.fe.core.VariantManagement"],"interfaces":[]}}}}',
	"sap/fe/core/rootView/Fcl.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.f" displayBlock="true" height="100%" controllerName="sap.fe.core.rootView.Fcl"><FlexibleColumnLayout id="appContent" backgroundDesign="Transparent" restoreFocusOnBackNavigation="true" autoFocus="false" /></mvc:View>\n',
	"sap/fe/core/rootView/NavContainer.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" displayBlock="true" height="100%" controllerName="sap.fe.core.rootView.NavContainer"><NavContainer id="appContent" autoFocus="false" /></mvc:View>\n',
	"sap/fe/core/services/view/TemplatingErrorPage.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="sap.fe.core.services.view.TemplatingErrorPage"><Page showHeader="false" icon="sap-icon://message-error"><IllustratedMessage\n\t\t\tillustrationType="sapIllus-ErrorScreen"\n\t\t\ttitle="{sap.fe.i18n>T_TEMPLATING_ERROR_PAGE_SAPFE_APPSTART_TEMPLATING_FAILED}"\n\t\t\tdescription="{= ${error>/message} ? ${error>/message} : \'\'}"\n\t\t/></Page></mvc:View>\n'
});
//# sourceMappingURL=library-preload.js.map
