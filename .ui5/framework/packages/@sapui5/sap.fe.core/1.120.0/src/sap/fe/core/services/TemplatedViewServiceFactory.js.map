{"version":3,"file":"TemplatedViewServiceFactory.js","names":["sap","ui","define","Log","TemplateModel","LoaderUtils","ModelHelper","ChangePageConfiguration","Device","VersionInfo","Component","View","Service","ServiceFactory","ServiceFactoryRegistry","JSONModel","DynamicAnnotationPathHelper","resolveDynamicExpression","applyPageConfigurationChanges","requireDependencies","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","TemplatedViewService","_Service","apply","this","arguments","_proto","init","aServiceDependencies","oContext","getContext","oComponent","scopeObject","oAppComponent","getOwnerComponentFor","oMetaModel","getMetaModel","pageId","getLocalId","getId","sStableId","getMetadata","getComponentName","aEnhanceI18n","getEnhanceI18n","sAppNamespace","oFactory","factory","i","length","oResourceModel","getModel","isA","replace","sCacheIdentifier","getName","getCore","getConfiguration","getLanguageTag","push","get","createInstance","scopeType","settings","bundles","enhanceI18n","modelName","then","oResourceModelService","getResourceModel","metaModel","appComponent","component","oCacheHandlerService","validateCacheKey","load","oInfo","sTimestamp","libraries","buildinfo","buildtime","forEach","oLibrary","buildTimestamp","catch","initPromise","Promise","all","async","aDependenciesResult","sCacheKey","oSideEffectsServices","getSideEffectsService","environmentCapabilitiesService","getService","initializeSideEffects","getCapabilities","TemplateConverter","MetaModelConverter","createView","getInstance","invalidateIfNeeded","refreshView","oRootView","getRootControl","destroy","oView","resourceModel","stableId","oContainer","invalidate","oError","error","mServiceSettings","sConverterType","converterType","sFullContextPath","getRoutingService","getTargetInformationFor","options","fullContextPath","oManifestContent","getManifest","oDeviceModel","setDefaultBindingMode","oManifestModel","bError","oPageModel","oViewDataModel","oViewSettings","mViewData","getViewSettings","aSplitPath","split","sEntitySetPath","reduce","sPathSoFar","sNextPathPart","oTarget","getObject","keys","viewType","getViewType","undefined","type","preprocessors","xml","bindingContexts","entitySet","createBindingContext","contextPath","converterContext","noResolve","viewData","models","device","manifest","controls","id","viewName","getViewName","cache","additionalData","getAdditionalCacheData","getData","setAdditionalCacheData","value","setData","height","createErrorPage","reason","message","errorViewName","runAsOwner","setModel","setAggregation","_oManifestContent$sap","oRoutingService","oTargetInfo","mOutbounds","crossNavigation","outbounds","mNavigation","getNavigation","navigationObjectKey","navigationObject","outboundConfig","detail","outbound","outboundDetail","semanticObject","action","parameters","navigation","viewLevel","contentDensities","isDesktop","system","desktop","isPhone","phone","getViewData","_oManifestContent$sap2","_oManifestContent$sap3","_oManifestContent$sap4","_oManifestContent$sap5","_oManifestContent$sap6","assign","actualSettings","routing","targets","isShareButtonVisibleForMyInbox","TemplatedViewServiceFactory","getShareButtonVisibilityForMyInbox","oShellServices","getShellServices","shellContentDensity","getContentDensity","retrieveTextFromValueList","form","controlConfiguration","sAnnotationPath","includes","sTargetAnnotationPath","convertTypes","getEnvironmentCapabilities","oDiagnostics","getDiagnostics","iIssueCount","getIssues","oConverterPageModel","convertPage","aIssues","aAddedIssues","slice","warning","viewJSONModel","enhanceViewJSONModel","e","Error","getView","getInterface","exit","removeGlobalInstance","_ServiceFactory","_this","_len","args","Array","_key","call","_oInstanceRegistry","_proto2","oServiceContext","iCreatingViews","oTemplatedViewService","componentData","getComponentData","feEnvironment","getShareControlVisibility","getNumberOfViewsInCreationState"],"sources":["TemplatedViewServiceFactory-dbg.js"],"mappings":"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"}