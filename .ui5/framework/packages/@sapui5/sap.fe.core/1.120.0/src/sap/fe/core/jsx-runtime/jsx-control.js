/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 *      (c) Copyright 2009-2023 SAP SE. All rights reserved
 */
sap.ui.define(["sap/base/Log","sap/fe/core/helpers/BindingToolkit","sap/m/Text","sap/ui/base/DataType","sap/ui/core/mvc/EventHandlerResolver"],function(e,t,n,s,o){"use strict";var i=t.isConstant;var l=t.isBindingToolkitExpression;var r=t.compileExpression;var a=t.compileConstant;const c=function(e,t,n){if(n===undefined||typeof n==="string"){return}if(!e[t]){e[t]=[]}if(f(n)){e[t].push(n)}else if(Array.isArray(n)){n.forEach(n=>{c(e,t,n)})}else{Object.keys(n).forEach(t=>{c(e,t,n[t])})}};const f=function(e){var t,n;return e===null||e===void 0?void 0:(t=(n=e).isA)===null||t===void 0?void 0:t.call(n,"sap.ui.core.Element")};const d=function(e){return!!(e!==null&&e!==void 0&&e.getMetadata)};function u(e,t){const n=e.getAllAggregations();const s=e.getDefaultAggregationName();const o={};c(o,s,t.children);delete t.children;Object.keys(n).forEach(e=>{if(o[e]!==undefined){if(t.hasOwnProperty(e)){t[e].template=o[e][0]}else{t[e]=o[e]}}})}function p(e,t){let n;const o={};for(n in t){const u=t[n];if(l(u)){const e=u;if(i(e)){t[n]=a(e,false,true,true)}else{t[n]=r(e)}}else if(u!==null&&typeof u==="object"&&u.then){o[n]=u;delete t[n]}else if(typeof u==="string"&&!u.startsWith("{")){var c,f,d;const o=(c=e.getAllProperties()[n])===null||c===void 0?void 0:(f=(d=c).getType)===null||f===void 0?void 0:f.call(d);if(o&&o instanceof s&&["boolean","int","float"].includes(o.getName())){t[n]=o.parseValue(u)}}}return o}function g(e,t){const n=t["jsx:command"];if(n){const[s,i]=n.split("|");const l=e.getAllEvents()[i];if(l&&s.startsWith("cmd:")){t[l.name]=o.resolveEventHandler(s)}}delete t["jsx:command"]}const v=function(t,s,o,i){let l;if(t!==null&&t!==void 0&&t.isFragment){l=s.children}else if(t!==null&&t!==void 0&&t.isRuntime){const e=new t(s);l=e.getContent(i.view,i.appComponent)}else if(d(t)){const n=t.getMetadata();if(o!==undefined){s["key"]=o}g(n,s);u(n,s);const i=s.class;const r=s.ref;delete s.ref;delete s.class;const a=p(n,s);const c=new t(s);if(i){c.addStyleClass(i)}if(r){r.setCurrent(c)}for(const n in a){a[n].then(e=>c.setProperty(n,e)).catch(s=>{e.error(`Couldn't set property ${n} on ${t.getMetadata().getName()}`,s,"jsxControl")})}l=c}else if(typeof t==="function"){const e=t;l=e(s)}else{l=new n({text:"Missing component "+t})}return l};return v},false);
//# sourceMappingURL=jsx-control.js.map